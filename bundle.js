/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/flowchartSymbols.css":
/*!****************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/flowchartSymbols.css ***!
  \****************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.main-content {
    height: calc(100dvh - 5rem - 0.5pt);

    display: grid;
    grid-template-columns: 1fr 7fr;

    overflow: hidden;
}

.add-blocks-panel-container {
    background-color: #010409;
    border-right: #21262D solid 0.5pt;
    overflow: hidden;
}

.add-blocks-panel {
    height: 100%;
    padding: 1rem 0;

    display: flex;
    flex-direction: column;
    justify-content: start;
    align-items: center;

    gap: 1rem;

    overflow-x: hidden;
    overflow-y: auto;
}

.add-blocks-panel-container * {
    user-select: none;
}

.add-blocks-panel-container div {
    cursor: pointer;
}

.add-blocks-panel-container .building-mode {
    height: 3rem;
    width: 100%;

    display: flex;
    align-items: center;

    border-bottom: #21262D solid 0.5pt;
}

.add-blocks-panel-container .building-mode button {
    transition: background-color 250ms ease-in-out;
}

.add-blocks-panel-container .building-mode button {
    cursor: pointer;

    background: none;
    color: aliceblue;
    border: none;

    height: 100%;
    width: 100%;

    display: flex;
    justify-content: center;
    align-items: center;
}

.add-blocks-panel-container .building-mode button * {
    padding: 0.5rem;
    width: calc(100% - 1rem);
    height: calc(100% - 1rem);
}

.add-blocks-panel-container .building-mode button .active {
    display: none;
}

.add-blocks-panel-container .building-mode .active {
    background-color: #21262D;
}

.add-blocks-panel-container .building-mode .active .inactive {
    display: none;
}

.add-blocks-panel-container .building-mode .active .active {
    display: block;
}

.add-blocks-panel-container .building-mode button {
    border-left: #21262D solid 0.5pt;
}

.flowchart-board {
    overflow: hidden;
    height: 100%;
}

.block-container {
    width: fit-content;
    height: fit-content;
}

.flowchart-block {
    padding: 1rem;
    min-width: 5rem;
    min-height: 2rem;
    border-radius: 0.5rem;

    width: fit-content;
    height: fit-content;

    background-color: aliceblue;
    color: #0D1117;

    display: flex;
    justify-content: center;
    align-items: center;
}

.flowchart-block .active {
    pointer-events: none;
    user-select: none;
}

.terminal {
    border-radius: 3rem;
}

.process {
    /* nothing currently */
}

.decision {
    transform: rotate(45deg) scale(75%);

    aspect-ratio: 1/1;
}

.decision * {
    transform: rotate(-45deg) scale(125%);
}

.input-output {
    transform: skew(-15deg);
}

.input-output * {
    transform: skew(15deg);
}

.circle {
    width: 1rem;
    height: 1rem;

    background-color: aliceblue;
    border: #0D1117 2pt solid;

    position: absolute;
    top: 90%;
    border-radius: 100%;
}

.draggable {
    position: absolute;
}`, "",{"version":3,"sources":["webpack://./src/css/flowchartSymbols.css"],"names":[],"mappings":"AAAA;IACI,mCAAmC;;IAEnC,aAAa;IACb,8BAA8B;;IAE9B,gBAAgB;AACpB;;AAEA;IACI,yBAAyB;IACzB,iCAAiC;IACjC,gBAAgB;AACpB;;AAEA;IACI,YAAY;IACZ,eAAe;;IAEf,aAAa;IACb,sBAAsB;IACtB,sBAAsB;IACtB,mBAAmB;;IAEnB,SAAS;;IAET,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,YAAY;IACZ,WAAW;;IAEX,aAAa;IACb,mBAAmB;;IAEnB,kCAAkC;AACtC;;AAEA;IACI,8CAA8C;AAClD;;AAEA;IACI,eAAe;;IAEf,gBAAgB;IAChB,gBAAgB;IAChB,YAAY;;IAEZ,YAAY;IACZ,WAAW;;IAEX,aAAa;IACb,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,wBAAwB;IACxB,yBAAyB;AAC7B;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,eAAe;IACf,gBAAgB;IAChB,qBAAqB;;IAErB,kBAAkB;IAClB,mBAAmB;;IAEnB,2BAA2B;IAC3B,cAAc;;IAEd,aAAa;IACb,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,oBAAoB;IACpB,iBAAiB;AACrB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,mCAAmC;;IAEnC,iBAAiB;AACrB;;AAEA;IACI,qCAAqC;AACzC;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,YAAY;;IAEZ,2BAA2B;IAC3B,yBAAyB;;IAEzB,kBAAkB;IAClB,QAAQ;IACR,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;AACtB","sourcesContent":[".main-content {\r\n    height: calc(100dvh - 5rem - 0.5pt);\r\n\r\n    display: grid;\r\n    grid-template-columns: 1fr 7fr;\r\n\r\n    overflow: hidden;\r\n}\r\n\r\n.add-blocks-panel-container {\r\n    background-color: #010409;\r\n    border-right: #21262D solid 0.5pt;\r\n    overflow: hidden;\r\n}\r\n\r\n.add-blocks-panel {\r\n    height: 100%;\r\n    padding: 1rem 0;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: start;\r\n    align-items: center;\r\n\r\n    gap: 1rem;\r\n\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.add-blocks-panel-container * {\r\n    user-select: none;\r\n}\r\n\r\n.add-blocks-panel-container div {\r\n    cursor: pointer;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode {\r\n    height: 3rem;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    border-bottom: #21262D solid 0.5pt;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    transition: background-color 250ms ease-in-out;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    cursor: pointer;\r\n\r\n    background: none;\r\n    color: aliceblue;\r\n    border: none;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button * {\r\n    padding: 0.5rem;\r\n    width: calc(100% - 1rem);\r\n    height: calc(100% - 1rem);\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button .active {\r\n    display: none;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active {\r\n    background-color: #21262D;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active .inactive {\r\n    display: none;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active .active {\r\n    display: block;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    border-left: #21262D solid 0.5pt;\r\n}\r\n\r\n.flowchart-board {\r\n    overflow: hidden;\r\n    height: 100%;\r\n}\r\n\r\n.block-container {\r\n    width: fit-content;\r\n    height: fit-content;\r\n}\r\n\r\n.flowchart-block {\r\n    padding: 1rem;\r\n    min-width: 5rem;\r\n    min-height: 2rem;\r\n    border-radius: 0.5rem;\r\n\r\n    width: fit-content;\r\n    height: fit-content;\r\n\r\n    background-color: aliceblue;\r\n    color: #0D1117;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.flowchart-block .active {\r\n    pointer-events: none;\r\n    user-select: none;\r\n}\r\n\r\n.terminal {\r\n    border-radius: 3rem;\r\n}\r\n\r\n.process {\r\n    /* nothing currently */\r\n}\r\n\r\n.decision {\r\n    transform: rotate(45deg) scale(75%);\r\n\r\n    aspect-ratio: 1/1;\r\n}\r\n\r\n.decision * {\r\n    transform: rotate(-45deg) scale(125%);\r\n}\r\n\r\n.input-output {\r\n    transform: skew(-15deg);\r\n}\r\n\r\n.input-output * {\r\n    transform: skew(15deg);\r\n}\r\n\r\n.circle {\r\n    width: 1rem;\r\n    height: 1rem;\r\n\r\n    background-color: aliceblue;\r\n    border: #0D1117 2pt solid;\r\n\r\n    position: absolute;\r\n    top: 90%;\r\n    border-radius: 100%;\r\n}\r\n\r\n.draggable {\r\n    position: absolute;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/index.css":
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/index.css ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `html,
body {
    margin: 0;
    padding: 0;
}

body {
    color: #E6EDF3;
    background-color: #0D1117;
    min-height: 100dvh;
}

body * {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

    margin: 0;
    padding: 0;
}

.title {
    display: flex;
    align-items: center;
    height: 5rem;
    background-color: #010409;
    border-bottom: #21262D solid 0.5pt;
}

.hide {
    display: none;
}

#tracker {
    position: absolute;
    user-select: none;
    pointer-events: none;
}`, "",{"version":3,"sources":["webpack://./src/css/index.css"],"names":[],"mappings":"AAAA;;IAEI,SAAS;IACT,UAAU;AACd;;AAEA;IACI,cAAc;IACd,yBAAyB;IACzB,kBAAkB;AACtB;;AAEA;IACI,mJAAmJ;;IAEnJ,SAAS;IACT,UAAU;AACd;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,YAAY;IACZ,yBAAyB;IACzB,kCAAkC;AACtC;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,oBAAoB;AACxB","sourcesContent":["html,\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nbody {\r\n    color: #E6EDF3;\r\n    background-color: #0D1117;\r\n    min-height: 100dvh;\r\n}\r\n\r\nbody * {\r\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n.title {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 5rem;\r\n    background-color: #010409;\r\n    border-bottom: #21262D solid 0.5pt;\r\n}\r\n\r\n.hide {\r\n    display: none;\r\n}\r\n\r\n#tracker {\r\n    position: absolute;\r\n    user-select: none;\r\n    pointer-events: none;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/leader-line-new/leader-line.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/leader-line-new/leader-line.min.js ***!
  \*********************************************************/
/***/ (function(module) {

/*! LeaderLine v1.1.5 (c) anseki https://anseki.github.io/leader-line/ */
var LeaderLine=function(){"use strict";var te,M,I,C,L,o,t,h,f,p,n,a,e,x,b,l,r,i,k,w,s,u,c,A="leader-line",V=1,P=2,N=3,T=4,W={top:V,right:P,bottom:N,left:T},B=1,R=2,F=3,G=4,D=5,z={straight:B,arc:R,fluid:F,magnet:G,grid:D},ne="behind",d=A+"-defs",y='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',ae={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},j={behind:ne,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},ie={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},H=[V,P,N,T],U="auto",oe={x:"left",y:"top",width:"width",height:"height"},Z=80,Y=4,X=5,q=120,Q=8,K=3.75,J=10,$=30,ee=.5522847,le=.25*Math.PI,m=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,re="http://www.w3.org/2000/svg",S="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,se=!S&&!!document.uniqueID,ue="MozAppearance"in document.documentElement.style,he=!(S||ue||!window.chrome||!window.CSS),pe=!S&&!se&&!ue&&!he&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,ce=se||S?.2:.1,de={path:F,lineColor:"coral",lineSize:4,plugSE:[ne,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},fe=(s={}.toString,u={}.hasOwnProperty.toString,c=u.call(Object),function(e){var t,n;return e&&"[object Object]"===s.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&u.call(n)===c)}),ye=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},g=(x={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},b=1e3/60/2,l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,b)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},i=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},k=[],w=0,{add:function(n,e,t,a,i,o,l){var r,s,u,h,p,c,d,f,y,m,S,g,_,v=++w;function E(e,t){return{value:n(t),timeRatio:e,outputRatio:t}}if("string"==typeof i&&(i=x[i]),n=n||function(){},t<b)s=[E(0,0),E(1,1)];else{if(u=b/t,s=[E(0,0)],0===i[0]&&0===i[1]&&1===i[2]&&1===i[3])for(p=u;p<=1;p+=u)s.push(E(p,p));else for(c=h=(p=u)/10;c<=1;c+=h)_=g=S=m=y=void 0,m=(y=(f=c)*f)*f,_=3*(S=1-f)*y,p<=(d={x:(g=S*S*3*f)*i[0]+_*i[2]+m,y:g*i[1]+_*i[3]+m}).x&&(s.push(E(d.x,d.y)),p+=u);s.push(E(1,1))}return r={animId:v,frameCallback:e,duration:t,count:a,frames:s,reverse:!!o},k.push(r),!1!==l&&ke(r,l),v},remove:function(n){var a;k.some(function(e,t){return e.animId===n&&(a=t,!(e.framesStart=null))})&&k.splice(a,1)},start:function(t,n,a){k.some(function(e){return e.animId===t&&(e.reverse=!!n,ke(e,a),!0)})},stop:function(t,n){var a;return k.some(function(e){return e.animId===t&&(n?null!=e.lastFrame&&(a=e.frames[e.lastFrame].timeRatio):(a=(Date.now()-e.framesStart)/e.duration,e.reverse&&(a=1-a),a<0?a=0:1<a&&(a=1)),!(e.framesStart=null))}),a},validTiming:function(t){return"string"==typeof t?x[t]:Array.isArray(t)&&[0,1,2,3].every(function(e){return i(t[e])&&0<=t[e]&&t[e]<=1})?[t[0],t[1],t[2],t[3]]:null}}),_=function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function i(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var o={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},l=-1!==e.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=o[e]?o[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var n=null,a=(this._prevCommand=t).toUpperCase();return"H"===a||"V"===a?n=[this._parseNumber()]:"M"===a||"L"===a||"T"===a?n=[this._parseNumber(),this._parseNumber()]:"S"===a||"Q"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===a&&(this._skipOptionalSpaces(),n=[]),null===n||0<=n.indexOf(null)?null:{type:t,values:n}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return o[e]?o[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,a=0,i=1,o=1,l=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var r=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==r)for(var s=this._currentIndex-1,u=1;r<=s;)t+=u*(this._string[s]-"0"),--s,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,a+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==l&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,o=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var h=t+a;return h*=i,e&&(h*=Math.pow(10,o*e)),l===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),h)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};function a(e){if(!e||0===e.length)return[];var t=new i(e),n=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){var a=t.parseSegment();if(null===a)break;n.push(a)}return n}function r(e){return e.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})}function d(e){var m=[],S=null,g=null,_=null,v=null,E=null,x=null,b=null;return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p,c,d,f,y;"M"===e.type?(f=e.values[0],y=e.values[1],m.push({type:"M",values:[f,y]}),v=x=f,E=b=y):"C"===e.type?(a=e.values[0],i=e.values[1],t=e.values[2],n=e.values[3],f=e.values[4],y=e.values[5],m.push({type:"C",values:[a,i,t,n,f,y]}),g=t,_=n,v=f,E=y):"L"===e.type?(f=e.values[0],y=e.values[1],m.push({type:"L",values:[f,y]}),v=f,E=y):"H"===e.type?(f=e.values[0],m.push({type:"L",values:[f,E]}),v=f):"V"===e.type?(y=e.values[0],m.push({type:"L",values:[v,y]}),E=y):"S"===e.type?(t=e.values[0],n=e.values[1],f=e.values[2],y=e.values[3],l="C"===S||"S"===S?(o=v+(v-g),E+(E-_)):(o=v,E),m.push({type:"C",values:[o,l,t,n,f,y]}),g=t,_=n,v=f,E=y):"T"===e.type?(f=e.values[0],y=e.values[1],i="Q"===S||"T"===S?(a=v+(v-g),E+(E-_)):(a=v,E),o=v+2*(a-v)/3,l=E+2*(i-E)/3,r=f+2*(a-f)/3,s=y+2*(i-y)/3,m.push({type:"C",values:[o,l,r,s,f,y]}),g=a,_=i,v=f,E=y):"Q"===e.type?(a=e.values[0],i=e.values[1],f=e.values[2],y=e.values[3],o=v+2*(a-v)/3,l=E+2*(i-E)/3,r=f+2*(a-f)/3,s=y+2*(i-y)/3,m.push({type:"C",values:[o,l,r,s,f,y]}),g=a,_=i,v=f,E=y):"A"===e.type?(u=e.values[0],h=e.values[1],p=e.values[2],c=e.values[3],d=e.values[4],f=e.values[5],y=e.values[6],0===u||0===h?(m.push({type:"C",values:[v,E,f,y,f,y]}),v=f,E=y):v===f&&E===y||U(v,E,f,y,u,h,p,c,d).forEach(function(e){m.push({type:"C",values:e}),v=f,E=y})):"Z"===e.type&&(m.push(e),v=x,E=b),S=e.type}),m}var n=e.SVGPathElement.prototype.setAttribute,s=e.SVGPathElement.prototype.removeAttribute,f=e.Symbol?e.Symbol():"__cachedPathData",y=e.Symbol?e.Symbol():"__cachedNormalizedPathData",U=function(e,t,n,a,i,o,l,r,s,u){function h(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var p,c,d,f,y,m,S,g,_,v,E,x,b,k,w,O=(p=l,Math.PI*p/180),M=[];u?(k=u[0],w=u[1],x=u[2],b=u[3]):(e=(c=h(e,t,-O)).x,t=c.y,1<(m=(f=(e-(n=(d=h(n,a,-O)).x))/2)*f/(i*i)+(y=(t-(a=d.y))/2)*y/(o*o))&&(i*=m=Math.sqrt(m),o*=m),_=(S=i*i)*(g=o*o)-S*y*y-g*f*f,v=S*y*y+g*f*f,x=(E=(r===s?-1:1)*Math.sqrt(Math.abs(_/v)))*i*y/o+(e+n)/2,b=E*-o*f/i+(t+a)/2,k=Math.asin(parseFloat(((t-b)/o).toFixed(9))),w=Math.asin(parseFloat(((a-b)/o).toFixed(9))),e<x&&(k=Math.PI-k),n<x&&(w=Math.PI-w),k<0&&(k=2*Math.PI+k),w<0&&(w=2*Math.PI+w),s&&w<k&&(k-=2*Math.PI),!s&&k<w&&(w-=2*Math.PI));var I,C,L,A=w-k;Math.abs(A)>120*Math.PI/180&&(I=w,C=n,L=a,w=s&&k<w?k+120*Math.PI/180*1:k+120*Math.PI/180*-1,n=x+i*Math.cos(w),a=b+o*Math.sin(w),M=U(n,a,C,L,i,o,l,0,s,[w,I,x,b])),A=w-k;var V=Math.cos(k),P=Math.sin(k),N=Math.cos(w),T=Math.sin(w),W=Math.tan(A/4),B=4/3*i*W,R=4/3*o*W,F=[e,t],G=[e+B*P,t-R*V],D=[n+B*T,a-R*N],z=[n,a];if(G[0]=2*F[0]-G[0],G[1]=2*F[1]-G[1],u)return[G,D,z].concat(M);M=[G,D,z].concat(M).join().split(",");var j=[],H=[];return M.forEach(function(e,t){t%2?H.push(h(M[t-1],M[t],O).y):H.push(h(M[t],M[t+1],O).x),6===H.length&&(j.push(H),H=[])}),j};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[f]=null,this[y]=null),n.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[f]=null,this[y]=null),s.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[y])return r(this[y]);this[f]?n=r(this[f]):(n=a(this.getAttribute("d")||""),this[f]=r(n));var t=d((s=[],c=p=h=u=null,n.forEach(function(e){var t,n,a,i,o,l,r=e.type;"M"===r?(o=e.values[0],l=e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"m"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"L"===r?(o=e.values[0],l=e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"l"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"C"===r?(t=e.values[0],n=e.values[1],a=e.values[2],i=e.values[3],o=e.values[4],l=e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"c"===r?(t=u+e.values[0],n=h+e.values[1],a=u+e.values[2],i=h+e.values[3],o=u+e.values[4],l=h+e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"Q"===r?(t=e.values[0],n=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"q"===r?(t=u+e.values[0],n=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"A"===r?(o=e.values[5],l=e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"a"===r?(o=u+e.values[5],l=h+e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"H"===r?(o=e.values[0],s.push({type:"H",values:[o]}),u=o):"h"===r?(o=u+e.values[0],s.push({type:"H",values:[o]}),u=o):"V"===r?(l=e.values[0],s.push({type:"V",values:[l]}),h=l):"v"===r?(l=h+e.values[0],s.push({type:"V",values:[l]}),h=l):"S"===r?(a=e.values[0],i=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"s"===r?(a=u+e.values[0],i=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"T"===r?(o=e.values[0],l=e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"t"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"Z"!==r&&"z"!==r||(s.push({type:"Z",values:[]}),u=p,h=c)}),s));return this[y]=r(t),t}if(this[f])return r(this[f]);var s,u,h,p,c,n=a(this.getAttribute("d")||"");return this[f]=r(n),n},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)l?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,a=e.length;n<a;n+=1){var i=e[n];0<n&&(t+=" "),t+=i.type,i.values&&0<i.values.length&&(t+=" "+i.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,a=this.width.baseVal.value,i=this.height.baseVal.value,o=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,l=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;a/2<o&&(o=a/2),i/2<l&&(l=i/2);var r=(r=[{type:"M",values:[t+o,n]},{type:"H",values:[t+a-o]},{type:"A",values:[o,l,0,0,1,t+a,n+l]},{type:"V",values:[n+i-l]},{type:"A",values:[o,l,0,0,1,t+a-o,n+i]},{type:"H",values:[t+o]},{type:"A",values:[o,l,0,0,1,t,n+i-l]},{type:"V",values:[n+l]},{type:"A",values:[o,l,0,0,1,t+o,n]},{type:"Z",values:[]}]).filter(function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]});return e&&!0===e.normalize&&(r=d(r)),r},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.r.baseVal.value,i=[{type:"M",values:[t+a,n]},{type:"A",values:[a,a,0,0,1,t,n+a]},{type:"A",values:[a,a,0,0,1,t-a,n]},{type:"A",values:[a,a,0,0,1,t,n-a]},{type:"A",values:[a,a,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(i=d(i)),i},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.rx.baseVal.value,i=this.ry.baseVal.value,o=[{type:"M",values:[t+a,n]},{type:"A",values:[a,i,0,0,1,t,n+i]},{type:"A",values:[a,i,0,0,1,t-a,n]},{type:"A",values:[a,i,0,0,1,t,n-i]},{type:"A",values:[a,i,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(o=d(o)),o},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()},v=(a={},xe.m=n=[function(e,t,n){n.r(t);var a=500,i=[],o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},r=Date.now(),s=void 0;function u(){var n=void 0,e=void 0;s&&(l.call(window,s),s=null),i.forEach(function(e){var t;(t=e.event)&&(e.event=null,e.listener(t),n=!0)}),n?(r=Date.now(),e=!0):Date.now()-r<a&&(e=!0),e&&(s=o.call(window,u))}function h(n){var a=-1;return i.some(function(e,t){return e.listener===n&&(a=t,!0)}),a}var p={add:function(e){var t=void 0;return-1===h(e)?(i.push(t={listener:e}),function(e){t.event=e,s||u()}):null},remove:function(e){var t;-1<(t=h(e))&&(i.splice(t,1),!i.length&&s&&(l.call(window,s),s=null))}};t.default=p}],xe.c=a,xe.d=function(e,t,n){xe.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},xe.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},xe.t=function(t,e){if(1&e&&(t=xe(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(xe.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)xe.d(n,a,function(e){return t[e]}.bind(null,a));return n},xe.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return xe.d(t,"a",t),t},xe.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},xe.p="",xe(xe.s=0).default),me={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:ne},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:ne},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:ne},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},E={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},O="fade",Se=[],ge={},_e=0,ve={},Ee=0;function xe(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,xe),t.l=!0,t.exports}function be(){var i=Date.now(),o=!1;e&&(r.call(window,e),e=null),k.forEach(function(e){var t,n,a;if(e.framesStart){if((t=i-e.framesStart)>=e.duration&&e.count&&e.loopsLeft<=1)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);if(t>e.duration){if(n=Math.floor(t/e.duration),e.count){if(n>=e.loopsLeft)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);e.loopsLeft-=n}e.framesStart+=e.duration*n,t=i-e.framesStart}e.reverse&&(t=e.duration-t),a=e.frames[e.lastFrame=Math.round(t/b)],!1!==e.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?o=!0:e.framesStart=null}}),o&&(e=l.call(window,be))}function ke(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,be()}function we(t,n){var e,a;return typeof t!=typeof n||(e=fe(t)?"obj":Array.isArray(t)?"array":"")!=(fe(n)?"obj":Array.isArray(n)?"array":"")||("obj"===e?we(a=Object.keys(t).sort(),Object.keys(n).sort())||a.some(function(e){return we(t[e],n[e])}):"array"===e?t.length!==n.length||t.some(function(e,t){return we(e,n[t])}):t!==n)}function Oe(n){return n?fe(n)?Object.keys(n).reduce(function(e,t){return e[t]=Oe(n[t]),e},{}):Array.isArray(n)?n.map(Oe):n:n}function Me(e){var t,n,a,i=1,o=e=(e+"").trim();function l(e){var t=1,n=m.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),a=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===a.length?(i=l(a[3]),o="rgb("+a.slice(0,3).join(", ")+")"):"hsla"===n&&4===a.length?(i=l(a[3]),o="hsl("+a.slice(0,3).join(", ")+")"):"hwb"===n&&4===a.length?(i=l(a[3]),o="hwb("+a.slice(0,3).join(", ")+")"):"gray"===n&&2===a.length?(i=l(a[1]),o="gray("+a[0]+")"):"device-cmyk"===n&&5<=a.length&&(i=l(a[4]),o="device-cmyk("+a.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?o=t[1]?(i=parseInt(t[2],16)/255,"#"+t[1]):(i=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(i=0),[i,o]}function Ie(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function Ce(e,t){var n,a,i,o,l={};if(!(i=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(a in n=e.getBoundingClientRect())l[a]=n[a];if(!t){if(!(o=i.defaultView))return console.error("Cannot get window that contains the element."),null;l.left+=o.pageXOffset,l.right+=o.pageXOffset,l.top+=o.pageYOffset,l.bottom+=o.pageYOffset}return l}function Le(e,t){var n,a,i=[],o=e;for(t=t||window;;){if(!(n=o.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(a=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(a===t)break;if(!(o=a.frameElement))return console.error("`baseWindow` was not found."),null;i.unshift(o)}return i}function Ae(e,t){var n,a,o=0,l=0;return(a=Le(e,t=t||window))?a.length?(a.forEach(function(e,t){var n,a,i=Ce(e,0<t);o+=i.left,l+=i.top,a=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),i={left:n.clientLeft+parseFloat(a.paddingLeft),top:n.clientTop+parseFloat(a.paddingTop)},o+=i.left,l+=i.top}),(n=Ce(e,!0)).left+=o,n.right+=o,n.top+=l,n.bottom+=l,n):Ce(e):null}function Ve(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}function Pe(e,t,n){var a=t.x-e.x,i=t.y-e.y;return{x:e.x+a*n,y:e.y+i*n,angle:Math.atan2(i,a)/(Math.PI/180)}}function Ne(e,t,n){var a=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(a)*n,y:t.y+Math.sin(a)*n*-1}}function Te(e,t,n,a,i){var o=i*i,l=o*i,r=1-i,s=r*r,u=s*r,h=u*e.x+3*s*i*t.x+3*r*o*n.x+l*a.x,p=u*e.y+3*s*i*t.y+3*r*o*n.y+l*a.y,c=e.x+2*i*(t.x-e.x)+o*(n.x-2*t.x+e.x),d=e.y+2*i*(t.y-e.y)+o*(n.y-2*t.y+e.y),f=t.x+2*i*(n.x-t.x)+o*(a.x-2*n.x+t.x),y=t.y+2*i*(n.y-t.y)+o*(a.y-2*n.y+t.y),m=r*e.x+i*t.x,S=r*e.y+i*t.y,g=r*n.x+i*a.x,_=r*n.y+i*a.y,v=90-180*Math.atan2(c-f,d-y)/Math.PI;return{x:h,y:p,fromP2:{x:c,y:d},toP1:{x:f,y:y},fromP1:{x:m,y:S},toP2:{x:g,y:_},angle:v+=180<v?-180:180}}function We(n,a,i,o,e){function l(e,t,n,a,i){return e*(e*(-3*t+9*n-9*a+3*i)+6*t-12*n+6*a)-3*t+3*n}var r,s,u,h,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],c=0,d=(e=null==e||1<e?1:e<0?0:e)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(e,t){s=l(r=d*e+d,n.x,a.x,i.x,o.x),u=l(r,n.y,a.y,i.y,o.y),h=s*s+u*u,c+=p[t]*Math.sqrt(h)}),d*c}function Be(e,t,n,a,i){for(var o,l=.5,r=1-l;o=We(e,t,n,a,r),!(Math.abs(o-i)<=.01);)r+=(o<i?1:-1)*(l/=2);return r}function Re(e,n){var a;return e.forEach(function(e){var t=n?e.map(function(e){var t={x:e.x,y:e.y};return n(t),t}):e;(a=a||[{type:"M",values:[t[0].x,t[0].y]}]).push(t.length?2===t.length?{type:"L",values:[t[1].x,t[1].y]}:{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]}:{type:"Z",values:[]})}),a}function Fe(e){var n=[],a=0;return e.forEach(function(e){var t=(2===e.length?Ve:We).apply(null,e);n.push(t),a+=t}),{segsLen:n,lenAll:a}}function Ge(e,a){return null==e||null==a||e.length!==a.length||e.some(function(e,t){var n=a[t];return e.type!==n.type||e.values.some(function(e,t){return e!==n.values[t]})})}function De(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function ze(e,t,n){var a;e.events[t]&&-1<(a=e.events[t].indexOf(n))&&e.events[t].splice(a,1)}function je(e){t&&clearTimeout(t),Se.push(e),t=setTimeout(function(){Se.forEach(function(e){e()}),Se=[]},0)}function He(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Ue(e){e.reflowTargets.forEach(function(e){var n;n=e,setTimeout(function(){var e=n.parentNode,t=n.nextSibling;e.insertBefore(e.removeChild(n),t)},0)}),e.reflowTargets=[]}function Ze(e,t,n,a,i,o,l){var r,s,u;"auto-start-reverse"===n?("boolean"!=typeof h&&(t.setAttribute("orient","auto-start-reverse"),h=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),h?t.setAttribute("orient",n):((r=i.createSVGTransform()).setRotate(180,0,0),o.transform.baseVal.appendItem(r),t.setAttribute("orient","auto"),u=!0)):(t.setAttribute("orient",n),!1===h&&o.transform.baseVal.clear()),s=t.viewBox.baseVal,u?(s.x=-a.right,s.y=-a.bottom):(s.x=a.left,s.y=a.top),s.width=a.width,s.height=a.height,se&&He(e,l)}function Ye(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Xe(n,a){Object.keys(a).forEach(function(e){var t=a[e];n[e]=null!=t.iniValue?t.hasSE?[t.iniValue,t.iniValue]:t.iniValue:t.hasSE?t.hasProps?[{},{}]:[]:t.hasProps?{}:null})}function qe(t,e,n,a,i){return a!==e[n]&&(e[n]=a,i&&i.forEach(function(e){e(t,a,n)}),!0)}function Qe(e){function t(e,t){return e+parseFloat(t)}var n=e.document,a=e.getComputedStyle(n.documentElement,""),i=e.getComputedStyle(n.body,""),o={x:0,y:0};return"static"!==i.position?(o.x-=[a.marginLeft,a.borderLeftWidth,a.paddingLeft,i.marginLeft,i.borderLeftWidth].reduce(t,0),o.y-=[a.marginTop,a.borderTopWidth,a.paddingTop,i.marginTop,i.borderTopWidth].reduce(t,0)):"static"!==a.position&&(o.x-=[a.marginLeft,a.borderLeftWidth].reduce(t,0),o.y-=[a.marginTop,a.borderTopWidth].reduce(t,0)),o}function Ke(e){var t,n=e.document;n.getElementById(d)||(t=(new e.DOMParser).parseFromString(y,"image/svg+xml"),n.body.appendChild(t.documentElement),_(e))}function Je(u){var _,f,v,e,n,a,i,y,s,h,p,t,o,l,r,c,d,m,S,g=u.options,E=u.curStats,x=u.aplStats,b=E.position_socketXYSE,k=!1;function w(e,t){var n=t===V?{x:e.left+e.width/2,y:e.top}:t===P?{x:e.right,y:e.top+e.height/2}:t===N?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function O(e){return{x:e.x,y:e.y}}if(E.position_path=g.path,E.position_lineStrokeWidth=E.line_strokeWidth,E.position_socketGravitySE=_=Oe(g.socketGravitySE),f=[0,1].map(function(e){var t,n,a,i=g.anchorSE[e],o=u.optionIsAttach.anchorSE[e],l=!1!==o?ve[i._id]:null,r=!1!==o&&l.conf.getStrokeWidth?l.conf.getStrokeWidth(l,u):0,s=!1!==o&&l.conf.getBBoxNest?l.conf.getBBoxNest(l,u,r):Ae(i,u.baseWindow);return E.capsMaskAnchor_pathDataSE[e]=!1!==o&&l.conf.getPathData?l.conf.getPathData(l,u,r):(n=null!=(t=s).right?t.right:t.left+t.width,a=null!=t.bottom?t.bottom:t.top+t.height,[{type:"M",values:[t.left,t.top]},{type:"L",values:[n,t.top]},{type:"L",values:[n,a]},{type:"L",values:[t.left,a]},{type:"Z",values:[]}]),E.capsMaskAnchor_strokeWidthSE[e]=r,s}),i=-1,g.socketSE[0]&&g.socketSE[1]?(b[0]=w(f[0],g.socketSE[0]),b[1]=w(f[1],g.socketSE[1])):(g.socketSE[0]||g.socketSE[1]?(a=g.socketSE[0]?(n=0,1):(n=1,0),b[n]=w(f[n],g.socketSE[n]),(e=H.map(function(e){return w(f[a],e)})).forEach(function(e){var t=Ve(e,b[n]);(t<i||-1===i)&&(b[a]=e,i=t)})):(e=H.map(function(e){return w(f[1],e)}),H.map(function(e){return w(f[0],e)}).forEach(function(n){e.forEach(function(e){var t=Ve(n,e);(t<i||-1===i)&&(b[0]=n,b[1]=e,i=t)})})),[0,1].forEach(function(e){var t,n;g.socketSE[e]||(f[e].width||f[e].height?f[e].width||b[e].socketId!==T&&b[e].socketId!==P?f[e].height||b[e].socketId!==V&&b[e].socketId!==N||(b[e].socketId=0<=b[e?0:1].y-f[e].top?N:V):b[e].socketId=0<=b[e?0:1].x-f[e].left?P:T:(t=b[e?0:1].x-f[e].left,n=b[e?0:1].y-f[e].top,b[e].socketId=Math.abs(t)>=Math.abs(n)?0<=t?P:T:0<=n?N:V))})),E.position_path!==x.position_path||E.position_lineStrokeWidth!==x.position_lineStrokeWidth||[0,1].some(function(e){return E.position_plugOverheadSE[e]!==x.position_plugOverheadSE[e]||(i=b[e],o=x.position_socketXYSE[e],i.x!==o.x||i.y!==o.y||i.socketId!==o.socketId)||(t=_[e],n=x.position_socketGravitySE[e],(a=null==t?"auto":Array.isArray(t)?"array":"number")!=(null==n?"auto":Array.isArray(n)?"array":"number")||("array"==a?t[0]!==n[0]||t[1]!==n[1]:t!==n));var t,n,a,i,o})){switch(u.pathList.baseVal=v=[],u.pathList.animVal=null,E.position_path){case B:v.push([O(b[0]),O(b[1])]);break;case R:t="number"==typeof _[0]&&0<_[0]||"number"==typeof _[1]&&0<_[1],o=le*(t?-1:1),l=Math.atan2(b[1].y-b[0].y,b[1].x-b[0].x),r=o-l,c=Math.PI-l-o,d=Ve(b[0],b[1])/Math.sqrt(2)*ee,m={x:b[0].x+Math.cos(r)*d,y:b[0].y+Math.sin(r)*d*-1},S={x:b[1].x+Math.cos(c)*d,y:b[1].y+Math.sin(c)*d*-1},v.push([O(b[0]),m,S,O(b[1])]);break;case F:case G:s=[_[0],E.position_path===G?0:_[1]],h=[],p=[],b.forEach(function(e,t){var n,a,i,o,l=s[t],r=Array.isArray(l)?{x:l[0],y:l[1]}:"number"==typeof l?e.socketId===V?{x:0,y:-l}:e.socketId===P?{x:l,y:0}:e.socketId===N?{x:0,y:l}:{x:-l,y:0}:(n=b[t?0:1],i=0<(a=E.position_plugOverheadSE[t])?q+(Q<a?(a-Q)*K:0):Z+(E.position_lineStrokeWidth>Y?(E.position_lineStrokeWidth-Y)*X:0),e.socketId===V?((o=(e.y-n.y)/2)<i&&(o=i),{x:0,y:-o}):e.socketId===P?((o=(n.x-e.x)/2)<i&&(o=i),{x:o,y:0}):e.socketId===N?((o=(n.y-e.y)/2)<i&&(o=i),{x:0,y:o}):((o=(e.x-n.x)/2)<i&&(o=i),{x:-o,y:0}));h[t]=e.x+r.x,p[t]=e.y+r.y}),v.push([O(b[0]),{x:h[0],y:p[0]},{x:h[1],y:p[1]},O(b[1])]);break;case D:!function(){var a,o=1,l=2,r=3,s=4,u=[[],[]],h=[];function p(e){return e===o?r:e===l?s:e===r?o:l}function c(e){return e===l||e===s?"x":"y"}function d(e,t,n){var a={x:e.x,y:e.y};if(n){if(n===p(e.dirId))throw new Error("Invalid dirId: "+n);a.dirId=n}else a.dirId=e.dirId;return a.dirId===o?a.y-=t:a.dirId===l?a.x+=t:a.dirId===r?a.y+=t:a.x-=t,a}function f(e,t){return t.dirId===o?e.y<=t.y:t.dirId===l?e.x>=t.x:t.dirId===r?e.y>=t.y:e.x<=t.x}function y(e,t){return t.dirId===o||t.dirId===r?e.x===t.x:e.y===t.y}function m(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function S(e,t,n){return Math.abs(t[n]-e[n])}function g(e,t,n){return"x"===n?e.x<t.x?l:s:e.y<t.y?r:o}for(b.forEach(function(e,t){var n,a=O(e),i=_[t];n=Array.isArray(i)?i[0]<0?[s,-i[0]]:0<i[0]?[l,i[0]]:i[1]<0?[o,-i[1]]:0<i[1]?[r,i[1]]:[e.socketId,0]:"number"!=typeof i?[e.socketId,$]:0<=i?[e.socketId,i]:[p(e.socketId),-i],a.dirId=n[0],i=n[1],u[t].push(a),h[t]=d(a,i)});function(){var e,t,a,i,n=[f(h[1],h[0]),f(h[0],h[1])],o=[c(h[0].dirId),c(h[1].dirId)];if(o[0]===o[1]){if(n[0]&&n[1])return void(y(h[1],h[0])||(h[0][o[0]]===h[1][o[1]]?(u[0].push(h[0]),u[1].push(h[1])):(e=h[0][o[0]]+(h[1][o[1]]-h[0][o[0]])/2,u[0].push(d(h[0],Math.abs(e-h[0][o[0]]))),u[1].push(d(h[1],Math.abs(e-h[1][o[1]]))))));n[0]!==n[1]?(t=m(n),(a=S(h[t.notContain],h[t.contain],o[t.notContain]))<$&&(h[t.notContain]=d(h[t.notContain],$-a)),u[t.notContain].push(h[t.notContain]),h[t.notContain]=d(h[t.notContain],$,y(h[t.contain],h[t.notContain])?"x"===o[t.notContain]?r:l:g(h[t.notContain],h[t.contain],"x"===o[t.notContain]?"y":"x"))):(a=S(h[0],h[1],"x"===o[0]?"y":"x"),u.forEach(function(e,t){var n=0===t?1:0;e.push(h[t]),h[t]=d(h[t],$,2*$<=a?g(h[t],h[n],"x"===o[t]?"y":"x"):"x"===o[t]?r:l)}))}else{if(n[0]&&n[1])return void(y(h[1],h[0])?u[1].push(h[1]):y(h[0],h[1])?u[0].push(h[0]):u[0].push("x"===o[0]?{x:h[1].x,y:h[0].y}:{x:h[0].x,y:h[1].y}));n[0]!==n[1]?(t=m(n),u[t.notContain].push(h[t.notContain]),h[t.notContain]=d(h[t.notContain],$,S(h[t.notContain],h[t.contain],o[t.contain])>=$?g(h[t.notContain],h[t.contain],o[t.contain]):h[t.contain].dirId)):(i=[{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}],u.forEach(function(e,t){var n=0===t?1:0,a=S(i[t],i[n],o[t]);a<$&&(h[t]=d(h[t],$-a)),e.push(h[t]),h[t]=d(h[t],$,g(h[t],h[n],o[n]))}))}return 1}(););u[1].reverse(),u[0].concat(u[1]).forEach(function(e,t){var n={x:e.x,y:e.y};0<t&&v.push([a,n]),a=n})}()}y=[],E.position_plugOverheadSE.forEach(function(e,t){var n,a,i,o,l,r,s,u,h,p,c,d=!t;0<e?2===(n=v[a=d?0:v.length-1]).length?(y[a]=y[a]||Ve.apply(null,n),y[a]>J&&(y[a]-e<J&&(e=y[a]-J),i=Pe(n[0],n[1],(d?e:y[a]-e)/y[a]),v[a]=d?[i,n[1]]:[n[0],i],y[a]-=e)):(y[a]=y[a]||We.apply(null,n),y[a]>J&&(y[a]-e<J&&(e=y[a]-J),i=Te(n[0],n[1],n[2],n[3],Be(n[0],n[1],n[2],n[3],d?e:y[a]-e)),l=d?(o=n[0],i.toP1):(o=n[3],i.fromP2),r=Math.atan2(o.y-i.y,i.x-o.x),s=Ve(i,l),i.x=o.x+Math.cos(r)*e,i.y=o.y+Math.sin(r)*e*-1,l.x=i.x+Math.cos(r)*s,l.y=i.y+Math.sin(r)*s*-1,v[a]=d?[i,i.toP1,i.toP2,n[3]]:[n[0],i.fromP1,i.fromP2,i],y[a]=null)):e<0&&(n=v[a=d?0:v.length-1],u=b[t].socketId,h=u===T||u===P?"x":"y",e<(c=-f[t]["x"==h?"width":"height"])&&(e=c),p=e*(u===T||u===V?-1:1),2===n.length?n[d?0:n.length-1][h]+=p:(d?[0,1]:[n.length-2,n.length-1]).forEach(function(e){n[e][h]+=p}),y[a]=null)}),x.position_socketXYSE=Oe(b),x.position_plugOverheadSE=Oe(E.position_plugOverheadSE),x.position_path=E.position_path,x.position_lineStrokeWidth=E.position_lineStrokeWidth,x.position_socketGravitySE=Oe(_),k=!0,u.events.apl_position&&u.events.apl_position.forEach(function(e){e(u,v)})}return k}function $e(t,n){n!==t.isShown&&(!!n!=!!t.isShown&&(t.svg.style.visibility=n?"":"hidden"),t.isShown=n,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(e){e(t,n)}))}function et(e,t){var n,a,i,o,l,h,p,c,d,f,r,s,u,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P,N,T,W,B,R,F,G,D,z,j,H,U,Z,Y,X,q,Q,K,J,$,ee={};t.line&&(ee.line=(a=(n=e).options,i=n.curStats,o=n.events,l=!1,l=qe(n,i,"line_color",a.lineColor,o.cur_line_color)||l,l=qe(n,i,"line_colorTra",Me(i.line_color)[0]<1)||l,l=qe(n,i,"line_strokeWidth",a.lineSize,o.cur_line_strokeWidth)||l)),(t.plug||ee.line)&&(ee.plug=(p=(h=e).options,c=h.curStats,d=h.events,f=!1,[0,1].forEach(function(e){var t,n,a,i,o,l,r,s,u=p.plugSE[e];f=qe(h,c.plug_enabledSE,e,u!==ne)||f,f=qe(h,c.plug_plugSE,e,u)||f,f=qe(h,c.plug_colorSE,e,s=p.plugColorSE[e]||c.line_color,d.cur_plug_colorSE)||f,f=qe(h,c.plug_colorTraSE,e,Me(s)[0]<1)||f,u!==ne&&(i=n=(t=ae[ie[u]]).widthR*p.plugSizeSE[e],o=a=t.heightR*p.plugSizeSE[e],pe&&(i*=c.line_strokeWidth,o*=c.line_strokeWidth),f=qe(h,c.plug_markerWidthSE,e,i)||f,f=qe(h,c.plug_markerHeightSE,e,o)||f,c.capsMaskMarker_markerWidthSE[e]=n,c.capsMaskMarker_markerHeightSE[e]=a),c.plugOutline_plugSE[e]=c.capsMaskMarker_plugSE[e]=u,c.plug_enabledSE[e]?(s=c.line_strokeWidth/de.lineSize*p.plugSizeSE[e],c.position_plugOverheadSE[e]=t.overhead*s,c.viewBox_plugBCircleSE[e]=t.bCircle*s,l=t.sideLen*s,r=t.backLen*s):(c.position_plugOverheadSE[e]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[e]=l=r=0),qe(h,c.attach_plugSideLenSE,e,l,d.cur_attach_plugSideLenSE),qe(h,c.attach_plugBackLenSE,e,r,d.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[e]=!c.plug_enabledSE[e]}),f=qe(h,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||f)),(t.lineOutline||ee.line)&&(ee.lineOutline=(u=(r=e).options,y=r.curStats,m=!1,m=qe(r,y,"lineOutline_enabled",u.lineOutlineEnabled)||m,m=qe(r,y,"lineOutline_color",u.lineOutlineColor)||m,m=qe(r,y,"lineOutline_colorTra",Me(y.lineOutline_color)[0]<1)||m,s=y.line_strokeWidth*u.lineOutlineSize,m=qe(r,y,"lineOutline_strokeWidth",y.line_strokeWidth-2*s)||m,m=qe(r,y,"lineOutline_inStrokeWidth",y.lineOutline_colorTra?y.lineOutline_strokeWidth+2*ce:y.line_strokeWidth-s)||m)),(t.plugOutline||ee.line||ee.plug||ee.lineOutline)&&(ee.plugOutline=(g=(S=e).options,_=S.curStats,v=!1,[0,1].forEach(function(e){var t,n=_.plugOutline_plugSE[e],a=n!==ne?ae[ie[n]]:null;v=qe(S,_.plugOutline_enabledSE,e,g.plugOutlineEnabledSE[e]&&_.plug_enabled&&_.plug_enabledSE[e]&&!!a&&!!a.outlineBase)||v,v=qe(S,_.plugOutline_colorSE,e,t=g.plugOutlineColorSE[e]||_.lineOutline_color)||v,v=qe(S,_.plugOutline_colorTraSE,e,Me(t)[0]<1)||v,a&&a.outlineBase&&((t=g.plugOutlineSizeSE[e])>a.outlineMax&&(t=a.outlineMax),t*=2*a.outlineBase,v=qe(S,_.plugOutline_strokeWidthSE,e,t)||v,v=qe(S,_.plugOutline_inStrokeWidthSE,e,_.plugOutline_colorTraSE[e]?t-ce/(_.line_strokeWidth/de.lineSize)/g.plugSizeSE[e]*2:t/2)||v)}),v)),(t.faces||ee.line||ee.plug||ee.lineOutline||ee.plugOutline)&&(ee.faces=(b=(E=e).curStats,k=E.aplStats,w=E.events,O=!1,!b.line_altColor&&qe(E,k,"line_color",x=b.line_color,w.apl_line_color)&&(E.lineFace.style.stroke=x,O=!0),qe(E,k,"line_strokeWidth",x=b.line_strokeWidth,w.apl_line_strokeWidth)&&(E.lineShape.style.strokeWidth=x+"px",O=!0,(ue||se)&&(He(E,E.lineShape),se&&(He(E,E.lineFace),He(E,E.lineMaskCaps)))),qe(E,k,"lineOutline_enabled",x=b.lineOutline_enabled,w.apl_lineOutline_enabled)&&(E.lineOutlineFace.style.display=x?"inline":"none",O=!0),b.lineOutline_enabled&&(qe(E,k,"lineOutline_color",x=b.lineOutline_color,w.apl_lineOutline_color)&&(E.lineOutlineFace.style.stroke=x,O=!0),qe(E,k,"lineOutline_strokeWidth",x=b.lineOutline_strokeWidth,w.apl_lineOutline_strokeWidth)&&(E.lineOutlineMaskShape.style.strokeWidth=x+"px",O=!0,se&&(He(E,E.lineOutlineMaskCaps),He(E,E.lineOutlineFace))),qe(E,k,"lineOutline_inStrokeWidth",x=b.lineOutline_inStrokeWidth,w.apl_lineOutline_inStrokeWidth)&&(E.lineMaskShape.style.strokeWidth=x+"px",O=!0,se&&(He(E,E.lineOutlineMaskCaps),He(E,E.lineOutlineFace)))),qe(E,k,"plug_enabled",x=b.plug_enabled,w.apl_plug_enabled)&&(E.plugsFace.style.display=x?"inline":"none",O=!0),b.plug_enabled&&[0,1].forEach(function(n){var e=b.plug_plugSE[n],t=e!==ne?ae[ie[e]]:null,a=Ye(n,t);qe(E,k.plug_enabledSE,n,x=b.plug_enabledSE[n],w.apl_plug_enabledSE)&&(E.plugsFace.style[a.prop]=x?"url(#"+E.plugMarkerIdSE[n]+")":"none",O=!0),b.plug_enabledSE[n]&&(qe(E,k.plug_plugSE,n,e,w.apl_plug_plugSE)&&(E.plugFaceSE[n].href.baseVal="#"+t.elmId,Ze(E,E.plugMarkerSE[n],a.orient,t.bBox,E.svg,E.plugMarkerShapeSE[n],E.plugsFace),O=!0,ue&&He(E,E.plugsFace)),qe(E,k.plug_colorSE,n,x=b.plug_colorSE[n],w.apl_plug_colorSE)&&(E.plugFaceSE[n].style.fill=x,O=!0,(he||pe||se)&&!b.line_colorTra&&He(E,se?E.lineMaskCaps:E.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(e){var t="plug_"+e+"SE";qe(E,k[t],n,x=b[t][n],w["apl_"+t])&&(E.plugMarkerSE[n][e].baseVal.value=x,O=!0)}),qe(E,k.plugOutline_enabledSE,n,x=b.plugOutline_enabledSE[n],w.apl_plugOutline_enabledSE)&&(x?(E.plugFaceSE[n].style.mask="url(#"+E.plugMaskIdSE[n]+")",E.plugOutlineFaceSE[n].style.display="inline"):(E.plugFaceSE[n].style.mask="none",E.plugOutlineFaceSE[n].style.display="none"),O=!0),b.plugOutline_enabledSE[n]&&(qe(E,k.plugOutline_plugSE,n,e,w.apl_plugOutline_plugSE)&&(E.plugOutlineFaceSE[n].href.baseVal=E.plugMaskShapeSE[n].href.baseVal=E.plugOutlineMaskShapeSE[n].href.baseVal="#"+t.elmId,[E.plugMaskSE[n],E.plugOutlineMaskSE[n]].forEach(function(e){e.x.baseVal.value=t.bBox.left,e.y.baseVal.value=t.bBox.top,e.width.baseVal.value=t.bBox.width,e.height.baseVal.value=t.bBox.height}),O=!0),qe(E,k.plugOutline_colorSE,n,x=b.plugOutline_colorSE[n],w.apl_plugOutline_colorSE)&&(E.plugOutlineFaceSE[n].style.fill=x,O=!0,se&&(He(E,E.lineMaskCaps),He(E,E.lineOutlineMaskCaps))),qe(E,k.plugOutline_strokeWidthSE,n,x=b.plugOutline_strokeWidthSE[n],w.apl_plugOutline_strokeWidthSE)&&(E.plugOutlineMaskShapeSE[n].style.strokeWidth=x+"px",O=!0),qe(E,k.plugOutline_inStrokeWidthSE,n,x=b.plugOutline_inStrokeWidthSE[n],w.apl_plugOutline_inStrokeWidthSE)&&(E.plugMaskShapeSE[n].style.strokeWidth=x+"px",O=!0)))}),O)),(t.position||ee.line||ee.plug)&&(ee.position=Je(e)),(t.path||ee.position)&&(ee.path=(C=(M=e).curStats,L=M.aplStats,A=M.pathList.animVal||M.pathList.baseVal,V=C.path_edge,P=!1,A&&(V.x1=V.x2=A[0][0].x,V.y1=V.y2=A[0][0].y,C.path_pathData=I=Re(A,function(e){e.x<V.x1&&(V.x1=e.x),e.y<V.y1&&(V.y1=e.y),e.x>V.x2&&(V.x2=e.x),e.y>V.y2&&(V.y2=e.y)}),Ge(I,L.path_pathData)&&(M.linePath.setPathData(I),L.path_pathData=I,P=!0,se?(He(M,M.plugsFace),He(M,M.lineMaskCaps)):ue&&He(M,M.linePath),M.events.apl_path&&M.events.apl_path.forEach(function(e){e(M,I)}))),P)),ee.viewBox=(T=(N=e).curStats,W=N.aplStats,B=T.path_edge,R=T.viewBox_bBox,F=W.viewBox_bBox,G=N.svg.viewBox.baseVal,D=N.svg.style,z=!1,j=Math.max(T.line_strokeWidth/2,T.viewBox_plugBCircleSE[0]||0,T.viewBox_plugBCircleSE[1]||0),H={x1:B.x1-j,y1:B.y1-j,x2:B.x2+j,y2:B.y2+j},N.events.new_edge4viewBox&&N.events.new_edge4viewBox.forEach(function(e){e(N,H)}),R.x=T.lineMask_x=T.lineOutlineMask_x=T.maskBGRect_x=H.x1,R.y=T.lineMask_y=T.lineOutlineMask_y=T.maskBGRect_y=H.y1,R.width=H.x2-H.x1,R.height=H.y2-H.y1,["x","y","width","height"].forEach(function(e){var t;(t=R[e])!==F[e]&&(G[e]=F[e]=t,D[oe[e]]=t+("x"===e||"y"===e?N.bodyOffset[e]:0)+"px",z=!0)}),z),ee.mask=(Y=(U=e).curStats,X=U.aplStats,q=!1,Y.plug_enabled?[0,1].forEach(function(e){Y.capsMaskMarker_enabledSE[e]=Y.plug_enabledSE[e]&&Y.plug_colorTraSE[e]||Y.plugOutline_enabledSE[e]&&Y.plugOutline_colorTraSE[e]}):Y.capsMaskMarker_enabledSE[0]=Y.capsMaskMarker_enabledSE[1]=!1,Y.capsMaskMarker_enabled=Y.capsMaskMarker_enabledSE[0]||Y.capsMaskMarker_enabledSE[1],Y.lineMask_outlineMode=Y.lineOutline_enabled,Y.caps_enabled=Y.capsMaskMarker_enabled||Y.capsMaskAnchor_enabledSE[0]||Y.capsMaskAnchor_enabledSE[1],Y.lineMask_enabled=Y.caps_enabled||Y.lineMask_outlineMode,(Y.lineMask_enabled&&!Y.lineMask_outlineMode||Y.lineOutline_enabled)&&["x","y"].forEach(function(e){var t="maskBGRect_"+e;qe(U,X,t,Z=Y[t])&&(U.maskBGRect[e].baseVal.value=Z,q=!0)}),qe(U,X,"lineMask_enabled",Z=Y.lineMask_enabled)&&(U.lineFace.style.mask=Z?"url(#"+U.lineMaskId+")":"none",q=!0,pe&&He(U,U.lineMask)),Y.lineMask_enabled&&(qe(U,X,"lineMask_outlineMode",Z=Y.lineMask_outlineMode)&&(Z?(U.lineMaskBG.style.display="none",U.lineMaskShape.style.display="inline"):(U.lineMaskBG.style.display="inline",U.lineMaskShape.style.display="none"),q=!0),["x","y"].forEach(function(e){var t="lineMask_"+e;qe(U,X,t,Z=Y[t])&&(U.lineMask[e].baseVal.value=Z,q=!0)}),qe(U,X,"caps_enabled",Z=Y.caps_enabled)&&(U.lineMaskCaps.style.display=U.lineOutlineMaskCaps.style.display=Z?"inline":"none",q=!0,pe&&He(U,U.capsMaskLine)),Y.caps_enabled&&([0,1].forEach(function(e){var t;qe(U,X.capsMaskAnchor_enabledSE,e,Z=Y.capsMaskAnchor_enabledSE[e])&&(U.capsMaskAnchorSE[e].style.display=Z?"inline":"none",q=!0,pe&&He(U,U.lineMask)),Y.capsMaskAnchor_enabledSE[e]&&(Ge(t=Y.capsMaskAnchor_pathDataSE[e],X.capsMaskAnchor_pathDataSE[e])&&(U.capsMaskAnchorSE[e].setPathData(t),X.capsMaskAnchor_pathDataSE[e]=t,q=!0),qe(U,X.capsMaskAnchor_strokeWidthSE,e,Z=Y.capsMaskAnchor_strokeWidthSE[e])&&(U.capsMaskAnchorSE[e].style.strokeWidth=Z+"px",q=!0))}),qe(U,X,"capsMaskMarker_enabled",Z=Y.capsMaskMarker_enabled)&&(U.capsMaskLine.style.display=Z?"inline":"none",q=!0),Y.capsMaskMarker_enabled&&[0,1].forEach(function(n){var e=Y.capsMaskMarker_plugSE[n],t=e!==ne?ae[ie[e]]:null,a=Ye(n,t);qe(U,X.capsMaskMarker_enabledSE,n,Z=Y.capsMaskMarker_enabledSE[n])&&(U.capsMaskLine.style[a.prop]=Z?"url(#"+U.lineMaskMarkerIdSE[n]+")":"none",q=!0),Y.capsMaskMarker_enabledSE[n]&&(qe(U,X.capsMaskMarker_plugSE,n,e)&&(U.capsMaskMarkerShapeSE[n].href.baseVal="#"+t.elmId,Ze(U,U.capsMaskMarkerSE[n],a.orient,t.bBox,U.svg,U.capsMaskMarkerShapeSE[n],U.capsMaskLine),q=!0,ue&&(He(U,U.capsMaskLine),He(U,U.lineFace))),["markerWidth","markerHeight"].forEach(function(e){var t="capsMaskMarker_"+e+"SE";qe(U,X[t],n,Z=Y[t][n])&&(U.capsMaskMarkerSE[n][e].baseVal.value=Z,q=!0)}))}))),Y.lineOutline_enabled&&["x","y"].forEach(function(e){var t="lineOutlineMask_"+e;qe(U,X,t,Z=Y[t])&&(U.lineOutlineMask[e].baseVal.value=Z,q=!0)}),q),t.effect&&(J=(Q=e).curStats,$=Q.aplStats,Object.keys(te).forEach(function(e){var t=te[e],n=e+"_enabled",a=e+"_options",i=J[a];qe(Q,$,n,K=J[n])?(K&&($[a]=Oe(i)),t[K?"init":"remove"](Q)):K&&we(i,$[a])&&(t.remove(Q),$[n]=!0,$[a]=Oe(i),t.init(Q))})),(he||pe)&&ee.line&&!ee.path&&He(e,e.lineShape),he&&ee.plug&&!ee.line&&He(e,e.plugsFace),Ue(e)}function tt(e,t){return{duration:ye(e.duration)&&0<e.duration?e.duration:t.duration,timing:g.validTiming(e.timing)?e.timing:Oe(t.timing)}}function nt(e,t,n,a){var i,o=e.curStats,l=e.aplStats,r={};function s(){["show_on","show_effect","show_animOptions"].forEach(function(e){l[e]=o[e]})}o.show_on=t,n&&M[n]&&(o.show_effect=n,o.show_animOptions=tt(fe(a)?a:{},M[n].defaultAnimOptions)),r.show_on=o.show_on!==l.show_on,r.show_effect=o.show_effect!==l.show_effect,r.show_animOptions=we(o.show_animOptions,l.show_animOptions),r.show_effect||r.show_animOptions?o.show_inAnim?(i=r.show_effect?M[l.show_effect].stop(e,!0,!0):M[l.show_effect].stop(e),s(),M[l.show_effect].init(e,i)):r.show_on&&(l.show_effect&&r.show_effect&&M[l.show_effect].stop(e,!0,!0),s(),M[l.show_effect].init(e)):r.show_on&&(s(),M[l.show_effect].start(e))}function at(e,t,n){var a={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,a))&&(e.attachments.push(t),t.boundTargets.push(a),1)}function it(n,a,e){var i=n.attachments.indexOf(a);-1<i&&n.attachments.splice(i,1),a.boundTargets.some(function(e,t){return e.props===n&&(a.conf.unbind&&a.conf.unbind(a,e),i=t,!0)})&&(a.boundTargets.splice(i,1),e||je(function(){a.boundTargets.length||o(a)}))}function ot(s,u){var e,i,a,t,n,o,l,r,h,p,c,d,f,y,m,S,g,_=s.options,v={};function E(e,t,n,a,i){var o={};return n?null!=a?(o.container=e[n],o.key=a):(o.container=e,o.key=n):(o.container=e,o.key=t),o.default=i,o.acceptsAuto=null==o.default,o}function x(e,t,n,a,i,o,l){var r,s,u,h=E(e,n,i,o,l);return null!=t[n]&&(s=(t[n]+"").toLowerCase())&&(h.acceptsAuto&&s===U||(u=a[s]))&&u!==h.container[h.key]&&(h.container[h.key]=u,r=!0),null!=h.container[h.key]||h.acceptsAuto||(h.container[h.key]=h.default,r=!0),r}function b(e,t,n,a,i,o,l,r,s){var u,h,p,c,d=E(e,n,i,o,l);if(!a){if(null==d.default)throw new Error("Invalid `type`: "+n);a=typeof d.default}return null!=t[n]&&(d.acceptsAuto&&(t[n]+"").toLowerCase()===U||(p=h=t[n],("number"===(c=a)?ye(p):typeof p===c)&&(h=s&&"string"===a&&h?h.trim():h,1)&&(!r||r(h))))&&h!==d.container[d.key]&&(d.container[d.key]=h,u=!0),null!=d.container[d.key]||d.acceptsAuto||(d.container[d.key]=d.default,u=!0),u}if(u=u||{},["start","end"].forEach(function(e,t){var n=u[e],a=!1;if(n&&(Ie(n)||(a=L(n,"anchor")))&&n!==_.anchorSE[t]){if(!1!==s.optionIsAttach.anchorSE[t]&&it(s,ve[_.anchorSE[t]._id]),a&&!at(s,ve[n._id],e))throw new Error("Can't bind attachment");_.anchorSE[t]=n,s.optionIsAttach.anchorSE[t]=a,i=v.position=!0}}),!_.anchorSE[0]||!_.anchorSE[1]||_.anchorSE[0]===_.anchorSE[1])throw new Error("`start` and `end` are required.");function k(e){var t=o.appendChild(S.createElementNS(re,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t}function w(e){var t=o.appendChild(S.createElementNS(re,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function O(e){return[e.width,e.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),e}i&&(e=function(e,t){var n,a,i;if(!(n=Le(e))||!(a=Le(t)))throw new Error("Cannot get frames.");return n.length&&a.length&&(n.reverse(),a.reverse(),n.some(function(t){return a.some(function(e){return e===t&&(i=e.contentWindow,!0)})})),i||window}(!1!==s.optionIsAttach.anchorSE[0]?ve[_.anchorSE[0]._id].element:_.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?ve[_.anchorSE[1]._id].element:_.anchorSE[1]))!==s.baseWindow&&(t=e,m=(a=s).aplStats,S=t.document,g=A+"-"+a._id,a.pathList={},Xe(m,me),Object.keys(te).forEach(function(e){var t=e+"_enabled";m[t]&&(te[e].remove(a),m[t]=!1)}),a.baseWindow&&a.svg&&a.baseWindow.document.body.removeChild(a.svg),Ke(a.baseWindow=t),a.bodyOffset=Qe(t),a.svg=n=S.createElementNS(re,"svg"),n.className.baseVal=A,n.viewBox.baseVal||n.setAttribute("viewBox","0 0 0 0"),a.defs=o=n.appendChild(S.createElementNS(re,"defs")),a.linePath=r=o.appendChild(S.createElementNS(re,"path")),r.id=h=g+"-line-path",r.className.baseVal=A+"-line-path",pe&&(r.style.fill="none"),a.lineShape=r=o.appendChild(S.createElementNS(re,"use")),r.id=p=g+"-line-shape",r.href.baseVal="#"+h,(l=o.appendChild(S.createElementNS(re,"g"))).id=c=g+"-caps",a.capsMaskAnchorSE=[0,1].map(function(){var e=l.appendChild(S.createElementNS(re,"path"));return e.className.baseVal=A+"-caps-mask-anchor",e}),a.lineMaskMarkerIdSE=[g+"-caps-mask-marker-0",g+"-caps-mask-marker-1"],a.capsMaskMarkerSE=[0,1].map(function(e){return w(a.lineMaskMarkerIdSE[e])}),a.capsMaskMarkerShapeSE=[0,1].map(function(e){var t=a.capsMaskMarkerSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-caps-mask-marker-shape",t}),a.capsMaskLine=r=l.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-caps-mask-line",r.href.baseVal="#"+p,a.maskBGRect=r=O(o.appendChild(S.createElementNS(re,"rect"))),r.id=d=g+"-mask-bg-rect",r.className.baseVal=A+"-mask-bg-rect",pe&&(r.style.fill="white"),a.lineMask=O(k(a.lineMaskId=g+"-line-mask")),a.lineMaskBG=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+d,a.lineMaskShape=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-line-mask-shape",r.href.baseVal="#"+h,r.style.display="none",a.lineMaskCaps=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+c,a.lineOutlineMask=O(k(f=g+"-line-outline-mask")),(r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use"))).href.baseVal="#"+d,a.lineOutlineMaskShape=r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-line-outline-mask-shape",r.href.baseVal="#"+h,a.lineOutlineMaskCaps=r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+c,a.face=n.appendChild(S.createElementNS(re,"g")),a.lineFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+p,a.lineOutlineFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+p,r.style.mask="url(#"+f+")",r.style.display="none",a.plugMaskIdSE=[g+"-plug-mask-0",g+"-plug-mask-1"],a.plugMaskSE=[0,1].map(function(e){return k(a.plugMaskIdSE[e])}),a.plugMaskShapeSE=[0,1].map(function(e){var t=a.plugMaskSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-plug-mask-shape",t}),y=[],a.plugOutlineMaskSE=[0,1].map(function(e){return k(y[e]=g+"-plug-outline-mask-"+e)}),a.plugOutlineMaskShapeSE=[0,1].map(function(e){var t=a.plugOutlineMaskSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-plug-outline-mask-shape",t}),a.plugMarkerIdSE=[g+"-plug-marker-0",g+"-plug-marker-1"],a.plugMarkerSE=[0,1].map(function(e){var t=w(a.plugMarkerIdSE[e]);return pe&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t}),a.plugMarkerShapeSE=[0,1].map(function(e){return a.plugMarkerSE[e].appendChild(S.createElementNS(re,"g"))}),a.plugFaceSE=[0,1].map(function(e){return a.plugMarkerShapeSE[e].appendChild(S.createElementNS(re,"use"))}),a.plugOutlineFaceSE=[0,1].map(function(e){var t=a.plugMarkerShapeSE[e].appendChild(S.createElementNS(re,"use"));return t.style.mask="url(#"+y[e]+")",t.style.display="none",t}),a.plugsFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-plugs-face",r.href.baseVal="#"+p,r.style.display="none",a.curStats.show_inAnim?(a.isShown=1,M[m.show_effect].stop(a,!0)):a.isShown||(n.style.visibility="hidden"),S.body.appendChild(n),[0,1,2].forEach(function(e){var t,n=a.options.labelSEM[e];n&&L(n,"label")&&(t=ve[n._id]).conf.initSvg&&t.conf.initSvg(t,a)}),v.line=v.plug=v.lineOutline=v.plugOutline=v.faces=v.effect=!0),v.position=x(_,u,"path",z,null,null,de.path)||v.position,v.position=x(_,u,"startSocket",W,"socketSE",0)||v.position,v.position=x(_,u,"endSocket",W,"socketSE",1)||v.position,[u.startSocketGravity,u.endSocketGravity].forEach(function(e,t){var n,a,i=!1;null!=e&&(Array.isArray(e)?ye(e[0])&&ye(e[1])&&(i=[e[0],e[1]],Array.isArray(_.socketGravitySE[t])&&(n=i,a=_.socketGravitySE[t],n.length===a.length&&n.every(function(e,t){return e===a[t]}))&&(i=!1)):((e+"").toLowerCase()===U?i=null:ye(e)&&0<=e&&(i=e),i===_.socketGravitySE[t]&&(i=!1)),!1!==i&&(_.socketGravitySE[t]=i,v.position=!0))}),v.line=b(_,u,"color",null,"lineColor",null,de.lineColor,null,!0)||v.line,v.line=b(_,u,"size",null,"lineSize",null,de.lineSize,function(e){return 0<e})||v.line,["startPlug","endPlug"].forEach(function(e,t){v.plug=x(_,u,e,j,"plugSE",t,de.plugSE[t])||v.plug,v.plug=b(_,u,e+"Color","string","plugColorSE",t,null,null,!0)||v.plug,v.plug=b(_,u,e+"Size",null,"plugSizeSE",t,de.plugSizeSE[t],function(e){return 0<e})||v.plug}),v.lineOutline=b(_,u,"outline",null,"lineOutlineEnabled",null,de.lineOutlineEnabled)||v.lineOutline,v.lineOutline=b(_,u,"outlineColor",null,"lineOutlineColor",null,de.lineOutlineColor,null,!0)||v.lineOutline,v.lineOutline=b(_,u,"outlineSize",null,"lineOutlineSize",null,de.lineOutlineSize,function(e){return 0<e&&e<=.48})||v.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(e,t){v.plugOutline=b(_,u,e,null,"plugOutlineEnabledSE",t,de.plugOutlineEnabledSE[t])||v.plugOutline,v.plugOutline=b(_,u,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||v.plugOutline,v.plugOutline=b(_,u,e+"Size",null,"plugOutlineSizeSE",t,de.plugOutlineSizeSE[t],function(e){return 1<=e})||v.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(e,t){var n,a,i,o=u[e],l=_.labelSEM[t]&&!s.optionIsAttach.labelSEM[t]?ve[_.labelSEM[t]._id].text:_.labelSEM[t],r=!1;if((n="string"==typeof o)&&(o=o.trim()),(n||o&&(r=L(o,"label")))&&o!==l){if(_.labelSEM[t]&&(it(s,ve[_.labelSEM[t]._id]),_.labelSEM[t]=""),o){if(r?(a=ve[(i=o)._id]).boundTargets.slice().forEach(function(e){a.conf.removeOption(a,e)}):i=new C(I.captionLabel,[o]),!at(s,ve[i._id],e))throw new Error("Can't bind attachment");_.labelSEM[t]=i}s.optionIsAttach.labelSEM[t]=r}}),Object.keys(te).forEach(function(a){var e,t,o=te[a],n=a+"_enabled",i=a+"_options";function l(a){var i={};return o.optionsConf.forEach(function(e){var t=e[0],n=e[3];null==e[4]||i[n]||(i[n]=[]),("function"==typeof t?t:"id"===t?x:b).apply(null,[i,a].concat(e.slice(1)))}),i}function r(e){var t,n=a+"_animOptions";return e.hasOwnProperty("animation")?fe(e.animation)?t=s.curStats[n]=tt(e.animation,o.defaultAnimOptions):(t=!!e.animation,s.curStats[n]=t?tt({},o.defaultAnimOptions):null):(t=!!o.defaultEnabled,s.curStats[n]=t?tt({},o.defaultAnimOptions):null),t}u.hasOwnProperty(a)&&(e=u[a],fe(e)?(s.curStats[n]=!0,t=s.curStats[i]=l(e),o.anim&&(s.curStats[i].animation=r(e))):(t=s.curStats[n]=!!e)&&(s.curStats[i]=l({}),o.anim&&(s.curStats[i].animation=r({}))),we(t,_[a])&&(_[a]=t,v.effect=!0))}),et(s,v)}function lt(e,t,n){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Xe(a.curStats,me),Xe(a.aplStats,me),Object.keys(te).forEach(function(e){var t=te[e].stats;Xe(a.curStats,t),Xe(a.aplStats,t),a.options[e]=!1}),Xe(a.curStats,E),Xe(a.aplStats,E),a.curStats.show_effect=O,a.curStats.show_animOptions=Oe(M[O].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++_e}),a._id=this._id,ge[this._id]=a,1===arguments.length&&(n=e,e=null),n=n||{},(e||t)&&(n=Oe(n),e&&(n.start=e),t&&(n.end=t)),a.isShown=a.aplStats.show_on=!n.hide,this.setOptions(n)}function rt(n){return function(e){var t={};t[n]=e,this.setOptions(t)}}function st(e,t){var n,a={conf:e,curStats:{},aplStats:{},boundTargets:[]},i={};e.argOptions.every(function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0])))&&(i[e.optionName]=t.shift(),!0)}),n=t.length&&fe(t[0])?Oe(t[0]):{},Object.keys(i).forEach(function(e){n[e]=i[e]}),e.stats&&(Xe(a.curStats,e.stats),Xe(a.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++Ee}),Object.defineProperty(this,"isRemoved",{get:function(){return!ve[this._id]}}),a._id=this._id,e.init&&!e.init(a,n)||(ve[this._id]=a)}return te={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){De(e,"apl_line_strokeWidth",te.dash.update),e.lineFace.style.strokeDashoffset=0,te.dash.update(e)},remove:function(e){var t=e.curStats;ze(e,"apl_line_strokeWidth",te.dash.update),t.dash_animId&&(g.remove(t.dash_animId),t.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Xe(e.aplStats,te.dash.stats)},update:function(t){var e,n=t.curStats,a=t.aplStats,i=a.dash_options,o=!1;n.dash_len=i.len||2*a.line_strokeWidth,n.dash_gap=i.gap||a.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,o=qe(t,a,"dash_len",n.dash_len)||o,(o=qe(t,a,"dash_gap",n.dash_gap)||o)&&(t.lineFace.style.strokeDasharray=a.dash_len+","+a.dash_gap),n.dash_animOptions?(o=qe(t,a,"dash_maxOffset",n.dash_maxOffset),a.dash_animOptions&&(o||we(n.dash_animOptions,a.dash_animOptions))&&(n.dash_animId&&(e=g.stop(n.dash_animId),g.remove(n.dash_animId)),a.dash_animOptions=null),a.dash_animOptions||(n.dash_animId=g.add(function(e){return(1-e)*a.dash_maxOffset+"px"},function(e){t.lineFace.style.strokeDashoffset=e},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),a.dash_animOptions=Oe(n.dash_animOptions))):a.dash_animOptions&&(n.dash_animId&&(g.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,a.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var t,a=e.baseWindow.document,n=e.defs,i=A+"-"+e._id+"-gradient";e.efc_gradient_gradient=t=n.appendChild(a.createElementNS(re,"linearGradient")),t.id=i,t.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x1,t.y1,t.x2,t.y2].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(t){var n=e.efc_gradient_gradient.appendChild(a.createElementNS(re,"stop"));try{n.offset.baseVal=t}catch(e){if(e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw e;n.setAttribute("offset",t)}return n}),De(e,"cur_plug_colorSE",te.gradient.update),De(e,"apl_path",te.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+i+")",te.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),ze(e,"cur_plug_colorSE",te.gradient.update),ze(e,"apl_path",te.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Xe(e.aplStats,te.gradient.stats)},update:function(a){var e,t,i=a.curStats,o=a.aplStats,n=o.gradient_options,l=a.pathList.animVal||a.pathList.baseVal;[0,1].forEach(function(e){i.gradient_colorSE[e]=n.colorSE[e]||i.plug_colorSE[e]}),t=l[0][0],i.gradient_pointSE[0]={x:t.x,y:t.y},t=(e=l[l.length-1])[e.length-1],i.gradient_pointSE[1]={x:t.x,y:t.y},[0,1].forEach(function(t){var n;qe(a,o.gradient_colorSE,t,n=i.gradient_colorSE[t])&&(pe?(n=Me(n),a.efc_gradient_stopSE[t].style.stopColor=n[1],a.efc_gradient_stopSE[t].style.stopOpacity=n[0]):a.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach(function(e){(n=i.gradient_pointSE[t][e])!==o.gradient_pointSE[t][e]&&(a.efc_gradient_gradient[e+(t+1)].baseVal.value=o.gradient_pointSE[t][e]=n)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var e,n,a,i,o,l=t.baseWindow.document,r=t.defs,s=A+"-"+t._id+"-dropShadow",u=(e=l,n=s,o={},"boolean"!=typeof p&&(p=!!window.SVGFEDropShadowElement&&!pe),o.elmsAppend=[o.elmFilter=a=e.createElementNS(re,"filter")],a.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,a.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.id=n,p?(o.elmOffset=o.elmBlur=i=a.appendChild(e.createElementNS(re,"feDropShadow")),o.styleFlood=i.style):(o.elmBlur=a.appendChild(e.createElementNS(re,"feGaussianBlur")),o.elmOffset=i=a.appendChild(e.createElementNS(re,"feOffset")),i.result.baseVal="offsetblur",i=a.appendChild(e.createElementNS(re,"feFlood")),o.styleFlood=i.style,(i=a.appendChild(e.createElementNS(re,"feComposite"))).in2.baseVal="offsetblur",i.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(i=a.appendChild(e.createElementNS(re,"feMerge"))).appendChild(e.createElementNS(re,"feMergeNode")),i.appendChild(e.createElementNS(re,"feMergeNode")).in1.baseVal="SourceGraphic"),o);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(e){t["efc_dropShadow_"+e]=u[e]}),u.elmsAppend.forEach(function(e){r.appendChild(e)}),t.face.setAttribute("filter","url(#"+s+")"),De(t,"new_edge4viewBox",te.dropShadow.adjustEdge),te.dropShadow.update(t)},remove:function(e){var t=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(e){t.removeChild(e)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),ze(e,"new_edge4viewBox",te.dropShadow.adjustEdge),et(e,{}),e.face.removeAttribute("filter"),Xe(e.aplStats,te.dropShadow.stats)},update:function(e){var t,n,a=e.curStats,i=e.aplStats,o=i.dropShadow_options;a.dropShadow_dx=t=o.dx,qe(e,i,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),a.dropShadow_dy=t=o.dy,qe(e,i,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),a.dropShadow_blur=t=o.blur,qe(e,i,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&et(e,{}),a.dropShadow_color=t=o.color,qe(e,i,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),a.dropShadow_opacity=t=o.opacity,qe(e,i,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(a,i){var e,t,o=a.curStats,l=a.aplStats;null!=o.dropShadow_dx&&(e=3*o.dropShadow_blur,(t={x1:i.x1-e+o.dropShadow_dx,y1:i.y1-e+o.dropShadow_dy,x2:i.x2+e+o.dropShadow_dx,y2:i.y2+e+o.dropShadow_dy}).x1<i.x1&&(i.x1=t.x1),t.y1<i.y1&&(i.y1=t.y1),t.x2>i.x2&&(i.x2=t.x2),t.y2>i.y2&&(i.y2=t.y2),["x","y"].forEach(function(e){var t,n="dropShadow_"+e;o[n]=t=i[e+"1"],qe(a,l,n,t)&&(a.efc_dropShadow_elmFilter[e].baseVal.value=t)}))}}},Object.keys(te).forEach(function(e){var t=te[e],n=t.stats;n[e+"_enabled"]={iniValue:!1},n[e+"_options"]={hasProps:!0},t.anim&&(n[e+"_animOptions"]={},n[e+"_animId"]={})}),M={none:{defaultAnimOptions:{},init:function(e,t){var n=e.curStats;n.show_animId&&(g.remove(n.show_animId),n.show_animId=null),M.none.start(e,t)},start:function(e,t){M.none.stop(e,!0)},stop:function(e,t,n){var a=e.curStats;return n=null!=n?n:e.aplStats.show_on,a.show_inAnim=!1,t&&$e(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(n,e){var t=n.curStats,a=n.aplStats;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){return e},function(e,t){t?M.fade.stop(n,!0):(n.svg.style.opacity=e+"",se&&(He(n,n.svg),Ue(n)))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),M.fade.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),$e(e,1),a.show_inAnim=!0,g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",$e(e,n)),a}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(n,e){var t=n.curStats,a=n.aplStats,l=n.pathList.baseVal,i=Fe(l),r=i.segsLen,s=i.lenAll;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){var t,n,a,i,o=-1;if(0===e)n=[[l[0][0],l[0][0]]];else if(1===e)n=l;else{for(t=s*e,n=[];t>=r[++o];)n.push(l[o]),t-=r[o];t&&(2===(a=l[o]).length?n.push([a[0],Pe(a[0],a[1],t/r[o])]):(i=Te(a[0],a[1],a[2],a[3],Be(a[0],a[1],a[2],a[3],t)),n.push([a[0],i.fromP1,i.fromP2,i])))}return n},function(e,t){t?M.draw.stop(n,!0):(n.pathList.animVal=e,et(n,{path:!0}))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),M.draw.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),$e(e,1),a.show_inAnim=!0,De(e,"apl_position",M.draw.update),g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],et(e,{path:!0}),$e(e,n)),a},update:function(e){ze(e,"apl_position",M.draw.update),e.curStats.show_inAnim?M.draw.init(e,M.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(e){var t=e[0],n=e[1],a=e[2];Object.defineProperty(lt.prototype,t,{get:function(){var e=null!=a?ge[this._id].options[n][a]:n?ge[this._id].options[n]:ge[this._id].options[t];return null==e?U:Oe(e)},set:rt(t),enumerable:!0})}),[["path",z],["startSocket",W,"socketSE",0],["endSocket",W,"socketSE",1],["startPlug",j,"plugSE",0],["endPlug",j,"plugSE",1]].forEach(function(e){var a=e[0],i=e[1],o=e[2],l=e[3];Object.defineProperty(lt.prototype,a,{get:function(){var t,n=null!=l?ge[this._id].options[o][l]:o?ge[this._id].options[o]:ge[this._id].options[a];return n?Object.keys(i).some(function(e){return i[e]===n&&(t=e,!0)})?t:new Error("It's broken"):U},set:rt(a),enumerable:!0})}),Object.keys(te).forEach(function(n){var a=te[n];Object.defineProperty(lt.prototype,n,{get:function(){var u,e,t=ge[this._id].options[n];return fe(t)?(u=t,e=a.optionsConf.reduce(function(e,t){var n,a=t[0],i=t[1],o=t[2],l=t[3],r=t[4],s=null!=r?u[l][r]:l?u[l]:u[i];return e[i]="id"===a?s?Object.keys(o).some(function(e){return o[e]===s&&(n=e,!0)})?n:new Error("It's broken"):U:null==s?U:Oe(s),e},{}),a.anim&&(e.animation=Oe(u.animation)),e):t},set:rt(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(e,n){Object.defineProperty(lt.prototype,e,{get:function(){var e=ge[this._id],t=e.options;return t.labelSEM[n]&&!e.optionIsAttach.labelSEM[n]?ve[t.labelSEM[n]._id].text:t.labelSEM[n]||""},set:rt(e),enumerable:!0})}),lt.prototype.setOptions=function(e){return ot(ge[this._id],e),this},lt.prototype.position=function(){return et(ge[this._id],{position:!0}),this},lt.prototype.remove=function(){var t=ge[this._id],n=t.curStats;Object.keys(te).forEach(function(e){var t=e+"_animId";n[t]&&g.remove(n[t])}),n.show_animId&&g.remove(n.show_animId),t.attachments.slice().forEach(function(e){it(t,e)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete ge[this._id]},lt.prototype.show=function(e,t){return nt(ge[this._id],!0,e,t),this},lt.prototype.hide=function(e,t){return nt(ge[this._id],!1,e,t),this},o=function(t){t&&ve[t._id]&&(t.boundTargets.slice().forEach(function(e){it(e.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete ve[t._id])},st.prototype.remove=function(){var t=this,n=ve[t._id];n&&(n.boundTargets.slice().forEach(function(e){n.conf.removeOption(n,e)}),je(function(){var e=ve[t._id];e&&(console.error("LeaderLineAttachment was not removed by removeOption"),o(e))}))},C=st,window.LeaderLineAttachment=C,L=function(e,t){return e instanceof C&&(!(e.isRemoved||t&&ve[e._id].conf.type!==t)||null)},I={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie}],init:function(e,t){return e.element=I.pointAnchor.checkElement(t.element),e.x=I.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=I.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var n=t.props,a={},i=e.element,o=n.options.anchorSE["start"===t.optionName?1:0];i===o&&(i=o===document.body?new C(I.pointAnchor,[i]):document.body),a[t.optionName]=i,ot(n,a)},getBBoxNest:function(e,t){var n=Ae(e.element,t.baseWindow),a=n.width,i=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?a:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?i:1),n},parsePercent:function(e,t){var n,a,i=!1;return ye(e)?a=e:"string"==typeof e&&(n=m.exec(e))&&n[2]&&(i=0!==(a=parseFloat(n[1])/100)),null!=a&&(t||0<=a)?[a,i]:null},checkElement:function(e){if(null==e)e=document.body;else if(!Ie(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(i,e){var t,n,a,o=[];return i.element=I.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(i.color=e.color.trim()),"string"==typeof e.fillColor&&(i.fill=e.fillColor.trim()),ye(e.size)&&0<=e.size&&(i.size=e.size),e.dash&&(i.dash=!0,ye(e.dash.len)&&0<e.dash.len&&(i.dashLen=e.dash.len),ye(e.dash.gap)&&0<e.dash.gap&&(i.dashGap=e.dash.gap)),"circle"===e.shape?i.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every(function(e){var t={};return!(!(t.x=I.pointAnchor.parsePercent(e[0],!0))||!(t.y=I.pointAnchor.parsePercent(e[1],!0)))&&(o.push(t),(t.x[1]||t.y[1])&&(i.hasRatio=!0),!0)})?(i.shape=e.shape,i.points=o):(i.shape="rect",i.radius=ye(e.radius)&&0<=e.radius?e.radius:0),"rect"!==i.shape&&"circle"!==i.shape||(i.x=I.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],i.y=I.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],i.width=I.pointAnchor.parsePercent(e.width)||[1.1,!0],i.height=I.pointAnchor.parsePercent(e.height)||[1.1,!0],(i.x[1]||i.y[1]||i.width[1]||i.height[1])&&(i.hasRatio=!0)),t=i.element.ownerDocument,i.svg=n=t.createElementNS(re,"svg"),n.className.baseVal=A+"-areaAnchor",n.viewBox.baseVal||n.setAttribute("viewBox","0 0 0 0"),i.path=n.appendChild(t.createElementNS(re,"path")),i.path.style.fill=i.fill||"none",i.isShown=!1,n.style.visibility="hidden",t.body.appendChild(n),Ke(a=t.defaultView),i.bodyOffset=Qe(a),i.updateColor=function(){var e,t=i.curStats,n=i.aplStats,a=i.boundTargets.length?i.boundTargets[0].props.curStats:null;t.color=e=i.color||(a?a.line_color:de.lineColor),qe(i,n,"color",e)&&(i.path.style.stroke=e)},i.updateShow=function(){$e(i,i.boundTargets.some(function(e){return!0===e.props.isShown}))},!0},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),De(n,"svgShow",e.updateShow),je(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){var n=t.props;e.color||ze(n,"cur_line_color",e.updateColor),ze(n,"svgShow",e.updateShow),1<e.boundTargets.length&&je(function(){e.updateColor(),e.updateShow(),I.areaAnchor.update(e)&&e.boundTargets.forEach(function(e){et(e.props,{position:!0})})})},removeOption:function(e,t){I.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.areaAnchor.unbind(t,e)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(e,t){return I.areaAnchor.update(e)&&1<e.boundTargets.length&&je(function(){e.boundTargets.forEach(function(e){e.props!==t&&et(e.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=Ae(e.element,t.baseWindow);return Re(e.curStats.pathListRel,function(e){e.x+=n.left,e.y+=n.top})},getBBoxNest:function(e,t){var n=Ae(e.element,t.baseWindow),a=e.curStats.bBoxRel;return{left:a.left+n.left,top:a.top+n.top,right:a.right+n.left,bottom:a.bottom+n.top,width:a.width,height:a.height}},update:function(t){var a,n,i,o,e,l,r,s,u,h,p,c,d,f,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P=t.curStats,N=t.aplStats,T=t.boundTargets.length?t.boundTargets[0].props.curStats:null,W={};if(W.strokeWidth=qe(t,P,"strokeWidth",null!=t.size?t.size:T?T.line_strokeWidth:de.lineSize),a=Ce(t.element),W.elementWidth=qe(t,P,"elementWidth",a.width),W.elementHeight=qe(t,P,"elementHeight",a.height),W.elementLeft=qe(t,P,"elementLeft",a.left),W.elementTop=qe(t,P,"elementTop",a.top),W.strokeWidth||t.hasRatio&&(W.elementWidth||W.elementHeight)){switch(t.shape){case"rect":(I={left:t.x[0]*(t.x[1]?a.width:1),top:t.y[0]*(t.y[1]?a.height:1),width:t.width[0]*(t.width[1]?a.width:1),height:t.height[0]*(t.height[1]?a.height:1)}).right=I.left+I.width,I.bottom=I.top+I.height,b=P.strokeWidth/2,E=(x=Math.min(I.width,I.height))?x/2*Math.SQRT2+b:0,O=(v=t.radius?t.radius<=E?t.radius:E:0)?(w=v-(k=(v-b)/Math.SQRT2),M=v*ee,O=[{x:I.left-w,y:I.top+k},{x:I.left+k,y:I.top-w},{x:I.right-k,y:I.top-w},{x:I.right+w,y:I.top+k},{x:I.right+w,y:I.bottom-k},{x:I.right-k,y:I.bottom+w},{x:I.left+k,y:I.bottom+w},{x:I.left-w,y:I.bottom-k}],P.pathListRel=[[O[0],{x:O[0].x,y:O[0].y-M},{x:O[1].x-M,y:O[1].y},O[1]]],O[1].x!==O[2].x&&P.pathListRel.push([O[1],O[2]]),P.pathListRel.push([O[2],{x:O[2].x+M,y:O[2].y},{x:O[3].x,y:O[3].y-M},O[3]]),O[3].y!==O[4].y&&P.pathListRel.push([O[3],O[4]]),P.pathListRel.push([O[4],{x:O[4].x,y:O[4].y+M},{x:O[5].x+M,y:O[5].y},O[5]]),O[5].x!==O[6].x&&P.pathListRel.push([O[5],O[6]]),P.pathListRel.push([O[6],{x:O[6].x-M,y:O[6].y},{x:O[7].x,y:O[7].y+M},O[7]]),O[7].y!==O[0].y&&P.pathListRel.push([O[7],O[0]]),P.pathListRel.push([]),w=v-k+P.strokeWidth/2,[{x:I.left-w,y:I.top-w},{x:I.right+w,y:I.bottom+w}]):(w=P.strokeWidth/2,O=[{x:I.left-w,y:I.top-w},{x:I.right+w,y:I.bottom+w}],P.pathListRel=[[O[0],{x:O[1].x,y:O[0].y}],[{x:O[1].x,y:O[0].y},O[1]],[O[1],{x:O[0].x,y:O[1].y}],[]],[{x:I.left-P.strokeWidth,y:I.top-P.strokeWidth},{x:I.right+P.strokeWidth,y:I.bottom+P.strokeWidth}]),P.bBoxRel={left:O[0].x,top:O[0].y,right:O[1].x,bottom:O[1].y,width:O[1].x-O[0].x,height:O[1].y-O[0].y};break;case"circle":(_={left:t.x[0]*(t.x[1]?a.width:1),top:t.y[0]*(t.y[1]?a.height:1),width:t.width[0]*(t.width[1]?a.width:1),height:t.height[0]*(t.height[1]?a.height:1)}).width||_.height||(_.width=_.height=10),_.width||(_.width=_.height),_.height||(_.height=_.width),_.right=_.left+_.width,_.bottom=_.top+_.height,r=_.left+_.width/2,s=_.top+_.height/2,d=P.strokeWidth/2,f=_.width/2,y=_.height/2,u=f*Math.SQRT2+d,h=y*Math.SQRT2+d,p=u*ee,c=h*ee,g=[{x:r-u,y:s},{x:r,y:s-h},{x:r+u,y:s},{x:r,y:s+h}],P.pathListRel=[[g[0],{x:g[0].x,y:g[0].y-c},{x:g[1].x-p,y:g[1].y},g[1]],[g[1],{x:g[1].x+p,y:g[1].y},{x:g[2].x,y:g[2].y-c},g[2]],[g[2],{x:g[2].x,y:g[2].y+c},{x:g[3].x+p,y:g[3].y},g[3]],[g[3],{x:g[3].x-p,y:g[3].y},{x:g[0].x,y:g[0].y+c},g[0]],[]],m=u-f+P.strokeWidth/2,S=h-y+P.strokeWidth/2,g=[{x:_.left-m,y:_.top-S},{x:_.right+m,y:_.bottom+S}],P.bBoxRel={left:g[0].x,top:g[0].y,right:g[1].x,bottom:g[1].y,width:g[1].x-g[0].x,height:g[1].y-g[0].y};break;case"polygon":t.points.forEach(function(e){var t=e.x[0]*(e.x[1]?a.width:1),n=e.y[0]*(e.y[1]?a.height:1);i?(t<i.left&&(i.left=t),t>i.right&&(i.right=t),n<i.top&&(i.top=n),n>i.bottom&&(i.bottom=n)):i={left:t,right:t,top:n,bottom:n},o?P.pathListRel.push([o,{x:t,y:n}]):P.pathListRel=[],o={x:t,y:n}}),P.pathListRel.push([]),e=P.strokeWidth/2,l=[{x:i.left-e,y:i.top-e},{x:i.right+e,y:i.bottom+e}],P.bBoxRel={left:l[0].x,top:l[0].y,right:l[1].x,bottom:l[1].y,width:l[1].x-l[0].x,height:l[1].y-l[0].y}}W.pathListRel=W.bBoxRel=!0}return(W.pathListRel||W.elementLeft||W.elementTop)&&(P.pathData=Re(P.pathListRel,function(e){e.x+=a.left,e.y+=a.top})),qe(t,N,"strokeWidth",n=P.strokeWidth)&&(t.path.style.strokeWidth=n+"px"),Ge(n=P.pathData,N.pathData)&&(t.path.setPathData(n),N.pathData=n,W.pathData=!0),t.dash&&(!W.pathData&&(!W.strokeWidth||t.dashLen&&t.dashGap)||(P.dashLen=t.dashLen||2*P.strokeWidth,P.dashGap=t.dashGap||P.strokeWidth),W.dash=qe(t,N,"dashLen",P.dashLen)||W.dash,W.dash=qe(t,N,"dashGap",P.dashGap)||W.dash,W.dash&&(t.path.style.strokeDasharray=N.dashLen+","+N.dashGap)),C=P.viewBoxBBox,L=N.viewBoxBBox,A=t.svg.viewBox.baseVal,V=t.svg.style,C.x=P.bBoxRel.left+a.left,C.y=P.bBoxRel.top+a.top,C.width=P.bBoxRel.width,C.height=P.bBoxRel.height,["x","y","width","height"].forEach(function(e){(n=C[e])!==L[e]&&(A[e]=L[e]=n,V[oe[e]]=n+("x"===e||"y"===e?t.bodyOffset[e]:0)+"px")}),W.strokeWidth||W.pathListRel||W.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(a,i){var o,t,e,n,l,r,s,u,h,p,c,d=I.mouseHoverAnchor,f={};if(a.element=I.pointAnchor.checkElement(i.element),u=a.element,!((p=u.ownerDocument)&&(h=p.defaultView)&&h.HTMLElement&&u instanceof h.HTMLElement))throw new Error("`element` must be HTML element");return d.style.backgroundSize=d.backgroundSize.width+"px "+d.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(e){var n=d[e];a[e]=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},{})}),"inline"===(o=a.element.ownerDocument.defaultView.getComputedStyle(a.element,"")).display?a.style.display="inline-block":"none"===o.display&&(a.style.display="block"),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t=e[0],n="padding"+e[1];parseFloat(o[n])<d.padding[t]&&(a.style[n]=d.padding[t]+"px")}),a.style.display&&(n=a.element.style.display,a.element.style.display=a.style.display),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t="padding"+e[1];a.style[t]&&(f[t]=a.element.style[t],a.element.style[t]=a.style[t])}),(e=a.element.getBoundingClientRect()).height<d.minHeight&&(se?(c=d.minHeight,"content-box"===o.boxSizing?c-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+parseFloat(o.paddingTop)+parseFloat(o.paddingBottom):"padding-box"===o.boxSizing&&(c-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),a.style.height=c+"px"):a.style.height=parseFloat(o.height)+(d.minHeight-e.height)+"px"),a.style.backgroundPosition=pe?e.width-d.backgroundSize.width-d.backgroundPosition.right+"px "+d.backgroundPosition.top+"px":"right "+d.backgroundPosition.right+"px top "+d.backgroundPosition.top+"px",a.style.display&&(a.element.style.display=n),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t="padding"+e[1];a.style[t]&&(a.element.style[t]=f[t])}),["style","hoverStyle"].forEach(function(e){var t=a[e],n=i[e];fe(n)&&Object.keys(n).forEach(function(e){"string"==typeof n[e]||ye(n[e])?t[e]=n[e]:null==n[e]&&delete t[e]})}),"function"==typeof i.onSwitch&&(s=i.onSwitch),i.showEffectName&&M[i.showEffectName]&&(a.showEffectName=l=i.showEffectName),r=i.animOptions,a.elmStyle=t=a.element.style,a.mouseenter=function(e){a.hoverStyleSave=d.getStyles(t,Object.keys(a.hoverStyle)),d.setStyles(t,a.hoverStyle),a.boundTargets.forEach(function(e){nt(e.props,!0,l,r)}),s&&s(e)},a.mouseleave=function(e){d.setStyles(t,a.hoverStyleSave),a.boundTargets.forEach(function(e){nt(e.props,!1,l,r)}),s&&s(e)},!0},bind:function(e,t){var n,a,i,o,l;return t.props.svg?I.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):je(function(){I.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=I.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),I.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(n=e.element,a=e.mouseenter,i=e.mouseleave,"onmouseenter"in n&&"onmouseleave"in n?(n.addEventListener("mouseenter",a,!1),n.addEventListener("mouseleave",i,!1),function(){n.removeEventListener("mouseenter",a,!1),n.removeEventListener("mouseleave",i,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)},n.addEventListener("mouseover",o),l=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)},n.addEventListener("mouseout",l),function(){n.removeEventListener("mouseover",o,!1),n.removeEventListener("mouseout",l,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),I.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),I.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){I.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.mouseHoverAnchor.unbind(t,e)}))},getBBoxNest:function(e,t){return Ae(e.element,t.baseWindow)},llShow:function(e,t,n){M[n||e.curStats.show_effect].stop(e,!0,t),e.aplStats.show_on=t},getStyles:function(n,e){return e.reduce(function(e,t){return e[t]=n[t],e},{})},setStyles:function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(u,t){return"string"==typeof t.text&&(u.text=t.text.trim()),!!u.text&&("string"==typeof t.color&&(u.color=t.color.trim()),u.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&ye(t.offset[0])&&ye(t.offset[1])&&(u.offset={x:t.offset[0],y:t.offset[1]}),ye(t.lineOffset)&&(u.lineOffset=t.lineOffset),I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(u[e]=t[e])}),u.updateColor=function(e){I.captionLabel.updateColor(u,e)},u.updateSocketXY=function(e){var t,n,a,i,o=u.curStats,l=u.aplStats,r=e.curStats,s=r.position_socketXYSE[u.socketIndex];null!=s.x&&(u.offset?(o.x=s.x+u.offset.x,o.y=s.y+u.offset.y):(t=u.height/2,n=Math.max(r.attach_plugSideLenSE[u.socketIndex]||0,r.line_strokeWidth/2),a=r.position_socketXYSE[u.socketIndex?0:1],s.socketId===T||s.socketId===P?(o.x=s.socketId===T?s.x-t-u.width:s.x+t,o.y=a.y<s.y?s.y+n+t:s.y-n-t-u.height):(o.x=a.x<s.x?s.x+n+t:s.x-n-t-u.width,o.y=s.socketId===V?s.y-t-u.height:s.y+t)),qe(u,l,"x",i=o.x)&&(u.elmPosition.x.baseVal.getItem(0).value=i),qe(u,l,"y",i=o.y)&&(u.elmPosition.y.baseVal.getItem(0).value=i+u.height))},u.updatePath=function(e){var t,n,a=u.curStats,i=u.aplStats,o=e.pathList.animVal||e.pathList.baseVal;o&&(t=I.captionLabel.getMidPoint(o,u.lineOffset),a.x=t.x-u.width/2,a.y=t.y-u.height/2,qe(u,i,"x",n=a.x)&&(u.elmPosition.x.baseVal.getItem(0).value=n),qe(u,i,"y",n=a.y)&&(u.elmPosition.y.baseVal.getItem(0).value=n+u.height))},u.updateShow=function(e){I.captionLabel.updateShow(u,e)},pe&&(u.adjustEdge=function(e,t){var n=u.curStats;null!=n.x&&I.captionLabel.adjustEdge(t,{x:n.x,y:n.y,width:u.width,height:u.height},u.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,a=e.curStats,i=e.aplStats,o=t.curStats;a.color=n=e.color||o.line_color,qe(e,i,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var a={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};a.x1<e.x1&&(e.x1=a.x1),a.y1<e.y1&&(e.y1=a.y1),a.x2>e.x2&&(e.x2=a.x2),a.y2>e.y2&&(e.y2=a.y2)},newText:function(e,t,n,a,i){var o,l,r,s,u,h=t.createElementNS(re,"text");return h.textContent=e,[h.x,h.y].forEach(function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)}),"boolean"!=typeof f&&(f="paintOrder"in h.style),i&&!f?(l=t.createElementNS(re,"defs"),h.id=a,l.appendChild(h),(s=(o=t.createElementNS(re,"g")).appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+a,(r=o.appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+a,(u=s.style).strokeLinejoin="round",{elmPosition:h,styleText:h.style,styleFill:r.style,styleStroke:u,styleShow:o.style,elmsAppend:[l,o]}):(u=h.style,i&&(u.strokeLinejoin="round",u.paintOrder="stroke"),{elmPosition:h,styleText:u,styleFill:u,styleStroke:i?u:null,styleShow:u,elmsAppend:[h]})},getMidPoint:function(e,t){var n,a,i=Fe(e),o=i.segsLen,l=i.lenAll,r=-1,s=l/2+(t||0);if(s<=0)return 2===(n=e[0]).length?Pe(n[0],n[1],0):Te(n[0],n[1],n[2],n[3],0);if(l<=s)return 2===(n=e[e.length-1]).length?Pe(n[0],n[1],1):Te(n[0],n[1],n[2],n[3],1);for(a=[];s>o[++r];)a.push(e[r]),s-=o[r];return 2===(n=e[r]).length?Pe(n[0],n[1],s/o[r]):Te(n[0],n[1],n[2],n[3],Be(n[0],n[1],n[2],n[3],s))},initSvg:function(t,n){var e,a,i=I.captionLabel.newText(t.text,n.baseWindow.document,n.svg,A+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),e=i.elmPosition.getBBox(),t.width=e.width,t.height=e.height,t.outlineColor&&(a=10<(a=e.height/9)?10:a<2?2:a,i.styleStroke.strokeWidth=a+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Xe(t.aplStats,I.captionLabel.stats),t.updateColor(n),t.refSocketXY?t.updateSocketXY(n):t.updatePath(n),pe&&et(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,De(n,"apl_position",e.updateSocketXY),e.offset||(De(n,"cur_attach_plugSideLenSE",e.updateSocketXY),De(n,"cur_line_strokeWidth",e.updateSocketXY))):De(n,"apl_path",e.updatePath),De(n,"svgShow",e.updateShow),pe&&De(n,"new_edge4viewBox",e.adjustEdge),I.captionLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Xe(e.curStats,I.captionLabel.stats),Xe(e.aplStats,I.captionLabel.stats),e.color||ze(n,"cur_line_color",e.updateColor),e.refSocketXY?(ze(n,"apl_position",e.updateSocketXY),e.offset||(ze(n,"cur_attach_plugSideLenSE",e.updateSocketXY),ze(n,"cur_line_strokeWidth",e.updateSocketXY))):ze(n,"apl_path",e.updatePath),ze(n,"svgShow",e.updateShow),pe&&(ze(n,"new_edge4viewBox",e.adjustEdge),et(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",ot(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.captionLabel.unbind(t,e)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(s,t){return"string"==typeof t.text&&(s.text=t.text.trim()),!!s.text&&("string"==typeof t.color&&(s.color=t.color.trim()),s.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",ye(t.lineOffset)&&(s.lineOffset=t.lineOffset),I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(s[e]=t[e])}),s.updateColor=function(e){I.captionLabel.updateColor(s,e)},s.updatePath=function(e){var t,n=s.curStats,a=s.aplStats,i=e.curStats,o=e.pathList.animVal||e.pathList.baseVal;o&&(n.pathData=t=I.pathLabel.getOffsetPathData(o,i.line_strokeWidth/2+s.strokeWidth/2+s.height/4,1.25*s.height),Ge(t,a.pathData)&&(s.elmPath.setPathData(t),a.pathData=t,s.bBox=s.elmPosition.getBBox(),s.updateStartOffset(e)))},s.updateStartOffset=function(e){var t,i,n,a,o=s.curStats,l=s.aplStats,r=e.curStats;o.pathData&&(2===s.semIndex&&!s.lineOffset||(n=o.pathData.reduce(function(e,t){var n,a=t.values;switch(t.type){case"M":i={x:a[0],y:a[1]};break;case"L":n={x:a[0],y:a[1]},i&&(e+=Ve(i,n)),i=n;break;case"C":n={x:a[4],y:a[5]},i&&(e+=We(i,{x:a[0],y:a[1]},{x:a[2],y:a[3]},n)),i=n}return e},0),a=0===s.semIndex?0:1===s.semIndex?n:n/2,2!==s.semIndex&&(t=Math.max(r.attach_plugBackLenSE[s.semIndex]||0,r.line_strokeWidth/2)+s.strokeWidth/2+s.height/4,a=(a+=0===s.semIndex?t:-t)<0?0:n<a?n:a),s.lineOffset&&(a=(a+=s.lineOffset)<0?0:n<a?n:a),o.startOffset=a,qe(s,l,"startOffset",a)&&(s.elmOffset.startOffset.baseVal.value=a)))},s.updateShow=function(e){I.captionLabel.updateShow(s,e)},pe&&(s.adjustEdge=function(e,t){s.bBox&&I.captionLabel.adjustEdge(t,s.bBox,s.strokeWidth/2)}),!0)},getOffsetPathData:function(e,x,n){var b,a,k=[];function w(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p,c,d,f,y,m,S,g,_,v,E;2===e.length?(g=e[0],_=e[1],v=x,E=Math.atan2(g.y-_.y,_.x-g.x)+.5*Math.PI,t=[{x:g.x+Math.cos(E)*v,y:g.y+Math.sin(E)*v*-1},{x:_.x+Math.cos(E)*v,y:_.y+Math.sin(E)*v*-1}],b?(a=b.points,0<=(i=Math.atan2(a[1].y-a[0].y,a[0].x-a[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&i<=Math.PI?n={type:"line",points:t,inside:!0}:(l=Ne(a[0],a[1],x),o=Ne(t[1],t[0],x),s=a[0],h=o,p=t[1],c=(u=l).x-s.x,d=u.y-s.y,f=p.x-h.x,y=p.y-h.y,m=(-d*(s.x-h.x)+c*(s.y-h.y))/(-f*d+c*y),S=(f*(s.y-h.y)-y*(s.x-h.x))/(-f*d+c*y),n=(r=0<=m&&m<=1&&0<=S&&S<=1?{x:s.x+S*c,y:s.y+S*d}:null)?{type:"line",points:[a[1]=r,t[1]]}:(a[1]=w(o,l)?o:l,{type:"line",points:[o,t[1]]}),b.len=Ve(a[0],a[1]))):n={type:"line",points:t},n.len=Ve(n.points[0],n.points[1]),k.push(b=n)):(k.push({type:"cubic",points:function(e,t,n,a,i,o){for(var l,r,s=We(e,t,n,a)/o,u=1/(o<i?i/o*s:s),h=[],p=0;r=(90-(l=Te(e,t,n,a,p)).angle)*(Math.PI/180),h.push({x:l.x+Math.cos(r)*i,y:l.y+Math.sin(r)*i*-1}),!(1<=p);)1<(p+=u)&&(p=1);return h}(e[0],e[1],e[2],e[3],x,16)}),b=null)}),b=null,k.forEach(function(e){var t;b="line"===e.type?(e.inside&&(b.len>x?((t=b.points)[1]=Ne(t[0],t[1],-x),b.len=Ve(t[0],t[1])):(b.points=null,b.len=0),e.len>x+n?((t=e.points)[0]=Ne(t[1],t[0],-(x+n)),e.len=Ve(t[0],t[1])):(e.points=null,e.len=0)),e):null}),k.reduce(function(t,e){var n=e.points;return n&&(a&&w(n[0],a)||t.push({type:"M",values:[n[0].x,n[0].y]}),"line"===e.type?t.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach(function(e){t.push({type:"L",values:[e.x,e.y]})})),a=n[n.length-1]),t},[])},newText:function(e,t,n,a){var i,o,l,r,s,u,h,p,c=t.createElementNS(re,"defs"),d=c.appendChild(t.createElementNS(re,"path"));return d.id=i=n+"-path",(r=(l=t.createElementNS(re,"text")).appendChild(t.createElementNS(re,"textPath"))).href.baseVal="#"+i,r.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),r.textContent=e,"boolean"!=typeof f&&(f="paintOrder"in l.style),a&&!f?(l.id=o=n+"-text",c.appendChild(l),(h=(s=t.createElementNS(re,"g")).appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+o,(u=s.appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+o,(p=h.style).strokeLinejoin="round",{elmPosition:l,elmPath:d,elmOffset:r,styleText:l.style,styleFill:u.style,styleStroke:p,styleShow:s.style,elmsAppend:[c,s]}):(p=l.style,a&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:l,elmPath:d,elmOffset:r,styleText:p,styleFill:p,styleStroke:a?p:null,styleShow:p,elmsAppend:[c,l]})},initSvg:function(t,n){var e,a,i=I.pathLabel.newText(t.text,n.baseWindow.document,A+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),i.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),e=i.elmPosition.getBBox(),i.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||i.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=e.height,t.outlineColor&&(a=10<(a=e.height/9)?10:a<2?2:a,i.styleStroke.strokeWidth=a+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Xe(t.aplStats,I.pathLabel.stats),t.updateColor(n),t.updatePath(n),t.updateStartOffset(n),pe&&et(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),De(n,"cur_line_strokeWidth",e.updatePath),De(n,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||De(n,"cur_attach_plugBackLenSE",e.updateStartOffset),De(n,"svgShow",e.updateShow),pe&&De(n,"new_edge4viewBox",e.adjustEdge),I.pathLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Xe(e.curStats,I.pathLabel.stats),Xe(e.aplStats,I.pathLabel.stats),e.color||ze(n,"cur_line_color",e.updateColor),ze(n,"cur_line_strokeWidth",e.updatePath),ze(n,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||ze(n,"cur_attach_plugBackLenSE",e.updateStartOffset),ze(n,"svgShow",e.updateShow),pe&&(ze(n,"new_edge4viewBox",e.adjustEdge),et(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",ot(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.pathLabel.unbind(t,e)}))}}},Object.keys(I).forEach(function(e){lt[e]=function(){return new C(I[e],Array.prototype.slice.call(arguments))}}),lt.positionByWindowResize=!0,window.addEventListener("resize",v.add(function(){lt.positionByWindowResize&&Object.keys(ge).forEach(function(e){et(ge[e],{position:!0})})}),!1),lt}();!function(e,t){ true?module.exports=t():0}(this,function(){return LeaderLine});

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * AnimEvent
 * https://github.com/anseki/anim-event
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
var MSPF = 1000 / 60,
    // ms/frame (FPS: 60)
KEEP_LOOP = 500,

/**
 * @typedef {Object} task
 * @property {Event} event
 * @property {function} listener
 */

/** @type {task[]} */
tasks = [];

var requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
  return setTimeout(callback, MSPF);
},
    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {
  return clearTimeout(requestID);
};

var lastFrameTime = Date.now(),
    requestID;

function step() {
  var called, next;

  if (requestID) {
    cancelAnim.call(window, requestID);
    requestID = null;
  }

  tasks.forEach(function (task) {
    var event;

    if (event = task.event) {
      task.event = null; // Clear it before `task.listener()` because that might fire another event.

      task.listener(event);
      called = true;
    }
  });

  if (called) {
    lastFrameTime = Date.now();
    next = true;
  } else if (Date.now() - lastFrameTime < KEEP_LOOP) {
    // Go on for a while
    next = true;
  }

  if (next) {
    requestID = requestAnim.call(window, step);
  }
}

function indexOfTasks(listener) {
  var index = -1;
  tasks.some(function (task, i) {
    if (task.listener === listener) {
      index = i;
      return true;
    }

    return false;
  });
  return index;
}

var AnimEvent = {
  /**
   * @param {function} listener - An event listener.
   * @returns {(function|null)} A wrapped event listener.
   */
  add: function add(listener) {
    var task;

    if (indexOfTasks(listener) === -1) {
      tasks.push(task = {
        listener: listener
      });
      return function (event) {
        task.event = event;

        if (!requestID) {
          step();
        }
      };
    }

    return null;
  },
  remove: function remove(listener) {
    var iRemove;

    if ((iRemove = indexOfTasks(listener)) > -1) {
      tasks.splice(iRemove, 1);

      if (!tasks.length && requestID) {
        cancelAnim.call(window, requestID);
        requestID = null;
      }
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnimEvent);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * CSSPrefix
 * https://github.com/anseki/cssprefix
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
function ucf(text) {
  return text.substr(0, 1).toUpperCase() + text.substr(1);
}

var PREFIXES = ['webkit', 'moz', 'ms', 'o'],
    NAME_PREFIXES = PREFIXES.reduce(function (prefixes, prefix) {
  prefixes.push(prefix);
  prefixes.push(ucf(prefix));
  return prefixes;
}, []),
    VALUE_PREFIXES = PREFIXES.map(function (prefix) {
  return "-".concat(prefix, "-");
}),

/**
 * Get sample CSSStyleDeclaration.
 * @returns {CSSStyleDeclaration}
 */
getDeclaration = function () {
  var declaration;
  return function () {
    return declaration = declaration || document.createElement('div').style;
  };
}(),

/**
 * Normalize name.
 * @param {} propName - A name that is normalized.
 * @returns {string} A normalized name.
 */
normalizeName = function () {
  var rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),
      reUc = /[A-Z]/;
  return function (propName) {
    return (propName = (propName + '').replace(/\s/g, '').replace(/-([\da-z])/gi, function (str, p1) {
      return p1.toUpperCase();
    }) // camelCase
    // 'ms' and 'Ms' are found by rePrefixedName 'i' option
    .replace(rePrefixedName, function (str, p1) {
      return reUc.test(p1) ? p1.toLowerCase() : str;
    }) // Remove prefix
    ).toLowerCase() === 'float' ? 'cssFloat' : propName;
  }; // For old CSSOM
}(),

/**
 * Normalize value.
 * @param {} propValue - A value that is normalized.
 * @returns {string} A normalized value.
 */
normalizeValue = function () {
  var rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');
  return function (propValue) {
    return (propValue != null ? propValue + '' : '').replace(/\s/g, '').replace(rePrefixedValue, '');
  };
}(),

/**
 * Polyfill for `CSS.supports`.
 * @param {string} propName - A name.
 * @param {string} propValue - A value.
 *     Since `CSSStyleDeclaration.setProperty` might return unexpected result,
 *     the `propValue` should be checked before the `cssSupports` is called.
 * @returns {boolean} `true` if given pair is accepted.
 */
cssSupports = function () {
  return (// return window.CSS && window.CSS.supports || ((propName, propValue) => {
    // `CSS.supports` doesn't find prefixed property.
    function (propName, propValue) {
      var declaration = getDeclaration(); // In some browsers, `declaration[prop] = value` updates any property.

      propName = propName.replace(/[A-Z]/g, function (str) {
        return "-".concat(str.toLowerCase());
      }); // kebab-case

      declaration.setProperty(propName, propValue);
      return declaration[propName] != null && // Because getPropertyValue returns '' if it is unsupported
      declaration.getPropertyValue(propName) === propValue;
    }
  );
}(),
    // Cache
propNames = {},
    propValues = {};

function getName(propName) {
  propName = normalizeName(propName);

  if (propName && propNames[propName] == null) {
    var declaration = getDeclaration();

    if (declaration[propName] != null) {
      // Original
      propNames[propName] = propName;
    } else {
      // Try with prefixes
      var ucfName = ucf(propName);

      if (!NAME_PREFIXES.some(function (prefix) {
        var prefixed = prefix + ucfName;

        if (declaration[prefixed] != null) {
          propNames[propName] = prefixed;
          return true;
        }

        return false;
      })) {
        propNames[propName] = false;
      }
    }
  }

  return propNames[propName] || void 0;
}

function getValue(propName, propValue) {
  var res;

  if (!(propName = getName(propName))) {
    return res;
  } // Invalid property


  propValues[propName] = propValues[propName] || {};
  (Array.isArray(propValue) ? propValue : [propValue]).some(function (propValue) {
    propValue = normalizeValue(propValue);

    if (propValues[propName][propValue] != null) {
      // Cache
      if (propValues[propName][propValue] !== false) {
        res = propValues[propName][propValue];
        return true;
      }

      return false; // Continue to next value
    }

    if (cssSupports(propName, propValue)) {
      // Original
      res = propValues[propName][propValue] = propValue;
      return true;
    }

    if (VALUE_PREFIXES.some(function (prefix) {
      // Try with prefixes
      var prefixed = prefix + propValue;

      if (cssSupports(propName, prefixed)) {
        res = propValues[propName][propValue] = prefixed;
        return true;
      }

      return false;
    })) {
      return true;
    }

    propValues[propName][propValue] = false;
    return false; // Continue to next value
  });
  return typeof res === 'string' ? res : void 0; // It might be empty string.
}

var CSSPrefix = {
  getName: getName,
  getValue: getValue
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CSSPrefix);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js":
/*!************************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * mClassList
 * https://github.com/anseki/m-class-list
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
function normalize(token) {
  return (token + '').trim();
} // Not `||`


function applyList(list, element) {
  element.setAttribute('class', list.join(' '));
}

function _add(list, element, tokens) {
  if (tokens.filter(function (token) {
    if (!(token = normalize(token)) || list.indexOf(token) !== -1) {
      return false;
    }

    list.push(token);
    return true;
  }).length) {
    applyList(list, element);
  }
}

function _remove(list, element, tokens) {
  if (tokens.filter(function (token) {
    var i;

    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) {
      return false;
    }

    list.splice(i, 1);
    return true;
  }).length) {
    applyList(list, element);
  }
}

function _toggle(list, element, token, force) {
  var i = list.indexOf(token = normalize(token));

  if (i !== -1) {
    if (force) {
      return true;
    }

    list.splice(i, 1);
    applyList(list, element);
    return false;
  }

  if (force === false) {
    return false;
  }

  list.push(token);
  applyList(list, element);
  return true;
}

function _replace(list, element, token, newToken) {
  var i;

  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) || token === newToken || (i = list.indexOf(token)) === -1) {
    return;
  }

  list.splice(i, 1);

  if (list.indexOf(newToken) === -1) {
    list.push(newToken);
  }

  applyList(list, element);
}

function mClassList(element) {
  return !mClassList.ignoreNative && element.classList || function () {
    var list = (element.getAttribute('class') || '').trim().split(/\s+/).filter(function (token) {
      return !!token;
    }),
        ins = {
      length: list.length,
      item: function item(i) {
        return list[i];
      },
      contains: function contains(token) {
        return list.indexOf(normalize(token)) !== -1;
      },
      add: function add() {
        _add(list, element, Array.prototype.slice.call(arguments));

        return mClassList.methodChain ? ins : void 0;
      },
      remove: function remove() {
        _remove(list, element, Array.prototype.slice.call(arguments));

        return mClassList.methodChain ? ins : void 0;
      },
      toggle: function toggle(token, force) {
        return _toggle(list, element, token, force);
      },
      replace: function replace(token, newToken) {
        _replace(list, element, token, newToken);

        return mClassList.methodChain ? ins : void 0;
      }
    };
    return ins;
  }();
}

mClassList.methodChain = true;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mClassList);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var anim_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! anim-event */ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js");
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/*
 * PointerEvent
 * https://github.com/anseki/pointer-event
 *
 * Copyright (c) 2022 anseki
 * Licensed under the MIT license.
 */

var MOUSE_EMU_INTERVAL = 400,
    // Avoid mouse events emulation
CLICK_EMULATOR_ELEMENTS = [],
    DBLCLICK_EMULATOR_ELEMENTS = []; // Support options for addEventListener

var passiveSupported = false;

try {
  window.addEventListener('test', null, Object.defineProperty({}, 'passive', {
    get: function get() {
      passiveSupported = true;
    }
  }));
} catch (error) {
  /* ignore */
}
/**
 * addEventListener with specific option.
 * @param {Element} target - An event-target element.
 * @param {string} type - The event type to listen for.
 * @param {function} listener - The EventListener.
 * @param {Object} options - An options object.
 * @returns {void}
 */


function addEventListenerWithOptions(target, type, listener, options) {
  // When `passive` is not supported, consider that the `useCapture` is supported instead of
  // `options` (i.e. options other than the `passive` also are not supported).
  target.addEventListener(type, listener, passiveSupported ? options : options.capture);
}

function getPointsLength(p0, p1) {
  var lx = p0.x - p1.x,
      ly = p0.y - p1.y;
  return Math.sqrt(lx * lx + ly * ly);
}
/**
 * Get Touch instance in list.
 * @param {Touch[]} touches - An Array or TouchList instance.
 * @param {number} id - Touch#identifier
 * @returns {(Touch|null)} - A found Touch instance.
 */


function getTouchById(touches, id) {
  if (touches != null && id != null) {
    for (var i = 0; i < touches.length; i++) {
      if (touches[i].identifier === id) {
        return touches[i];
      }
    }
  }

  return null;
}
/**
 * @param {Object} xy - Something that might have clientX and clientY.
 * @returns {boolean} - `true` if it has valid clientX and clientY.
 */


function hasXY(xy) {
  return xy && typeof xy.clientX === 'number' && typeof xy.clientY === 'number';
} // Gecko, Trident pick drag-event of some elements such as img, a, etc.


function dragstart(event) {
  event.preventDefault();
}

var PointerEvent = /*#__PURE__*/function () {
  /**
   * Create a `PointerEvent` instance.
   * @param {Object} [options] - Options
   */
  function PointerEvent(options) {
    var _this = this;

    _classCallCheck(this, PointerEvent);

    this.startHandlers = {};
    this.lastHandlerId = 0;
    this.curPointerClass = null;
    this.curTouchId = null;
    this.lastPointerXY = {
      clientX: 0,
      clientY: 0
    };
    this.lastTouchTime = 0; // Options

    this.options = {
      // Default
      preventDefault: true,
      stopPropagation: true
    };

    if (options) {
      ['preventDefault', 'stopPropagation'].forEach(function (option) {
        if (typeof options[option] === 'boolean') {
          _this.options[option] = options[option];
        }
      });
    }
  }
  /**
   * @param {function} startHandler - This is called with pointerXY when it starts. This returns boolean.
   * @returns {number} handlerId which is used for adding/removing to element.
   */


  _createClass(PointerEvent, [{
    key: "regStartHandler",
    value: function regStartHandler(startHandler) {
      var that = this;

      that.startHandlers[++that.lastHandlerId] = function (event) {
        var pointerClass = event.type === 'mousedown' ? 'mouse' : 'touch',
            now = Date.now();
        var pointerXY, touchId;

        if (pointerClass === 'touch') {
          that.lastTouchTime = now; // Avoid mouse events emulation

          pointerXY = event.changedTouches[0];
          touchId = event.changedTouches[0].identifier;
        } else {
          // Avoid mouse events emulation
          if (now - that.lastTouchTime < MOUSE_EMU_INTERVAL) {
            return;
          }

          pointerXY = event;
        }

        if (!hasXY(pointerXY)) {
          throw new Error('No clientX/clientY');
        } // It is new one even if those are 'mouse' or ID is same, then cancel current one.


        if (that.curPointerClass) {
          that.cancel();
        }

        if (startHandler.call(that, pointerXY)) {
          that.curPointerClass = pointerClass;
          that.curTouchId = pointerClass === 'touch' ? touchId : null;
          that.lastPointerXY.clientX = pointerXY.clientX;
          that.lastPointerXY.clientY = pointerXY.clientY;

          if (that.options.preventDefault) {
            event.preventDefault();
          }

          if (that.options.stopPropagation) {
            event.stopPropagation();
          }
        }
      };

      return that.lastHandlerId;
    }
    /**
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {void}
     */

  }, {
    key: "unregStartHandler",
    value: function unregStartHandler(handlerId) {
      delete this.startHandlers[handlerId];
    }
    /**
     * @param {Element} element - A target element.
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {number} handlerId which was passed.
     */

  }, {
    key: "addStartHandler",
    value: function addStartHandler(element, handlerId) {
      if (!this.startHandlers[handlerId]) {
        throw new Error("Invalid handlerId: ".concat(handlerId));
      }

      addEventListenerWithOptions(element, 'mousedown', this.startHandlers[handlerId], {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchstart', this.startHandlers[handlerId], {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'dragstart', dragstart, {
        capture: false,
        passive: false
      });
      return handlerId;
    }
    /**
     * @param {Element} element - A target element.
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {number} handlerId which was passed.
     */

  }, {
    key: "removeStartHandler",
    value: function removeStartHandler(element, handlerId) {
      if (!this.startHandlers[handlerId]) {
        throw new Error("Invalid handlerId: ".concat(handlerId));
      }

      element.removeEventListener('mousedown', this.startHandlers[handlerId], false);
      element.removeEventListener('touchstart', this.startHandlers[handlerId], false);
      element.removeEventListener('dragstart', dragstart, false);
      return handlerId;
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} moveHandler - This is called with pointerXY when it moves.
     * @param {?boolean} rawEvent - Capture events without `requestAnimationFrame`.
     * @returns {void}
     */

  }, {
    key: "addMoveHandler",
    value: function addMoveHandler(element, moveHandler, rawEvent) {
      var that = this;

      function handler(event) {
        var pointerClass = event.type === 'mousemove' ? 'mouse' : 'touch'; // Avoid mouse events emulation

        if (pointerClass === 'touch') {
          that.lastTouchTime = Date.now();
        }

        if (pointerClass === that.curPointerClass) {
          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) : event;

          if (hasXY(pointerXY)) {
            if (pointerXY.clientX !== that.lastPointerXY.clientX || pointerXY.clientY !== that.lastPointerXY.clientY) {
              that.move(pointerXY);
            }

            if (that.options.preventDefault) {
              event.preventDefault();
            }

            if (that.options.stopPropagation) {
              event.stopPropagation();
            }
          }
        }
      }

      var wrappedHandler = rawEvent ? handler : anim_event__WEBPACK_IMPORTED_MODULE_0__["default"].add(handler);
      addEventListenerWithOptions(element, 'mousemove', wrappedHandler, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchmove', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curMoveHandler = moveHandler;
    }
    /**
     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.
     * @returns {void}
     */

  }, {
    key: "move",
    value: function move(pointerXY) {
      if (hasXY(pointerXY)) {
        this.lastPointerXY.clientX = pointerXY.clientX;
        this.lastPointerXY.clientY = pointerXY.clientY;
      }

      if (this.curMoveHandler) {
        this.curMoveHandler(this.lastPointerXY);
      }
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} endHandler - This is called with pointerXY when it ends.
     * @returns {void}
     */

  }, {
    key: "addEndHandler",
    value: function addEndHandler(element, endHandler) {
      var that = this;

      function wrappedHandler(event) {
        var pointerClass = event.type === 'mouseup' ? 'mouse' : 'touch'; // Avoid mouse events emulation

        if (pointerClass === 'touch') {
          that.lastTouchTime = Date.now();
        }

        if (pointerClass === that.curPointerClass) {
          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.
          getTouchById(event.touches, that.curTouchId) ? null : {}) : // `{}` means matching
          event;

          if (pointerXY) {
            that.end(pointerXY);

            if (that.options.preventDefault) {
              event.preventDefault();
            }

            if (that.options.stopPropagation) {
              event.stopPropagation();
            }
          }
        }
      }

      addEventListenerWithOptions(element, 'mouseup', wrappedHandler, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchend', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curEndHandler = endHandler;
    }
    /**
     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.
     * @returns {void}
     */

  }, {
    key: "end",
    value: function end(pointerXY) {
      if (hasXY(pointerXY)) {
        this.lastPointerXY.clientX = pointerXY.clientX;
        this.lastPointerXY.clientY = pointerXY.clientY;
      }

      if (this.curEndHandler) {
        this.curEndHandler(this.lastPointerXY);
      }

      this.curPointerClass = this.curTouchId = null;
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} cancelHandler - This is called when it cancels.
     * @returns {void}
     */

  }, {
    key: "addCancelHandler",
    value: function addCancelHandler(element, cancelHandler) {
      var that = this;

      function wrappedHandler(event) {
        /*
          Now, this is fired by touchcancel only, but it might be fired even if curPointerClass is mouse.
        */
        // const pointerClass = 'touch';
        that.lastTouchTime = Date.now(); // Avoid mouse events emulation

        if (that.curPointerClass != null) {
          var pointerXY = getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.
          getTouchById(event.touches, that.curTouchId) ? null : {}); // `{}` means matching

          if (pointerXY) {
            that.cancel();
          }
        }
      }

      addEventListenerWithOptions(element, 'touchcancel', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curCancelHandler = cancelHandler;
    }
    /**
     * @returns {void}
     */

  }, {
    key: "cancel",
    value: function cancel() {
      if (this.curCancelHandler) {
        this.curCancelHandler();
      }

      this.curPointerClass = this.curTouchId = null;
    }
  }], [{
    key: "addEventListenerWithOptions",
    get: function get() {
      return addEventListenerWithOptions;
    }
    /**
     * Emulate `click` event via `touchend` event.
     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.
     * @param {?number} moveTolerance - Move tolerance.
     * @param {?number} timeTolerance - Time tolerance.
     * @returns {Element} The passed `element`.
     */

  }, {
    key: "initClickEmulator",
    value: function initClickEmulator(element, moveTolerance, timeTolerance) {
      if (CLICK_EMULATOR_ELEMENTS.includes(element)) {
        return element;
      }

      CLICK_EMULATOR_ELEMENTS.push(element);
      var DEFAULT_MOVE_TOLERANCE = 16,
          // px
      DEFAULT_TIME_TOLERANCE = 400; // ms

      var startX, startY, touchId, startMs;

      if (moveTolerance == null) {
        moveTolerance = DEFAULT_MOVE_TOLERANCE;
      }

      if (timeTolerance == null) {
        timeTolerance = DEFAULT_TIME_TOLERANCE;
      }

      addEventListenerWithOptions(element, 'touchstart', function (event) {
        var touch = event.changedTouches[0];
        startX = touch.clientX;
        startY = touch.clientY;
        touchId = touch.identifier;
        startMs = performance.now();
      }, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchend', function (event) {
        var touch = getTouchById(event.changedTouches, touchId);

        if (typeof startX === 'number' && typeof startY === 'number' && typeof startMs === 'number' && touch && typeof touch.clientX === 'number' && typeof touch.clientY === 'number' && getPointsLength({
          x: startX,
          y: startY
        }, {
          x: touch.clientX,
          y: touch.clientY
        }) <= moveTolerance && performance.now() - startMs <= timeTolerance) {
          // FIRE
          setTimeout(function () {
            var newEvent = new MouseEvent('click', {
              clientX: touch.clientX,
              clientY: touch.clientY
            });
            newEvent.emulated = true;
            element.dispatchEvent(newEvent);
          }, 0);
        }

        startX = startY = touchId = startMs = null;
      }, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchcancel', function () {
        startX = startY = touchId = startMs = null;
      }, {
        capture: false,
        passive: false
      });
      return element;
    }
    /**
     * Emulate `dblclick` event via `touchend` event.
     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.
     * @param {?number} moveTolerance - Move tolerance.
     * @param {?number} timeTolerance - Time tolerance.
     * @returns {Element} The passed `element`.
     */

  }, {
    key: "initDblClickEmulator",
    value: function initDblClickEmulator(element, moveTolerance, timeTolerance) {
      if (DBLCLICK_EMULATOR_ELEMENTS.includes(element)) {
        return element;
      }

      DBLCLICK_EMULATOR_ELEMENTS.push(element);
      var DEFAULT_MOVE_TOLERANCE = 16,
          // px
      DEFAULT_TIME_TOLERANCE = 400; // ms

      var startX, startY, startMs;

      if (moveTolerance == null) {
        moveTolerance = DEFAULT_MOVE_TOLERANCE;
      }

      if (timeTolerance == null) {
        timeTolerance = DEFAULT_TIME_TOLERANCE;
      }

      PointerEvent.initClickEmulator(element, moveTolerance, timeTolerance);
      addEventListenerWithOptions(element, 'click', function (event) {
        if (!event.emulated || // Ignore events that are not from `touchend`.
        typeof event.clientX !== 'number' || typeof event.clientY !== 'number') {
          return;
        }

        if (typeof startX === 'number' && getPointsLength({
          x: startX,
          y: startY
        }, {
          x: event.clientX,
          y: event.clientY
        }) <= moveTolerance && performance.now() - startMs <= timeTolerance * 2) {
          // up (tolerance) down (tolerance) up
          setTimeout(function () {
            // FIRE
            var newEvent = new MouseEvent('dblclick', {
              clientX: event.clientX,
              clientY: event.clientY
            });
            newEvent.emulated = true;
            element.dispatchEvent(newEvent);
          }, 0);
          startX = startY = startMs = null;
        } else {
          // 1st
          startX = event.clientX;
          startY = event.clientY;
          startMs = performance.now();
        }
      }, {
        capture: false,
        passive: false
      });
      return element;
    }
  }]);

  return PointerEvent;
}();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PointerEvent);

/***/ }),

/***/ "./node_modules/plain-draggable/plain-draggable.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/plain-draggable/plain-draggable.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pointer_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pointer-event */ "./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js");
/* harmony import */ var cssprefix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cssprefix */ "./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js");
/* harmony import */ var anim_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! anim-event */ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js");
/* harmony import */ var m_class_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! m-class-list */ "./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js");
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/*
 * PlainDraggable
 * https://anseki.github.io/plain-draggable/
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */




m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"].ignoreNative = true;

var ZINDEX = 9000,
    // [SNAP]
SNAP_GRAVITY = 20,
    SNAP_CORNER = 'tl',
    SNAP_SIDE = 'both',
    SNAP_EDGE = 'both',
    SNAP_BASE = 'containment',
    SNAP_ALL_CORNERS = ['tl', 'tr', 'bl', 'br'],
    SNAP_ALL_SIDES = ['start', 'end'],
    SNAP_ALL_EDGES = ['inside', 'outside'],
    // [/SNAP]
// [AUTO-SCROLL]
AUTOSCROLL_SPEED = [40, 200, 1000],
    AUTOSCROLL_SENSITIVITY = [100, 40, 0],
    // [/AUTO-SCROLL]
IS_EDGE = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,
    IS_TRIDENT = !IS_EDGE && !!document.uniqueID,
    // Future Edge might support `document.uniqueID`.
IS_GECKO = ('MozAppearance' in document.documentElement.style),
    IS_BLINK = !IS_EDGE && !IS_GECKO && // Edge has `window.chrome`, and future Gecko might have that.
!!window.chrome && !!window.CSS,
    IS_WEBKIT = !IS_EDGE && !IS_TRIDENT && !IS_GECKO && !IS_BLINK && // Some engines support `webkit-*` properties.
!window.chrome && 'WebkitAppearance' in document.documentElement.style,
    isObject = function () {
  var toString = {}.toString,
      fnToString = {}.hasOwnProperty.toString,
      objFnString = fnToString.call(Object);
  return function (obj) {
    var proto, constr;
    return obj && toString.call(obj) === '[object Object]' && (!(proto = Object.getPrototypeOf(obj)) || (constr = proto.hasOwnProperty('constructor') && proto.constructor) && typeof constr === 'function' && fnToString.call(constr) === objFnString);
  };
}(),
    isFinite = Number.isFinite || function (value) {
  return typeof value === 'number' && window.isFinite(value);
},

/** @type {Object.<_id: number, props>} */
insProps = {},
    pointerOffset = {},
    pointerEvent = new pointer_event__WEBPACK_IMPORTED_MODULE_0__["default"]();

var insId = 0,
    activeProps,
    hasMoved,
    body,
    // CSS property/value
cssValueDraggableCursor,
    cssValueDraggingCursor,
    cssOrgValueBodyCursor,
    cssPropTransitionProperty,
    cssPropTransform,
    cssPropUserSelect,
    cssOrgValueBodyUserSelect,
    // Try to set `cursor` property.
cssWantedValueDraggableCursor = IS_WEBKIT ? ['all-scroll', 'move'] : ['grab', 'all-scroll', 'move'],
    cssWantedValueDraggingCursor = IS_WEBKIT ? 'move' : ['grabbing', 'move'],
    // class
draggableClass = 'plain-draggable',
    draggingClass = 'plain-draggable-dragging',
    movingClass = 'plain-draggable-moving'; // [AUTO-SCROLL]
// Scroll Animation Controller

var scrollFrame = {},
    MSPF = 1000 / 60,
    // ms/frame (FPS: 60)
requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
  return setTimeout(callback, MSPF);
},
    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {
  return clearTimeout(requestID);
};

{
  /**
   * @typedef {Object} MoveArgs
   * @property {number} dir - [-1 | 1] minus or plus to position value.
   * @property {number} speed - px/ms
   * @property {number} min - Minimum position value.
   * @property {number} max - Maximum position value.
   * @property {number} [lastFrameTime] - Time of last frame.
   * @property {number} [lastValue] - Strict value of last frame.
   */
  var curXyMoveArgs = {},
      curElement,
      curScrollXY,
      requestID;

  function frameUpdate() {
    var now = Date.now();
    ['x', 'y'].forEach(function (xy) {
      var moveArgs = curXyMoveArgs[xy];

      if (moveArgs) {
        var timeLen = now - moveArgs.lastFrameTime,
            absValue = curScrollXY(curElement, xy),
            curValue = moveArgs.lastValue != null && Math.abs(moveArgs.lastValue - absValue) < 10 // It was not moved manually
        ? moveArgs.lastValue : absValue;

        if (moveArgs.dir === -1 ? curValue > moveArgs.min : curValue < moveArgs.max) {
          var newValue = curValue + moveArgs.speed * timeLen * moveArgs.dir;

          if (newValue < moveArgs.min) {
            newValue = moveArgs.min;
          } else if (newValue > moveArgs.max) {
            newValue = moveArgs.max;
          }

          curScrollXY(curElement, xy, newValue);
          moveArgs.lastValue = newValue;
        }

        moveArgs.lastFrameTime = now;
      }
    });
  }

  function frame() {
    cancelAnim.call(window, requestID);
    frameUpdate();
    requestID = requestAnim.call(window, frame);
  }
  /**
   * @param {Element} element - A target element.
   * @param {{x: ?MoveArgs, y: ?MoveArgs}} xyMoveArgs - MoveArgs for x and y
   * @param {function} scrollXY - (element: Element, xy: string, value: number) => number
   * @returns {void}
   */


  scrollFrame.move = function (element, xyMoveArgs, scrollXY) {
    cancelAnim.call(window, requestID);
    frameUpdate(); // Update current data now because it might be not continuation.
    // Re-use lastValue

    if (curElement === element) {
      if (xyMoveArgs.x && curXyMoveArgs.x) {
        xyMoveArgs.x.lastValue = curXyMoveArgs.x.lastValue;
      }

      if (xyMoveArgs.y && curXyMoveArgs.y) {
        xyMoveArgs.y.lastValue = curXyMoveArgs.y.lastValue;
      }
    }

    curElement = element;
    curXyMoveArgs = xyMoveArgs;
    curScrollXY = scrollXY;
    var now = Date.now();
    ['x', 'y'].forEach(function (xy) {
      var moveArgs = curXyMoveArgs[xy];

      if (moveArgs) {
        moveArgs.lastFrameTime = now;
      }
    });
    requestID = requestAnim.call(window, frame);
  };

  scrollFrame.stop = function () {
    cancelAnim.call(window, requestID);
    frameUpdate();
    curXyMoveArgs = {};
    curElement = null; // Remove reference
  };
}

function scrollXYWindow(element, xy, value) {
  if (value != null) {
    if (xy === 'x') {
      element.scrollTo(value, element.pageYOffset);
    } else {
      element.scrollTo(element.pageXOffset, value);
    }
  }

  return xy === 'x' ? element.pageXOffset : element.pageYOffset;
}

function scrollXYElement(element, xy, value) {
  var prop = xy === 'x' ? 'scrollLeft' : 'scrollTop';

  if (value != null) {
    element[prop] = value;
  }

  return element[prop];
}
/**
 * @typedef {Object} Scrollable
 * @property {number} clientWidth - width of scrollable area.
 * @property {number} clientHeight - height of scrollable area.
 * @property {number} scrollWidth - width of inner content.
 * @property {number} scrollHeight - height of inner content.
 * @property {number} clientX - X of scrollable area, document coordinate.
 * @property {number} clientY - T of scrollable area, document coordinate.
 */

/**
 * @param {Element} element - A target element.
 * @param {boolean} [isWindow] - `true` if element is window.
 * @param {boolean} [dontScroll] - `true` makes it skip scroll that gets scrollWidth/Height.
 * @returns {Scrollable} Information for scroll.
 */


function getScrollable(element, isWindow, dontScroll) {
  var scrollable = {};
  var cmpStyleHtml, cmpStyleBody, cmpStyleElement; // clientWidth/Height

  (function (target) {
    scrollable.clientWidth = target.clientWidth;
    scrollable.clientHeight = target.clientHeight;
  })(isWindow ? document.documentElement : element); // scrollWidth/Height

  /*
    Gecko bug, bottom-padding of element is reduced.
    Blink for Android bug, borders of <html> is rendered but those are not added to scrollW/H.
    Then, move it to max scroll position (sufficiently larger values) forcibly, and get scroll position.
  */


  var maxScrollLeft = 0,
      maxScrollTop = 0;

  if (!dontScroll) {
    var curScrollLeft, curScrollTop;

    if (isWindow) {
      curScrollLeft = scrollXYWindow(element, 'x');
      curScrollTop = scrollXYWindow(element, 'y');
      cmpStyleHtml = getComputedStyle(document.documentElement, '');
      cmpStyleBody = getComputedStyle(document.body, '');
      maxScrollLeft = scrollXYWindow(element, 'x', document.documentElement.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body
      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);
      }, 0));
      maxScrollTop = scrollXYWindow(element, 'y', document.documentElement.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);
      }, 0));
      scrollXYWindow(element, 'x', curScrollLeft);
      scrollXYWindow(element, 'y', curScrollTop);
    } else {
      curScrollLeft = scrollXYElement(element, 'x');
      curScrollTop = scrollXYElement(element, 'y');
      cmpStyleElement = getComputedStyle(element, '');
      maxScrollLeft = scrollXYElement(element, 'x', element.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body
      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleElement[prop]) || 0);
      }, 0));
      maxScrollTop = scrollXYElement(element, 'y', element.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleElement[prop]) || 0);
      }, 0));
      scrollXYElement(element, 'x', curScrollLeft);
      scrollXYElement(element, 'y', curScrollTop);
    }
  }

  scrollable.scrollWidth = scrollable.clientWidth + maxScrollLeft;
  scrollable.scrollHeight = scrollable.clientHeight + maxScrollTop; // clientX/Y

  var rect;

  if (isWindow) {
    scrollable.clientX = scrollable.clientY = 0;
  } else {
    // padding-box
    rect = element.getBoundingClientRect();

    if (!cmpStyleElement) {
      cmpStyleElement = getComputedStyle(element, '');
    }

    scrollable.clientX = rect.left + (parseFloat(cmpStyleElement.borderLeftWidth) || 0);
    scrollable.clientY = rect.top + (parseFloat(cmpStyleElement.borderTopWidth) || 0);
  }

  return scrollable;
} // [/AUTO-SCROLL]


function copyTree(obj) {
  return !obj ? obj : isObject(obj) ? Object.keys(obj).reduce(function (copyObj, key) {
    copyObj[key] = copyTree(obj[key]);
    return copyObj;
  }, {}) : Array.isArray(obj) ? obj.map(copyTree) : obj;
}

function hasChanged(a, b) {
  var typeA, keysA;
  return _typeof(a) !== _typeof(b) || (typeA = isObject(a) ? 'obj' : Array.isArray(a) ? 'array' : '') !== (isObject(b) ? 'obj' : Array.isArray(b) ? 'array' : '') || (typeA === 'obj' ? hasChanged(keysA = Object.keys(a).sort(), Object.keys(b).sort()) || keysA.some(function (prop) {
    return hasChanged(a[prop], b[prop]);
  }) : typeA === 'array' ? a.length !== b.length || a.some(function (aVal, i) {
    return hasChanged(aVal, b[i]);
  }) : a !== b);
}
/**
 * @param {Element} element - A target element.
 * @returns {boolean} `true` if connected element.
 */


function isElement(element) {
  return !!(element && element.nodeType === Node.ELEMENT_NODE && // element instanceof HTMLElement &&
  typeof element.getBoundingClientRect === 'function' && !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));
}
/**
 * An object that simulates `DOMRect` to indicate a bounding-box.
 * @typedef {Object} BBox
 * @property {(number|null)} left - document coordinate
 * @property {(number|null)} top - document coordinate
 * @property {(number|null)} right - document coordinate
 * @property {(number|null)} bottom - document coordinate
 * @property {(number|null)} x - Substitutes for left
 * @property {(number|null)} y - Substitutes for top
 * @property {(number|null)} width
 * @property {(number|null)} height
 */

/**
 * @param {Object} bBox - A target object.
 * @returns {(BBox|null)} A normalized `BBox`, or null if `bBox` is invalid.
 */


function validBBox(bBox) {
  if (!isObject(bBox)) {
    return null;
  }

  var value;

  if (isFinite(value = bBox.left) || isFinite(value = bBox.x)) {
    bBox.left = bBox.x = value;
  } else {
    return null;
  }

  if (isFinite(value = bBox.top) || isFinite(value = bBox.y)) {
    bBox.top = bBox.y = value;
  } else {
    return null;
  }

  if (isFinite(bBox.width) && bBox.width >= 0) {
    bBox.right = bBox.left + bBox.width;
  } else if (isFinite(bBox.right) && bBox.right >= bBox.left) {
    bBox.width = bBox.right - bBox.left;
  } else {
    return null;
  }

  if (isFinite(bBox.height) && bBox.height >= 0) {
    bBox.bottom = bBox.top + bBox.height;
  } else if (isFinite(bBox.bottom) && bBox.bottom >= bBox.top) {
    bBox.height = bBox.bottom - bBox.top;
  } else {
    return null;
  }

  return bBox;
}
/**
 * A value that is Pixels or Ratio
 * @typedef {{value: number, isRatio: boolean}} PPValue
 */


function validPPValue(value) {
  // Get PPValue from string (all `/s` were already removed)
  function string2PPValue(inString) {
    var matches = /^(.+?)(%)?$/.exec(inString);
    var value, isRatio;
    return matches && isFinite(value = parseFloat(matches[1])) ? {
      value: (isRatio = !!(matches[2] && value)) ? value / 100 : value,
      isRatio: isRatio
    } : null; // 0% -> 0
  }

  return isFinite(value) ? {
    value: value,
    isRatio: false
  } : typeof value === 'string' ? string2PPValue(value.replace(/\s/g, '')) : null;
}

function ppValue2OptionValue(ppValue) {
  return ppValue.isRatio ? "".concat(ppValue.value * 100, "%") : ppValue.value;
}

function resolvePPValue(ppValue, baseOrigin, baseSize) {
  return typeof ppValue === 'number' ? ppValue : baseOrigin + ppValue.value * (ppValue.isRatio ? baseSize : 1);
}
/**
 * An object that simulates BBox but properties are PPValue.
 * @typedef {Object} PPBBox
 */

/**
 * @param {Object} bBox - A target object.
 * @returns {(PPBBox|null)} A normalized `PPBBox`, or null if `bBox` is invalid.
 */


function validPPBBox(bBox) {
  if (!isObject(bBox)) {
    return null;
  }

  var ppValue;

  if ((ppValue = validPPValue(bBox.left)) || (ppValue = validPPValue(bBox.x))) {
    bBox.left = bBox.x = ppValue;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.top)) || (ppValue = validPPValue(bBox.y))) {
    bBox.top = bBox.y = ppValue;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.width)) && ppValue.value >= 0) {
    bBox.width = ppValue;
    delete bBox.right;
  } else if (ppValue = validPPValue(bBox.right)) {
    bBox.right = ppValue;
    delete bBox.width;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.height)) && ppValue.value >= 0) {
    bBox.height = ppValue;
    delete bBox.bottom;
  } else if (ppValue = validPPValue(bBox.bottom)) {
    bBox.bottom = ppValue;
    delete bBox.height;
  } else {
    return null;
  }

  return bBox;
}

function ppBBox2OptionObject(ppBBox) {
  return Object.keys(ppBBox).reduce(function (obj, prop) {
    obj[prop] = ppValue2OptionValue(ppBBox[prop]);
    return obj;
  }, {});
} // PPBBox -> BBox


function resolvePPBBox(ppBBox, baseBBox) {
  var prop2Axis = {
    left: 'x',
    right: 'x',
    x: 'x',
    width: 'x',
    top: 'y',
    bottom: 'y',
    y: 'y',
    height: 'y'
  },
      baseOriginXY = {
    x: baseBBox.left,
    y: baseBBox.top
  },
      baseSizeXY = {
    x: baseBBox.width,
    y: baseBBox.height
  };
  return validBBox(Object.keys(ppBBox).reduce(function (bBox, prop) {
    bBox[prop] = resolvePPValue(ppBBox[prop], prop === 'width' || prop === 'height' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);
    return bBox;
  }, {}));
}
/**
 * @param {Element} element - A target element.
 * @param {?boolean} getPaddingBox - Get padding-box instead of border-box as bounding-box.
 * @returns {BBox} A bounding-box of `element`.
 */


function getBBox(element, getPaddingBox) {
  var rect = element.getBoundingClientRect(),
      bBox = {
    left: rect.left,
    top: rect.top,
    width: rect.width,
    height: rect.height
  };
  bBox.left += window.pageXOffset;
  bBox.top += window.pageYOffset;

  if (getPaddingBox) {
    var style = window.getComputedStyle(element, ''),
        borderTop = parseFloat(style.borderTopWidth) || 0,
        borderRight = parseFloat(style.borderRightWidth) || 0,
        borderBottom = parseFloat(style.borderBottomWidth) || 0,
        borderLeft = parseFloat(style.borderLeftWidth) || 0;
    bBox.left += borderLeft;
    bBox.top += borderTop;
    bBox.width -= borderLeft + borderRight;
    bBox.height -= borderTop + borderBottom;
  }

  return validBBox(bBox);
}
/**
 * Optimize an element for animation.
 * @param {Element} element - A target element.
 * @param {?boolean} gpuTrigger - Initialize for SVGElement if `true`.
 * @returns {Element} A target element.
 */


function initAnim(element, gpuTrigger) {
  var style = element.style;
  style.webkitTapHighlightColor = 'transparent'; // Only when it has no shadow

  var cssPropBoxShadow = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('boxShadow'),
      boxShadow = window.getComputedStyle(element, '')[cssPropBoxShadow];

  if (!boxShadow || boxShadow === 'none') {
    style[cssPropBoxShadow] = '0 0 1px transparent';
  }

  if (gpuTrigger && cssPropTransform) {
    style[cssPropTransform] = 'translateZ(0)';
  }

  return element;
}

function setDraggableCursor(element, orgCursor) {
  if (cssValueDraggableCursor == null) {
    if (cssWantedValueDraggableCursor !== false) {
      cssValueDraggableCursor = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getValue('cursor', cssWantedValueDraggableCursor);
    } // The wanted value was denied, or changing is not wanted.


    if (cssValueDraggableCursor == null) {
      cssValueDraggableCursor = false;
    }
  } // Update it to change a state even if cssValueDraggableCursor is false.


  element.style.cursor = cssValueDraggableCursor === false ? orgCursor : cssValueDraggableCursor;
}

function setDraggingCursor(element) {
  if (cssValueDraggingCursor == null) {
    if (cssWantedValueDraggingCursor !== false) {
      cssValueDraggingCursor = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getValue('cursor', cssWantedValueDraggingCursor);
    } // The wanted value was denied, or changing is not wanted.


    if (cssValueDraggingCursor == null) {
      cssValueDraggingCursor = false;
    }
  }

  if (cssValueDraggingCursor !== false) {
    element.style.cursor = cssValueDraggingCursor;
  }
} // [SVG]

/**
 * Get SVG coordinates from viewport coordinates.
 * @param {props} props - `props` of instance.
 * @param {number} clientX - viewport X.
 * @param {number} clientY - viewport Y.
 * @returns {SVGPoint} SVG coordinates.
 */


function viewPoint2SvgPoint(props, clientX, clientY) {
  var svgPoint = props.svgPoint;
  svgPoint.x = clientX;
  svgPoint.y = clientY;
  return svgPoint.matrixTransform(props.svgCtmElement.getScreenCTM().inverse());
} // [/SVG]

/**
 * Move by `translate`.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveTranslate(props, position) {
  var elementBBox = props.elementBBox;

  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {
    var offset = props.htmlOffset;
    props.elementStyle[cssPropTransform] = "translate(".concat(position.left + offset.left, "px, ").concat(position.top + offset.top, "px)");
    return true;
  }

  return false;
} // [LEFTTOP]

/**
 * Move by `left` and `top`.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveLeftTop(props, position) {
  var elementBBox = props.elementBBox,
      elementStyle = props.elementStyle,
      offset = props.htmlOffset;
  var moved = false;

  if (position.left !== elementBBox.left) {
    elementStyle.left = position.left + offset.left + 'px';
    moved = true;
  }

  if (position.top !== elementBBox.top) {
    elementStyle.top = position.top + offset.top + 'px';
    moved = true;
  }

  return moved;
} // [/LEFTTOP]
// [SVG]

/**
 * Move SVGElement.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveSvg(props, position) {
  var elementBBox = props.elementBBox;

  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {
    var offset = props.svgOffset,
        originBBox = props.svgOriginBBox,
        point = viewPoint2SvgPoint(props, position.left - window.pageXOffset, position.top - window.pageYOffset);
    props.svgTransform.setTranslate(point.x + offset.x - originBBox.x, point.y + offset.y - originBBox.y);
    return true;
  }

  return false;
} // [/SVG]

/**
 * Set `props.element` position.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @param {function} [cbCheck] - Callback that is called with valid position, cancel moving if it returns `false`.
 * @returns {boolean} `true` if it was moved.
 */


function move(props, position, cbCheck) {
  var elementBBox = props.elementBBox;

  function fix() {
    if (props.minLeft >= props.maxLeft) {
      // Disabled
      position.left = elementBBox.left;
    } else if (position.left < props.minLeft) {
      position.left = props.minLeft;
    } else if (position.left > props.maxLeft) {
      position.left = props.maxLeft;
    }

    if (props.minTop >= props.maxTop) {
      // Disabled
      position.top = elementBBox.top;
    } else if (position.top < props.minTop) {
      position.top = props.minTop;
    } else if (position.top > props.maxTop) {
      position.top = props.maxTop;
    }
  }

  fix();

  if (cbCheck) {
    if (cbCheck(position) === false) {
      return false;
    }

    fix(); // Again
  }

  var moved = props.moveElm(props, position);

  if (moved) {
    // Update elementBBox
    props.elementBBox = validBBox({
      left: position.left,
      top: position.top,
      width: elementBBox.width,
      height: elementBBox.height
    });
  }

  return moved;
}
/**
 * Initialize HTMLElement for `translate`, and get `offset` that is used by `moveTranslate`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initTranslate(props) {
  var element = props.element,
      elementStyle = props.elementStyle,
      curPosition = getBBox(element),
      // Get BBox before change style.
  RESTORE_PROPS = ['display', 'marginTop', 'marginBottom', 'width', 'height'];
  RESTORE_PROPS.unshift(cssPropTransform); // Reset `transition-property` every time because it might be changed frequently.

  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];
  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation

  var fixPosition = getBBox(element);

  if (!props.orgStyle) {
    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {
      orgStyle[prop] = elementStyle[prop] || '';
      return orgStyle;
    }, {});
    props.lastStyle = {};
  } else {
    RESTORE_PROPS.forEach(function (prop) {
      // Skip this if it seems user changed it. (it can't check perfectly.)
      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {
        elementStyle[prop] = props.orgStyle[prop];
      }
    });
  }

  var orgSize = getBBox(element),
      cmpStyle = window.getComputedStyle(element, ''); // https://www.w3.org/TR/css-transforms-1/#transformable-element

  if (cmpStyle.display === 'inline') {
    elementStyle.display = 'inline-block';
    ['Top', 'Bottom'].forEach(function (dirProp) {
      var padding = parseFloat(cmpStyle["padding".concat(dirProp)]); // paddingTop/Bottom make padding but don't make space -> negative margin in inline-block
      // marginTop/Bottom don't work in inline element -> `0` in inline-block

      elementStyle["margin".concat(dirProp)] = padding ? "-".concat(padding, "px") : '0';
    });
  }

  elementStyle[cssPropTransform] = 'translate(0, 0)'; // Get document offset.

  var newBBox = getBBox(element);
  var offset = props.htmlOffset = {
    left: newBBox.left ? -newBBox.left : 0,
    top: newBBox.top ? -newBBox.top : 0
  }; // avoid `-0`
  // Restore position

  elementStyle[cssPropTransform] = "translate(".concat(curPosition.left + offset.left, "px, ").concat(curPosition.top + offset.top, "px)"); // Restore size

  ['width', 'height'].forEach(function (prop) {
    if (newBBox[prop] !== orgSize[prop]) {
      // Ignore `box-sizing`
      elementStyle[prop] = orgSize[prop] + 'px';
      newBBox = getBBox(element);

      if (newBBox[prop] !== orgSize[prop]) {
        // Retry
        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';
      }
    }

    props.lastStyle[prop] = elementStyle[prop];
  }); // Restore `transition-property`

  element.offsetWidth;
  /* force reflow */
  // eslint-disable-line no-unused-expressions

  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;

  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {
    // It seems that it is moving.
    elementStyle[cssPropTransform] = "translate(".concat(fixPosition.left + offset.left, "px, ").concat(fixPosition.top + offset.top, "px)");
  }

  return fixPosition;
} // [LEFTTOP]

/**
 * Initialize HTMLElement for `left` and `top`, and get `offset` that is used by `moveLeftTop`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initLeftTop(props) {
  var element = props.element,
      elementStyle = props.elementStyle,
      curPosition = getBBox(element),
      // Get BBox before change style.
  RESTORE_PROPS = ['position', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'width', 'height']; // Reset `transition-property` every time because it might be changed frequently.

  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];
  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation

  var fixPosition = getBBox(element);

  if (!props.orgStyle) {
    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {
      orgStyle[prop] = elementStyle[prop] || '';
      return orgStyle;
    }, {});
    props.lastStyle = {};
  } else {
    RESTORE_PROPS.forEach(function (prop) {
      // Skip this if it seems user changed it. (it can't check perfectly.)
      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {
        elementStyle[prop] = props.orgStyle[prop];
      }
    });
  }

  var orgSize = getBBox(element);
  elementStyle.position = 'absolute';
  elementStyle.left = elementStyle.top = elementStyle.margin = '0'; // Get document offset.

  var newBBox = getBBox(element);
  var offset = props.htmlOffset = {
    left: newBBox.left ? -newBBox.left : 0,
    top: newBBox.top ? -newBBox.top : 0
  }; // avoid `-0`
  // Restore position

  elementStyle.left = curPosition.left + offset.left + 'px';
  elementStyle.top = curPosition.top + offset.top + 'px'; // Restore size

  ['width', 'height'].forEach(function (prop) {
    if (newBBox[prop] !== orgSize[prop]) {
      // Ignore `box-sizing`
      elementStyle[prop] = orgSize[prop] + 'px';
      newBBox = getBBox(element);

      if (newBBox[prop] !== orgSize[prop]) {
        // Retry
        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';
      }
    }

    props.lastStyle[prop] = elementStyle[prop];
  }); // Restore `transition-property`

  element.offsetWidth;
  /* force reflow */
  // eslint-disable-line no-unused-expressions

  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;

  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {
    // It seems that it is moving.
    elementStyle.left = fixPosition.left + offset.left + 'px';
    elementStyle.top = fixPosition.top + offset.top + 'px';
  }

  return fixPosition;
} // [/LEFTTOP]
// [SVG]

/**
 * Initialize SVGElement, and get `offset` that is used by `moveSvg`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initSvg(props) {
  var element = props.element,
      svgTransform = props.svgTransform,
      curRect = element.getBoundingClientRect(),
      // Get Rect before change position.
  fixPosition = getBBox(element);
  svgTransform.setTranslate(0, 0);
  var originBBox = props.svgOriginBBox = element.getBBox(),
      // Try to get SVG coordinates of current position.
  newRect = element.getBoundingClientRect(),
      originPoint = viewPoint2SvgPoint(props, newRect.left, newRect.top),
      // Gecko bug, getScreenCTM returns incorrect CTM, and originPoint might not be current position.
  offset = props.svgOffset = {
    x: originBBox.x - originPoint.x,
    y: originBBox.y - originPoint.y
  },
      // Restore position
  curPoint = viewPoint2SvgPoint(props, curRect.left, curRect.top);
  svgTransform.setTranslate(curPoint.x + offset.x - originBBox.x, curPoint.y + offset.y - originBBox.y);
  return fixPosition;
} // [/SVG]

/**
 * Set `elementBBox`, `containmentBBox`, `min/max``Left/Top` and `snapTargets`.
 * @param {props} props - `props` of instance.
 * @param {string} [eventType] - A type of event that kicked this method.
 * @returns {void}
 */


function initBBox(props, eventType) {
  // eslint-disable-line no-unused-vars
  var docBBox = getBBox(document.documentElement),
      elementBBox = props.elementBBox = props.initElm(props),
      // reset offset etc.
  containmentBBox = props.containmentBBox = props.containmentIsBBox ? resolvePPBBox(props.options.containment, docBBox) || docBBox : getBBox(props.options.containment, true);
  props.minLeft = containmentBBox.left;
  props.maxLeft = containmentBBox.right - elementBBox.width;
  props.minTop = containmentBBox.top;
  props.maxTop = containmentBBox.bottom - elementBBox.height; // Adjust position

  move(props, {
    left: elementBBox.left,
    top: elementBBox.top
  }); // [SNAP]
  // Snap-targets

  /**
   * @typedef {Object} SnapTarget
   * @property {number} [x] - A coordinate it moves to. It has x or y or both.
   * @property {number} [y]
   * @property {number} [gravityXStart] - Gravity zone. It has *Start or *End or both, and *X* or *Y* or both.
   * @property {number} [gravityXEnd]
   * @property {number} [gravityYStart]
   * @property {number} [gravityYEnd]
   */

  if (props.parsedSnapTargets) {
    var elementSizeXY = {
      x: elementBBox.width,
      y: elementBBox.height
    },
        minXY = {
      x: props.minLeft,
      y: props.minTop
    },
        maxXY = {
      x: props.maxLeft,
      y: props.maxTop
    },
        prop2Axis = {
      left: 'x',
      right: 'x',
      x: 'x',
      width: 'x',
      xStart: 'x',
      xEnd: 'x',
      xStep: 'x',
      top: 'y',
      bottom: 'y',
      y: 'y',
      height: 'y',
      yStart: 'y',
      yEnd: 'y',
      yStep: 'y'
    },
        snapTargets = props.parsedSnapTargets.reduce(function (snapTargets, parsedSnapTarget) {
      var baseRect = parsedSnapTarget.base === 'containment' ? containmentBBox : docBBox,
          baseOriginXY = {
        x: baseRect.left,
        y: baseRect.top
      },
          baseSizeXY = {
        x: baseRect.width,
        y: baseRect.height
      };
      /**
       * Basically, shallow copy from parsedSnapTarget, and it can have resolved values.
       * @typedef {{x: (number|PPValue), y, xStart, xEnd, xStep, yStart, yEnd, yStep}} TargetXY
       * @property {string[]} [corners] - Applied value.
       * @property {string[]} [sides]
       * @property {boolean} center
       * @property {number} [xGravity] - Override parsedSnapTarget.gravity.
       * @property {number} [yGravity]
       */
      // Add single Point or Line (i.e. targetXY has no *Step)

      function addSnapTarget(targetXY) {
        if (targetXY.center == null) {
          targetXY.center = parsedSnapTarget.center;
        }

        if (targetXY.xGravity == null) {
          targetXY.xGravity = parsedSnapTarget.gravity;
        }

        if (targetXY.yGravity == null) {
          targetXY.yGravity = parsedSnapTarget.gravity;
        }

        if (targetXY.x != null && targetXY.y != null) {
          // Point
          targetXY.x = resolvePPValue(targetXY.x, baseOriginXY.x, baseSizeXY.x);
          targetXY.y = resolvePPValue(targetXY.y, baseOriginXY.y, baseSizeXY.y);

          if (targetXY.center) {
            targetXY.x -= elementSizeXY.x / 2;
            targetXY.y -= elementSizeXY.y / 2;
            targetXY.corners = ['tl'];
          }

          (targetXY.corners || parsedSnapTarget.corners).forEach(function (corner) {
            var x = targetXY.x - (corner === 'tr' || corner === 'br' ? elementSizeXY.x : 0),
                y = targetXY.y - (corner === 'bl' || corner === 'br' ? elementSizeXY.y : 0);

            if (x >= minXY.x && x <= maxXY.x && y >= minXY.y && y <= maxXY.y) {
              var snapTarget = {
                x: x,
                y: y
              },
                  gravityXStart = x - targetXY.xGravity,
                  gravityXEnd = x + targetXY.xGravity,
                  gravityYStart = y - targetXY.yGravity,
                  gravityYEnd = y + targetXY.yGravity;

              if (gravityXStart > minXY.x) {
                snapTarget.gravityXStart = gravityXStart;
              }

              if (gravityXEnd < maxXY.x) {
                snapTarget.gravityXEnd = gravityXEnd;
              }

              if (gravityYStart > minXY.y) {
                snapTarget.gravityYStart = gravityYStart;
              }

              if (gravityYEnd < maxXY.y) {
                snapTarget.gravityYEnd = gravityYEnd;
              }

              snapTargets.push(snapTarget);
            }
          });
        } else {
          // Line
          var specAxis = targetXY.x != null ? 'x' : 'y',
              rangeAxis = specAxis === 'x' ? 'y' : 'x',
              startProp = "".concat(rangeAxis, "Start"),
              endProp = "".concat(rangeAxis, "End"),
              gravityProp = "".concat(specAxis, "Gravity"),
              specAxisL = specAxis.toUpperCase(),
              rangeAxisL = rangeAxis.toUpperCase(),
              gravitySpecStartProp = "gravity".concat(specAxisL, "Start"),
              gravitySpecEndProp = "gravity".concat(specAxisL, "End"),
              gravityRangeStartProp = "gravity".concat(rangeAxisL, "Start"),
              gravityRangeEndProp = "gravity".concat(rangeAxisL, "End");
          targetXY[specAxis] = resolvePPValue(targetXY[specAxis], baseOriginXY[specAxis], baseSizeXY[specAxis]);
          targetXY[startProp] = resolvePPValue(targetXY[startProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]);
          targetXY[endProp] = resolvePPValue(targetXY[endProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]) - elementSizeXY[rangeAxis]; // Reduce the end of the line.

          if (targetXY[startProp] > targetXY[endProp] || // Smaller than element size.
          targetXY[startProp] > maxXY[rangeAxis] || targetXY[endProp] < minXY[rangeAxis]) {
            return;
          }

          if (targetXY.center) {
            targetXY[specAxis] -= elementSizeXY[specAxis] / 2;
            targetXY.sides = ['start'];
          }

          (targetXY.sides || parsedSnapTarget.sides).forEach(function (side) {
            var xy = targetXY[specAxis] - (side === 'end' ? elementSizeXY[specAxis] : 0);

            if (xy >= minXY[specAxis] && xy <= maxXY[specAxis]) {
              var snapTarget = {},
                  gravitySpecStart = xy - targetXY[gravityProp],
                  gravitySpecEnd = xy + targetXY[gravityProp];
              snapTarget[specAxis] = xy;

              if (gravitySpecStart > minXY[specAxis]) {
                snapTarget[gravitySpecStartProp] = gravitySpecStart;
              }

              if (gravitySpecEnd < maxXY[specAxis]) {
                snapTarget[gravitySpecEndProp] = gravitySpecEnd;
              }

              if (targetXY[startProp] > minXY[rangeAxis]) {
                snapTarget[gravityRangeStartProp] = targetXY[startProp];
              }

              if (targetXY[endProp] < maxXY[rangeAxis]) {
                snapTarget[gravityRangeEndProp] = targetXY[endProp];
              }

              snapTargets.push(snapTarget);
            }
          });
        }
      }

      var bBox;

      if ((bBox = parsedSnapTarget.element ? getBBox(parsedSnapTarget.element) : null) || // Element
      parsedSnapTarget.ppBBox) {
        if (parsedSnapTarget.ppBBox) {
          bBox = resolvePPBBox(parsedSnapTarget.ppBBox, baseRect);
        } // BBox


        if (bBox) {
          // Drop invalid BBox.
          // Expand into 4 lines.
          parsedSnapTarget.edges.forEach(function (edge) {
            var lengthenX = parsedSnapTarget.gravity,
                lengthenY = parsedSnapTarget.gravity;

            if (edge === 'outside') {
              // Snap it when a part of the element is part of the range.
              lengthenX += elementBBox.width;
              lengthenY += elementBBox.height;
            }

            var xStart = bBox.left - lengthenX,
                xEnd = bBox.right + lengthenX,
                yStart = bBox.top - lengthenY,
                yEnd = bBox.bottom + lengthenY;
            var side = edge === 'inside' ? 'start' : 'end';
            addSnapTarget({
              xStart: xStart,
              xEnd: xEnd,
              y: bBox.top,
              sides: [side],
              center: false
            }); // Top

            addSnapTarget({
              x: bBox.left,
              yStart: yStart,
              yEnd: yEnd,
              sides: [side],
              center: false
            }); // Left

            side = edge === 'inside' ? 'end' : 'start';
            addSnapTarget({
              xStart: xStart,
              xEnd: xEnd,
              y: bBox.bottom,
              sides: [side],
              center: false
            }); // Bottom

            addSnapTarget({
              x: bBox.right,
              yStart: yStart,
              yEnd: yEnd,
              sides: [side],
              center: false
            }); // Right
          });
        }
      } else {
        var expanded = [['x', 'y', 'xStart', 'xEnd', 'xStep', 'yStart', 'yEnd', 'yStep'].reduce(function (targetXY, prop) {
          if (parsedSnapTarget[prop]) {
            targetXY[prop] = resolvePPValue(parsedSnapTarget[prop], prop === 'xStep' || prop === 'yStep' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);
          }

          return targetXY;
        }, {})];
        ['x', 'y'].forEach(function (axis) {
          var startProp = "".concat(axis, "Start"),
              endProp = "".concat(axis, "End"),
              stepProp = "".concat(axis, "Step"),
              gravityProp = "".concat(axis, "Gravity");
          expanded = expanded.reduce(function (expanded, targetXY) {
            var start = targetXY[startProp],
                end = targetXY[endProp],
                step = targetXY[stepProp];

            if (start != null && end != null && start >= end) {
              return expanded;
            } // start >= end


            if (step != null) {
              if (step < 2) {
                return expanded;
              } // step >= 2px -> Expand by step


              var gravity = step / 2; // max

              gravity = parsedSnapTarget.gravity > gravity ? gravity : null;

              for (var curValue = start; curValue <= end; curValue += step) {
                var expandedXY = Object.keys(targetXY).reduce(function (expandedXY, prop) {
                  if (prop !== startProp && prop !== endProp && prop !== stepProp) {
                    expandedXY[prop] = targetXY[prop];
                  }

                  return expandedXY;
                }, {});
                expandedXY[axis] = curValue;
                expandedXY[gravityProp] = gravity;
                expanded.push(expandedXY);
              }
            } else {
              expanded.push(targetXY);
            }

            return expanded;
          }, []);
        });
        expanded.forEach(function (targetXY) {
          addSnapTarget(targetXY);
        });
      }

      return snapTargets;
    }, []);
    props.snapTargets = snapTargets.length ? snapTargets : null;
  } // [/SNAP]
  // [AUTO-SCROLL]


  var autoScroll = {},
      autoScrollOptions = props.options.autoScroll;

  if (autoScrollOptions) {
    autoScroll.isWindow = autoScrollOptions.target === window;
    autoScroll.target = autoScrollOptions.target;
    var dontScroll = eventType === 'scroll',
        // Avoid duplicated calling
    scrollable = getScrollable(autoScrollOptions.target, autoScroll.isWindow, dontScroll),
        scrollableBBox = validBBox({
      left: scrollable.clientX,
      top: scrollable.clientY,
      width: scrollable.clientWidth,
      height: scrollable.clientHeight
    });

    if (!dontScroll) {
      autoScroll.scrollWidth = scrollable.scrollWidth;
      autoScroll.scrollHeight = scrollable.scrollHeight;
    } else if (props.autoScroll) {
      autoScroll.scrollWidth = props.autoScroll.scrollWidth;
      autoScroll.scrollHeight = props.autoScroll.scrollHeight;
    }

    [['X', 'Width', 'left', 'right'], ['Y', 'Height', 'top', 'bottom']].forEach(function (axis) {
      var xy = axis[0],
          wh = axis[1],
          back = axis[2],
          forward = axis[3],
          maxAbs = (autoScroll["scroll".concat(wh)] || 0) - scrollable["client".concat(wh)],
          min = autoScrollOptions["min".concat(xy)] || 0;
      var max = isFinite(autoScrollOptions["max".concat(xy)]) ? autoScrollOptions["max".concat(xy)] : maxAbs;

      if (min < max && min < maxAbs) {
        if (max > maxAbs) {
          max = maxAbs;
        }

        var lines = [],
            elementSize = elementBBox[wh.toLowerCase()];

        for (var i = autoScrollOptions.sensitivity.length - 1; i >= 0; i--) {
          // near -> far
          var sensitivity = autoScrollOptions.sensitivity[i],
              speed = autoScrollOptions.speed[i]; // back

          lines.push({
            dir: -1,
            speed: speed,
            position: scrollableBBox[back] + sensitivity
          }); // forward

          lines.push({
            dir: 1,
            speed: speed,
            position: scrollableBBox[forward] - sensitivity - elementSize
          });
        }

        autoScroll[xy.toLowerCase()] = {
          min: min,
          max: max,
          lines: lines
        };
      }
    });
  }

  props.autoScroll = autoScroll.x || autoScroll.y ? autoScroll : null; // [/AUTO-SCROLL]
}
/**
 * @param {props} props - `props` of instance.
 * @returns {void}
 */


function dragEnd(props) {
  scrollFrame.stop(); // [AUTO-SCROLL/]

  setDraggableCursor(props.options.handle, props.orgCursor);
  body.style.cursor = cssOrgValueBodyCursor;

  if (props.options.zIndex !== false) {
    props.elementStyle.zIndex = props.orgZIndex;
  }

  if (cssPropUserSelect) {
    body.style[cssPropUserSelect] = cssOrgValueBodyUserSelect;
  }

  var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element);

  if (movingClass) {
    classList.remove(movingClass);
  }

  if (draggingClass) {
    classList.remove(draggingClass);
  }

  activeProps = null;
  pointerEvent.cancel(); // Reset pointer (activeProps must be null because this calls endHandler)

  if (props.onDragEnd) {
    props.onDragEnd({
      left: props.elementBBox.left,
      top: props.elementBBox.top
    });
  }
}
/**
 * @param {props} props - `props` of instance.
 * @param {{clientX, clientY}} pointerXY - This might be MouseEvent, Touch of TouchEvent or Object.
 * @returns {boolean} `true` if it started.
 */


function dragStart(props, pointerXY) {
  if (props.disabled) {
    return false;
  }

  if (props.onDragStart && props.onDragStart(pointerXY) === false) {
    return false;
  }

  if (activeProps) {
    dragEnd(activeProps);
  } // activeItem is normally null by pointerEvent.end.


  setDraggingCursor(props.options.handle);
  body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`
  window.getComputedStyle(props.options.handle, '').cursor;

  if (props.options.zIndex !== false) {
    props.elementStyle.zIndex = props.options.zIndex;
  }

  if (cssPropUserSelect) {
    body.style[cssPropUserSelect] = 'none';
  }

  if (draggingClass) {
    (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).add(draggingClass);
  }

  activeProps = props;
  hasMoved = false;
  pointerOffset.left = props.elementBBox.left - (pointerXY.clientX + window.pageXOffset);
  pointerOffset.top = props.elementBBox.top - (pointerXY.clientY + window.pageYOffset);
  return true;
}
/**
 * @param {props} props - `props` of instance.
 * @param {Object} newOptions - New options.
 * @returns {void}
 */


function _setOptions(props, newOptions) {
  var options = props.options;
  var needsInitBBox; // containment

  if (newOptions.containment) {
    var bBox;

    if (isElement(newOptions.containment)) {
      // Specific element
      if (newOptions.containment !== options.containment) {
        options.containment = newOptions.containment;
        props.containmentIsBBox = false;
        needsInitBBox = true;
      }
    } else if ((bBox = validPPBBox(copyTree(newOptions.containment))) && // bBox
    hasChanged(bBox, options.containment)) {
      options.containment = bBox;
      props.containmentIsBBox = true;
      needsInitBBox = true;
    }
  } // [SNAP]

  /**
   * @typedef {Object} SnapOptions
   * @property {SnapTargetOptions[]} targets
   * @property {number} [gravity]
   * @property {string} [corner]
   * @property {string} [side]
   * @property {boolean} [center]
   * @property {string} [edge]
   * @property {string} [base]
   */

  /**
   * @typedef {Object} SnapTargetOptions
   * @property {(number|string)} [x] - pixels | '<n>%' | {start, end} | {step, start, end}
   * @property {(number|string)} [y]
   * @property {(Element|Object)} [boundingBox] - Object has properties that are string or number from PPBBox.
   * @property {number} [gravity]
   * @property {string} [corner]
   * @property {string} [side]
   * @property {boolean} [center]
   * @property {string} [edge]
   * @property {string} [base]
   */

  /**
   * @typedef {Object} ParsedSnapTarget
   * @property {PPValue} [x] - (input: pixels | '<n>%')
   * @property {PPValue} [y]
   * @property {PPValue} [xStart] - (input: {start, end} | {step, start, end})
   * @property {PPValue} [xEnd]
   * @property {PPValue} [xStep] - (input: {step, start, end})
   * @property {PPValue} [yStart]
   * @property {PPValue} [yEnd]
   * @property {PPValue} [yStep]
   * @property {Element} [element]
   * @property {PPBBox} [ppBBox]
   * @property {number} gravity
   * @property {string[]} corners
   * @property {string[]} sides
   * @property {boolean} center
   * @property {string[]} edges
   * @property {string} base
   */
  // Normalize `gravity`, `corner`, `side`, `center`, `edge`, `base`


  function commonSnapOptions(options, newOptions) {
    function cleanString(inString) {
      return typeof inString === 'string' ? inString.replace(/[, ]+/g, ' ').trim().toLowerCase() : null;
    } // gravity


    if (isFinite(newOptions.gravity) && newOptions.gravity > 0) {
      options.gravity = newOptions.gravity;
    } // corner


    var corner = cleanString(newOptions.corner);

    if (corner) {
      if (corner !== 'all') {
        var added = {},
            corners = corner.split(/\s/).reduce(function (corners, corner) {
          corner = corner.trim().replace(/^(.).*?-(.).*$/, '$1$2');

          if ((corner = corner === 'tl' || corner === 'lt' ? 'tl' : corner === 'tr' || corner === 'rt' ? 'tr' : corner === 'bl' || corner === 'lb' ? 'bl' : corner === 'br' || corner === 'rb' ? 'br' : null) && !added[corner]) {
            corners.push(corner);
            added[corner] = true;
          }

          return corners;
        }, []),
            cornersLen = corners.length;
        corner = !cornersLen ? null : cornersLen === 4 ? 'all' : corners.join(' ');
      }

      if (corner) {
        options.corner = corner;
      }
    } // side


    var side = cleanString(newOptions.side);

    if (side) {
      if (side === 'start' || side === 'end' || side === 'both') {
        options.side = side;
      } else if (side === 'start end' || side === 'end start') {
        options.side = 'both';
      }
    } // center


    if (typeof newOptions.center === 'boolean') {
      options.center = newOptions.center;
    } // edge


    var edge = cleanString(newOptions.edge);

    if (edge) {
      if (edge === 'inside' || edge === 'outside' || edge === 'both') {
        options.edge = edge;
      } else if (edge === 'inside outside' || edge === 'outside inside') {
        options.edge = 'both';
      }
    } // base


    var base = typeof newOptions.base === 'string' ? newOptions.base.trim().toLowerCase() : null;

    if (base && (base === 'containment' || base === 'document')) {
      options.base = base;
    }

    return options;
  } // snap


  if (newOptions.snap != null) {
    var newSnapOptions = isObject(newOptions.snap) && newOptions.snap.targets != null ? newOptions.snap : {
      targets: newOptions.snap
    },
        snapTargetsOptions = [],
        snapOptions = commonSnapOptions({
      targets: snapTargetsOptions
    }, newSnapOptions); // Set default options into top level.

    if (!snapOptions.gravity) {
      snapOptions.gravity = SNAP_GRAVITY;
    }

    if (!snapOptions.corner) {
      snapOptions.corner = SNAP_CORNER;
    }

    if (!snapOptions.side) {
      snapOptions.side = SNAP_SIDE;
    }

    if (typeof snapOptions.center !== 'boolean') {
      snapOptions.center = false;
    }

    if (!snapOptions.edge) {
      snapOptions.edge = SNAP_EDGE;
    }

    if (!snapOptions.base) {
      snapOptions.base = SNAP_BASE;
    }

    var parsedSnapTargets = (Array.isArray(newSnapOptions.targets) ? newSnapOptions.targets : [newSnapOptions.targets]).reduce(function (parsedSnapTargets, target) {
      if (target == null) {
        return parsedSnapTargets;
      }

      var isElementPre = isElement(target),
          // Pre-check direct value
      ppBBoxPre = validPPBBox(copyTree(target)),
          // Pre-check direct value
      newSnapTargetOptions = isElementPre || ppBBoxPre ? {
        boundingBox: target
      } : // Direct Element | PPBBox
      isObject(target) && target.start == null && target.end == null && target.step == null ? target : // SnapTargetOptions
      {
        x: target,
        y: target
      },
          // Others, it might be {step, start, end}
      expandedParsedSnapTargets = [],
          snapTargetOptions = {},
          newOptionsBBox = newSnapTargetOptions.boundingBox;
      var ppBBox;

      if (isElementPre || isElement(newOptionsBBox)) {
        // Element
        expandedParsedSnapTargets.push({
          element: newOptionsBBox
        });
        snapTargetOptions.boundingBox = newOptionsBBox;
      } else if (ppBBox = ppBBoxPre || validPPBBox(copyTree(newOptionsBBox))) {
        // Object -> PPBBox
        expandedParsedSnapTargets.push({
          ppBBox: ppBBox
        });
        snapTargetOptions.boundingBox = ppBBox2OptionObject(ppBBox);
      } else {
        var invalid; // `true` if valid PPValue was given but the contained value is invalid.

        var parsedXY = ['x', 'y'].reduce(function (parsedXY, axis) {
          var newOptionsXY = newSnapTargetOptions[axis];
          var ppValue;

          if (ppValue = validPPValue(newOptionsXY)) {
            // pixels | '<n>%'
            parsedXY[axis] = ppValue;
            snapTargetOptions[axis] = ppValue2OptionValue(ppValue);
          } else {
            // {start, end} | {step, start, end}
            var start, end, step;

            if (isObject(newOptionsXY)) {
              start = validPPValue(newOptionsXY.start);
              end = validPPValue(newOptionsXY.end);
              step = validPPValue(newOptionsXY.step);

              if (start && end && start.isRatio === end.isRatio && start.value >= end.value) {
                // start >= end
                invalid = true;
              }
            }

            start = parsedXY["".concat(axis, "Start")] = start || {
              value: 0,
              isRatio: false
            };
            end = parsedXY["".concat(axis, "End")] = end || {
              value: 1,
              isRatio: true
            };
            snapTargetOptions[axis] = {
              start: ppValue2OptionValue(start),
              end: ppValue2OptionValue(end)
            };

            if (step) {
              if (step.isRatio ? step.value > 0 : step.value >= 2) {
                // step > 0% || step >= 2px
                parsedXY["".concat(axis, "Step")] = step;
                snapTargetOptions[axis].step = ppValue2OptionValue(step);
              } else {
                invalid = true;
              }
            }
          }

          return parsedXY;
        }, {});

        if (invalid) {
          return parsedSnapTargets;
        }

        if (parsedXY.xStart && !parsedXY.xStep && parsedXY.yStart && !parsedXY.yStep) {
          // Expand into 4 lines. This is not BBox, and `edge` is ignored.
          expandedParsedSnapTargets.push({
            xStart: parsedXY.xStart,
            xEnd: parsedXY.xEnd,
            y: parsedXY.yStart
          }, // Top
          {
            xStart: parsedXY.xStart,
            xEnd: parsedXY.xEnd,
            y: parsedXY.yEnd
          }, // Bottom
          {
            x: parsedXY.xStart,
            yStart: parsedXY.yStart,
            yEnd: parsedXY.yEnd
          }, // Left
          {
            x: parsedXY.xEnd,
            yStart: parsedXY.yStart,
            yEnd: parsedXY.yEnd
          } // Right
          );
        } else {
          expandedParsedSnapTargets.push(parsedXY);
        }
      }

      if (expandedParsedSnapTargets.length) {
        snapTargetsOptions.push(commonSnapOptions(snapTargetOptions, newSnapTargetOptions)); // Copy common SnapOptions

        var corner = snapTargetOptions.corner || snapOptions.corner,
            side = snapTargetOptions.side || snapOptions.side,
            edge = snapTargetOptions.edge || snapOptions.edge,
            commonOptions = {
          gravity: snapTargetOptions.gravity || snapOptions.gravity,
          base: snapTargetOptions.base || snapOptions.base,
          center: typeof snapTargetOptions.center === 'boolean' ? snapTargetOptions.center : snapOptions.center,
          corners: corner === 'all' ? SNAP_ALL_CORNERS : corner.split(' '),
          // Split
          sides: side === 'both' ? SNAP_ALL_SIDES : [side],
          // Split
          edges: edge === 'both' ? SNAP_ALL_EDGES : [edge] // Split

        };
        expandedParsedSnapTargets.forEach(function (parsedSnapTarget) {
          // Set common SnapOptions
          ['gravity', 'corners', 'sides', 'center', 'edges', 'base'].forEach(function (option) {
            parsedSnapTarget[option] = commonOptions[option];
          });
          parsedSnapTargets.push(parsedSnapTarget);
        });
      }

      return parsedSnapTargets;
    }, []);

    if (parsedSnapTargets.length) {
      options.snap = snapOptions; // Update always

      if (hasChanged(parsedSnapTargets, props.parsedSnapTargets)) {
        props.parsedSnapTargets = parsedSnapTargets;
        needsInitBBox = true;
      }
    }
  } else if (newOptions.hasOwnProperty('snap') && props.parsedSnapTargets) {
    options.snap = props.parsedSnapTargets = props.snapTargets = void 0;
  } // [/SNAP]
  // [AUTO-SCROLL]

  /**
   * @typedef {Object} AutoScrollOptions
   * @property {(Element|Window)} target
   * @property {Array} speed
   * @property {Array} sensitivity
   * @property {number} [minX]
   * @property {number} [maxX]
   * @property {number} [minY]
   * @property {number} [maxY]
   */
  // autoScroll


  if (newOptions.autoScroll) {
    var newAutoScrollOptions = isObject(newOptions.autoScroll) ? newOptions.autoScroll : {
      target: newOptions.autoScroll === true ? window : newOptions.autoScroll
    },
        autoScrollOptions = {}; // target

    autoScrollOptions.target = isElement(newAutoScrollOptions.target) ? newAutoScrollOptions.target : window; // speed

    autoScrollOptions.speed = [];
    (Array.isArray(newAutoScrollOptions.speed) ? newAutoScrollOptions.speed : [newAutoScrollOptions.speed]).every(function (speed, i) {
      if (i <= 2 && isFinite(speed)) {
        autoScrollOptions.speed[i] = speed;
        return true;
      }

      return false;
    });

    if (!autoScrollOptions.speed.length) {
      autoScrollOptions.speed = AUTOSCROLL_SPEED;
    } // sensitivity


    var newSensitivity = Array.isArray(newAutoScrollOptions.sensitivity) ? newAutoScrollOptions.sensitivity : [newAutoScrollOptions.sensitivity];
    autoScrollOptions.sensitivity = autoScrollOptions.speed.map(function (v, i) {
      return isFinite(newSensitivity[i]) ? newSensitivity[i] : AUTOSCROLL_SENSITIVITY[i];
    }); // min*, max*

    ['X', 'Y'].forEach(function (option) {
      var optionMin = "min".concat(option),
          optionMax = "max".concat(option);

      if (isFinite(newAutoScrollOptions[optionMin]) && newAutoScrollOptions[optionMin] >= 0) {
        autoScrollOptions[optionMin] = newAutoScrollOptions[optionMin];
      }

      if (isFinite(newAutoScrollOptions[optionMax]) && newAutoScrollOptions[optionMax] >= 0 && (!autoScrollOptions[optionMin] || newAutoScrollOptions[optionMax] >= autoScrollOptions[optionMin])) {
        autoScrollOptions[optionMax] = newAutoScrollOptions[optionMax];
      }
    });

    if (hasChanged(autoScrollOptions, options.autoScroll)) {
      options.autoScroll = autoScrollOptions;
      needsInitBBox = true;
    }
  } else if (newOptions.hasOwnProperty('autoScroll')) {
    if (options.autoScroll) {
      needsInitBBox = true;
    }

    options.autoScroll = void 0;
  } // [/AUTO-SCROLL]


  if (needsInitBBox) {
    initBBox(props);
  } // handle


  if (isElement(newOptions.handle) && newOptions.handle !== options.handle) {
    if (options.handle) {
      // Restore
      options.handle.style.cursor = props.orgCursor;

      if (cssPropUserSelect) {
        options.handle.style[cssPropUserSelect] = props.orgUserSelect;
      }

      pointerEvent.removeStartHandler(options.handle, props.pointerEventHandlerId);
    }

    var handle = options.handle = newOptions.handle;
    props.orgCursor = handle.style.cursor;
    setDraggableCursor(handle, props.orgCursor);

    if (cssPropUserSelect) {
      props.orgUserSelect = handle.style[cssPropUserSelect];
      handle.style[cssPropUserSelect] = 'none';
    }

    pointerEvent.addStartHandler(handle, props.pointerEventHandlerId);
  } // zIndex


  if (isFinite(newOptions.zIndex) || newOptions.zIndex === false) {
    options.zIndex = newOptions.zIndex;

    if (props === activeProps) {
      props.elementStyle.zIndex = options.zIndex === false ? props.orgZIndex : options.zIndex;
    }
  } // left/top


  var position = {
    left: props.elementBBox.left,
    top: props.elementBBox.top
  };
  var needsMove;

  if (isFinite(newOptions.left) && newOptions.left !== position.left) {
    position.left = newOptions.left;
    needsMove = true;
  }

  if (isFinite(newOptions.top) && newOptions.top !== position.top) {
    position.top = newOptions.top;
    needsMove = true;
  }

  if (needsMove) {
    move(props, position);
  } // Event listeners


  ['onDrag', 'onMove', 'onDragStart', 'onMoveStart', 'onDragEnd'].forEach(function (option) {
    if (typeof newOptions[option] === 'function') {
      options[option] = newOptions[option];
      props[option] = options[option].bind(props.ins);
    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {
      options[option] = props[option] = void 0;
    }
  });
}

var PlainDraggable = /*#__PURE__*/function () {
  /**
   * Create a `PlainDraggable` instance.
   * @param {Element} element - Target element.
   * @param {Object} [options] - Options.
   */
  function PlainDraggable(element, options) {
    _classCallCheck(this, PlainDraggable);

    var props = {
      ins: this,
      options: {
        // Initial options (not default)
        zIndex: ZINDEX // Initial state.

      },
      disabled: false
    };
    Object.defineProperty(this, '_id', {
      value: ++insId
    });
    props._id = this._id;
    insProps[this._id] = props;

    if (!isElement(element) || element === body) {
      throw new Error('This element is not accepted.');
    }

    if (!options) {
      options = {};
    } else if (!isObject(options)) {
      throw new Error('Invalid options.');
    }

    var gpuTrigger = true; // [SVG]

    var ownerSvg; // SVGElement which is not root view

    if (element instanceof SVGElement && (ownerSvg = element.ownerSVGElement)) {
      // It means `instanceof SVGLocatable` (many browsers don't have SVGLocatable)
      if (!element.getBBox) {
        throw new Error('This element is not accepted. (SVGLocatable)');
      } // Trident and Edge bug, SVGSVGElement doesn't have SVGAnimatedTransformList?


      if (!element.transform) {
        throw new Error('This element is not accepted. (SVGAnimatedTransformList)');
      } // Trident bug, returned value must be used (That is not given value).


      props.svgTransform = element.transform.baseVal.appendItem(ownerSvg.createSVGTransform());
      props.svgPoint = ownerSvg.createSVGPoint(); // Gecko bug, view.getScreenCTM returns CTM with root view.

      var svgView = element.nearestViewportElement;
      props.svgCtmElement = !IS_GECKO ? svgView : svgView.appendChild(document.createElementNS(ownerSvg.namespaceURI, 'rect'));
      gpuTrigger = false;
      props.initElm = initSvg;
      props.moveElm = moveSvg;
    } else {
      // [/SVG]

      /* eslint-disable indent */

      /* [SVG/] */
      var cssPropWillChange = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('willChange');

      if (cssPropWillChange) {
        gpuTrigger = false;
      }

      if (!options.leftTop && cssPropTransform) {
        // translate
        if (cssPropWillChange) {
          element.style[cssPropWillChange] = 'transform';
        }

        props.initElm = initTranslate;
        props.moveElm = moveTranslate;
      } else {
        // left and top
        // [LEFTTOP]
        if (cssPropWillChange) {
          element.style[cssPropWillChange] = 'left, top';
        }

        props.initElm = initLeftTop;
        props.moveElm = moveLeftTop; // [/LEFTTOP]

        /* [LEFTTOP/]
        throw new Error('`transform` is not supported.');
        [LEFTTOP/] */
      }
      /* eslint-enable indent */

      /* [SVG/] */

    } // [SVG/]


    props.element = initAnim(element, gpuTrigger);
    props.elementStyle = element.style;
    props.orgZIndex = props.elementStyle.zIndex;

    if (draggableClass) {
      (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(element).add(draggableClass);
    }

    props.pointerEventHandlerId = pointerEvent.regStartHandler(function (pointerXY) {
      return dragStart(props, pointerXY);
    }); // Default options

    if (!options.containment) {
      var parent;
      options.containment = (parent = element.parentNode) && isElement(parent) ? parent : body;
    }

    if (!options.handle) {
      options.handle = element;
    }

    _setOptions(props, options);
  }

  _createClass(PlainDraggable, [{
    key: "remove",
    value: function remove() {
      var props = insProps[this._id];
      this.disabled = true; // To restore element and reset pointer

      pointerEvent.unregStartHandler(pointerEvent.removeStartHandler(props.options.handle, props.pointerEventHandlerId));
      delete insProps[this._id];
    }
    /**
     * @param {Object} options - New options.
     * @returns {PlainDraggable} Current instance itself.
     */

  }, {
    key: "setOptions",
    value: function setOptions(options) {
      if (isObject(options)) {
        _setOptions(insProps[this._id], options);
      }

      return this;
    }
  }, {
    key: "position",
    value: function position() {
      initBBox(insProps[this._id]);
      return this;
    }
  }, {
    key: "disabled",
    get: function get() {
      return insProps[this._id].disabled;
    },
    set: function set(value) {
      var props = insProps[this._id];

      if ((value = !!value) !== props.disabled) {
        props.disabled = value;

        if (props.disabled) {
          if (props === activeProps) {
            dragEnd(props);
          }

          props.options.handle.style.cursor = props.orgCursor;

          if (cssPropUserSelect) {
            props.options.handle.style[cssPropUserSelect] = props.orgUserSelect;
          }

          if (draggableClass) {
            (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).remove(draggableClass);
          }
        } else {
          setDraggableCursor(props.options.handle, props.orgCursor);

          if (cssPropUserSelect) {
            props.options.handle.style[cssPropUserSelect] = 'none';
          }

          if (draggableClass) {
            (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).add(draggableClass);
          }
        }
      }
    }
  }, {
    key: "element",
    get: function get() {
      return insProps[this._id].element;
    }
  }, {
    key: "rect",
    get: function get() {
      return copyTree(insProps[this._id].elementBBox);
    }
  }, {
    key: "left",
    get: function get() {
      return insProps[this._id].elementBBox.left;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        left: value
      });
    }
  }, {
    key: "top",
    get: function get() {
      return insProps[this._id].elementBBox.top;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        top: value
      });
    }
  }, {
    key: "containment",
    get: function get() {
      var props = insProps[this._id];
      return props.containmentIsBBox ? ppBBox2OptionObject(props.options.containment) : props.options.containment;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        containment: value
      });
    } // [SNAP]

  }, {
    key: "snap",
    get: function get() {
      return copyTree(insProps[this._id].options.snap);
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        snap: value
      });
    } // [/SNAP]
    // [AUTO-SCROLL]

  }, {
    key: "autoScroll",
    get: function get() {
      return copyTree(insProps[this._id].options.autoScroll);
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        autoScroll: value
      });
    } // [/AUTO-SCROLL]

  }, {
    key: "handle",
    get: function get() {
      return insProps[this._id].options.handle;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        handle: value
      });
    }
  }, {
    key: "zIndex",
    get: function get() {
      return insProps[this._id].options.zIndex;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        zIndex: value
      });
    }
  }, {
    key: "onDrag",
    get: function get() {
      return insProps[this._id].options.onDrag;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDrag: value
      });
    }
  }, {
    key: "onMove",
    get: function get() {
      return insProps[this._id].options.onMove;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onMove: value
      });
    }
  }, {
    key: "onDragStart",
    get: function get() {
      return insProps[this._id].options.onDragStart;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDragStart: value
      });
    }
  }, {
    key: "onMoveStart",
    get: function get() {
      return insProps[this._id].options.onMoveStart;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onMoveStart: value
      });
    }
  }, {
    key: "onDragEnd",
    get: function get() {
      return insProps[this._id].options.onDragEnd;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDragEnd: value
      });
    }
  }], [{
    key: "draggableCursor",
    get: function get() {
      return cssWantedValueDraggableCursor;
    },
    set: function set(value) {
      if (cssWantedValueDraggableCursor !== value) {
        cssWantedValueDraggableCursor = value;
        cssValueDraggableCursor = null; // Reset

        Object.keys(insProps).forEach(function (id) {
          var props = insProps[id];

          if (props.disabled || props === activeProps && cssValueDraggingCursor !== false) {
            return;
          }

          setDraggableCursor(props.options.handle, props.orgCursor);

          if (props === activeProps) {
            // Since cssValueDraggingCursor is `false`, copy cursor again.
            body.style.cursor = cssOrgValueBodyCursor;
            body.style.cursor = window.getComputedStyle(props.options.handle, '').cursor;
          }
        });
      }
    }
  }, {
    key: "draggingCursor",
    get: function get() {
      return cssWantedValueDraggingCursor;
    },
    set: function set(value) {
      if (cssWantedValueDraggingCursor !== value) {
        cssWantedValueDraggingCursor = value;
        cssValueDraggingCursor = null; // Reset

        if (activeProps) {
          setDraggingCursor(activeProps.options.handle);

          if (cssValueDraggingCursor === false) {
            setDraggableCursor(activeProps.options.handle, activeProps.orgCursor); // draggableCursor

            body.style.cursor = cssOrgValueBodyCursor;
          }

          body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`
          window.getComputedStyle(activeProps.options.handle, '').cursor;
        }
      }
    }
  }, {
    key: "draggableClass",
    get: function get() {
      return draggableClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== draggableClass) {
        Object.keys(insProps).forEach(function (id) {
          var props = insProps[id];

          if (!props.disabled) {
            var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element);

            if (draggableClass) {
              classList.remove(draggableClass);
            }

            if (value) {
              classList.add(value);
            }
          }
        });
        draggableClass = value;
      }
    }
  }, {
    key: "draggingClass",
    get: function get() {
      return draggingClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== draggingClass) {
        if (activeProps) {
          var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element);

          if (draggingClass) {
            classList.remove(draggingClass);
          }

          if (value) {
            classList.add(value);
          }
        }

        draggingClass = value;
      }
    }
  }, {
    key: "movingClass",
    get: function get() {
      return movingClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== movingClass) {
        if (activeProps && hasMoved) {
          var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element);

          if (movingClass) {
            classList.remove(movingClass);
          }

          if (value) {
            classList.add(value);
          }
        }

        movingClass = value;
      }
    }
  }]);

  return PlainDraggable;
}();

pointerEvent.addMoveHandler(document, function (pointerXY) {
  if (!activeProps) {
    return;
  }

  var position = {
    left: pointerXY.clientX + window.pageXOffset + pointerOffset.left,
    top: pointerXY.clientY + window.pageYOffset + pointerOffset.top
  };

  if (move(activeProps, position, // [SNAP]
  activeProps.snapTargets ? function (position) {
    // Snap
    var iLen = activeProps.snapTargets.length;
    var snappedX = false,
        snappedY = false,
        i;

    for (i = 0; i < iLen && (!snappedX || !snappedY); i++) {
      var snapTarget = activeProps.snapTargets[i];

      if ((snapTarget.gravityXStart == null || position.left >= snapTarget.gravityXStart) && (snapTarget.gravityXEnd == null || position.left <= snapTarget.gravityXEnd) && (snapTarget.gravityYStart == null || position.top >= snapTarget.gravityYStart) && (snapTarget.gravityYEnd == null || position.top <= snapTarget.gravityYEnd)) {
        if (!snappedX && snapTarget.x != null) {
          position.left = snapTarget.x;
          snappedX = true;
          i = -1; // Restart loop
        }

        if (!snappedY && snapTarget.y != null) {
          position.top = snapTarget.y;
          snappedY = true;
          i = -1; // Restart loop
        }
      }
    }

    position.snapped = snappedX || snappedY;
    return activeProps.onDrag ? activeProps.onDrag(position) : true;
  } : // [/SNAP]
  activeProps.onDrag)) {
    // [AUTO-SCROLL]
    var xyMoveArgs = {},
        autoScroll = activeProps.autoScroll;

    if (autoScroll) {
      var clientXY = {
        x: activeProps.elementBBox.left - window.pageXOffset,
        y: activeProps.elementBBox.top - window.pageYOffset
      };
      ['x', 'y'].forEach(function (axis) {
        if (autoScroll[axis]) {
          var min = autoScroll[axis].min,
              max = autoScroll[axis].max;
          autoScroll[axis].lines.some(function (line) {
            if (line.dir === -1 ? clientXY[axis] <= line.position : clientXY[axis] >= line.position) {
              xyMoveArgs[axis] = {
                dir: line.dir,
                speed: line.speed / 1000,
                min: min,
                max: max
              };
              return true;
            }

            return false;
          });
        }
      });
    }

    if (xyMoveArgs.x || xyMoveArgs.y) {
      scrollFrame.move(autoScroll.target, xyMoveArgs, autoScroll.isWindow ? scrollXYWindow : scrollXYElement);
      position.autoScroll = true;
    } else {
      scrollFrame.stop();
    } // [/AUTO-SCROLL]


    if (!hasMoved) {
      hasMoved = true;

      if (movingClass) {
        (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element).add(movingClass);
      }

      if (activeProps.onMoveStart) {
        activeProps.onMoveStart(position);
      }
    }

    if (activeProps.onMove) {
      activeProps.onMove(position);
    }
  }
});
{
  function endHandler() {
    if (activeProps) {
      dragEnd(activeProps);
    }
  }

  pointerEvent.addEndHandler(document, endHandler);
  pointerEvent.addCancelHandler(document, endHandler);
}
{
  function initDoc() {
    cssPropTransitionProperty = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('transitionProperty');
    cssPropTransform = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('transform');
    cssOrgValueBodyCursor = body.style.cursor;

    if (cssPropUserSelect = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('userSelect')) {
      cssOrgValueBodyUserSelect = body.style[cssPropUserSelect];
    } // Init active item when layout is changed, and init others later.


    var LAZY_INIT_DELAY = 200;
    var initDoneItems = {},
        lazyInitTimer;

    function checkInitBBox(props, eventType) {
      if (props.initElm) {
        // Easy checking for instance without errors.
        initBBox(props, eventType);
      } // eslint-disable-line brace-style

    }

    function initAll(eventType) {
      clearTimeout(lazyInitTimer);
      Object.keys(insProps).forEach(function (id) {
        if (!initDoneItems[id]) {
          checkInitBBox(insProps[id], eventType);
        }
      });
      initDoneItems = {};
    }

    var layoutChanging = false; // Gecko bug, multiple calling by `resize`.

    var layoutChange = anim_event__WEBPACK_IMPORTED_MODULE_2__["default"].add(function (event) {
      if (layoutChanging) {
        return;
      }

      layoutChanging = true;

      if (activeProps) {
        checkInitBBox(activeProps, event.type);
        pointerEvent.move();
        initDoneItems[activeProps._id] = true;
      }

      clearTimeout(lazyInitTimer);
      lazyInitTimer = setTimeout(function () {
        initAll(event.type);
      }, LAZY_INIT_DELAY);
      layoutChanging = false;
    });
    window.addEventListener('resize', layoutChange, true);
    window.addEventListener('scroll', layoutChange, true);
  }

  if (body = document.body) {
    initDoc();
  } else {
    document.addEventListener('DOMContentLoaded', function () {
      body = document.body;
      initDoc();
    }, true);
  }
}
/* [SNAP/]
PlainDraggable.limit = true;
[SNAP/] */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlainDraggable);

/***/ }),

/***/ "./src/css/flowchartSymbols.css":
/*!**************************************!*\
  !*** ./src/css/flowchartSymbols.css ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_flowchartSymbols_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./flowchartSymbols.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/flowchartSymbols.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_flowchartSymbols_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_flowchartSymbols_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_flowchartSymbols_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_flowchartSymbols_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/css/index.css":
/*!***************************!*\
  !*** ./src/css/index.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/index.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./node_modules/pointer-tracker/dist/PointerTracker.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/pointer-tracker/dist/PointerTracker.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PointerTracker)
/* harmony export */ });
class Pointer {
    constructor(nativePointer) {
        /** Unique ID for this pointer */
        this.id = -1;
        this.nativePointer = nativePointer;
        this.pageX = nativePointer.pageX;
        this.pageY = nativePointer.pageY;
        this.clientX = nativePointer.clientX;
        this.clientY = nativePointer.clientY;
        if (self.Touch && nativePointer instanceof Touch) {
            this.id = nativePointer.identifier;
        }
        else if (isPointerEvent(nativePointer)) {
            // is PointerEvent
            this.id = nativePointer.pointerId;
        }
    }
    /**
     * Returns an expanded set of Pointers for high-resolution inputs.
     */
    getCoalesced() {
        if ('getCoalescedEvents' in this.nativePointer) {
            const events = this.nativePointer
                .getCoalescedEvents()
                .map((p) => new Pointer(p));
            // Firefox sometimes returns an empty list here. I'm not sure it's doing the right thing.
            // https://github.com/w3c/pointerevents/issues/409
            if (events.length > 0)
                return events;
        }
        return [this];
    }
}
const isPointerEvent = (event) => 'pointerId' in event;
const isTouchEvent = (event) => 'changedTouches' in event;
const noop = () => { };
/**
 * Track pointers across a particular element
 */
class PointerTracker {
    /**
     * Track pointers across a particular element
     *
     * @param element Element to monitor.
     * @param options
     */
    constructor(_element, { start = () => true, move = noop, end = noop, rawUpdates = false, avoidPointerEvents = false, } = {}) {
        this._element = _element;
        /**
         * State of the tracked pointers when they were pressed/touched.
         */
        this.startPointers = [];
        /**
         * Latest state of the tracked pointers. Contains the same number of pointers, and in the same
         * order as this.startPointers.
         */
        this.currentPointers = [];
        /**
         * Firefox has a bug where touch-based pointer events have a `buttons` of 0, when this shouldn't
         * happen. https://bugzilla.mozilla.org/show_bug.cgi?id=1729440
         *
         * Usually we treat `buttons === 0` as no-longer-pressed. This set allows us to exclude these
         * buggy Firefox events.
         */
        this._excludeFromButtonsCheck = new Set();
        /**
         * Listener for mouse/pointer starts.
         *
         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.
         */
        this._pointerStart = (event) => {
            if (isPointerEvent(event) && event.buttons === 0) {
                // This is the buggy Firefox case. See _excludeFromButtonsCheck.
                this._excludeFromButtonsCheck.add(event.pointerId);
            }
            else if (!(event.buttons & 1 /* LeftMouseOrTouchOrPenDown */)) {
                return;
            }
            const pointer = new Pointer(event);
            // If we're already tracking this pointer, ignore this event.
            // This happens with mouse events when multiple buttons are pressed.
            if (this.currentPointers.some((p) => p.id === pointer.id))
                return;
            if (!this._triggerPointerStart(pointer, event))
                return;
            // Add listeners for additional events.
            // The listeners may already exist, but no harm in adding them again.
            if (isPointerEvent(event)) {
                const capturingElement = event.target && 'setPointerCapture' in event.target
                    ? event.target
                    : this._element;
                capturingElement.setPointerCapture(event.pointerId);
                this._element.addEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
                this._element.addEventListener('pointerup', this._pointerEnd);
                this._element.addEventListener('pointercancel', this._pointerEnd);
            }
            else {
                // MouseEvent
                window.addEventListener('mousemove', this._move);
                window.addEventListener('mouseup', this._pointerEnd);
            }
        };
        /**
         * Listener for touchstart.
         * Only used if the browser doesn't support pointer events.
         */
        this._touchStart = (event) => {
            for (const touch of Array.from(event.changedTouches)) {
                this._triggerPointerStart(new Pointer(touch), event);
            }
        };
        /**
         * Listener for pointer/mouse/touch move events.
         */
        this._move = (event) => {
            if (!isTouchEvent(event) &&
                (!isPointerEvent(event) ||
                    !this._excludeFromButtonsCheck.has(event.pointerId)) &&
                event.buttons === 0 /* None */) {
                // This happens in a number of buggy cases where the browser failed to deliver a pointerup
                // or pointercancel. If we see the pointer moving without any buttons down, synthesize an end.
                // https://github.com/w3c/pointerevents/issues/407
                // https://github.com/w3c/pointerevents/issues/408
                this._pointerEnd(event);
                return;
            }
            const previousPointers = this.currentPointers.slice();
            const changedPointers = isTouchEvent(event)
                ? Array.from(event.changedTouches).map((t) => new Pointer(t))
                : [new Pointer(event)];
            const trackedChangedPointers = [];
            for (const pointer of changedPointers) {
                const index = this.currentPointers.findIndex((p) => p.id === pointer.id);
                if (index === -1)
                    continue; // Not a pointer we're tracking
                trackedChangedPointers.push(pointer);
                this.currentPointers[index] = pointer;
            }
            if (trackedChangedPointers.length === 0)
                return;
            this._moveCallback(previousPointers, trackedChangedPointers, event);
        };
        /**
         * Call the end callback for this pointer.
         *
         * @param pointer Pointer
         * @param event Related event
         */
        this._triggerPointerEnd = (pointer, event) => {
            // Main button still down?
            // With mouse events, you get a mouseup per mouse button, so the left button might still be down.
            if (!isTouchEvent(event) &&
                event.buttons & 1 /* LeftMouseOrTouchOrPenDown */) {
                return false;
            }
            const index = this.currentPointers.findIndex((p) => p.id === pointer.id);
            // Not a pointer we're interested in?
            if (index === -1)
                return false;
            this.currentPointers.splice(index, 1);
            this.startPointers.splice(index, 1);
            this._excludeFromButtonsCheck.delete(pointer.id);
            // The event.type might be a 'move' event due to workarounds for weird mouse behaviour.
            // See _move for details.
            const cancelled = !(event.type === 'mouseup' ||
                event.type === 'touchend' ||
                event.type === 'pointerup');
            this._endCallback(pointer, event, cancelled);
            return true;
        };
        /**
         * Listener for mouse/pointer ends.
         *
         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.
         */
        this._pointerEnd = (event) => {
            if (!this._triggerPointerEnd(new Pointer(event), event))
                return;
            if (isPointerEvent(event)) {
                if (this.currentPointers.length)
                    return;
                this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
                this._element.removeEventListener('pointerup', this._pointerEnd);
                this._element.removeEventListener('pointercancel', this._pointerEnd);
            }
            else {
                // MouseEvent
                window.removeEventListener('mousemove', this._move);
                window.removeEventListener('mouseup', this._pointerEnd);
            }
        };
        /**
         * Listener for touchend.
         * Only used if the browser doesn't support pointer events.
         */
        this._touchEnd = (event) => {
            for (const touch of Array.from(event.changedTouches)) {
                this._triggerPointerEnd(new Pointer(touch), event);
            }
        };
        this._startCallback = start;
        this._moveCallback = move;
        this._endCallback = end;
        this._rawUpdates = rawUpdates && 'onpointerrawupdate' in window;
        // Add listeners
        if (self.PointerEvent && !avoidPointerEvents) {
            this._element.addEventListener('pointerdown', this._pointerStart);
        }
        else {
            this._element.addEventListener('mousedown', this._pointerStart);
            this._element.addEventListener('touchstart', this._touchStart);
            this._element.addEventListener('touchmove', this._move);
            this._element.addEventListener('touchend', this._touchEnd);
            this._element.addEventListener('touchcancel', this._touchEnd);
        }
    }
    /**
     * Remove all listeners.
     */
    stop() {
        this._element.removeEventListener('pointerdown', this._pointerStart);
        this._element.removeEventListener('mousedown', this._pointerStart);
        this._element.removeEventListener('touchstart', this._touchStart);
        this._element.removeEventListener('touchmove', this._move);
        this._element.removeEventListener('touchend', this._touchEnd);
        this._element.removeEventListener('touchcancel', this._touchEnd);
        this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
        this._element.removeEventListener('pointerup', this._pointerEnd);
        this._element.removeEventListener('pointercancel', this._pointerEnd);
        window.removeEventListener('mousemove', this._move);
        window.removeEventListener('mouseup', this._pointerEnd);
    }
    /**
     * Call the start callback for this pointer, and track it if the user wants.
     *
     * @param pointer Pointer
     * @param event Related event
     * @returns Whether the pointer is being tracked.
     */
    _triggerPointerStart(pointer, event) {
        if (!this._startCallback(pointer, event))
            return false;
        this.currentPointers.push(pointer);
        this.startPointers.push(pointer);
        return true;
    }
}




/***/ }),

/***/ "./src/json/flowchart.json":
/*!*********************************!*\
  !*** ./src/json/flowchart.json ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"wires":{"0":"1","1":"2","2":["3","1"],"3":"4"},"nodes":{"0":{"posx":0,"posy":0,"type":"start","content":"START"},"1":{"posx":2,"posy":2,"type":"input","content":"input x,y"},"2":{"posx":2,"posy":5,"type":"decision","content":"x<>0 AND y>1"},"3":{"posx":2,"posy":7,"type":"output","content":"print x,\'nigga\'"},"4":{"posx":5,"posy":10,"type":"end","content":"END"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var plain_draggable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plain-draggable */ "./node_modules/plain-draggable/plain-draggable.esm.js");
/* harmony import */ var leader_line_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leader-line-new */ "./node_modules/leader-line-new/leader-line.min.js");
/* harmony import */ var leader_line_new__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leader_line_new__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var pointer_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pointer-tracker */ "./node_modules/pointer-tracker/dist/PointerTracker.mjs");
/* harmony import */ var _css_index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../css/index.css */ "./src/css/index.css");
/* harmony import */ var _css_flowchartSymbols_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../css/flowchartSymbols.css */ "./src/css/flowchartSymbols.css");
/* harmony import */ var _json_flowchart_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../json/flowchart.json */ "./src/json/flowchart.json");









const flowchartBoard = document.getElementById('flowchart-board')

// templates
const terminalTemplate = document.getElementById('terminal-template')
const processTemplate = document.getElementById('process-template')
const decisionTemplate = document.getElementById('decision-template')
const inputOutputTemplate = document.getElementById('input-output-template')

// un-needed
const flowchartSymbols = ['terminal', 'process', 'decision', 'inputOutput']
const allTools = ['hand', 'edit', 'connect', 'erase']

// flowBlock
function createLine(start, end) {
    const line = new (leader_line_new__WEBPACK_IMPORTED_MODULE_1___default())(document.getElementById(start), document.getElementById(end), { startPlug: 'disc', size: 4, startPlugSize: 1.5, startPlugOutlineSize: 2.5, color: '#f0f8ff', path: 'fluid' })
    return line
}
class FlowBlock {
    constructor(id, type, content, pos) {
        this.id = id;
        this.type = type;
        this.content = content;
        [this.posx, this.posy] = pos;
        [this.element, this.draggable] = this.createFlowBlock(type, id, content);
        this.connections = [];
        this.draggable['onMove'] = () => { this.connections.forEach((c) => { c.position() }) };
    }

    createFlowBlock() {
        let element

        if (this.type == 'terminal') {
            element = terminalTemplate.content.cloneNode(true)
        } else if (this.type == 'process') {
            element = processTemplate.content.cloneNode(true)

        } else if (this.type == 'decision') {
            element = decisionTemplate.content.cloneNode(true)

        } else if (this.type == 'inputOutput') {
            element = inputOutputTemplate.content.cloneNode(true)
        }
        element.querySelector('[data-flowchart-block-id]').id = `block-${this.id}`
        element.querySelector('[data-flowchart-block-content]').textContent = this.content

        element.querySelector('[data-flowchart-block-id]').classList.add('draggable')
        element.querySelector('[data-flowchart-block-id]').style.transform = `translate(${this.posx}px,${this.posy}px)`
        flowchartBoard.appendChild(element)
        const elementDraggable = new plain_draggable__WEBPACK_IMPORTED_MODULE_0__["default"](document.getElementById(`block-${this.id}`))

        document.getElementById(`block-${this.id}`).addEventListener('click', () => {
            if (currentTool == 'erase') {
                remFlowBlock(this.id)
            }
        })

        return [element, elementDraggable]
    }

    updateFlowBlock(func, whatToUpdate) {
        this.draggable[func] = whatToUpdate
    }
}

// chart
let connections = {}
let flowBlocks = {}
let global_index = -1

function addFlowBlock(type, content, pos = [0, 0]) {
    let newBlock = new FlowBlock(global_index + 1, type, content, pos)
    flowBlocks[global_index + 1] = newBlock
    global_index++
}
function remFlowBlock(id) {
    // remove attached connections to flowblock
    let currConnections =
        Object.keys(connections).map(str => str.split(':'))
            .filter(key => {
                return key[0] == id || key[1] == id
            })
    currConnections.forEach(k => { remConnection(k[0], k[1]) })

    // remove flowblock
    flowBlocks[String(id)].draggable.remove()
    document.getElementById(`block-${id}`).remove()
    delete flowBlocks[String(id)]

    // decrement ids
    let gids = Object.keys(flowBlocks).map(str => Number(str))
        .filter(key => {
            return key > Number(id)
        })
    gids.forEach(k => {
        flowBlocks[k - 1] = flowBlocks[k]
        flowBlocks[k - 1].id--
        document.getElementById(`block-${k}`).id = `block-${k - 1}`
    })
    delete flowBlocks[Math.max(...gids)]

    Object.keys(connections).forEach(key => {
        let parts = key.split(':').map(str => Number(str))
        if (parts[0] > Number(id)) parts[0]--
        if (parts[1] > Number(id)) parts[1]--
        let tmp = connections[key]
        delete connections[key]
        connections[parts.join(':')] = tmp
    })

    global_index--
}

function addConnection(fromId, toId) {
    let cid = `${fromId}:${toId}`
    let startNode = flowBlocks[fromId]
    let endNode = flowBlocks[toId]

    connections[cid] = createLine(`block-${fromId}`, `block-${toId}`)
    startNode.connections.push(connections[cid])
    endNode.connections.push(connections[cid])
}
function remConnection(fromId, toId) {
    let cid = `${fromId}:${toId}`

    flowBlocks[fromId].connections.splice(flowBlocks[fromId].connections.indexOf(connections[cid]), 1)
    flowBlocks[toId].connections.splice(flowBlocks[toId].connections.indexOf(connections[cid]), 1)

    connections[cid].remove()

    delete connections[cid]
}

function objectifyChart() {
    let res = { 'wires': {}, 'nodes': {} }
    Object.keys(flowBlocks).forEach(key => {
        let f = flowBlocks[key]
        res['nodes'][key] = {
            "posx": f.posx,
            "posy": f.posy,
            "type": f.type,
            "content": f.content
        }
    })

    Object.keys(connections).forEach(key => {
        let parts = key.split(':')
        res['wires'][parts[0]] = parts[1]
    })
    return res
}
function personalifyChart(object) {
    connections = {}
    flowBlocks = {}
    global_index = -1
    Object.keys(object['nodes']).forEach(key => {
        addFlowBlock(object['nodes'][key]['type'], object['nodes'][key]['content'], [object['nodes'][key]['posx'], object['nodes'][key]['posy']])
    })

    Object.keys(object['wires']).forEach(key => {
        addConnection(key, object['wires'][key])
    })
}

// tools
let currentTool
const editButton = document.getElementById('edit-button')
const connectButton = document.getElementById('connect-button')
const moveButton = document.getElementById('move-button')
const eraseButton = document.getElementById('erase-button')

editButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 0, 'active', () => {
        toggleDraggables(false)
        currentTool = 'edit'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    })
})
connectButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 1, 'active', () => {
        toggleDraggables(false)
        currentTool = 'connect'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    })
})
moveButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 2, 'active', () => {
        toggleDraggables(true)
        currentTool = 'move'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    })
})
eraseButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 3, 'active', () => {
        toggleDraggables(false)
        currentTool = 'erase'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    })
})

function toggleSwitch(toggleSwitches = [], index, activeClass, onActivateFunc = () => { }) {
    for (let i = 0; i < toggleSwitches.length; i++) {
        toggleSwitches[i].classList.remove(activeClass)
    }

    toggleSwitches[index].classList.add(activeClass)
    onActivateFunc()
}
function toggleDraggables(enable) {
    if (enable) {
        Object.keys(flowBlocks).forEach(key => {
            flowBlocks[key].draggable.disabled = false
        })
    }
    else {
        Object.keys(flowBlocks).forEach(key => {
            flowBlocks[key].draggable.disabled = true
        })
    }
}

// side Panel
document.getElementById('start').addEventListener('click', () => addFlowBlock('terminal', 'start', [0, 0]))
document.getElementById('end').addEventListener('click', () => addFlowBlock('terminal', 'end', [0, 0]))
document.getElementById('process').addEventListener('click', () => addFlowBlock('terminal', 'process', [0, 0]))
document.getElementById('decision').addEventListener('click', () => addFlowBlock('terminal', 'decision', [0, 0]))
document.getElementById('input').addEventListener('click', () => addFlowBlock('terminal', 'input', [0, 0]))
document.getElementById('output').addEventListener('click', () => addFlowBlock('terminal', 'output', [0, 0]))

let isDraggingBlock = false
let draggingBlock
let line

// connections tool
const pointerTracker = new pointer_tracker__WEBPACK_IMPORTED_MODULE_2__["default"](flowchartBoard, {
    start(pointer, event) {
        let temp = event.target

        if (temp.classList.contains('flowchart-block')) {
            draggingBlock = temp.parentElement
            isDraggingBlock = true

            document.getElementById('tracker').style.transform = `translate(${pointer.clientX}px,calc(${pointer.clientY}px - 5rem))`
            line = createLine(draggingBlock.id, 'tracker')
            return true
        }
    },
    move(previousPointers, changedPointers, event) {
        let temp = event.target

        document.getElementById('tracker').style.transform = `translate(${changedPointers[0].clientX}px,calc(${changedPointers[0].clientY}px - 5rem))`
        line.position()
    },
    end(pointer, event, cancelled) {
        let temp = event.target

        if (temp.classList.contains('flowchart-block')) {
            let startId = draggingBlock.id.replace('block-', '')
            let endId = temp.parentElement.id.replace('block-', '')

            Object.keys(connections)
                .filter(key => {
                    return key.split(':')[0] == startId
                })
                .forEach(key => {
                    remConnection(startId, key.split(':')[1])
                })
            addConnection(startId, endId)
            // connection bugs:
            // -conditions
            // -end
            // -self connection
        }

        line.remove()
        isDraggingBlock = false
    },
    avoidPointerEvents: true,
    rawUpdates: false,
})

//HARD R CODED
addFlowBlock('terminal', 'start', [0, 0])
addFlowBlock('inputOutput', 'INPUT X', [100, 100])
addFlowBlock('decision', 'X > 5', [200, 300])
addFlowBlock('terminal', 'end', [500, 300])

addConnection(0, 1)
addConnection(1, 2)
addConnection(2, 3)

// remFlowBlock(2)
let x = objectifyChart()
personalifyChart(x)
console.log(x, connections, flowBlocks)
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O1VDeFByQztVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFjO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLGdCQUFnQixVQUFVLGdCQUFnQjtBQUN4SDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLDJCQUEyQixVQUFVLDJCQUEyQjtBQUMxSTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Zsb3djaGFydC8uL3NyYy9jc3MvZmxvd2NoYXJ0U3ltYm9scy5jc3MiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vc3JjL2Nzcy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvbGVhZGVyLWxpbmUtbmV3L2xlYWRlci1saW5lLm1pbi5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9hbmltLWV2ZW50L2FuaW0tZXZlbnQuZXNtLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9wbGFpbi1kcmFnZ2FibGUvbm9kZV9tb2R1bGVzL2Nzc3ByZWZpeC9jc3NwcmVmaXguZXNtLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9wbGFpbi1kcmFnZ2FibGUvbm9kZV9tb2R1bGVzL20tY2xhc3MtbGlzdC9tLWNsYXNzLWxpc3QuZXNtLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9wbGFpbi1kcmFnZ2FibGUvbm9kZV9tb2R1bGVzL3BvaW50ZXItZXZlbnQvcG9pbnRlci1ldmVudC5lc20uanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3BsYWluLWRyYWdnYWJsZS9wbGFpbi1kcmFnZ2FibGUuZXNtLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL3NyYy9jc3MvZmxvd2NoYXJ0U3ltYm9scy5jc3M/ODQzYSIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL2luZGV4LmNzcz9mN2VhIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3BvaW50ZXItdHJhY2tlci9kaXN0L1BvaW50ZXJUcmFja2VyLm1qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2Zsb3djaGFydC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvanMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5tYWluLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMGR2aCAtIDVyZW0gLSAwLjVwdCk7XHJcblxyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDdmcjtcclxuXHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMDQwOTtcclxuICAgIGJvcmRlci1yaWdodDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsIHtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDFyZW0gMDtcclxuXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgIGdhcDogMXJlbTtcclxuXHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgKiB7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIGRpdiB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSB7XHJcbiAgICBoZWlnaHQ6IDNyZW07XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICBib3JkZXItYm90dG9tOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uIHtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMjUwbXMgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24ge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBjb2xvcjogYWxpY2VibHVlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG5cclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG5cclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24gKiB7XHJcbiAgICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMXJlbSk7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDFyZW0pO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uIC5hY3RpdmUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjYyRDtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmluYWN0aXZlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSAuYWN0aXZlIC5hY3RpdmUge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24ge1xyXG4gICAgYm9yZGVyLWxlZnQ6ICMyMTI2MkQgc29saWQgMC41cHQ7XHJcbn1cclxuXHJcbi5mbG93Y2hhcnQtYm9hcmQge1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmJsb2NrLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG59XHJcblxyXG4uZmxvd2NoYXJ0LWJsb2NrIHtcclxuICAgIHBhZGRpbmc6IDFyZW07XHJcbiAgICBtaW4td2lkdGg6IDVyZW07XHJcbiAgICBtaW4taGVpZ2h0OiAycmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xyXG5cclxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcblxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYWxpY2VibHVlO1xyXG4gICAgY29sb3I6ICMwRDExMTc7XHJcblxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmZsb3djaGFydC1ibG9jayAuYWN0aXZlIHtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi50ZXJtaW5hbCB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcmVtO1xyXG59XHJcblxyXG4ucHJvY2VzcyB7XHJcbiAgICAvKiBub3RoaW5nIGN1cnJlbnRseSAqL1xyXG59XHJcblxyXG4uZGVjaXNpb24ge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpIHNjYWxlKDc1JSk7XHJcblxyXG4gICAgYXNwZWN0LXJhdGlvOiAxLzE7XHJcbn1cclxuXHJcbi5kZWNpc2lvbiAqIHtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgc2NhbGUoMTI1JSk7XHJcbn1cclxuXHJcbi5pbnB1dC1vdXRwdXQge1xyXG4gICAgdHJhbnNmb3JtOiBza2V3KC0xNWRlZyk7XHJcbn1cclxuXHJcbi5pbnB1dC1vdXRwdXQgKiB7XHJcbiAgICB0cmFuc2Zvcm06IHNrZXcoMTVkZWcpO1xyXG59XHJcblxyXG4uY2lyY2xlIHtcclxuICAgIHdpZHRoOiAxcmVtO1xyXG4gICAgaGVpZ2h0OiAxcmVtO1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTtcclxuICAgIGJvcmRlcjogIzBEMTExNyAycHQgc29saWQ7XHJcblxyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA5MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9mbG93Y2hhcnRTeW1ib2xzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG1DQUFtQzs7SUFFbkMsYUFBYTtJQUNiLDhCQUE4Qjs7SUFFOUIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGlDQUFpQztJQUNqQyxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZUFBZTs7SUFFZixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixtQkFBbUI7O0lBRW5CLFNBQVM7O0lBRVQsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osV0FBVzs7SUFFWCxhQUFhO0lBQ2IsbUJBQW1COztJQUVuQixrQ0FBa0M7QUFDdEM7O0FBRUE7SUFDSSw4Q0FBOEM7QUFDbEQ7O0FBRUE7SUFDSSxlQUFlOztJQUVmLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsWUFBWTs7SUFFWixZQUFZO0lBQ1osV0FBVzs7SUFFWCxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZix3QkFBd0I7SUFDeEIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIscUJBQXFCOztJQUVyQixrQkFBa0I7SUFDbEIsbUJBQW1COztJQUVuQiwyQkFBMkI7SUFDM0IsY0FBYzs7SUFFZCxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxtQ0FBbUM7O0lBRW5DLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHFDQUFxQztBQUN6Qzs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZOztJQUVaLDJCQUEyQjtJQUMzQix5QkFBeUI7O0lBRXpCLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5tYWluLWNvbnRlbnQge1xcclxcbiAgICBoZWlnaHQ6IGNhbGMoMTAwZHZoIC0gNXJlbSAtIDAuNXB0KTtcXHJcXG5cXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgN2ZyO1xcclxcblxcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwNDA5O1xcclxcbiAgICBib3JkZXItcmlnaHQ6ICMyMTI2MkQgc29saWQgMC41cHQ7XFxyXFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsIHtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICBwYWRkaW5nOiAxcmVtIDA7XFxyXFxuXFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFxyXFxuICAgIGdhcDogMXJlbTtcXHJcXG5cXHJcXG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xcclxcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgKiB7XFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgZGl2IHtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUge1xcclxcbiAgICBoZWlnaHQ6IDNyZW07XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcclxcbiAgICBib3JkZXItYm90dG9tOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uIHtcXHJcXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAyNTBtcyBlYXNlLWluLW91dDtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiB7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG5cXHJcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXHJcXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcblxcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiAqIHtcXHJcXG4gICAgcGFkZGluZzogMC41cmVtO1xcclxcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMXJlbSk7XFxyXFxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gMXJlbSk7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24gLmFjdGl2ZSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSAuYWN0aXZlIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjYyRDtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmluYWN0aXZlIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmFjdGl2ZSB7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uIHtcXHJcXG4gICAgYm9yZGVyLWxlZnQ6ICMyMTI2MkQgc29saWQgMC41cHQ7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYm9hcmQge1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5ibG9jay1jb250YWluZXIge1xcclxcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxyXFxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYmxvY2sge1xcclxcbiAgICBwYWRkaW5nOiAxcmVtO1xcclxcbiAgICBtaW4td2lkdGg6IDVyZW07XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDJyZW07XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXHJcXG5cXHJcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XFxyXFxuICAgIGNvbG9yOiAjMEQxMTE3O1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmZsb3djaGFydC1ibG9jayAuYWN0aXZlIHtcXHJcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4udGVybWluYWwge1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAzcmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ucHJvY2VzcyB7XFxyXFxuICAgIC8qIG5vdGhpbmcgY3VycmVudGx5ICovXFxyXFxufVxcclxcblxcclxcbi5kZWNpc2lvbiB7XFxyXFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKSBzY2FsZSg3NSUpO1xcclxcblxcclxcbiAgICBhc3BlY3QtcmF0aW86IDEvMTtcXHJcXG59XFxyXFxuXFxyXFxuLmRlY2lzaW9uICoge1xcclxcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpIHNjYWxlKDEyNSUpO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5wdXQtb3V0cHV0IHtcXHJcXG4gICAgdHJhbnNmb3JtOiBza2V3KC0xNWRlZyk7XFxyXFxufVxcclxcblxcclxcbi5pbnB1dC1vdXRwdXQgKiB7XFxyXFxuICAgIHRyYW5zZm9ybTogc2tldygxNWRlZyk7XFxyXFxufVxcclxcblxcclxcbi5jaXJjbGUge1xcclxcbiAgICB3aWR0aDogMXJlbTtcXHJcXG4gICAgaGVpZ2h0OiAxcmVtO1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XFxyXFxuICAgIGJvcmRlcjogIzBEMTExNyAycHQgc29saWQ7XFxyXFxuXFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiA5MCU7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgaHRtbCxcclxuYm9keSB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG5ib2R5IHtcclxuICAgIGNvbG9yOiAjRTZFREYzO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBEMTExNztcclxuICAgIG1pbi1oZWlnaHQ6IDEwMGR2aDtcclxufVxyXG5cclxuYm9keSAqIHtcclxuICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBPeHlnZW4sIFVidW50dSwgQ2FudGFyZWxsLCAnT3BlbiBTYW5zJywgJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZjtcclxuXHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDVyZW07XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwNDA5O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxufVxyXG5cclxuLmhpZGUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuI3RyYWNrZXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7O0lBRUksU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQTtJQUNJLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUpBQW1KOztJQUVuSixTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLG9CQUFvQjtBQUN4QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJodG1sLFxcclxcbmJvZHkge1xcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbmJvZHkge1xcclxcbiAgICBjb2xvcjogI0U2RURGMztcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBEMTExNztcXHJcXG4gICAgbWluLWhlaWdodDogMTAwZHZoO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5ICoge1xcclxcbiAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWY7XFxyXFxuXFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG59XFxyXFxuXFxyXFxuLnRpdGxlIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgaGVpZ2h0OiA1cmVtO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwNDA5O1xcclxcbiAgICBib3JkZXItYm90dG9tOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcbn1cXHJcXG5cXHJcXG4uaGlkZSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbiN0cmFja2VyIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiLyohIExlYWRlckxpbmUgdjEuMS41IChjKSBhbnNla2kgaHR0cHM6Ly9hbnNla2kuZ2l0aHViLmlvL2xlYWRlci1saW5lLyAqL1xudmFyIExlYWRlckxpbmU9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdGUsTSxJLEMsTCxvLHQsaCxmLHAsbixhLGUseCxiLGwscixpLGssdyxzLHUsYyxBPVwibGVhZGVyLWxpbmVcIixWPTEsUD0yLE49MyxUPTQsVz17dG9wOlYscmlnaHQ6UCxib3R0b206TixsZWZ0OlR9LEI9MSxSPTIsRj0zLEc9NCxEPTUsej17c3RyYWlnaHQ6QixhcmM6UixmbHVpZDpGLG1hZ25ldDpHLGdyaWQ6RH0sbmU9XCJiZWhpbmRcIixkPUErXCItZGVmc1wiLHk9JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZlcnNpb249XCIxLjFcIiBpZD1cImxlYWRlci1saW5lLWRlZnNcIj48c3R5bGU+PCFbQ0RBVEFbLmxlYWRlci1saW5le3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OnZpc2libGUhaW1wb3J0YW50O3BvaW50ZXItZXZlbnRzOm5vbmUhaW1wb3J0YW50O2ZvbnQtc2l6ZToxNnB4fSNsZWFkZXItbGluZS1kZWZze3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowfS5sZWFkZXItbGluZS1saW5lLXBhdGh7ZmlsbDpub25lfS5sZWFkZXItbGluZS1tYXNrLWJnLXJlY3R7ZmlsbDojZmZmfS5sZWFkZXItbGluZS1jYXBzLW1hc2stYW5jaG9yLC5sZWFkZXItbGluZS1jYXBzLW1hc2stbWFya2VyLXNoYXBle2ZpbGw6IzAwMH0ubGVhZGVyLWxpbmUtY2Fwcy1tYXNrLWFuY2hvcntzdHJva2U6IzAwMH0ubGVhZGVyLWxpbmUtY2Fwcy1tYXNrLWxpbmUsLmxlYWRlci1saW5lLXBsdWdzLWZhY2V7c3Ryb2tlOnRyYW5zcGFyZW50fS5sZWFkZXItbGluZS1saW5lLW1hc2stc2hhcGV7c3Ryb2tlOiNmZmZ9LmxlYWRlci1saW5lLWxpbmUtb3V0bGluZS1tYXNrLXNoYXBle3N0cm9rZTojMDAwfS5sZWFkZXItbGluZS1wbHVnLW1hc2stc2hhcGV7ZmlsbDojZmZmO3N0cm9rZTojMDAwfS5sZWFkZXItbGluZS1wbHVnLW91dGxpbmUtbWFzay1zaGFwZXtmaWxsOiMwMDA7c3Ryb2tlOiNmZmZ9LmxlYWRlci1saW5lLWFyZWFBbmNob3J7cG9zaXRpb246YWJzb2x1dGU7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnR9XV0+PC9zdHlsZT48ZGVmcz48Y2lyY2xlIGlkPVwibGVhZGVyLWxpbmUtZGlzY1wiIGN4PVwiMFwiIGN5PVwiMFwiIHI9XCI1XCIvPjxyZWN0IGlkPVwibGVhZGVyLWxpbmUtc3F1YXJlXCIgeD1cIi01XCIgeT1cIi01XCIgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIvPjxwb2x5Z29uIGlkPVwibGVhZGVyLWxpbmUtYXJyb3cxXCIgcG9pbnRzPVwiLTgsLTggOCwwIC04LDggLTUsMFwiLz48cG9seWdvbiBpZD1cImxlYWRlci1saW5lLWFycm93MlwiIHBvaW50cz1cIi00LC04IDQsMCAtNCw4IC03LDUgLTIsMCAtNywtNVwiLz48cG9seWdvbiBpZD1cImxlYWRlci1saW5lLWFycm93M1wiIHBvaW50cz1cIi00LC01IDgsMCAtNCw1XCIvPjxnIGlkPVwibGVhZGVyLWxpbmUtaGFuZFwiPjxwYXRoIHN0eWxlPVwiZmlsbDogI2ZjZmNmY1wiIGQ9XCJNOS4xOSAxMS4xNGg0Ljc1YzEuMzggMCAyLjQ5LTEuMTEgMi40OS0yLjQ5IDAtLjUxLS4xNS0uOTgtLjQxLTEuMzdoMS4zYzEuMzggMCAyLjQ5LTEuMTEgMi40OS0yLjQ5cy0xLjExLTIuNTMtMi40OS0yLjUzaDEuMDJjMS4zOCAwIDIuNDktMS4xMSAyLjQ5LTIuNDlzLTEuMTEtMi40OS0yLjQ5LTIuNDloMTQuOTZjMS4zNyAwIDIuNDktMS4xMSAyLjQ5LTIuNDlzLTEuMTEtMi40OS0yLjQ5LTIuNDlIMTYuNThDMTYtOS44NiAxNC4yOC0xMS4xNCA5LjctMTEuMTRjLTQuNzkgMC02LjU1IDMuNDItNy44NyA0LjczSC0yLjE0djEzLjIzaDMuNjhDMy4yOSA5Ljk3IDUuNDcgMTEuMTQgOS4xOSAxMS4xNEw5LjE5IDExLjE0WlwiLz48cGF0aCBzdHlsZT1cImZpbGw6IGJsYWNrXCIgZD1cIk0xMy45NSAxMmMxLjg1IDAgMy4zNS0xLjUgMy4zNS0zLjM1IDAtLjE3LS4wMi0uMzQtLjA0LS41MWguMDdjMS44NSAwIDMuMzUtMS41IDMuMzUtMy4zNSAwLS43OS0uMjctMS41MS0uNzItMi4wOCAxLjAzLS41NyAxLjc0LTEuNjcgMS43NC0yLjkzIDAtLjU5LS4xNi0xLjE1LS40My0xLjYzaDEyLjA0YzEuODUgMCAzLjM1LTEuNSAzLjM1LTMuMzUgMC0xLjg1LTEuNS0zLjM1LTMuMzUtMy4zNUgxNy4yQzE2LjI2LTEwLjkzIDEzLjkxLTEyIDkuNy0xMiA1LjM2LTEyIDMuMjItOS40IDEuOTQtNy44NGMwIDAtLjI5LjMzLS41LjU3LS42MyAwLTMuNTggMC0zLjU4IDBDLTIuNjEtNy4yNy0zLTYuODgtMy02LjQxdjEzLjIzYzAgLjQ3LjM5Ljg2Ljg2Ljg2IDAgMCAyLjQ4IDAgMy4yIDBDMi45IDEwLjczIDUuMjkgMTIgOS4xOSAxMkwxMy45NSAxMlpNOS4xOSAxMC4yOGMtMy40NiAwLTUuMzMtMS4wNS02LjktMy44Ny0uMTUtLjI3LS40NC0uNDQtLjc1LS40NCAwIDAtMS44MSAwLTIuODIgMFYtNS41NWMxLjA2IDAgMy4xMSAwIDMuMTEgMCAuMjUgMCAuNDQtLjA2LjYxLS4yNWwuODMtLjk1YzEuMjMtMS40OSAyLjkxLTMuNTMgNi40My0zLjUzIDMuNDUgMCA0LjkuNzQgNS41NyAxLjcyaC00LjNjLS40OCAwLS44Ni4zOC0uODYuODZzLjM5Ljg2Ljg2Ljg2aDIyLjM0Yy45IDAgMS42My43MyAxLjYzIDEuNjMgMCAuOS0uNzMgMS42My0xLjYzIDEuNjNIMTUuODNjLS40OCAwLS44Ni4zOC0uODYuODYgMCAuNDcuMzkuODYuODYuODZoMi41MmMuOSAwIDEuNjMuNzMgMS42MyAxLjYzcy0uNzMgMS42My0xLjYzIDEuNjNoLTMuMTJjLS40OCAwLS44Ni4zOC0uODYuODYgMCAuNDcuMzkuODYuODYuODZoMi4xMWMuODggMCAxLjYzLjc2IDEuNjMgMS42NyAwIC45LS43MyAxLjYzLTEuNjMgMS42M2gtMy4yYy0uNDggMC0uODYuMzktLjg2Ljg2IDAgLjQ3LjM5Ljg2Ljg2Ljg2aDEuMzZjLjA1LjE2LjA5LjM0LjA5LjUxIDAgLjktLjczIDEuNjMtMS42MyAxLjYzQzEzLjk1IDEwLjI4IDkuMTkgMTAuMjggOS4xOSAxMC4yOFpcIi8+PC9nPjxnIGlkPVwibGVhZGVyLWxpbmUtY3Jvc3NoYWlyXCI+PHBhdGggZD1cIk0wLTc4Ljk3Yy00My41NCAwLTc4Ljk3IDM1LjQzLTc4Ljk3IDc4Ljk3IDAgNDMuNTQgMzUuNDMgNzguOTcgNzguOTcgNzguOTdzNzguOTctMzUuNDMgNzguOTctNzguOTdDNzguOTctNDMuNTQgNDMuNTUtNzguOTcgMC03OC45N1pNNzYuNTEtMS4yMWgtOS45MXYtOS4xMWgtMi40M3Y5LjExaC0xMS40NWMtLjY0LTI4LjEyLTIzLjM4LTUwLjg2LTUxLjUtNTEuNVYtNjQuMTdoOS4xMVYtNjYuNmgtOS4xMXYtOS45MUM0Mi40Ni03NS44NiA3NS44Ni00Mi40NSA3Ni41MS0xLjIxWk0tMS4yMS0zMC43NmgtOS4xMXYyLjQzaDkuMTFWLTQuMmMtMS40NC40Mi0yLjU3IDEuNTQtMi45OCAyLjk4SC0yOC4zM3YtOS4xMWgtMi40M3Y5LjExSC01MC4yOUMtNDkuNjUtMjgtMjcuOTktNDkuNjUtMS4yMS01MC4yOVYtMzAuNzZaTS0zMC43NiAxLjIxdjkuMTFoMi40M3YtOS4xMUgtNC4yYy40MiAxLjQ0IDEuNTQgMi41NyAyLjk4IDIuOTh2MjQuMTNoLTkuMTF2Mi40M2g5LjExdjE5LjUzQy0yNy45OSA0OS42NS00OS42NSAyOC01MC4yOSAxLjIxSC0zMC43NlpNMS4yMiAzMC43NWg5LjExdi0yLjQzaC05LjExVjQuMmMxLjQ0LS40MiAyLjU2LTEuNTQgMi45OC0yLjk4aDI0LjEzdjkuMTFoMi40M3YtOS4xMWgxOS41M0M0OS42NSAyOCAyOCA0OS42NSAxLjIyIDUwLjI5VjMwLjc1Wk0zMC43Ni0xLjIxdi05LjExaC0yLjQzdjkuMTFINC4yYy0uNDItMS40NC0xLjU0LTIuNTYtMi45OC0yLjk4Vi0yOC4zM2g5LjExdi0yLjQzaC05LjExVi01MC4yOUMyOC00OS42NSA0OS42NS0yOCA1MC4yOS0xLjIxSDMwLjc2Wk0tMS4yMS03Ni41MXY5LjkxaC05LjExdjIuNDNoOS4xMXYxMS40NWMtMjguMTIuNjQtNTAuODYgMjMuMzgtNTEuNSA1MS41SC02NC4xN3YtOS4xMUgtNjYuNnY5LjExaC05LjkxQy03NS44Ni00Mi40NS00Mi40NS03NS44Ni0xLjIxLTc2LjUxWk0tNzYuNTEgMS4yMWg5LjkxdjkuMTFoMi40M3YtOS4xMWgxMS40NWMuNjQgMjguMTIgMjMuMzggNTAuODYgNTEuNSA1MS41djExLjQ1aC05LjExdjIuNDNoOS4xMXY5LjkxQy00Mi40NSA3NS44Ni03NS44NiA0Mi40NS03Ni41MSAxLjIxWk0xLjIyIDc2LjUxdi05LjkxaDkuMTF2LTIuNDNoLTkuMTF2LTExLjQ1YzI4LjEyLS42NCA1MC44Ni0yMy4zOCA1MS41LTUxLjVoMTEuNDV2OS4xMWgyLjQzdi05LjExaDkuOTFDNzUuODYgNDIuNDUgNDIuNDUgNzUuODYgMS4yMiA3Ni41MVpcIi8+PHBhdGggZD1cIk0wIDgzLjU4LTcuMSA5NiA3LjEgOTZaXCIvPjxwYXRoIGQ9XCJNMC04My41OCA3LjEtOTYtNy4xLTk2XCIvPjxwYXRoIGQ9XCJNODMuNTggMCA5NiA3LjEgOTYtNy4xWlwiLz48cGF0aCBkPVwiTS04My41OCAwLTk2LTcuMS05NiA3LjFaXCIvPjwvZz48L2RlZnM+PC9zdmc+JyxhZT17ZGlzYzp7ZWxtSWQ6XCJsZWFkZXItbGluZS1kaXNjXCIsbm9Sb3RhdGU6ITAsYkJveDp7bGVmdDotNSx0b3A6LTUsd2lkdGg6MTAsaGVpZ2h0OjEwLHJpZ2h0OjUsYm90dG9tOjV9LHdpZHRoUjoyLjUsaGVpZ2h0UjoyLjUsYkNpcmNsZTo1LHNpZGVMZW46NSxiYWNrTGVuOjUsb3ZlcmhlYWQ6MCxvdXRsaW5lQmFzZToxLG91dGxpbmVNYXg6NH0sc3F1YXJlOntlbG1JZDpcImxlYWRlci1saW5lLXNxdWFyZVwiLG5vUm90YXRlOiEwLGJCb3g6e2xlZnQ6LTUsdG9wOi01LHdpZHRoOjEwLGhlaWdodDoxMCxyaWdodDo1LGJvdHRvbTo1fSx3aWR0aFI6Mi41LGhlaWdodFI6Mi41LGJDaXJjbGU6NSxzaWRlTGVuOjUsYmFja0xlbjo1LG92ZXJoZWFkOjAsb3V0bGluZUJhc2U6MSxvdXRsaW5lTWF4OjR9LGFycm93MTp7ZWxtSWQ6XCJsZWFkZXItbGluZS1hcnJvdzFcIixiQm94OntsZWZ0Oi04LHRvcDotOCx3aWR0aDoxNixoZWlnaHQ6MTYscmlnaHQ6OCxib3R0b206OH0sd2lkdGhSOjQsaGVpZ2h0Ujo0LGJDaXJjbGU6OCxzaWRlTGVuOjgsYmFja0xlbjo4LG92ZXJoZWFkOjgsb3V0bGluZUJhc2U6MixvdXRsaW5lTWF4OjEuNX0sYXJyb3cyOntlbG1JZDpcImxlYWRlci1saW5lLWFycm93MlwiLGJCb3g6e2xlZnQ6LTcsdG9wOi04LHdpZHRoOjExLGhlaWdodDoxNixyaWdodDo0LGJvdHRvbTo4fSx3aWR0aFI6Mi43NSxoZWlnaHRSOjQsYkNpcmNsZTo4LHNpZGVMZW46OCxiYWNrTGVuOjcsb3ZlcmhlYWQ6NCxvdXRsaW5lQmFzZToxLG91dGxpbmVNYXg6MS43NX0sYXJyb3czOntlbG1JZDpcImxlYWRlci1saW5lLWFycm93M1wiLGJCb3g6e2xlZnQ6LTQsdG9wOi01LHdpZHRoOjEyLGhlaWdodDoxMCxyaWdodDo4LGJvdHRvbTo1fSx3aWR0aFI6MyxoZWlnaHRSOjIuNSxiQ2lyY2xlOjgsc2lkZUxlbjo1LGJhY2tMZW46NCxvdmVyaGVhZDo4LG91dGxpbmVCYXNlOjEsb3V0bGluZU1heDoyLjV9LGhhbmQ6e2VsbUlkOlwibGVhZGVyLWxpbmUtaGFuZFwiLGJCb3g6e2xlZnQ6LTMsdG9wOi0xMix3aWR0aDo0MCxoZWlnaHQ6MjQscmlnaHQ6MzcsYm90dG9tOjEyfSx3aWR0aFI6MTAsaGVpZ2h0Ujo2LGJDaXJjbGU6Mzcsc2lkZUxlbjoxMixiYWNrTGVuOjMsb3ZlcmhlYWQ6Mzd9LGNyb3NzaGFpcjp7ZWxtSWQ6XCJsZWFkZXItbGluZS1jcm9zc2hhaXJcIixub1JvdGF0ZTohMCxiQm94OntsZWZ0Oi05Nix0b3A6LTk2LHdpZHRoOjE5MixoZWlnaHQ6MTkyLHJpZ2h0Ojk2LGJvdHRvbTo5Nn0sd2lkdGhSOjQ4LGhlaWdodFI6NDgsYkNpcmNsZTo5NixzaWRlTGVuOjk2LGJhY2tMZW46OTYsb3ZlcmhlYWQ6MH19LGo9e2JlaGluZDpuZSxkaXNjOlwiZGlzY1wiLHNxdWFyZTpcInNxdWFyZVwiLGFycm93MTpcImFycm93MVwiLGFycm93MjpcImFycm93MlwiLGFycm93MzpcImFycm93M1wiLGhhbmQ6XCJoYW5kXCIsY3Jvc3NoYWlyOlwiY3Jvc3NoYWlyXCJ9LGllPXtkaXNjOlwiZGlzY1wiLHNxdWFyZTpcInNxdWFyZVwiLGFycm93MTpcImFycm93MVwiLGFycm93MjpcImFycm93MlwiLGFycm93MzpcImFycm93M1wiLGhhbmQ6XCJoYW5kXCIsY3Jvc3NoYWlyOlwiY3Jvc3NoYWlyXCJ9LEg9W1YsUCxOLFRdLFU9XCJhdXRvXCIsb2U9e3g6XCJsZWZ0XCIseTpcInRvcFwiLHdpZHRoOlwid2lkdGhcIixoZWlnaHQ6XCJoZWlnaHRcIn0sWj04MCxZPTQsWD01LHE9MTIwLFE9OCxLPTMuNzUsSj0xMCwkPTMwLGVlPS41NTIyODQ3LGxlPS4yNSpNYXRoLlBJLG09L15cXHMqKFxcLT9bXFxkXFwuXSspXFxzKihcXCUpP1xccyokLyxyZT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsUz1cIi1tcy1zY3JvbGwtbGltaXRcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmXCItbXMtaW1lLWFsaWduXCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJiF3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQsc2U9IVMmJiEhZG9jdW1lbnQudW5pcXVlSUQsdWU9XCJNb3pBcHBlYXJhbmNlXCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsaGU9IShTfHx1ZXx8IXdpbmRvdy5jaHJvbWV8fCF3aW5kb3cuQ1NTKSxwZT0hUyYmIXNlJiYhdWUmJiFoZSYmIXdpbmRvdy5jaHJvbWUmJlwiV2Via2l0QXBwZWFyYW5jZVwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLGNlPXNlfHxTPy4yOi4xLGRlPXtwYXRoOkYsbGluZUNvbG9yOlwiY29yYWxcIixsaW5lU2l6ZTo0LHBsdWdTRTpbbmUsXCJhcnJvdzFcIl0scGx1Z1NpemVTRTpbMSwxXSxsaW5lT3V0bGluZUVuYWJsZWQ6ITEsbGluZU91dGxpbmVDb2xvcjpcImluZGlhbnJlZFwiLGxpbmVPdXRsaW5lU2l6ZTouMjUscGx1Z091dGxpbmVFbmFibGVkU0U6WyExLCExXSxwbHVnT3V0bGluZVNpemVTRTpbMSwxXX0sZmU9KHM9e30udG9TdHJpbmcsdT17fS5oYXNPd25Qcm9wZXJ0eS50b1N0cmluZyxjPXUuY2FsbChPYmplY3QpLGZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGUmJlwiW29iamVjdCBPYmplY3RdXCI9PT1zLmNhbGwoZSkmJighKHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKXx8KG49dC5oYXNPd25Qcm9wZXJ0eShcImNvbnN0cnVjdG9yXCIpJiZ0LmNvbnN0cnVjdG9yKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmdS5jYWxsKG4pPT09Yyl9KSx5ZT1OdW1iZXIuaXNGaW5pdGV8fGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZ3aW5kb3cuaXNGaW5pdGUoZSl9LGc9KHg9e2Vhc2U6Wy4yNSwuMSwuMjUsMV0sbGluZWFyOlswLDAsMSwxXSxcImVhc2UtaW5cIjpbLjQyLDAsMSwxXSxcImVhc2Utb3V0XCI6WzAsMCwuNTgsMV0sXCJlYXNlLWluLW91dFwiOlsuNDIsMCwuNTgsMV19LGI9MWUzLzYwLzIsbD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSxiKX0scj13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUpfSxpPU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJndpbmRvdy5pc0Zpbml0ZShlKX0saz1bXSx3PTAse2FkZDpmdW5jdGlvbihuLGUsdCxhLGksbyxsKXt2YXIgcixzLHUsaCxwLGMsZCxmLHksbSxTLGcsXyx2PSsrdztmdW5jdGlvbiBFKGUsdCl7cmV0dXJue3ZhbHVlOm4odCksdGltZVJhdGlvOmUsb3V0cHV0UmF0aW86dH19aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPXhbaV0pLG49bnx8ZnVuY3Rpb24oKXt9LHQ8YilzPVtFKDAsMCksRSgxLDEpXTtlbHNle2lmKHU9Yi90LHM9W0UoMCwwKV0sMD09PWlbMF0mJjA9PT1pWzFdJiYxPT09aVsyXSYmMT09PWlbM10pZm9yKHA9dTtwPD0xO3ArPXUpcy5wdXNoKEUocCxwKSk7ZWxzZSBmb3IoYz1oPShwPXUpLzEwO2M8PTE7Yys9aClfPWc9Uz1tPXk9dm9pZCAwLG09KHk9KGY9YykqZikqZixfPTMqKFM9MS1mKSp5LHA8PShkPXt4OihnPVMqUyozKmYpKmlbMF0rXyppWzJdK20seTpnKmlbMV0rXyppWzNdK219KS54JiYocy5wdXNoKEUoZC54LGQueSkpLHArPXUpO3MucHVzaChFKDEsMSkpfXJldHVybiByPXthbmltSWQ6dixmcmFtZUNhbGxiYWNrOmUsZHVyYXRpb246dCxjb3VudDphLGZyYW1lczpzLHJldmVyc2U6ISFvfSxrLnB1c2gociksITEhPT1sJiZrZShyLGwpLHZ9LHJlbW92ZTpmdW5jdGlvbihuKXt2YXIgYTtrLnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hbmltSWQ9PT1uJiYoYT10LCEoZS5mcmFtZXNTdGFydD1udWxsKSl9KSYmay5zcGxpY2UoYSwxKX0sc3RhcnQ6ZnVuY3Rpb24odCxuLGEpe2suc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hbmltSWQ9PT10JiYoZS5yZXZlcnNlPSEhbixrZShlLGEpLCEwKX0pfSxzdG9wOmZ1bmN0aW9uKHQsbil7dmFyIGE7cmV0dXJuIGsuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hbmltSWQ9PT10JiYobj9udWxsIT1lLmxhc3RGcmFtZSYmKGE9ZS5mcmFtZXNbZS5sYXN0RnJhbWVdLnRpbWVSYXRpbyk6KGE9KERhdGUubm93KCktZS5mcmFtZXNTdGFydCkvZS5kdXJhdGlvbixlLnJldmVyc2UmJihhPTEtYSksYTwwP2E9MDoxPGEmJihhPTEpKSwhKGUuZnJhbWVzU3RhcnQ9bnVsbCkpfSksYX0sdmFsaWRUaW1pbmc6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/eFt0XTpBcnJheS5pc0FycmF5KHQpJiZbMCwxLDIsM10uZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGkodFtlXSkmJjA8PXRbZV0mJnRbZV08PTF9KT9bdFswXSx0WzFdLHRbMl0sdFszXV06bnVsbH19KSxfPWZ1bmN0aW9uKGUpe2UuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhJiZlLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5zZXRQYXRoRGF0YXx8ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3N0cmluZz1lLHRoaXMuX2N1cnJlbnRJbmRleD0wLHRoaXMuX2VuZEluZGV4PXRoaXMuX3N0cmluZy5sZW5ndGgsdGhpcy5fcHJldkNvbW1hbmQ9bnVsbCx0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKX12YXIgbz17WjpcIlpcIixNOlwiTVwiLEw6XCJMXCIsQzpcIkNcIixROlwiUVwiLEE6XCJBXCIsSDpcIkhcIixWOlwiVlwiLFM6XCJTXCIsVDpcIlRcIix6OlwiWlwiLG06XCJtXCIsbDpcImxcIixjOlwiY1wiLHE6XCJxXCIsYTpcImFcIixoOlwiaFwiLHY6XCJ2XCIsczpcInNcIix0OlwidFwifSxsPS0xIT09ZS5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIFwiKTtpLnByb3RvdHlwZT17cGFyc2VTZWdtZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0sdD1vW2VdP29bZV06bnVsbDtpZihudWxsPT09dCl7aWYobnVsbD09PXRoaXMuX3ByZXZDb21tYW5kKXJldHVybiBudWxsO2lmKG51bGw9PT0odD0oXCIrXCI9PT1lfHxcIi1cIj09PWV8fFwiLlwiPT09ZXx8XCIwXCI8PWUmJmU8PVwiOVwiKSYmXCJaXCIhPT10aGlzLl9wcmV2Q29tbWFuZD9cIk1cIj09PXRoaXMuX3ByZXZDb21tYW5kP1wiTFwiOlwibVwiPT09dGhpcy5fcHJldkNvbW1hbmQ/XCJsXCI6dGhpcy5fcHJldkNvbW1hbmQ6bnVsbCkpcmV0dXJuIG51bGx9ZWxzZSB0aGlzLl9jdXJyZW50SW5kZXgrPTE7dmFyIG49bnVsbCxhPSh0aGlzLl9wcmV2Q29tbWFuZD10KS50b1VwcGVyQ2FzZSgpO3JldHVyblwiSFwiPT09YXx8XCJWXCI9PT1hP249W3RoaXMuX3BhcnNlTnVtYmVyKCldOlwiTVwiPT09YXx8XCJMXCI9PT1hfHxcIlRcIj09PWE/bj1bdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpXTpcIlNcIj09PWF8fFwiUVwiPT09YT9uPVt0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpXTpcIkNcIj09PWE/bj1bdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCldOlwiQVwiPT09YT9uPVt0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZUFyY0ZsYWcoKSx0aGlzLl9wYXJzZUFyY0ZsYWcoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCldOlwiWlwiPT09YSYmKHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpLG49W10pLG51bGw9PT1ufHwwPD1uLmluZGV4T2YobnVsbCk/bnVsbDp7dHlwZTp0LHZhbHVlczpufX0saGFzTW9yZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4fSxwZWVrU2VnbWVudFR5cGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTtyZXR1cm4gb1tlXT9vW2VdOm51bGx9LGluaXRpYWxDb21tYW5kSXNNb3ZlVG86ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNNb3JlRGF0YSgpKXJldHVybiEwO3ZhciBlPXRoaXMucGVla1NlZ21lbnRUeXBlKCk7cmV0dXJuXCJNXCI9PT1lfHxcIm1cIj09PWV9LF9pc0N1cnJlbnRTcGFjZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO3JldHVybiBlPD1cIiBcIiYmKFwiIFwiPT09ZXx8XCJcXG5cIj09PWV8fFwiXFx0XCI9PT1lfHxcIlxcclwiPT09ZXx8XCJcXGZcIj09PWUpfSxfc2tpcE9wdGlvbmFsU3BhY2VzOmZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJnRoaXMuX2lzQ3VycmVudFNwYWNlKCk7KXRoaXMuX2N1cnJlbnRJbmRleCs9MTtyZXR1cm4gdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4fSxfc2tpcE9wdGlvbmFsU3BhY2VzT3JEZWxpbWl0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hKHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmIXRoaXMuX2lzQ3VycmVudFNwYWNlKCkmJlwiLFwiIT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pJiYodGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCkmJnRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCIsXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSYmKHRoaXMuX2N1cnJlbnRJbmRleCs9MSx0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKSksdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4KX0sX3BhcnNlTnVtYmVyOmZ1bmN0aW9uKCl7dmFyIGU9MCx0PTAsbj0xLGE9MCxpPTEsbz0xLGw9dGhpcy5fY3VycmVudEluZGV4O2lmKHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpLHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCIrXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XT90aGlzLl9jdXJyZW50SW5kZXgrPTE6dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIi1cIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdJiYodGhpcy5fY3VycmVudEluZGV4Kz0xLGk9LTEpLHRoaXMuX2N1cnJlbnRJbmRleD09PXRoaXMuX2VuZEluZGV4fHwodGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF08XCIwXCJ8fFwiOVwiPHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKSYmXCIuXCIhPT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9dGhpcy5fY3VycmVudEluZGV4O3RoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCIwXCI8PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdJiZ0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTw9XCI5XCI7KXRoaXMuX2N1cnJlbnRJbmRleCs9MTtpZih0aGlzLl9jdXJyZW50SW5kZXghPT1yKWZvcih2YXIgcz10aGlzLl9jdXJyZW50SW5kZXgtMSx1PTE7cjw9czspdCs9dSoodGhpcy5fc3RyaW5nW3NdLVwiMFwiKSwtLXMsdSo9MTA7aWYodGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIi5cIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKXtpZih0aGlzLl9jdXJyZW50SW5kZXgrPTEsdGhpcy5fY3VycmVudEluZGV4Pj10aGlzLl9lbmRJbmRleHx8dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF08XCIwXCJ8fFwiOVwiPHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKXJldHVybiBudWxsO2Zvcig7dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIjBcIjw9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0mJnRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdPD1cIjlcIjspbio9MTAsYSs9KHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KS1cIjBcIikvbix0aGlzLl9jdXJyZW50SW5kZXgrPTF9aWYodGhpcy5fY3VycmVudEluZGV4IT09bCYmdGhpcy5fY3VycmVudEluZGV4KzE8dGhpcy5fZW5kSW5kZXgmJihcImVcIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdfHxcIkVcIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKSYmXCJ4XCIhPT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4KzFdJiZcIm1cIiE9PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXgrMV0pe2lmKHRoaXMuX2N1cnJlbnRJbmRleCs9MSxcIitcIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdP3RoaXMuX2N1cnJlbnRJbmRleCs9MTpcIi1cIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdJiYodGhpcy5fY3VycmVudEluZGV4Kz0xLG89LTEpLHRoaXMuX2N1cnJlbnRJbmRleD49dGhpcy5fZW5kSW5kZXh8fHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdPFwiMFwifHxcIjlcIjx0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSlyZXR1cm4gbnVsbDtmb3IoO3RoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCIwXCI8PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdJiZ0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTw9XCI5XCI7KWUqPTEwLGUrPXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdLVwiMFwiLHRoaXMuX2N1cnJlbnRJbmRleCs9MX12YXIgaD10K2E7cmV0dXJuIGgqPWksZSYmKGgqPU1hdGgucG93KDEwLG8qZSkpLGw9PT10aGlzLl9jdXJyZW50SW5kZXg/bnVsbDoodGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzT3JEZWxpbWl0ZXIoKSxoKX0sX3BhcnNlQXJjRmxhZzpmdW5jdGlvbigpe2lmKHRoaXMuX2N1cnJlbnRJbmRleD49dGhpcy5fZW5kSW5kZXgpcmV0dXJuIG51bGw7dmFyIGU9bnVsbCx0PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO2lmKHRoaXMuX2N1cnJlbnRJbmRleCs9MSxcIjBcIj09PXQpZT0wO2Vsc2V7aWYoXCIxXCIhPT10KXJldHVybiBudWxsO2U9MX1yZXR1cm4gdGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzT3JEZWxpbWl0ZXIoKSxlfX07ZnVuY3Rpb24gYShlKXtpZighZXx8MD09PWUubGVuZ3RoKXJldHVybltdO3ZhciB0PW5ldyBpKGUpLG49W107aWYodC5pbml0aWFsQ29tbWFuZElzTW92ZVRvKCkpZm9yKDt0Lmhhc01vcmVEYXRhKCk7KXt2YXIgYT10LnBhcnNlU2VnbWVudCgpO2lmKG51bGw9PT1hKWJyZWFrO24ucHVzaChhKX1yZXR1cm4gbn1mdW5jdGlvbiByKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm57dHlwZTplLnR5cGUsdmFsdWVzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUudmFsdWVzKX19KX1mdW5jdGlvbiBkKGUpe3ZhciBtPVtdLFM9bnVsbCxnPW51bGwsXz1udWxsLHY9bnVsbCxFPW51bGwseD1udWxsLGI9bnVsbDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpLG8sbCxyLHMsdSxoLHAsYyxkLGYseTtcIk1cIj09PWUudHlwZT8oZj1lLnZhbHVlc1swXSx5PWUudmFsdWVzWzFdLG0ucHVzaCh7dHlwZTpcIk1cIix2YWx1ZXM6W2YseV19KSx2PXg9ZixFPWI9eSk6XCJDXCI9PT1lLnR5cGU/KGE9ZS52YWx1ZXNbMF0saT1lLnZhbHVlc1sxXSx0PWUudmFsdWVzWzJdLG49ZS52YWx1ZXNbM10sZj1lLnZhbHVlc1s0XSx5PWUudmFsdWVzWzVdLG0ucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W2EsaSx0LG4sZix5XX0pLGc9dCxfPW4sdj1mLEU9eSk6XCJMXCI9PT1lLnR5cGU/KGY9ZS52YWx1ZXNbMF0seT1lLnZhbHVlc1sxXSxtLnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOltmLHldfSksdj1mLEU9eSk6XCJIXCI9PT1lLnR5cGU/KGY9ZS52YWx1ZXNbMF0sbS5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbZixFXX0pLHY9Zik6XCJWXCI9PT1lLnR5cGU/KHk9ZS52YWx1ZXNbMF0sbS5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbdix5XX0pLEU9eSk6XCJTXCI9PT1lLnR5cGU/KHQ9ZS52YWx1ZXNbMF0sbj1lLnZhbHVlc1sxXSxmPWUudmFsdWVzWzJdLHk9ZS52YWx1ZXNbM10sbD1cIkNcIj09PVN8fFwiU1wiPT09Uz8obz12Kyh2LWcpLEUrKEUtXykpOihvPXYsRSksbS5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbbyxsLHQsbixmLHldfSksZz10LF89bix2PWYsRT15KTpcIlRcIj09PWUudHlwZT8oZj1lLnZhbHVlc1swXSx5PWUudmFsdWVzWzFdLGk9XCJRXCI9PT1TfHxcIlRcIj09PVM/KGE9disodi1nKSxFKyhFLV8pKTooYT12LEUpLG89disyKihhLXYpLzMsbD1FKzIqKGktRSkvMyxyPWYrMiooYS1mKS8zLHM9eSsyKihpLXkpLzMsbS5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbbyxsLHIscyxmLHldfSksZz1hLF89aSx2PWYsRT15KTpcIlFcIj09PWUudHlwZT8oYT1lLnZhbHVlc1swXSxpPWUudmFsdWVzWzFdLGY9ZS52YWx1ZXNbMl0seT1lLnZhbHVlc1szXSxvPXYrMiooYS12KS8zLGw9RSsyKihpLUUpLzMscj1mKzIqKGEtZikvMyxzPXkrMiooaS15KS8zLG0ucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W28sbCxyLHMsZix5XX0pLGc9YSxfPWksdj1mLEU9eSk6XCJBXCI9PT1lLnR5cGU/KHU9ZS52YWx1ZXNbMF0saD1lLnZhbHVlc1sxXSxwPWUudmFsdWVzWzJdLGM9ZS52YWx1ZXNbM10sZD1lLnZhbHVlc1s0XSxmPWUudmFsdWVzWzVdLHk9ZS52YWx1ZXNbNl0sMD09PXV8fDA9PT1oPyhtLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOlt2LEUsZix5LGYseV19KSx2PWYsRT15KTp2PT09ZiYmRT09PXl8fFUodixFLGYseSx1LGgscCxjLGQpLmZvckVhY2goZnVuY3Rpb24oZSl7bS5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczplfSksdj1mLEU9eX0pKTpcIlpcIj09PWUudHlwZSYmKG0ucHVzaChlKSx2PXgsRT1iKSxTPWUudHlwZX0pLG19dmFyIG49ZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlLHM9ZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlLGY9ZS5TeW1ib2w/ZS5TeW1ib2woKTpcIl9fY2FjaGVkUGF0aERhdGFcIix5PWUuU3ltYm9sP2UuU3ltYm9sKCk6XCJfX2NhY2hlZE5vcm1hbGl6ZWRQYXRoRGF0YVwiLFU9ZnVuY3Rpb24oZSx0LG4sYSxpLG8sbCxyLHMsdSl7ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJue3g6ZSpNYXRoLmNvcyhuKS10Kk1hdGguc2luKG4pLHk6ZSpNYXRoLnNpbihuKSt0Kk1hdGguY29zKG4pfX12YXIgcCxjLGQsZix5LG0sUyxnLF8sdixFLHgsYixrLHcsTz0ocD1sLE1hdGguUEkqcC8xODApLE09W107dT8oaz11WzBdLHc9dVsxXSx4PXVbMl0sYj11WzNdKTooZT0oYz1oKGUsdCwtTykpLngsdD1jLnksMTwobT0oZj0oZS0obj0oZD1oKG4sYSwtTykpLngpKS8yKSpmLyhpKmkpKyh5PSh0LShhPWQueSkpLzIpKnkvKG8qbykpJiYoaSo9bT1NYXRoLnNxcnQobSksbyo9bSksXz0oUz1pKmkpKihnPW8qbyktUyp5KnktZypmKmYsdj1TKnkqeStnKmYqZix4PShFPShyPT09cz8tMToxKSpNYXRoLnNxcnQoTWF0aC5hYnMoXy92KSkpKmkqeS9vKyhlK24pLzIsYj1FKi1vKmYvaSsodCthKS8yLGs9TWF0aC5hc2luKHBhcnNlRmxvYXQoKCh0LWIpL28pLnRvRml4ZWQoOSkpKSx3PU1hdGguYXNpbihwYXJzZUZsb2F0KCgoYS1iKS9vKS50b0ZpeGVkKDkpKSksZTx4JiYoaz1NYXRoLlBJLWspLG48eCYmKHc9TWF0aC5QSS13KSxrPDAmJihrPTIqTWF0aC5QSStrKSx3PDAmJih3PTIqTWF0aC5QSSt3KSxzJiZ3PGsmJihrLT0yKk1hdGguUEkpLCFzJiZrPHcmJih3LT0yKk1hdGguUEkpKTt2YXIgSSxDLEwsQT13LWs7TWF0aC5hYnMoQSk+MTIwKk1hdGguUEkvMTgwJiYoST13LEM9bixMPWEsdz1zJiZrPHc/aysxMjAqTWF0aC5QSS8xODAqMTprKzEyMCpNYXRoLlBJLzE4MCotMSxuPXgraSpNYXRoLmNvcyh3KSxhPWIrbypNYXRoLnNpbih3KSxNPVUobixhLEMsTCxpLG8sbCwwLHMsW3csSSx4LGJdKSksQT13LWs7dmFyIFY9TWF0aC5jb3MoayksUD1NYXRoLnNpbihrKSxOPU1hdGguY29zKHcpLFQ9TWF0aC5zaW4odyksVz1NYXRoLnRhbihBLzQpLEI9NC8zKmkqVyxSPTQvMypvKlcsRj1bZSx0XSxHPVtlK0IqUCx0LVIqVl0sRD1bbitCKlQsYS1SKk5dLHo9W24sYV07aWYoR1swXT0yKkZbMF0tR1swXSxHWzFdPTIqRlsxXS1HWzFdLHUpcmV0dXJuW0csRCx6XS5jb25jYXQoTSk7TT1bRyxELHpdLmNvbmNhdChNKS5qb2luKCkuc3BsaXQoXCIsXCIpO3ZhciBqPVtdLEg9W107cmV0dXJuIE0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3QlMj9ILnB1c2goaChNW3QtMV0sTVt0XSxPKS55KTpILnB1c2goaChNW3RdLE1bdCsxXSxPKS54KSw2PT09SC5sZW5ndGgmJihqLnB1c2goSCksSD1bXSl9KSxqfTtlLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtcImRcIj09PWUmJih0aGlzW2ZdPW51bGwsdGhpc1t5XT1udWxsKSxuLmNhbGwodGhpcyxlLHQpfSxlLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oZSx0KXtcImRcIj09PWUmJih0aGlzW2ZdPW51bGwsdGhpc1t5XT1udWxsKSxzLmNhbGwodGhpcyxlKX0sZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oZSl7aWYoZSYmZS5ub3JtYWxpemUpe2lmKHRoaXNbeV0pcmV0dXJuIHIodGhpc1t5XSk7dGhpc1tmXT9uPXIodGhpc1tmXSk6KG49YSh0aGlzLmdldEF0dHJpYnV0ZShcImRcIil8fFwiXCIpLHRoaXNbZl09cihuKSk7dmFyIHQ9ZCgocz1bXSxjPXA9aD11PW51bGwsbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpLG8sbCxyPWUudHlwZTtcIk1cIj09PXI/KG89ZS52YWx1ZXNbMF0sbD1lLnZhbHVlc1sxXSxzLnB1c2goe3R5cGU6XCJNXCIsdmFsdWVzOltvLGxdfSksdT1wPW8saD1jPWwpOlwibVwiPT09cj8obz11K2UudmFsdWVzWzBdLGw9aCtlLnZhbHVlc1sxXSxzLnB1c2goe3R5cGU6XCJNXCIsdmFsdWVzOltvLGxdfSksdT1wPW8saD1jPWwpOlwiTFwiPT09cj8obz1lLnZhbHVlc1swXSxsPWUudmFsdWVzWzFdLHMucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W28sbF19KSx1PW8saD1sKTpcImxcIj09PXI/KG89dStlLnZhbHVlc1swXSxsPWgrZS52YWx1ZXNbMV0scy5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbbyxsXX0pLHU9byxoPWwpOlwiQ1wiPT09cj8odD1lLnZhbHVlc1swXSxuPWUudmFsdWVzWzFdLGE9ZS52YWx1ZXNbMl0saT1lLnZhbHVlc1szXSxvPWUudmFsdWVzWzRdLGw9ZS52YWx1ZXNbNV0scy5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbdCxuLGEsaSxvLGxdfSksdT1vLGg9bCk6XCJjXCI9PT1yPyh0PXUrZS52YWx1ZXNbMF0sbj1oK2UudmFsdWVzWzFdLGE9dStlLnZhbHVlc1syXSxpPWgrZS52YWx1ZXNbM10sbz11K2UudmFsdWVzWzRdLGw9aCtlLnZhbHVlc1s1XSxzLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOlt0LG4sYSxpLG8sbF19KSx1PW8saD1sKTpcIlFcIj09PXI/KHQ9ZS52YWx1ZXNbMF0sbj1lLnZhbHVlc1sxXSxvPWUudmFsdWVzWzJdLGw9ZS52YWx1ZXNbM10scy5wdXNoKHt0eXBlOlwiUVwiLHZhbHVlczpbdCxuLG8sbF19KSx1PW8saD1sKTpcInFcIj09PXI/KHQ9dStlLnZhbHVlc1swXSxuPWgrZS52YWx1ZXNbMV0sbz11K2UudmFsdWVzWzJdLGw9aCtlLnZhbHVlc1szXSxzLnB1c2goe3R5cGU6XCJRXCIsdmFsdWVzOlt0LG4sbyxsXX0pLHU9byxoPWwpOlwiQVwiPT09cj8obz1lLnZhbHVlc1s1XSxsPWUudmFsdWVzWzZdLHMucHVzaCh7dHlwZTpcIkFcIix2YWx1ZXM6W2UudmFsdWVzWzBdLGUudmFsdWVzWzFdLGUudmFsdWVzWzJdLGUudmFsdWVzWzNdLGUudmFsdWVzWzRdLG8sbF19KSx1PW8saD1sKTpcImFcIj09PXI/KG89dStlLnZhbHVlc1s1XSxsPWgrZS52YWx1ZXNbNl0scy5wdXNoKHt0eXBlOlwiQVwiLHZhbHVlczpbZS52YWx1ZXNbMF0sZS52YWx1ZXNbMV0sZS52YWx1ZXNbMl0sZS52YWx1ZXNbM10sZS52YWx1ZXNbNF0sbyxsXX0pLHU9byxoPWwpOlwiSFwiPT09cj8obz1lLnZhbHVlc1swXSxzLnB1c2goe3R5cGU6XCJIXCIsdmFsdWVzOltvXX0pLHU9byk6XCJoXCI9PT1yPyhvPXUrZS52YWx1ZXNbMF0scy5wdXNoKHt0eXBlOlwiSFwiLHZhbHVlczpbb119KSx1PW8pOlwiVlwiPT09cj8obD1lLnZhbHVlc1swXSxzLnB1c2goe3R5cGU6XCJWXCIsdmFsdWVzOltsXX0pLGg9bCk6XCJ2XCI9PT1yPyhsPWgrZS52YWx1ZXNbMF0scy5wdXNoKHt0eXBlOlwiVlwiLHZhbHVlczpbbF19KSxoPWwpOlwiU1wiPT09cj8oYT1lLnZhbHVlc1swXSxpPWUudmFsdWVzWzFdLG89ZS52YWx1ZXNbMl0sbD1lLnZhbHVlc1szXSxzLnB1c2goe3R5cGU6XCJTXCIsdmFsdWVzOlthLGksbyxsXX0pLHU9byxoPWwpOlwic1wiPT09cj8oYT11K2UudmFsdWVzWzBdLGk9aCtlLnZhbHVlc1sxXSxvPXUrZS52YWx1ZXNbMl0sbD1oK2UudmFsdWVzWzNdLHMucHVzaCh7dHlwZTpcIlNcIix2YWx1ZXM6W2EsaSxvLGxdfSksdT1vLGg9bCk6XCJUXCI9PT1yPyhvPWUudmFsdWVzWzBdLGw9ZS52YWx1ZXNbMV0scy5wdXNoKHt0eXBlOlwiVFwiLHZhbHVlczpbbyxsXX0pLHU9byxoPWwpOlwidFwiPT09cj8obz11K2UudmFsdWVzWzBdLGw9aCtlLnZhbHVlc1sxXSxzLnB1c2goe3R5cGU6XCJUXCIsdmFsdWVzOltvLGxdfSksdT1vLGg9bCk6XCJaXCIhPT1yJiZcInpcIiE9PXJ8fChzLnB1c2goe3R5cGU6XCJaXCIsdmFsdWVzOltdfSksdT1wLGg9Yyl9KSxzKSk7cmV0dXJuIHRoaXNbeV09cih0KSx0fWlmKHRoaXNbZl0pcmV0dXJuIHIodGhpc1tmXSk7dmFyIHMsdSxoLHAsYyxuPWEodGhpcy5nZXRBdHRyaWJ1dGUoXCJkXCIpfHxcIlwiKTtyZXR1cm4gdGhpc1tmXT1yKG4pLG59LGUuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLnNldFBhdGhEYXRhPWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClsP3RoaXMuc2V0QXR0cmlidXRlKFwiZFwiLFwiXCIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiZFwiKTtlbHNle2Zvcih2YXIgdD1cIlwiLG49MCxhPWUubGVuZ3RoO248YTtuKz0xKXt2YXIgaT1lW25dOzA8biYmKHQrPVwiIFwiKSx0Kz1pLnR5cGUsaS52YWx1ZXMmJjA8aS52YWx1ZXMubGVuZ3RoJiYodCs9XCIgXCIraS52YWx1ZXMuam9pbihcIiBcIikpfXRoaXMuc2V0QXR0cmlidXRlKFwiZFwiLHQpfX0sZS5TVkdSZWN0RWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy54LmJhc2VWYWwudmFsdWUsbj10aGlzLnkuYmFzZVZhbC52YWx1ZSxhPXRoaXMud2lkdGguYmFzZVZhbC52YWx1ZSxpPXRoaXMuaGVpZ2h0LmJhc2VWYWwudmFsdWUsbz10aGlzLmhhc0F0dHJpYnV0ZShcInJ4XCIpP3RoaXMucnguYmFzZVZhbC52YWx1ZTp0aGlzLnJ5LmJhc2VWYWwudmFsdWUsbD10aGlzLmhhc0F0dHJpYnV0ZShcInJ5XCIpP3RoaXMucnkuYmFzZVZhbC52YWx1ZTp0aGlzLnJ4LmJhc2VWYWwudmFsdWU7YS8yPG8mJihvPWEvMiksaS8yPGwmJihsPWkvMik7dmFyIHI9KHI9W3t0eXBlOlwiTVwiLHZhbHVlczpbdCtvLG5dfSx7dHlwZTpcIkhcIix2YWx1ZXM6W3QrYS1vXX0se3R5cGU6XCJBXCIsdmFsdWVzOltvLGwsMCwwLDEsdCthLG4rbF19LHt0eXBlOlwiVlwiLHZhbHVlczpbbitpLWxdfSx7dHlwZTpcIkFcIix2YWx1ZXM6W28sbCwwLDAsMSx0K2EtbyxuK2ldfSx7dHlwZTpcIkhcIix2YWx1ZXM6W3Qrb119LHt0eXBlOlwiQVwiLHZhbHVlczpbbyxsLDAsMCwxLHQsbitpLWxdfSx7dHlwZTpcIlZcIix2YWx1ZXM6W24rbF19LHt0eXBlOlwiQVwiLHZhbHVlczpbbyxsLDAsMCwxLHQrbyxuXX0se3R5cGU6XCJaXCIsdmFsdWVzOltdfV0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIkFcIiE9PWUudHlwZXx8MCE9PWUudmFsdWVzWzBdJiYwIT09ZS52YWx1ZXNbMV19KTtyZXR1cm4gZSYmITA9PT1lLm5vcm1hbGl6ZSYmKHI9ZChyKSkscn0sZS5TVkdDaXJjbGVFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmN4LmJhc2VWYWwudmFsdWUsbj10aGlzLmN5LmJhc2VWYWwudmFsdWUsYT10aGlzLnIuYmFzZVZhbC52YWx1ZSxpPVt7dHlwZTpcIk1cIix2YWx1ZXM6W3QrYSxuXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGEsMCwwLDEsdCxuK2FdfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsYSwwLDAsMSx0LWEsbl19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxhLDAsMCwxLHQsbi1hXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGEsMCwwLDEsdCthLG5dfSx7dHlwZTpcIlpcIix2YWx1ZXM6W119XTtyZXR1cm4gZSYmITA9PT1lLm5vcm1hbGl6ZSYmKGk9ZChpKSksaX0sZS5TVkdFbGxpcHNlRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jeC5iYXNlVmFsLnZhbHVlLG49dGhpcy5jeS5iYXNlVmFsLnZhbHVlLGE9dGhpcy5yeC5iYXNlVmFsLnZhbHVlLGk9dGhpcy5yeS5iYXNlVmFsLnZhbHVlLG89W3t0eXBlOlwiTVwiLHZhbHVlczpbdCthLG5dfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsaSwwLDAsMSx0LG4raV19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxpLDAsMCwxLHQtYSxuXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGksMCwwLDEsdCxuLWldfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsaSwwLDAsMSx0K2Esbl19LHt0eXBlOlwiWlwiLHZhbHVlczpbXX1dO3JldHVybiBlJiYhMD09PWUubm9ybWFsaXplJiYobz1kKG8pKSxvfSxlLlNWR0xpbmVFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbigpe3JldHVyblt7dHlwZTpcIk1cIix2YWx1ZXM6W3RoaXMueDEuYmFzZVZhbC52YWx1ZSx0aGlzLnkxLmJhc2VWYWwudmFsdWVdfSx7dHlwZTpcIkxcIix2YWx1ZXM6W3RoaXMueDIuYmFzZVZhbC52YWx1ZSx0aGlzLnkyLmJhc2VWYWwudmFsdWVdfV19LGUuU1ZHUG9seWxpbmVFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLnBvaW50cy5udW1iZXJPZkl0ZW1zO3QrPTEpe3ZhciBuPXRoaXMucG9pbnRzLmdldEl0ZW0odCk7ZS5wdXNoKHt0eXBlOjA9PT10P1wiTVwiOlwiTFwiLHZhbHVlczpbbi54LG4ueV19KX1yZXR1cm4gZX0sZS5TVkdQb2x5Z29uRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5wb2ludHMubnVtYmVyT2ZJdGVtczt0Kz0xKXt2YXIgbj10aGlzLnBvaW50cy5nZXRJdGVtKHQpO2UucHVzaCh7dHlwZTowPT09dD9cIk1cIjpcIkxcIix2YWx1ZXM6W24ueCxuLnldfSl9cmV0dXJuIGUucHVzaCh7dHlwZTpcIlpcIix2YWx1ZXM6W119KSxlfX0oKX0sdj0oYT17fSx4ZS5tPW49W2Z1bmN0aW9uKGUsdCxuKXtuLnIodCk7dmFyIGE9NTAwLGk9W10sbz13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGUsMWUzLzYwKX0sbD13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7cmV0dXJuIGNsZWFyVGltZW91dChlKX0scj1EYXRlLm5vdygpLHM9dm9pZCAwO2Z1bmN0aW9uIHUoKXt2YXIgbj12b2lkIDAsZT12b2lkIDA7cyYmKGwuY2FsbCh3aW5kb3cscykscz1udWxsKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9ZS5ldmVudCkmJihlLmV2ZW50PW51bGwsZS5saXN0ZW5lcih0KSxuPSEwKX0pLG4/KHI9RGF0ZS5ub3coKSxlPSEwKTpEYXRlLm5vdygpLXI8YSYmKGU9ITApLGUmJihzPW8uY2FsbCh3aW5kb3csdSkpfWZ1bmN0aW9uIGgobil7dmFyIGE9LTE7cmV0dXJuIGkuc29tZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVyPT09biYmKGE9dCwhMCl9KSxhfXZhciBwPXthZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwO3JldHVybi0xPT09aChlKT8oaS5wdXNoKHQ9e2xpc3RlbmVyOmV9KSxmdW5jdGlvbihlKXt0LmV2ZW50PWUsc3x8dSgpfSk6bnVsbH0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0Oy0xPCh0PWgoZSkpJiYoaS5zcGxpY2UodCwxKSwhaS5sZW5ndGgmJnMmJihsLmNhbGwod2luZG93LHMpLHM9bnVsbCkpfX07dC5kZWZhdWx0PXB9XSx4ZS5jPWEseGUuZD1mdW5jdGlvbihlLHQsbil7eGUubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LHhlLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0seGUudD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9eGUodCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtpZih4ZS5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgYSBpbiB0KXhlLmQobixhLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsYSkpO3JldHVybiBufSx4ZS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB4ZS5kKHQsXCJhXCIsdCksdH0seGUubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0seGUucD1cIlwiLHhlKHhlLnM9MCkuZGVmYXVsdCksbWU9e2xpbmVfYWx0Q29sb3I6e2luaVZhbHVlOiExfSxsaW5lX2NvbG9yOnt9LGxpbmVfY29sb3JUcmE6e2luaVZhbHVlOiExfSxsaW5lX3N0cm9rZVdpZHRoOnt9LHBsdWdfZW5hYmxlZDp7aW5pVmFsdWU6ITF9LHBsdWdfZW5hYmxlZFNFOntoYXNTRTohMCxpbmlWYWx1ZTohMX0scGx1Z19wbHVnU0U6e2hhc1NFOiEwLGluaVZhbHVlOm5lfSxwbHVnX2NvbG9yU0U6e2hhc1NFOiEwfSxwbHVnX2NvbG9yVHJhU0U6e2hhc1NFOiEwLGluaVZhbHVlOiExfSxwbHVnX21hcmtlcldpZHRoU0U6e2hhc1NFOiEwfSxwbHVnX21hcmtlckhlaWdodFNFOntoYXNTRTohMH0sbGluZU91dGxpbmVfZW5hYmxlZDp7aW5pVmFsdWU6ITF9LGxpbmVPdXRsaW5lX2NvbG9yOnt9LGxpbmVPdXRsaW5lX2NvbG9yVHJhOntpbmlWYWx1ZTohMX0sbGluZU91dGxpbmVfc3Ryb2tlV2lkdGg6e30sbGluZU91dGxpbmVfaW5TdHJva2VXaWR0aDp7fSxwbHVnT3V0bGluZV9lbmFibGVkU0U6e2hhc1NFOiEwLGluaVZhbHVlOiExfSxwbHVnT3V0bGluZV9wbHVnU0U6e2hhc1NFOiEwLGluaVZhbHVlOm5lfSxwbHVnT3V0bGluZV9jb2xvclNFOntoYXNTRTohMH0scGx1Z091dGxpbmVfY29sb3JUcmFTRTp7aGFzU0U6ITAsaW5pVmFsdWU6ITF9LHBsdWdPdXRsaW5lX3N0cm9rZVdpZHRoU0U6e2hhc1NFOiEwfSxwbHVnT3V0bGluZV9pblN0cm9rZVdpZHRoU0U6e2hhc1NFOiEwfSxwb3NpdGlvbl9zb2NrZXRYWVNFOntoYXNTRTohMCxoYXNQcm9wczohMH0scG9zaXRpb25fcGx1Z092ZXJoZWFkU0U6e2hhc1NFOiEwfSxwb3NpdGlvbl9wYXRoOnt9LHBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aDp7fSxwb3NpdGlvbl9zb2NrZXRHcmF2aXR5U0U6e2hhc1NFOiEwfSxwYXRoX3BhdGhEYXRhOnt9LHBhdGhfZWRnZTp7aGFzUHJvcHM6ITB9LHZpZXdCb3hfYkJveDp7aGFzUHJvcHM6ITB9LHZpZXdCb3hfcGx1Z0JDaXJjbGVTRTp7aGFzU0U6ITB9LGxpbmVNYXNrX2VuYWJsZWQ6e2luaVZhbHVlOiExfSxsaW5lTWFza19vdXRsaW5lTW9kZTp7aW5pVmFsdWU6ITF9LGxpbmVNYXNrX3g6e30sbGluZU1hc2tfeTp7fSxsaW5lT3V0bGluZU1hc2tfeDp7fSxsaW5lT3V0bGluZU1hc2tfeTp7fSxtYXNrQkdSZWN0X3g6e30sbWFza0JHUmVjdF95Ont9LGNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRTp7aGFzU0U6ITAsaW5pVmFsdWU6ITF9LGNhcHNNYXNrQW5jaG9yX3BhdGhEYXRhU0U6e2hhc1NFOiEwfSxjYXBzTWFza0FuY2hvcl9zdHJva2VXaWR0aFNFOntoYXNTRTohMH0sY2Fwc01hc2tNYXJrZXJfZW5hYmxlZDp7aW5pVmFsdWU6ITF9LGNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRTp7aGFzU0U6ITAsaW5pVmFsdWU6ITF9LGNhcHNNYXNrTWFya2VyX3BsdWdTRTp7aGFzU0U6ITAsaW5pVmFsdWU6bmV9LGNhcHNNYXNrTWFya2VyX21hcmtlcldpZHRoU0U6e2hhc1NFOiEwfSxjYXBzTWFza01hcmtlcl9tYXJrZXJIZWlnaHRTRTp7aGFzU0U6ITB9LGNhcHNfZW5hYmxlZDp7aW5pVmFsdWU6ITF9LGF0dGFjaF9wbHVnU2lkZUxlblNFOntoYXNTRTohMH0sYXR0YWNoX3BsdWdCYWNrTGVuU0U6e2hhc1NFOiEwfX0sRT17c2hvd19vbjp7fSxzaG93X2VmZmVjdDp7fSxzaG93X2FuaW1PcHRpb25zOnt9LHNob3dfYW5pbUlkOnt9LHNob3dfaW5BbmltOnt9fSxPPVwiZmFkZVwiLFNlPVtdLGdlPXt9LF9lPTAsdmU9e30sRWU9MDtmdW5jdGlvbiB4ZShlKXtpZihhW2VdKXJldHVybiBhW2VdLmV4cG9ydHM7dmFyIHQ9YVtlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG5bZV0uY2FsbCh0LmV4cG9ydHMsdCx0LmV4cG9ydHMseGUpLHQubD0hMCx0LmV4cG9ydHN9ZnVuY3Rpb24gYmUoKXt2YXIgaT1EYXRlLm5vdygpLG89ITE7ZSYmKHIuY2FsbCh3aW5kb3csZSksZT1udWxsKSxrLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixhO2lmKGUuZnJhbWVzU3RhcnQpe2lmKCh0PWktZS5mcmFtZXNTdGFydCk+PWUuZHVyYXRpb24mJmUuY291bnQmJmUubG9vcHNMZWZ0PD0xKXJldHVybiBhPWUuZnJhbWVzW2UubGFzdEZyYW1lPWUucmV2ZXJzZT8wOmUuZnJhbWVzLmxlbmd0aC0xXSxlLmZyYW1lQ2FsbGJhY2soYS52YWx1ZSwhMCxhLnRpbWVSYXRpbyxhLm91dHB1dFJhdGlvKSx2b2lkKGUuZnJhbWVzU3RhcnQ9bnVsbCk7aWYodD5lLmR1cmF0aW9uKXtpZihuPU1hdGguZmxvb3IodC9lLmR1cmF0aW9uKSxlLmNvdW50KXtpZihuPj1lLmxvb3BzTGVmdClyZXR1cm4gYT1lLmZyYW1lc1tlLmxhc3RGcmFtZT1lLnJldmVyc2U/MDplLmZyYW1lcy5sZW5ndGgtMV0sZS5mcmFtZUNhbGxiYWNrKGEudmFsdWUsITAsYS50aW1lUmF0aW8sYS5vdXRwdXRSYXRpbyksdm9pZChlLmZyYW1lc1N0YXJ0PW51bGwpO2UubG9vcHNMZWZ0LT1ufWUuZnJhbWVzU3RhcnQrPWUuZHVyYXRpb24qbix0PWktZS5mcmFtZXNTdGFydH1lLnJldmVyc2UmJih0PWUuZHVyYXRpb24tdCksYT1lLmZyYW1lc1tlLmxhc3RGcmFtZT1NYXRoLnJvdW5kKHQvYildLCExIT09ZS5mcmFtZUNhbGxiYWNrKGEudmFsdWUsITEsYS50aW1lUmF0aW8sYS5vdXRwdXRSYXRpbyk/bz0hMDplLmZyYW1lc1N0YXJ0PW51bGx9fSksbyYmKGU9bC5jYWxsKHdpbmRvdyxiZSkpfWZ1bmN0aW9uIGtlKGUsdCl7ZS5mcmFtZXNTdGFydD1EYXRlLm5vdygpLG51bGwhPXQmJihlLmZyYW1lc1N0YXJ0LT1lLmR1cmF0aW9uKihlLnJldmVyc2U/MS10OnQpKSxlLmxvb3BzTGVmdD1lLmNvdW50LGUubGFzdEZyYW1lPW51bGwsYmUoKX1mdW5jdGlvbiB3ZSh0LG4pe3ZhciBlLGE7cmV0dXJuIHR5cGVvZiB0IT10eXBlb2Ygbnx8KGU9ZmUodCk/XCJvYmpcIjpBcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjpcIlwiKSE9KGZlKG4pP1wib2JqXCI6QXJyYXkuaXNBcnJheShuKT9cImFycmF5XCI6XCJcIil8fChcIm9ialwiPT09ZT93ZShhPU9iamVjdC5rZXlzKHQpLnNvcnQoKSxPYmplY3Qua2V5cyhuKS5zb3J0KCkpfHxhLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHdlKHRbZV0sbltlXSl9KTpcImFycmF5XCI9PT1lP3QubGVuZ3RoIT09bi5sZW5ndGh8fHQuc29tZShmdW5jdGlvbihlLHQpe3JldHVybiB3ZShlLG5bdF0pfSk6dCE9PW4pfWZ1bmN0aW9uIE9lKG4pe3JldHVybiBuP2ZlKG4pP09iamVjdC5rZXlzKG4pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPU9lKG5bdF0pLGV9LHt9KTpBcnJheS5pc0FycmF5KG4pP24ubWFwKE9lKTpuOm59ZnVuY3Rpb24gTWUoZSl7dmFyIHQsbixhLGk9MSxvPWU9KGUrXCJcIikudHJpbSgpO2Z1bmN0aW9uIGwoZSl7dmFyIHQ9MSxuPW0uZXhlYyhlKTtyZXR1cm4gbiYmKHQ9cGFyc2VGbG9hdChuWzFdKSxuWzJdP3Q9MDw9dCYmdDw9MTAwP3QvMTAwOjE6KHQ8MHx8MTx0KSYmKHQ9MSkpLHR9cmV0dXJuKHQ9L14ocmdiYXxoc2xhfGh3YnxncmF5fGRldmljZVxcLWNteWspXFxzKlxcKChbXFxzXFxTXSspXFwpJC9pLmV4ZWMoZSkpPyhuPXRbMV0udG9Mb3dlckNhc2UoKSxhPXRbMl0udHJpbSgpLnNwbGl0KC9cXHMqLFxccyovKSxcInJnYmFcIj09PW4mJjQ9PT1hLmxlbmd0aD8oaT1sKGFbM10pLG89XCJyZ2IoXCIrYS5zbGljZSgwLDMpLmpvaW4oXCIsIFwiKStcIilcIik6XCJoc2xhXCI9PT1uJiY0PT09YS5sZW5ndGg/KGk9bChhWzNdKSxvPVwiaHNsKFwiK2Euc2xpY2UoMCwzKS5qb2luKFwiLCBcIikrXCIpXCIpOlwiaHdiXCI9PT1uJiY0PT09YS5sZW5ndGg/KGk9bChhWzNdKSxvPVwiaHdiKFwiK2Euc2xpY2UoMCwzKS5qb2luKFwiLCBcIikrXCIpXCIpOlwiZ3JheVwiPT09biYmMj09PWEubGVuZ3RoPyhpPWwoYVsxXSksbz1cImdyYXkoXCIrYVswXStcIilcIik6XCJkZXZpY2UtY215a1wiPT09biYmNTw9YS5sZW5ndGgmJihpPWwoYVs0XSksbz1cImRldmljZS1jbXlrKFwiK2Euc2xpY2UoMCw0KS5qb2luKFwiLCBcIikrXCIpXCIpKToodD0vXlxcIyg/OihbXFxkYS1mXXs2fSkoW1xcZGEtZl17Mn0pfChbXFxkYS1mXXszfSkoW1xcZGEtZl0pKSQvaS5leGVjKGUpKT9vPXRbMV0/KGk9cGFyc2VJbnQodFsyXSwxNikvMjU1LFwiI1wiK3RbMV0pOihpPXBhcnNlSW50KHRbNF0rdFs0XSwxNikvMjU1LFwiI1wiK3RbM10pOlwidHJhbnNwYXJlbnRcIj09PWUudG9Mb2NhbGVMb3dlckNhc2UoKSYmKGk9MCksW2ksb119ZnVuY3Rpb24gSWUoZSl7cmV0dXJuISghZXx8ZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl9ZnVuY3Rpb24gQ2UoZSx0KXt2YXIgbixhLGksbyxsPXt9O2lmKCEoaT1lLm93bmVyRG9jdW1lbnQpKXJldHVybiBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGdldCBkb2N1bWVudCB0aGF0IGNvbnRhaW5zIHRoZSBlbGVtZW50LlwiKSxudWxsO2lmKGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaSkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9ESVNDT05ORUNURUQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJBIGRpc2Nvbm5lY3RlZCBlbGVtZW50IHdhcyBwYXNzZWQuXCIpLG51bGw7Zm9yKGEgaW4gbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKWxbYV09blthXTtpZighdCl7aWYoIShvPWkuZGVmYXVsdFZpZXcpKXJldHVybiBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGdldCB3aW5kb3cgdGhhdCBjb250YWlucyB0aGUgZWxlbWVudC5cIiksbnVsbDtsLmxlZnQrPW8ucGFnZVhPZmZzZXQsbC5yaWdodCs9by5wYWdlWE9mZnNldCxsLnRvcCs9by5wYWdlWU9mZnNldCxsLmJvdHRvbSs9by5wYWdlWU9mZnNldH1yZXR1cm4gbH1mdW5jdGlvbiBMZShlLHQpe3ZhciBuLGEsaT1bXSxvPWU7Zm9yKHQ9dHx8d2luZG93Ozspe2lmKCEobj1vLm93bmVyRG9jdW1lbnQpKXJldHVybiBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGdldCBkb2N1bWVudCB0aGF0IGNvbnRhaW5zIHRoZSBlbGVtZW50LlwiKSxudWxsO2lmKCEoYT1uLmRlZmF1bHRWaWV3KSlyZXR1cm4gY29uc29sZS5lcnJvcihcIkNhbm5vdCBnZXQgd2luZG93IHRoYXQgY29udGFpbnMgdGhlIGVsZW1lbnQuXCIpLG51bGw7aWYoYT09PXQpYnJlYWs7aWYoIShvPWEuZnJhbWVFbGVtZW50KSlyZXR1cm4gY29uc29sZS5lcnJvcihcImBiYXNlV2luZG93YCB3YXMgbm90IGZvdW5kLlwiKSxudWxsO2kudW5zaGlmdChvKX1yZXR1cm4gaX1mdW5jdGlvbiBBZShlLHQpe3ZhciBuLGEsbz0wLGw9MDtyZXR1cm4oYT1MZShlLHQ9dHx8d2luZG93KSk/YS5sZW5ndGg/KGEuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuLGEsaT1DZShlLDA8dCk7bys9aS5sZWZ0LGwrPWkudG9wLGE9KG49ZSkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG4sXCJcIiksaT17bGVmdDpuLmNsaWVudExlZnQrcGFyc2VGbG9hdChhLnBhZGRpbmdMZWZ0KSx0b3A6bi5jbGllbnRUb3ArcGFyc2VGbG9hdChhLnBhZGRpbmdUb3ApfSxvKz1pLmxlZnQsbCs9aS50b3B9KSwobj1DZShlLCEwKSkubGVmdCs9byxuLnJpZ2h0Kz1vLG4udG9wKz1sLG4uYm90dG9tKz1sLG4pOkNlKGUpOm51bGx9ZnVuY3Rpb24gVmUoZSx0KXt2YXIgbj1lLngtdC54LGE9ZS55LXQueTtyZXR1cm4gTWF0aC5zcXJ0KG4qbithKmEpfWZ1bmN0aW9uIFBlKGUsdCxuKXt2YXIgYT10LngtZS54LGk9dC55LWUueTtyZXR1cm57eDplLngrYSpuLHk6ZS55K2kqbixhbmdsZTpNYXRoLmF0YW4yKGksYSkvKE1hdGguUEkvMTgwKX19ZnVuY3Rpb24gTmUoZSx0LG4pe3ZhciBhPU1hdGguYXRhbjIoZS55LXQueSx0LngtZS54KTtyZXR1cm57eDp0LngrTWF0aC5jb3MoYSkqbix5OnQueStNYXRoLnNpbihhKSpuKi0xfX1mdW5jdGlvbiBUZShlLHQsbixhLGkpe3ZhciBvPWkqaSxsPW8qaSxyPTEtaSxzPXIqcix1PXMqcixoPXUqZS54KzMqcyppKnQueCszKnIqbypuLngrbCphLngscD11KmUueSszKnMqaSp0LnkrMypyKm8qbi55K2wqYS55LGM9ZS54KzIqaSoodC54LWUueCkrbyoobi54LTIqdC54K2UueCksZD1lLnkrMippKih0LnktZS55KStvKihuLnktMip0LnkrZS55KSxmPXQueCsyKmkqKG4ueC10LngpK28qKGEueC0yKm4ueCt0LngpLHk9dC55KzIqaSoobi55LXQueSkrbyooYS55LTIqbi55K3QueSksbT1yKmUueCtpKnQueCxTPXIqZS55K2kqdC55LGc9cipuLngraSphLngsXz1yKm4ueStpKmEueSx2PTkwLTE4MCpNYXRoLmF0YW4yKGMtZixkLXkpL01hdGguUEk7cmV0dXJue3g6aCx5OnAsZnJvbVAyOnt4OmMseTpkfSx0b1AxOnt4OmYseTp5fSxmcm9tUDE6e3g6bSx5OlN9LHRvUDI6e3g6Zyx5Ol99LGFuZ2xlOnYrPTE4MDx2Py0xODA6MTgwfX1mdW5jdGlvbiBXZShuLGEsaSxvLGUpe2Z1bmN0aW9uIGwoZSx0LG4sYSxpKXtyZXR1cm4gZSooZSooLTMqdCs5Km4tOSphKzMqaSkrNip0LTEyKm4rNiphKS0zKnQrMypufXZhciByLHMsdSxoLHA9Wy4yNDkxLC4yNDkxLC4yMzM1LC4yMzM1LC4yMDMyLC4yMDMyLC4xNjAxLC4xNjAxLC4xMDY5LC4xMDY5LC4wNDcyLC4wNDcyXSxjPTAsZD0oZT1udWxsPT1lfHwxPGU/MTplPDA/MDplKS8yO3JldHVyblstLjEyNTIsLjEyNTIsLS4zNjc4LC4zNjc4LC0uNTg3MywuNTg3MywtLjc2OTksLjc2OTksLS45MDQxLC45MDQxLC0uOTgxNiwuOTgxNl0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3M9bChyPWQqZStkLG4ueCxhLngsaS54LG8ueCksdT1sKHIsbi55LGEueSxpLnksby55KSxoPXMqcyt1KnUsYys9cFt0XSpNYXRoLnNxcnQoaCl9KSxkKmN9ZnVuY3Rpb24gQmUoZSx0LG4sYSxpKXtmb3IodmFyIG8sbD0uNSxyPTEtbDtvPVdlKGUsdCxuLGEsciksIShNYXRoLmFicyhvLWkpPD0uMDEpOylyKz0obzxpPzE6LTEpKihsLz0yKTtyZXR1cm4gcn1mdW5jdGlvbiBSZShlLG4pe3ZhciBhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bj9lLm1hcChmdW5jdGlvbihlKXt2YXIgdD17eDplLngseTplLnl9O3JldHVybiBuKHQpLHR9KTplOyhhPWF8fFt7dHlwZTpcIk1cIix2YWx1ZXM6W3RbMF0ueCx0WzBdLnldfV0pLnB1c2godC5sZW5ndGg/Mj09PXQubGVuZ3RoP3t0eXBlOlwiTFwiLHZhbHVlczpbdFsxXS54LHRbMV0ueV19Ont0eXBlOlwiQ1wiLHZhbHVlczpbdFsxXS54LHRbMV0ueSx0WzJdLngsdFsyXS55LHRbM10ueCx0WzNdLnldfTp7dHlwZTpcIlpcIix2YWx1ZXM6W119KX0pLGF9ZnVuY3Rpb24gRmUoZSl7dmFyIG49W10sYT0wO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KDI9PT1lLmxlbmd0aD9WZTpXZSkuYXBwbHkobnVsbCxlKTtuLnB1c2godCksYSs9dH0pLHtzZWdzTGVuOm4sbGVuQWxsOmF9fWZ1bmN0aW9uIEdlKGUsYSl7cmV0dXJuIG51bGw9PWV8fG51bGw9PWF8fGUubGVuZ3RoIT09YS5sZW5ndGh8fGUuc29tZShmdW5jdGlvbihlLHQpe3ZhciBuPWFbdF07cmV0dXJuIGUudHlwZSE9PW4udHlwZXx8ZS52YWx1ZXMuc29tZShmdW5jdGlvbihlLHQpe3JldHVybiBlIT09bi52YWx1ZXNbdF19KX0pfWZ1bmN0aW9uIERlKGUsdCxuKXtlLmV2ZW50c1t0XT9lLmV2ZW50c1t0XS5pbmRleE9mKG4pPDAmJmUuZXZlbnRzW3RdLnB1c2gobik6ZS5ldmVudHNbdF09W25dfWZ1bmN0aW9uIHplKGUsdCxuKXt2YXIgYTtlLmV2ZW50c1t0XSYmLTE8KGE9ZS5ldmVudHNbdF0uaW5kZXhPZihuKSkmJmUuZXZlbnRzW3RdLnNwbGljZShhLDEpfWZ1bmN0aW9uIGplKGUpe3QmJmNsZWFyVGltZW91dCh0KSxTZS5wdXNoKGUpLHQ9c2V0VGltZW91dChmdW5jdGlvbigpe1NlLmZvckVhY2goZnVuY3Rpb24oZSl7ZSgpfSksU2U9W119LDApfWZ1bmN0aW9uIEhlKGUsdCl7ZS5yZWZsb3dUYXJnZXRzLmluZGV4T2YodCk8MCYmZS5yZWZsb3dUYXJnZXRzLnB1c2godCl9ZnVuY3Rpb24gVWUoZSl7ZS5yZWZsb3dUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG47bj1lLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1uLnBhcmVudE5vZGUsdD1uLm5leHRTaWJsaW5nO2UuaW5zZXJ0QmVmb3JlKGUucmVtb3ZlQ2hpbGQobiksdCl9LDApfSksZS5yZWZsb3dUYXJnZXRzPVtdfWZ1bmN0aW9uIFplKGUsdCxuLGEsaSxvLGwpe3ZhciByLHMsdTtcImF1dG8tc3RhcnQtcmV2ZXJzZVwiPT09bj8oXCJib29sZWFuXCIhPXR5cGVvZiBoJiYodC5zZXRBdHRyaWJ1dGUoXCJvcmllbnRcIixcImF1dG8tc3RhcnQtcmV2ZXJzZVwiKSxoPXQub3JpZW50VHlwZS5iYXNlVmFsPT09U1ZHTWFya2VyRWxlbWVudC5TVkdfTUFSS0VSX09SSUVOVF9VTktOT1dOKSxoP3Quc2V0QXR0cmlidXRlKFwib3JpZW50XCIsbik6KChyPWkuY3JlYXRlU1ZHVHJhbnNmb3JtKCkpLnNldFJvdGF0ZSgxODAsMCwwKSxvLnRyYW5zZm9ybS5iYXNlVmFsLmFwcGVuZEl0ZW0ociksdC5zZXRBdHRyaWJ1dGUoXCJvcmllbnRcIixcImF1dG9cIiksdT0hMCkpOih0LnNldEF0dHJpYnV0ZShcIm9yaWVudFwiLG4pLCExPT09aCYmby50cmFuc2Zvcm0uYmFzZVZhbC5jbGVhcigpKSxzPXQudmlld0JveC5iYXNlVmFsLHU/KHMueD0tYS5yaWdodCxzLnk9LWEuYm90dG9tKToocy54PWEubGVmdCxzLnk9YS50b3ApLHMud2lkdGg9YS53aWR0aCxzLmhlaWdodD1hLmhlaWdodCxzZSYmSGUoZSxsKX1mdW5jdGlvbiBZZShlLHQpe3JldHVybntwcm9wOmU/XCJtYXJrZXJFbmRcIjpcIm1hcmtlclN0YXJ0XCIsb3JpZW50OnQ/dC5ub1JvdGF0ZT9cIjBcIjplP1wiYXV0b1wiOlwiYXV0by1zdGFydC1yZXZlcnNlXCI6bnVsbH19ZnVuY3Rpb24gWGUobixhKXtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWFbZV07bltlXT1udWxsIT10LmluaVZhbHVlP3QuaGFzU0U/W3QuaW5pVmFsdWUsdC5pbmlWYWx1ZV06dC5pbmlWYWx1ZTp0Lmhhc1NFP3QuaGFzUHJvcHM/W3t9LHt9XTpbXTp0Lmhhc1Byb3BzP3t9Om51bGx9KX1mdW5jdGlvbiBxZSh0LGUsbixhLGkpe3JldHVybiBhIT09ZVtuXSYmKGVbbl09YSxpJiZpLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh0LGEsbil9KSwhMCl9ZnVuY3Rpb24gUWUoZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiBlK3BhcnNlRmxvYXQodCl9dmFyIG49ZS5kb2N1bWVudCxhPWUuZ2V0Q29tcHV0ZWRTdHlsZShuLmRvY3VtZW50RWxlbWVudCxcIlwiKSxpPWUuZ2V0Q29tcHV0ZWRTdHlsZShuLmJvZHksXCJcIiksbz17eDowLHk6MH07cmV0dXJuXCJzdGF0aWNcIiE9PWkucG9zaXRpb24/KG8ueC09W2EubWFyZ2luTGVmdCxhLmJvcmRlckxlZnRXaWR0aCxhLnBhZGRpbmdMZWZ0LGkubWFyZ2luTGVmdCxpLmJvcmRlckxlZnRXaWR0aF0ucmVkdWNlKHQsMCksby55LT1bYS5tYXJnaW5Ub3AsYS5ib3JkZXJUb3BXaWR0aCxhLnBhZGRpbmdUb3AsaS5tYXJnaW5Ub3AsaS5ib3JkZXJUb3BXaWR0aF0ucmVkdWNlKHQsMCkpOlwic3RhdGljXCIhPT1hLnBvc2l0aW9uJiYoby54LT1bYS5tYXJnaW5MZWZ0LGEuYm9yZGVyTGVmdFdpZHRoXS5yZWR1Y2UodCwwKSxvLnktPVthLm1hcmdpblRvcCxhLmJvcmRlclRvcFdpZHRoXS5yZWR1Y2UodCwwKSksb31mdW5jdGlvbiBLZShlKXt2YXIgdCxuPWUuZG9jdW1lbnQ7bi5nZXRFbGVtZW50QnlJZChkKXx8KHQ9KG5ldyBlLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHksXCJpbWFnZS9zdmcreG1sXCIpLG4uYm9keS5hcHBlbmRDaGlsZCh0LmRvY3VtZW50RWxlbWVudCksXyhlKSl9ZnVuY3Rpb24gSmUodSl7dmFyIF8sZix2LGUsbixhLGkseSxzLGgscCx0LG8sbCxyLGMsZCxtLFMsZz11Lm9wdGlvbnMsRT11LmN1clN0YXRzLHg9dS5hcGxTdGF0cyxiPUUucG9zaXRpb25fc29ja2V0WFlTRSxrPSExO2Z1bmN0aW9uIHcoZSx0KXt2YXIgbj10PT09Vj97eDplLmxlZnQrZS53aWR0aC8yLHk6ZS50b3B9OnQ9PT1QP3t4OmUucmlnaHQseTplLnRvcCtlLmhlaWdodC8yfTp0PT09Tj97eDplLmxlZnQrZS53aWR0aC8yLHk6ZS5ib3R0b219Ont4OmUubGVmdCx5OmUudG9wK2UuaGVpZ2h0LzJ9O3JldHVybiBuLnNvY2tldElkPXQsbn1mdW5jdGlvbiBPKGUpe3JldHVybnt4OmUueCx5OmUueX19aWYoRS5wb3NpdGlvbl9wYXRoPWcucGF0aCxFLnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aD1FLmxpbmVfc3Ryb2tlV2lkdGgsRS5wb3NpdGlvbl9zb2NrZXRHcmF2aXR5U0U9Xz1PZShnLnNvY2tldEdyYXZpdHlTRSksZj1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQsbixhLGk9Zy5hbmNob3JTRVtlXSxvPXUub3B0aW9uSXNBdHRhY2guYW5jaG9yU0VbZV0sbD0hMSE9PW8/dmVbaS5faWRdOm51bGwscj0hMSE9PW8mJmwuY29uZi5nZXRTdHJva2VXaWR0aD9sLmNvbmYuZ2V0U3Ryb2tlV2lkdGgobCx1KTowLHM9ITEhPT1vJiZsLmNvbmYuZ2V0QkJveE5lc3Q/bC5jb25mLmdldEJCb3hOZXN0KGwsdSxyKTpBZShpLHUuYmFzZVdpbmRvdyk7cmV0dXJuIEUuY2Fwc01hc2tBbmNob3JfcGF0aERhdGFTRVtlXT0hMSE9PW8mJmwuY29uZi5nZXRQYXRoRGF0YT9sLmNvbmYuZ2V0UGF0aERhdGEobCx1LHIpOihuPW51bGwhPSh0PXMpLnJpZ2h0P3QucmlnaHQ6dC5sZWZ0K3Qud2lkdGgsYT1udWxsIT10LmJvdHRvbT90LmJvdHRvbTp0LnRvcCt0LmhlaWdodCxbe3R5cGU6XCJNXCIsdmFsdWVzOlt0LmxlZnQsdC50b3BdfSx7dHlwZTpcIkxcIix2YWx1ZXM6W24sdC50b3BdfSx7dHlwZTpcIkxcIix2YWx1ZXM6W24sYV19LHt0eXBlOlwiTFwiLHZhbHVlczpbdC5sZWZ0LGFdfSx7dHlwZTpcIlpcIix2YWx1ZXM6W119XSksRS5jYXBzTWFza0FuY2hvcl9zdHJva2VXaWR0aFNFW2VdPXIsc30pLGk9LTEsZy5zb2NrZXRTRVswXSYmZy5zb2NrZXRTRVsxXT8oYlswXT13KGZbMF0sZy5zb2NrZXRTRVswXSksYlsxXT13KGZbMV0sZy5zb2NrZXRTRVsxXSkpOihnLnNvY2tldFNFWzBdfHxnLnNvY2tldFNFWzFdPyhhPWcuc29ja2V0U0VbMF0/KG49MCwxKToobj0xLDApLGJbbl09dyhmW25dLGcuc29ja2V0U0Vbbl0pLChlPUgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB3KGZbYV0sZSl9KSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1WZShlLGJbbl0pOyh0PGl8fC0xPT09aSkmJihiW2FdPWUsaT10KX0pKTooZT1ILm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdyhmWzFdLGUpfSksSC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHcoZlswXSxlKX0pLmZvckVhY2goZnVuY3Rpb24obil7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVZlKG4sZSk7KHQ8aXx8LTE9PT1pKSYmKGJbMF09bixiWzFdPWUsaT10KX0pfSkpLFswLDFdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbjtnLnNvY2tldFNFW2VdfHwoZltlXS53aWR0aHx8ZltlXS5oZWlnaHQ/ZltlXS53aWR0aHx8YltlXS5zb2NrZXRJZCE9PVQmJmJbZV0uc29ja2V0SWQhPT1QP2ZbZV0uaGVpZ2h0fHxiW2VdLnNvY2tldElkIT09ViYmYltlXS5zb2NrZXRJZCE9PU58fChiW2VdLnNvY2tldElkPTA8PWJbZT8wOjFdLnktZltlXS50b3A/TjpWKTpiW2VdLnNvY2tldElkPTA8PWJbZT8wOjFdLngtZltlXS5sZWZ0P1A6VDoodD1iW2U/MDoxXS54LWZbZV0ubGVmdCxuPWJbZT8wOjFdLnktZltlXS50b3AsYltlXS5zb2NrZXRJZD1NYXRoLmFicyh0KT49TWF0aC5hYnMobik/MDw9dD9QOlQ6MDw9bj9OOlYpKX0pKSxFLnBvc2l0aW9uX3BhdGghPT14LnBvc2l0aW9uX3BhdGh8fEUucG9zaXRpb25fbGluZVN0cm9rZVdpZHRoIT09eC5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGh8fFswLDFdLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIEUucG9zaXRpb25fcGx1Z092ZXJoZWFkU0VbZV0hPT14LnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFW2VdfHwoaT1iW2VdLG89eC5wb3NpdGlvbl9zb2NrZXRYWVNFW2VdLGkueCE9PW8ueHx8aS55IT09by55fHxpLnNvY2tldElkIT09by5zb2NrZXRJZCl8fCh0PV9bZV0sbj14LnBvc2l0aW9uX3NvY2tldEdyYXZpdHlTRVtlXSwoYT1udWxsPT10P1wiYXV0b1wiOkFycmF5LmlzQXJyYXkodCk/XCJhcnJheVwiOlwibnVtYmVyXCIpIT0obnVsbD09bj9cImF1dG9cIjpBcnJheS5pc0FycmF5KG4pP1wiYXJyYXlcIjpcIm51bWJlclwiKXx8KFwiYXJyYXlcIj09YT90WzBdIT09blswXXx8dFsxXSE9PW5bMV06dCE9PW4pKTt2YXIgdCxuLGEsaSxvfSkpe3N3aXRjaCh1LnBhdGhMaXN0LmJhc2VWYWw9dj1bXSx1LnBhdGhMaXN0LmFuaW1WYWw9bnVsbCxFLnBvc2l0aW9uX3BhdGgpe2Nhc2UgQjp2LnB1c2goW08oYlswXSksTyhiWzFdKV0pO2JyZWFrO2Nhc2UgUjp0PVwibnVtYmVyXCI9PXR5cGVvZiBfWzBdJiYwPF9bMF18fFwibnVtYmVyXCI9PXR5cGVvZiBfWzFdJiYwPF9bMV0sbz1sZSoodD8tMToxKSxsPU1hdGguYXRhbjIoYlsxXS55LWJbMF0ueSxiWzFdLngtYlswXS54KSxyPW8tbCxjPU1hdGguUEktbC1vLGQ9VmUoYlswXSxiWzFdKS9NYXRoLnNxcnQoMikqZWUsbT17eDpiWzBdLngrTWF0aC5jb3MocikqZCx5OmJbMF0ueStNYXRoLnNpbihyKSpkKi0xfSxTPXt4OmJbMV0ueCtNYXRoLmNvcyhjKSpkLHk6YlsxXS55K01hdGguc2luKGMpKmQqLTF9LHYucHVzaChbTyhiWzBdKSxtLFMsTyhiWzFdKV0pO2JyZWFrO2Nhc2UgRjpjYXNlIEc6cz1bX1swXSxFLnBvc2l0aW9uX3BhdGg9PT1HPzA6X1sxXV0saD1bXSxwPVtdLGIuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuLGEsaSxvLGw9c1t0XSxyPUFycmF5LmlzQXJyYXkobCk/e3g6bFswXSx5OmxbMV19OlwibnVtYmVyXCI9PXR5cGVvZiBsP2Uuc29ja2V0SWQ9PT1WP3t4OjAseTotbH06ZS5zb2NrZXRJZD09PVA/e3g6bCx5OjB9OmUuc29ja2V0SWQ9PT1OP3t4OjAseTpsfTp7eDotbCx5OjB9OihuPWJbdD8wOjFdLGk9MDwoYT1FLnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFW3RdKT9xKyhRPGE/KGEtUSkqSzowKTpaKyhFLnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aD5ZPyhFLnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aC1ZKSpYOjApLGUuc29ja2V0SWQ9PT1WPygobz0oZS55LW4ueSkvMik8aSYmKG89aSkse3g6MCx5Oi1vfSk6ZS5zb2NrZXRJZD09PVA/KChvPShuLngtZS54KS8yKTxpJiYobz1pKSx7eDpvLHk6MH0pOmUuc29ja2V0SWQ9PT1OPygobz0obi55LWUueSkvMik8aSYmKG89aSkse3g6MCx5Om99KTooKG89KGUueC1uLngpLzIpPGkmJihvPWkpLHt4Oi1vLHk6MH0pKTtoW3RdPWUueCtyLngscFt0XT1lLnkrci55fSksdi5wdXNoKFtPKGJbMF0pLHt4OmhbMF0seTpwWzBdfSx7eDpoWzFdLHk6cFsxXX0sTyhiWzFdKV0pO2JyZWFrO2Nhc2UgRDohZnVuY3Rpb24oKXt2YXIgYSxvPTEsbD0yLHI9MyxzPTQsdT1bW10sW11dLGg9W107ZnVuY3Rpb24gcChlKXtyZXR1cm4gZT09PW8/cjplPT09bD9zOmU9PT1yP286bH1mdW5jdGlvbiBjKGUpe3JldHVybiBlPT09bHx8ZT09PXM/XCJ4XCI6XCJ5XCJ9ZnVuY3Rpb24gZChlLHQsbil7dmFyIGE9e3g6ZS54LHk6ZS55fTtpZihuKXtpZihuPT09cChlLmRpcklkKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRpcklkOiBcIituKTthLmRpcklkPW59ZWxzZSBhLmRpcklkPWUuZGlySWQ7cmV0dXJuIGEuZGlySWQ9PT1vP2EueS09dDphLmRpcklkPT09bD9hLngrPXQ6YS5kaXJJZD09PXI/YS55Kz10OmEueC09dCxhfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gdC5kaXJJZD09PW8/ZS55PD10Lnk6dC5kaXJJZD09PWw/ZS54Pj10Lng6dC5kaXJJZD09PXI/ZS55Pj10Lnk6ZS54PD10Lnh9ZnVuY3Rpb24geShlLHQpe3JldHVybiB0LmRpcklkPT09b3x8dC5kaXJJZD09PXI/ZS54PT09dC54OmUueT09PXQueX1mdW5jdGlvbiBtKGUpe3JldHVybiBlWzBdP3tjb250YWluOjAsbm90Q29udGFpbjoxfTp7Y29udGFpbjoxLG5vdENvbnRhaW46MH19ZnVuY3Rpb24gUyhlLHQsbil7cmV0dXJuIE1hdGguYWJzKHRbbl0tZVtuXSl9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuXCJ4XCI9PT1uP2UueDx0Lng/bDpzOmUueTx0Lnk/cjpvfWZvcihiLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixhPU8oZSksaT1fW3RdO249QXJyYXkuaXNBcnJheShpKT9pWzBdPDA/W3MsLWlbMF1dOjA8aVswXT9bbCxpWzBdXTppWzFdPDA/W28sLWlbMV1dOjA8aVsxXT9bcixpWzFdXTpbZS5zb2NrZXRJZCwwXTpcIm51bWJlclwiIT10eXBlb2YgaT9bZS5zb2NrZXRJZCwkXTowPD1pP1tlLnNvY2tldElkLGldOltwKGUuc29ja2V0SWQpLC1pXSxhLmRpcklkPW5bMF0saT1uWzFdLHVbdF0ucHVzaChhKSxoW3RdPWQoYSxpKX0pO2Z1bmN0aW9uKCl7dmFyIGUsdCxhLGksbj1bZihoWzFdLGhbMF0pLGYoaFswXSxoWzFdKV0sbz1bYyhoWzBdLmRpcklkKSxjKGhbMV0uZGlySWQpXTtpZihvWzBdPT09b1sxXSl7aWYoblswXSYmblsxXSlyZXR1cm4gdm9pZCh5KGhbMV0saFswXSl8fChoWzBdW29bMF1dPT09aFsxXVtvWzFdXT8odVswXS5wdXNoKGhbMF0pLHVbMV0ucHVzaChoWzFdKSk6KGU9aFswXVtvWzBdXSsoaFsxXVtvWzFdXS1oWzBdW29bMF1dKS8yLHVbMF0ucHVzaChkKGhbMF0sTWF0aC5hYnMoZS1oWzBdW29bMF1dKSkpLHVbMV0ucHVzaChkKGhbMV0sTWF0aC5hYnMoZS1oWzFdW29bMV1dKSkpKSkpO25bMF0hPT1uWzFdPyh0PW0obiksKGE9UyhoW3Qubm90Q29udGFpbl0saFt0LmNvbnRhaW5dLG9bdC5ub3RDb250YWluXSkpPCQmJihoW3Qubm90Q29udGFpbl09ZChoW3Qubm90Q29udGFpbl0sJC1hKSksdVt0Lm5vdENvbnRhaW5dLnB1c2goaFt0Lm5vdENvbnRhaW5dKSxoW3Qubm90Q29udGFpbl09ZChoW3Qubm90Q29udGFpbl0sJCx5KGhbdC5jb250YWluXSxoW3Qubm90Q29udGFpbl0pP1wieFwiPT09b1t0Lm5vdENvbnRhaW5dP3I6bDpnKGhbdC5ub3RDb250YWluXSxoW3QuY29udGFpbl0sXCJ4XCI9PT1vW3Qubm90Q29udGFpbl0/XCJ5XCI6XCJ4XCIpKSk6KGE9UyhoWzBdLGhbMV0sXCJ4XCI9PT1vWzBdP1wieVwiOlwieFwiKSx1LmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj0wPT09dD8xOjA7ZS5wdXNoKGhbdF0pLGhbdF09ZChoW3RdLCQsMiokPD1hP2coaFt0XSxoW25dLFwieFwiPT09b1t0XT9cInlcIjpcInhcIik6XCJ4XCI9PT1vW3RdP3I6bCl9KSl9ZWxzZXtpZihuWzBdJiZuWzFdKXJldHVybiB2b2lkKHkoaFsxXSxoWzBdKT91WzFdLnB1c2goaFsxXSk6eShoWzBdLGhbMV0pP3VbMF0ucHVzaChoWzBdKTp1WzBdLnB1c2goXCJ4XCI9PT1vWzBdP3t4OmhbMV0ueCx5OmhbMF0ueX06e3g6aFswXS54LHk6aFsxXS55fSkpO25bMF0hPT1uWzFdPyh0PW0obiksdVt0Lm5vdENvbnRhaW5dLnB1c2goaFt0Lm5vdENvbnRhaW5dKSxoW3Qubm90Q29udGFpbl09ZChoW3Qubm90Q29udGFpbl0sJCxTKGhbdC5ub3RDb250YWluXSxoW3QuY29udGFpbl0sb1t0LmNvbnRhaW5dKT49JD9nKGhbdC5ub3RDb250YWluXSxoW3QuY29udGFpbl0sb1t0LmNvbnRhaW5dKTpoW3QuY29udGFpbl0uZGlySWQpKTooaT1be3g6aFswXS54LHk6aFswXS55fSx7eDpoWzFdLngseTpoWzFdLnl9XSx1LmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj0wPT09dD8xOjAsYT1TKGlbdF0saVtuXSxvW3RdKTthPCQmJihoW3RdPWQoaFt0XSwkLWEpKSxlLnB1c2goaFt0XSksaFt0XT1kKGhbdF0sJCxnKGhbdF0saFtuXSxvW25dKSl9KSl9cmV0dXJuIDF9KCk7KTt1WzFdLnJldmVyc2UoKSx1WzBdLmNvbmNhdCh1WzFdKS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49e3g6ZS54LHk6ZS55fTswPHQmJnYucHVzaChbYSxuXSksYT1ufSl9KCl9eT1bXSxFLnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixhLGksbyxsLHIscyx1LGgscCxjLGQ9IXQ7MDxlPzI9PT0obj12W2E9ZD8wOnYubGVuZ3RoLTFdKS5sZW5ndGg/KHlbYV09eVthXXx8VmUuYXBwbHkobnVsbCxuKSx5W2FdPkomJih5W2FdLWU8SiYmKGU9eVthXS1KKSxpPVBlKG5bMF0sblsxXSwoZD9lOnlbYV0tZSkveVthXSksdlthXT1kP1tpLG5bMV1dOltuWzBdLGldLHlbYV0tPWUpKTooeVthXT15W2FdfHxXZS5hcHBseShudWxsLG4pLHlbYV0+SiYmKHlbYV0tZTxKJiYoZT15W2FdLUopLGk9VGUoblswXSxuWzFdLG5bMl0sblszXSxCZShuWzBdLG5bMV0sblsyXSxuWzNdLGQ/ZTp5W2FdLWUpKSxsPWQ/KG89blswXSxpLnRvUDEpOihvPW5bM10saS5mcm9tUDIpLHI9TWF0aC5hdGFuMihvLnktaS55LGkueC1vLngpLHM9VmUoaSxsKSxpLng9by54K01hdGguY29zKHIpKmUsaS55PW8ueStNYXRoLnNpbihyKSplKi0xLGwueD1pLngrTWF0aC5jb3MocikqcyxsLnk9aS55K01hdGguc2luKHIpKnMqLTEsdlthXT1kP1tpLGkudG9QMSxpLnRvUDIsblszXV06W25bMF0saS5mcm9tUDEsaS5mcm9tUDIsaV0seVthXT1udWxsKSk6ZTwwJiYobj12W2E9ZD8wOnYubGVuZ3RoLTFdLHU9Ylt0XS5zb2NrZXRJZCxoPXU9PT1UfHx1PT09UD9cInhcIjpcInlcIixlPChjPS1mW3RdW1wieFwiPT1oP1wid2lkdGhcIjpcImhlaWdodFwiXSkmJihlPWMpLHA9ZSoodT09PVR8fHU9PT1WPy0xOjEpLDI9PT1uLmxlbmd0aD9uW2Q/MDpuLmxlbmd0aC0xXVtoXSs9cDooZD9bMCwxXTpbbi5sZW5ndGgtMixuLmxlbmd0aC0xXSkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdW2hdKz1wfSkseVthXT1udWxsKX0pLHgucG9zaXRpb25fc29ja2V0WFlTRT1PZShiKSx4LnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFPU9lKEUucG9zaXRpb25fcGx1Z092ZXJoZWFkU0UpLHgucG9zaXRpb25fcGF0aD1FLnBvc2l0aW9uX3BhdGgseC5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGg9RS5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGgseC5wb3NpdGlvbl9zb2NrZXRHcmF2aXR5U0U9T2UoXyksaz0hMCx1LmV2ZW50cy5hcGxfcG9zaXRpb24mJnUuZXZlbnRzLmFwbF9wb3NpdGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UodSx2KX0pfXJldHVybiBrfWZ1bmN0aW9uICRlKHQsbil7biE9PXQuaXNTaG93biYmKCEhbiE9ISF0LmlzU2hvd24mJih0LnN2Zy5zdHlsZS52aXNpYmlsaXR5PW4/XCJcIjpcImhpZGRlblwiKSx0LmlzU2hvd249bix0LmV2ZW50cyYmdC5ldmVudHMuc3ZnU2hvdyYmdC5ldmVudHMuc3ZnU2hvdy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UodCxuKX0pKX1mdW5jdGlvbiBldChlLHQpe3ZhciBuLGEsaSxvLGwsaCxwLGMsZCxmLHIscyx1LHksbSxTLGcsXyx2LEUseCxiLGssdyxPLE0sSSxDLEwsQSxWLFAsTixULFcsQixSLEYsRyxELHosaixILFUsWixZLFgscSxRLEssSiwkLGVlPXt9O3QubGluZSYmKGVlLmxpbmU9KGE9KG49ZSkub3B0aW9ucyxpPW4uY3VyU3RhdHMsbz1uLmV2ZW50cyxsPSExLGw9cWUobixpLFwibGluZV9jb2xvclwiLGEubGluZUNvbG9yLG8uY3VyX2xpbmVfY29sb3IpfHxsLGw9cWUobixpLFwibGluZV9jb2xvclRyYVwiLE1lKGkubGluZV9jb2xvcilbMF08MSl8fGwsbD1xZShuLGksXCJsaW5lX3N0cm9rZVdpZHRoXCIsYS5saW5lU2l6ZSxvLmN1cl9saW5lX3N0cm9rZVdpZHRoKXx8bCkpLCh0LnBsdWd8fGVlLmxpbmUpJiYoZWUucGx1Zz0ocD0oaD1lKS5vcHRpb25zLGM9aC5jdXJTdGF0cyxkPWguZXZlbnRzLGY9ITEsWzAsMV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLGEsaSxvLGwscixzLHU9cC5wbHVnU0VbZV07Zj1xZShoLGMucGx1Z19lbmFibGVkU0UsZSx1IT09bmUpfHxmLGY9cWUoaCxjLnBsdWdfcGx1Z1NFLGUsdSl8fGYsZj1xZShoLGMucGx1Z19jb2xvclNFLGUscz1wLnBsdWdDb2xvclNFW2VdfHxjLmxpbmVfY29sb3IsZC5jdXJfcGx1Z19jb2xvclNFKXx8ZixmPXFlKGgsYy5wbHVnX2NvbG9yVHJhU0UsZSxNZShzKVswXTwxKXx8Zix1IT09bmUmJihpPW49KHQ9YWVbaWVbdV1dKS53aWR0aFIqcC5wbHVnU2l6ZVNFW2VdLG89YT10LmhlaWdodFIqcC5wbHVnU2l6ZVNFW2VdLHBlJiYoaSo9Yy5saW5lX3N0cm9rZVdpZHRoLG8qPWMubGluZV9zdHJva2VXaWR0aCksZj1xZShoLGMucGx1Z19tYXJrZXJXaWR0aFNFLGUsaSl8fGYsZj1xZShoLGMucGx1Z19tYXJrZXJIZWlnaHRTRSxlLG8pfHxmLGMuY2Fwc01hc2tNYXJrZXJfbWFya2VyV2lkdGhTRVtlXT1uLGMuY2Fwc01hc2tNYXJrZXJfbWFya2VySGVpZ2h0U0VbZV09YSksYy5wbHVnT3V0bGluZV9wbHVnU0VbZV09Yy5jYXBzTWFza01hcmtlcl9wbHVnU0VbZV09dSxjLnBsdWdfZW5hYmxlZFNFW2VdPyhzPWMubGluZV9zdHJva2VXaWR0aC9kZS5saW5lU2l6ZSpwLnBsdWdTaXplU0VbZV0sYy5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRVtlXT10Lm92ZXJoZWFkKnMsYy52aWV3Qm94X3BsdWdCQ2lyY2xlU0VbZV09dC5iQ2lyY2xlKnMsbD10LnNpZGVMZW4qcyxyPXQuYmFja0xlbipzKTooYy5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRVtlXT0tYy5saW5lX3N0cm9rZVdpZHRoLzIsYy52aWV3Qm94X3BsdWdCQ2lyY2xlU0VbZV09bD1yPTApLHFlKGgsYy5hdHRhY2hfcGx1Z1NpZGVMZW5TRSxlLGwsZC5jdXJfYXR0YWNoX3BsdWdTaWRlTGVuU0UpLHFlKGgsYy5hdHRhY2hfcGx1Z0JhY2tMZW5TRSxlLHIsZC5jdXJfYXR0YWNoX3BsdWdCYWNrTGVuU0UpLGMuY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFW2VdPSFjLnBsdWdfZW5hYmxlZFNFW2VdfSksZj1xZShoLGMsXCJwbHVnX2VuYWJsZWRcIixjLnBsdWdfZW5hYmxlZFNFWzBdfHxjLnBsdWdfZW5hYmxlZFNFWzFdKXx8ZikpLCh0LmxpbmVPdXRsaW5lfHxlZS5saW5lKSYmKGVlLmxpbmVPdXRsaW5lPSh1PShyPWUpLm9wdGlvbnMseT1yLmN1clN0YXRzLG09ITEsbT1xZShyLHksXCJsaW5lT3V0bGluZV9lbmFibGVkXCIsdS5saW5lT3V0bGluZUVuYWJsZWQpfHxtLG09cWUocix5LFwibGluZU91dGxpbmVfY29sb3JcIix1LmxpbmVPdXRsaW5lQ29sb3IpfHxtLG09cWUocix5LFwibGluZU91dGxpbmVfY29sb3JUcmFcIixNZSh5LmxpbmVPdXRsaW5lX2NvbG9yKVswXTwxKXx8bSxzPXkubGluZV9zdHJva2VXaWR0aCp1LmxpbmVPdXRsaW5lU2l6ZSxtPXFlKHIseSxcImxpbmVPdXRsaW5lX3N0cm9rZVdpZHRoXCIseS5saW5lX3N0cm9rZVdpZHRoLTIqcyl8fG0sbT1xZShyLHksXCJsaW5lT3V0bGluZV9pblN0cm9rZVdpZHRoXCIseS5saW5lT3V0bGluZV9jb2xvclRyYT95LmxpbmVPdXRsaW5lX3N0cm9rZVdpZHRoKzIqY2U6eS5saW5lX3N0cm9rZVdpZHRoLXMpfHxtKSksKHQucGx1Z091dGxpbmV8fGVlLmxpbmV8fGVlLnBsdWd8fGVlLmxpbmVPdXRsaW5lKSYmKGVlLnBsdWdPdXRsaW5lPShnPShTPWUpLm9wdGlvbnMsXz1TLmN1clN0YXRzLHY9ITEsWzAsMV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuPV8ucGx1Z091dGxpbmVfcGx1Z1NFW2VdLGE9biE9PW5lP2FlW2llW25dXTpudWxsO3Y9cWUoUyxfLnBsdWdPdXRsaW5lX2VuYWJsZWRTRSxlLGcucGx1Z091dGxpbmVFbmFibGVkU0VbZV0mJl8ucGx1Z19lbmFibGVkJiZfLnBsdWdfZW5hYmxlZFNFW2VdJiYhIWEmJiEhYS5vdXRsaW5lQmFzZSl8fHYsdj1xZShTLF8ucGx1Z091dGxpbmVfY29sb3JTRSxlLHQ9Zy5wbHVnT3V0bGluZUNvbG9yU0VbZV18fF8ubGluZU91dGxpbmVfY29sb3IpfHx2LHY9cWUoUyxfLnBsdWdPdXRsaW5lX2NvbG9yVHJhU0UsZSxNZSh0KVswXTwxKXx8dixhJiZhLm91dGxpbmVCYXNlJiYoKHQ9Zy5wbHVnT3V0bGluZVNpemVTRVtlXSk+YS5vdXRsaW5lTWF4JiYodD1hLm91dGxpbmVNYXgpLHQqPTIqYS5vdXRsaW5lQmFzZSx2PXFlKFMsXy5wbHVnT3V0bGluZV9zdHJva2VXaWR0aFNFLGUsdCl8fHYsdj1xZShTLF8ucGx1Z091dGxpbmVfaW5TdHJva2VXaWR0aFNFLGUsXy5wbHVnT3V0bGluZV9jb2xvclRyYVNFW2VdP3QtY2UvKF8ubGluZV9zdHJva2VXaWR0aC9kZS5saW5lU2l6ZSkvZy5wbHVnU2l6ZVNFW2VdKjI6dC8yKXx8dil9KSx2KSksKHQuZmFjZXN8fGVlLmxpbmV8fGVlLnBsdWd8fGVlLmxpbmVPdXRsaW5lfHxlZS5wbHVnT3V0bGluZSkmJihlZS5mYWNlcz0oYj0oRT1lKS5jdXJTdGF0cyxrPUUuYXBsU3RhdHMsdz1FLmV2ZW50cyxPPSExLCFiLmxpbmVfYWx0Q29sb3ImJnFlKEUsayxcImxpbmVfY29sb3JcIix4PWIubGluZV9jb2xvcix3LmFwbF9saW5lX2NvbG9yKSYmKEUubGluZUZhY2Uuc3R5bGUuc3Ryb2tlPXgsTz0hMCkscWUoRSxrLFwibGluZV9zdHJva2VXaWR0aFwiLHg9Yi5saW5lX3N0cm9rZVdpZHRoLHcuYXBsX2xpbmVfc3Ryb2tlV2lkdGgpJiYoRS5saW5lU2hhcGUuc3R5bGUuc3Ryb2tlV2lkdGg9eCtcInB4XCIsTz0hMCwodWV8fHNlKSYmKEhlKEUsRS5saW5lU2hhcGUpLHNlJiYoSGUoRSxFLmxpbmVGYWNlKSxIZShFLEUubGluZU1hc2tDYXBzKSkpKSxxZShFLGssXCJsaW5lT3V0bGluZV9lbmFibGVkXCIseD1iLmxpbmVPdXRsaW5lX2VuYWJsZWQsdy5hcGxfbGluZU91dGxpbmVfZW5hYmxlZCkmJihFLmxpbmVPdXRsaW5lRmFjZS5zdHlsZS5kaXNwbGF5PXg/XCJpbmxpbmVcIjpcIm5vbmVcIixPPSEwKSxiLmxpbmVPdXRsaW5lX2VuYWJsZWQmJihxZShFLGssXCJsaW5lT3V0bGluZV9jb2xvclwiLHg9Yi5saW5lT3V0bGluZV9jb2xvcix3LmFwbF9saW5lT3V0bGluZV9jb2xvcikmJihFLmxpbmVPdXRsaW5lRmFjZS5zdHlsZS5zdHJva2U9eCxPPSEwKSxxZShFLGssXCJsaW5lT3V0bGluZV9zdHJva2VXaWR0aFwiLHg9Yi5saW5lT3V0bGluZV9zdHJva2VXaWR0aCx3LmFwbF9saW5lT3V0bGluZV9zdHJva2VXaWR0aCkmJihFLmxpbmVPdXRsaW5lTWFza1NoYXBlLnN0eWxlLnN0cm9rZVdpZHRoPXgrXCJweFwiLE89ITAsc2UmJihIZShFLEUubGluZU91dGxpbmVNYXNrQ2FwcyksSGUoRSxFLmxpbmVPdXRsaW5lRmFjZSkpKSxxZShFLGssXCJsaW5lT3V0bGluZV9pblN0cm9rZVdpZHRoXCIseD1iLmxpbmVPdXRsaW5lX2luU3Ryb2tlV2lkdGgsdy5hcGxfbGluZU91dGxpbmVfaW5TdHJva2VXaWR0aCkmJihFLmxpbmVNYXNrU2hhcGUuc3R5bGUuc3Ryb2tlV2lkdGg9eCtcInB4XCIsTz0hMCxzZSYmKEhlKEUsRS5saW5lT3V0bGluZU1hc2tDYXBzKSxIZShFLEUubGluZU91dGxpbmVGYWNlKSkpKSxxZShFLGssXCJwbHVnX2VuYWJsZWRcIix4PWIucGx1Z19lbmFibGVkLHcuYXBsX3BsdWdfZW5hYmxlZCkmJihFLnBsdWdzRmFjZS5zdHlsZS5kaXNwbGF5PXg/XCJpbmxpbmVcIjpcIm5vbmVcIixPPSEwKSxiLnBsdWdfZW5hYmxlZCYmWzAsMV0uZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgZT1iLnBsdWdfcGx1Z1NFW25dLHQ9ZSE9PW5lP2FlW2llW2VdXTpudWxsLGE9WWUobix0KTtxZShFLGsucGx1Z19lbmFibGVkU0Usbix4PWIucGx1Z19lbmFibGVkU0Vbbl0sdy5hcGxfcGx1Z19lbmFibGVkU0UpJiYoRS5wbHVnc0ZhY2Uuc3R5bGVbYS5wcm9wXT14P1widXJsKCNcIitFLnBsdWdNYXJrZXJJZFNFW25dK1wiKVwiOlwibm9uZVwiLE89ITApLGIucGx1Z19lbmFibGVkU0Vbbl0mJihxZShFLGsucGx1Z19wbHVnU0UsbixlLHcuYXBsX3BsdWdfcGx1Z1NFKSYmKEUucGx1Z0ZhY2VTRVtuXS5ocmVmLmJhc2VWYWw9XCIjXCIrdC5lbG1JZCxaZShFLEUucGx1Z01hcmtlclNFW25dLGEub3JpZW50LHQuYkJveCxFLnN2ZyxFLnBsdWdNYXJrZXJTaGFwZVNFW25dLEUucGx1Z3NGYWNlKSxPPSEwLHVlJiZIZShFLEUucGx1Z3NGYWNlKSkscWUoRSxrLnBsdWdfY29sb3JTRSxuLHg9Yi5wbHVnX2NvbG9yU0Vbbl0sdy5hcGxfcGx1Z19jb2xvclNFKSYmKEUucGx1Z0ZhY2VTRVtuXS5zdHlsZS5maWxsPXgsTz0hMCwoaGV8fHBlfHxzZSkmJiFiLmxpbmVfY29sb3JUcmEmJkhlKEUsc2U/RS5saW5lTWFza0NhcHM6RS5jYXBzTWFza0xpbmUpKSxbXCJtYXJrZXJXaWR0aFwiLFwibWFya2VySGVpZ2h0XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJwbHVnX1wiK2UrXCJTRVwiO3FlKEUsa1t0XSxuLHg9Ylt0XVtuXSx3W1wiYXBsX1wiK3RdKSYmKEUucGx1Z01hcmtlclNFW25dW2VdLmJhc2VWYWwudmFsdWU9eCxPPSEwKX0pLHFlKEUsay5wbHVnT3V0bGluZV9lbmFibGVkU0Usbix4PWIucGx1Z091dGxpbmVfZW5hYmxlZFNFW25dLHcuYXBsX3BsdWdPdXRsaW5lX2VuYWJsZWRTRSkmJih4PyhFLnBsdWdGYWNlU0Vbbl0uc3R5bGUubWFzaz1cInVybCgjXCIrRS5wbHVnTWFza0lkU0Vbbl0rXCIpXCIsRS5wbHVnT3V0bGluZUZhY2VTRVtuXS5zdHlsZS5kaXNwbGF5PVwiaW5saW5lXCIpOihFLnBsdWdGYWNlU0Vbbl0uc3R5bGUubWFzaz1cIm5vbmVcIixFLnBsdWdPdXRsaW5lRmFjZVNFW25dLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLE89ITApLGIucGx1Z091dGxpbmVfZW5hYmxlZFNFW25dJiYocWUoRSxrLnBsdWdPdXRsaW5lX3BsdWdTRSxuLGUsdy5hcGxfcGx1Z091dGxpbmVfcGx1Z1NFKSYmKEUucGx1Z091dGxpbmVGYWNlU0Vbbl0uaHJlZi5iYXNlVmFsPUUucGx1Z01hc2tTaGFwZVNFW25dLmhyZWYuYmFzZVZhbD1FLnBsdWdPdXRsaW5lTWFza1NoYXBlU0Vbbl0uaHJlZi5iYXNlVmFsPVwiI1wiK3QuZWxtSWQsW0UucGx1Z01hc2tTRVtuXSxFLnBsdWdPdXRsaW5lTWFza1NFW25dXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UueC5iYXNlVmFsLnZhbHVlPXQuYkJveC5sZWZ0LGUueS5iYXNlVmFsLnZhbHVlPXQuYkJveC50b3AsZS53aWR0aC5iYXNlVmFsLnZhbHVlPXQuYkJveC53aWR0aCxlLmhlaWdodC5iYXNlVmFsLnZhbHVlPXQuYkJveC5oZWlnaHR9KSxPPSEwKSxxZShFLGsucGx1Z091dGxpbmVfY29sb3JTRSxuLHg9Yi5wbHVnT3V0bGluZV9jb2xvclNFW25dLHcuYXBsX3BsdWdPdXRsaW5lX2NvbG9yU0UpJiYoRS5wbHVnT3V0bGluZUZhY2VTRVtuXS5zdHlsZS5maWxsPXgsTz0hMCxzZSYmKEhlKEUsRS5saW5lTWFza0NhcHMpLEhlKEUsRS5saW5lT3V0bGluZU1hc2tDYXBzKSkpLHFlKEUsay5wbHVnT3V0bGluZV9zdHJva2VXaWR0aFNFLG4seD1iLnBsdWdPdXRsaW5lX3N0cm9rZVdpZHRoU0Vbbl0sdy5hcGxfcGx1Z091dGxpbmVfc3Ryb2tlV2lkdGhTRSkmJihFLnBsdWdPdXRsaW5lTWFza1NoYXBlU0Vbbl0uc3R5bGUuc3Ryb2tlV2lkdGg9eCtcInB4XCIsTz0hMCkscWUoRSxrLnBsdWdPdXRsaW5lX2luU3Ryb2tlV2lkdGhTRSxuLHg9Yi5wbHVnT3V0bGluZV9pblN0cm9rZVdpZHRoU0Vbbl0sdy5hcGxfcGx1Z091dGxpbmVfaW5TdHJva2VXaWR0aFNFKSYmKEUucGx1Z01hc2tTaGFwZVNFW25dLnN0eWxlLnN0cm9rZVdpZHRoPXgrXCJweFwiLE89ITApKSl9KSxPKSksKHQucG9zaXRpb258fGVlLmxpbmV8fGVlLnBsdWcpJiYoZWUucG9zaXRpb249SmUoZSkpLCh0LnBhdGh8fGVlLnBvc2l0aW9uKSYmKGVlLnBhdGg9KEM9KE09ZSkuY3VyU3RhdHMsTD1NLmFwbFN0YXRzLEE9TS5wYXRoTGlzdC5hbmltVmFsfHxNLnBhdGhMaXN0LmJhc2VWYWwsVj1DLnBhdGhfZWRnZSxQPSExLEEmJihWLngxPVYueDI9QVswXVswXS54LFYueTE9Vi55Mj1BWzBdWzBdLnksQy5wYXRoX3BhdGhEYXRhPUk9UmUoQSxmdW5jdGlvbihlKXtlLng8Vi54MSYmKFYueDE9ZS54KSxlLnk8Vi55MSYmKFYueTE9ZS55KSxlLng+Vi54MiYmKFYueDI9ZS54KSxlLnk+Vi55MiYmKFYueTI9ZS55KX0pLEdlKEksTC5wYXRoX3BhdGhEYXRhKSYmKE0ubGluZVBhdGguc2V0UGF0aERhdGEoSSksTC5wYXRoX3BhdGhEYXRhPUksUD0hMCxzZT8oSGUoTSxNLnBsdWdzRmFjZSksSGUoTSxNLmxpbmVNYXNrQ2FwcykpOnVlJiZIZShNLE0ubGluZVBhdGgpLE0uZXZlbnRzLmFwbF9wYXRoJiZNLmV2ZW50cy5hcGxfcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoTSxJKX0pKSksUCkpLGVlLnZpZXdCb3g9KFQ9KE49ZSkuY3VyU3RhdHMsVz1OLmFwbFN0YXRzLEI9VC5wYXRoX2VkZ2UsUj1ULnZpZXdCb3hfYkJveCxGPVcudmlld0JveF9iQm94LEc9Ti5zdmcudmlld0JveC5iYXNlVmFsLEQ9Ti5zdmcuc3R5bGUsej0hMSxqPU1hdGgubWF4KFQubGluZV9zdHJva2VXaWR0aC8yLFQudmlld0JveF9wbHVnQkNpcmNsZVNFWzBdfHwwLFQudmlld0JveF9wbHVnQkNpcmNsZVNFWzFdfHwwKSxIPXt4MTpCLngxLWoseTE6Qi55MS1qLHgyOkIueDIraix5MjpCLnkyK2p9LE4uZXZlbnRzLm5ld19lZGdlNHZpZXdCb3gmJk4uZXZlbnRzLm5ld19lZGdlNHZpZXdCb3guZm9yRWFjaChmdW5jdGlvbihlKXtlKE4sSCl9KSxSLng9VC5saW5lTWFza194PVQubGluZU91dGxpbmVNYXNrX3g9VC5tYXNrQkdSZWN0X3g9SC54MSxSLnk9VC5saW5lTWFza195PVQubGluZU91dGxpbmVNYXNrX3k9VC5tYXNrQkdSZWN0X3k9SC55MSxSLndpZHRoPUgueDItSC54MSxSLmhlaWdodD1ILnkyLUgueTEsW1wieFwiLFwieVwiLFwid2lkdGhcIixcImhlaWdodFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PVJbZV0pIT09RltlXSYmKEdbZV09RltlXT10LERbb2VbZV1dPXQrKFwieFwiPT09ZXx8XCJ5XCI9PT1lP04uYm9keU9mZnNldFtlXTowKStcInB4XCIsej0hMCl9KSx6KSxlZS5tYXNrPShZPShVPWUpLmN1clN0YXRzLFg9VS5hcGxTdGF0cyxxPSExLFkucGx1Z19lbmFibGVkP1swLDFdLmZvckVhY2goZnVuY3Rpb24oZSl7WS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0VbZV09WS5wbHVnX2VuYWJsZWRTRVtlXSYmWS5wbHVnX2NvbG9yVHJhU0VbZV18fFkucGx1Z091dGxpbmVfZW5hYmxlZFNFW2VdJiZZLnBsdWdPdXRsaW5lX2NvbG9yVHJhU0VbZV19KTpZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVswXT1ZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVsxXT0hMSxZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWQ9WS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0VbMF18fFkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFWzFdLFkubGluZU1hc2tfb3V0bGluZU1vZGU9WS5saW5lT3V0bGluZV9lbmFibGVkLFkuY2Fwc19lbmFibGVkPVkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZHx8WS5jYXBzTWFza0FuY2hvcl9lbmFibGVkU0VbMF18fFkuY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFWzFdLFkubGluZU1hc2tfZW5hYmxlZD1ZLmNhcHNfZW5hYmxlZHx8WS5saW5lTWFza19vdXRsaW5lTW9kZSwoWS5saW5lTWFza19lbmFibGVkJiYhWS5saW5lTWFza19vdXRsaW5lTW9kZXx8WS5saW5lT3V0bGluZV9lbmFibGVkKSYmW1wieFwiLFwieVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwibWFza0JHUmVjdF9cIitlO3FlKFUsWCx0LFo9WVt0XSkmJihVLm1hc2tCR1JlY3RbZV0uYmFzZVZhbC52YWx1ZT1aLHE9ITApfSkscWUoVSxYLFwibGluZU1hc2tfZW5hYmxlZFwiLFo9WS5saW5lTWFza19lbmFibGVkKSYmKFUubGluZUZhY2Uuc3R5bGUubWFzaz1aP1widXJsKCNcIitVLmxpbmVNYXNrSWQrXCIpXCI6XCJub25lXCIscT0hMCxwZSYmSGUoVSxVLmxpbmVNYXNrKSksWS5saW5lTWFza19lbmFibGVkJiYocWUoVSxYLFwibGluZU1hc2tfb3V0bGluZU1vZGVcIixaPVkubGluZU1hc2tfb3V0bGluZU1vZGUpJiYoWj8oVS5saW5lTWFza0JHLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsVS5saW5lTWFza1NoYXBlLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmVcIik6KFUubGluZU1hc2tCRy5zdHlsZS5kaXNwbGF5PVwiaW5saW5lXCIsVS5saW5lTWFza1NoYXBlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHE9ITApLFtcInhcIixcInlcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cImxpbmVNYXNrX1wiK2U7cWUoVSxYLHQsWj1ZW3RdKSYmKFUubGluZU1hc2tbZV0uYmFzZVZhbC52YWx1ZT1aLHE9ITApfSkscWUoVSxYLFwiY2Fwc19lbmFibGVkXCIsWj1ZLmNhcHNfZW5hYmxlZCkmJihVLmxpbmVNYXNrQ2Fwcy5zdHlsZS5kaXNwbGF5PVUubGluZU91dGxpbmVNYXNrQ2Fwcy5zdHlsZS5kaXNwbGF5PVo/XCJpbmxpbmVcIjpcIm5vbmVcIixxPSEwLHBlJiZIZShVLFUuY2Fwc01hc2tMaW5lKSksWS5jYXBzX2VuYWJsZWQmJihbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0O3FlKFUsWC5jYXBzTWFza0FuY2hvcl9lbmFibGVkU0UsZSxaPVkuY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFW2VdKSYmKFUuY2Fwc01hc2tBbmNob3JTRVtlXS5zdHlsZS5kaXNwbGF5PVo/XCJpbmxpbmVcIjpcIm5vbmVcIixxPSEwLHBlJiZIZShVLFUubGluZU1hc2spKSxZLmNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRVtlXSYmKEdlKHQ9WS5jYXBzTWFza0FuY2hvcl9wYXRoRGF0YVNFW2VdLFguY2Fwc01hc2tBbmNob3JfcGF0aERhdGFTRVtlXSkmJihVLmNhcHNNYXNrQW5jaG9yU0VbZV0uc2V0UGF0aERhdGEodCksWC5jYXBzTWFza0FuY2hvcl9wYXRoRGF0YVNFW2VdPXQscT0hMCkscWUoVSxYLmNhcHNNYXNrQW5jaG9yX3N0cm9rZVdpZHRoU0UsZSxaPVkuY2Fwc01hc2tBbmNob3Jfc3Ryb2tlV2lkdGhTRVtlXSkmJihVLmNhcHNNYXNrQW5jaG9yU0VbZV0uc3R5bGUuc3Ryb2tlV2lkdGg9WitcInB4XCIscT0hMCkpfSkscWUoVSxYLFwiY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFwiLFo9WS5jYXBzTWFza01hcmtlcl9lbmFibGVkKSYmKFUuY2Fwc01hc2tMaW5lLnN0eWxlLmRpc3BsYXk9Wj9cImlubGluZVwiOlwibm9uZVwiLHE9ITApLFkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZCYmWzAsMV0uZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgZT1ZLmNhcHNNYXNrTWFya2VyX3BsdWdTRVtuXSx0PWUhPT1uZT9hZVtpZVtlXV06bnVsbCxhPVllKG4sdCk7cWUoVSxYLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRSxuLFo9WS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0Vbbl0pJiYoVS5jYXBzTWFza0xpbmUuc3R5bGVbYS5wcm9wXT1aP1widXJsKCNcIitVLmxpbmVNYXNrTWFya2VySWRTRVtuXStcIilcIjpcIm5vbmVcIixxPSEwKSxZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVtuXSYmKHFlKFUsWC5jYXBzTWFza01hcmtlcl9wbHVnU0UsbixlKSYmKFUuY2Fwc01hc2tNYXJrZXJTaGFwZVNFW25dLmhyZWYuYmFzZVZhbD1cIiNcIit0LmVsbUlkLFplKFUsVS5jYXBzTWFza01hcmtlclNFW25dLGEub3JpZW50LHQuYkJveCxVLnN2ZyxVLmNhcHNNYXNrTWFya2VyU2hhcGVTRVtuXSxVLmNhcHNNYXNrTGluZSkscT0hMCx1ZSYmKEhlKFUsVS5jYXBzTWFza0xpbmUpLEhlKFUsVS5saW5lRmFjZSkpKSxbXCJtYXJrZXJXaWR0aFwiLFwibWFya2VySGVpZ2h0XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJjYXBzTWFza01hcmtlcl9cIitlK1wiU0VcIjtxZShVLFhbdF0sbixaPVlbdF1bbl0pJiYoVS5jYXBzTWFza01hcmtlclNFW25dW2VdLmJhc2VWYWwudmFsdWU9WixxPSEwKX0pKX0pKSksWS5saW5lT3V0bGluZV9lbmFibGVkJiZbXCJ4XCIsXCJ5XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJsaW5lT3V0bGluZU1hc2tfXCIrZTtxZShVLFgsdCxaPVlbdF0pJiYoVS5saW5lT3V0bGluZU1hc2tbZV0uYmFzZVZhbC52YWx1ZT1aLHE9ITApfSkscSksdC5lZmZlY3QmJihKPShRPWUpLmN1clN0YXRzLCQ9US5hcGxTdGF0cyxPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD10ZVtlXSxuPWUrXCJfZW5hYmxlZFwiLGE9ZStcIl9vcHRpb25zXCIsaT1KW2FdO3FlKFEsJCxuLEs9SltuXSk/KEsmJigkW2FdPU9lKGkpKSx0W0s/XCJpbml0XCI6XCJyZW1vdmVcIl0oUSkpOksmJndlKGksJFthXSkmJih0LnJlbW92ZShRKSwkW25dPSEwLCRbYV09T2UoaSksdC5pbml0KFEpKX0pKSwoaGV8fHBlKSYmZWUubGluZSYmIWVlLnBhdGgmJkhlKGUsZS5saW5lU2hhcGUpLGhlJiZlZS5wbHVnJiYhZWUubGluZSYmSGUoZSxlLnBsdWdzRmFjZSksVWUoZSl9ZnVuY3Rpb24gdHQoZSx0KXtyZXR1cm57ZHVyYXRpb246eWUoZS5kdXJhdGlvbikmJjA8ZS5kdXJhdGlvbj9lLmR1cmF0aW9uOnQuZHVyYXRpb24sdGltaW5nOmcudmFsaWRUaW1pbmcoZS50aW1pbmcpP2UudGltaW5nOk9lKHQudGltaW5nKX19ZnVuY3Rpb24gbnQoZSx0LG4sYSl7dmFyIGksbz1lLmN1clN0YXRzLGw9ZS5hcGxTdGF0cyxyPXt9O2Z1bmN0aW9uIHMoKXtbXCJzaG93X29uXCIsXCJzaG93X2VmZmVjdFwiLFwic2hvd19hbmltT3B0aW9uc1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2xbZV09b1tlXX0pfW8uc2hvd19vbj10LG4mJk1bbl0mJihvLnNob3dfZWZmZWN0PW4sby5zaG93X2FuaW1PcHRpb25zPXR0KGZlKGEpP2E6e30sTVtuXS5kZWZhdWx0QW5pbU9wdGlvbnMpKSxyLnNob3dfb249by5zaG93X29uIT09bC5zaG93X29uLHIuc2hvd19lZmZlY3Q9by5zaG93X2VmZmVjdCE9PWwuc2hvd19lZmZlY3Qsci5zaG93X2FuaW1PcHRpb25zPXdlKG8uc2hvd19hbmltT3B0aW9ucyxsLnNob3dfYW5pbU9wdGlvbnMpLHIuc2hvd19lZmZlY3R8fHIuc2hvd19hbmltT3B0aW9ucz9vLnNob3dfaW5BbmltPyhpPXIuc2hvd19lZmZlY3Q/TVtsLnNob3dfZWZmZWN0XS5zdG9wKGUsITAsITApOk1bbC5zaG93X2VmZmVjdF0uc3RvcChlKSxzKCksTVtsLnNob3dfZWZmZWN0XS5pbml0KGUsaSkpOnIuc2hvd19vbiYmKGwuc2hvd19lZmZlY3QmJnIuc2hvd19lZmZlY3QmJk1bbC5zaG93X2VmZmVjdF0uc3RvcChlLCEwLCEwKSxzKCksTVtsLnNob3dfZWZmZWN0XS5pbml0KGUpKTpyLnNob3dfb24mJihzKCksTVtsLnNob3dfZWZmZWN0XS5zdGFydChlKSl9ZnVuY3Rpb24gYXQoZSx0LG4pe3ZhciBhPXtwcm9wczplLG9wdGlvbk5hbWU6bn07cmV0dXJuIGUuYXR0YWNobWVudHMuaW5kZXhPZih0KTwwJiYoIXQuY29uZi5iaW5kfHx0LmNvbmYuYmluZCh0LGEpKSYmKGUuYXR0YWNobWVudHMucHVzaCh0KSx0LmJvdW5kVGFyZ2V0cy5wdXNoKGEpLDEpfWZ1bmN0aW9uIGl0KG4sYSxlKXt2YXIgaT1uLmF0dGFjaG1lbnRzLmluZGV4T2YoYSk7LTE8aSYmbi5hdHRhY2htZW50cy5zcGxpY2UoaSwxKSxhLmJvdW5kVGFyZ2V0cy5zb21lKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucHJvcHM9PT1uJiYoYS5jb25mLnVuYmluZCYmYS5jb25mLnVuYmluZChhLGUpLGk9dCwhMCl9KSYmKGEuYm91bmRUYXJnZXRzLnNwbGljZShpLDEpLGV8fGplKGZ1bmN0aW9uKCl7YS5ib3VuZFRhcmdldHMubGVuZ3RofHxvKGEpfSkpfWZ1bmN0aW9uIG90KHMsdSl7dmFyIGUsaSxhLHQsbixvLGwscixoLHAsYyxkLGYseSxtLFMsZyxfPXMub3B0aW9ucyx2PXt9O2Z1bmN0aW9uIEUoZSx0LG4sYSxpKXt2YXIgbz17fTtyZXR1cm4gbj9udWxsIT1hPyhvLmNvbnRhaW5lcj1lW25dLG8ua2V5PWEpOihvLmNvbnRhaW5lcj1lLG8ua2V5PW4pOihvLmNvbnRhaW5lcj1lLG8ua2V5PXQpLG8uZGVmYXVsdD1pLG8uYWNjZXB0c0F1dG89bnVsbD09by5kZWZhdWx0LG99ZnVuY3Rpb24geChlLHQsbixhLGksbyxsKXt2YXIgcixzLHUsaD1FKGUsbixpLG8sbCk7cmV0dXJuIG51bGwhPXRbbl0mJihzPSh0W25dK1wiXCIpLnRvTG93ZXJDYXNlKCkpJiYoaC5hY2NlcHRzQXV0byYmcz09PVV8fCh1PWFbc10pKSYmdSE9PWguY29udGFpbmVyW2gua2V5XSYmKGguY29udGFpbmVyW2gua2V5XT11LHI9ITApLG51bGwhPWguY29udGFpbmVyW2gua2V5XXx8aC5hY2NlcHRzQXV0b3x8KGguY29udGFpbmVyW2gua2V5XT1oLmRlZmF1bHQscj0hMCkscn1mdW5jdGlvbiBiKGUsdCxuLGEsaSxvLGwscixzKXt2YXIgdSxoLHAsYyxkPUUoZSxuLGksbyxsKTtpZighYSl7aWYobnVsbD09ZC5kZWZhdWx0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYHR5cGVgOiBcIituKTthPXR5cGVvZiBkLmRlZmF1bHR9cmV0dXJuIG51bGwhPXRbbl0mJihkLmFjY2VwdHNBdXRvJiYodFtuXStcIlwiKS50b0xvd2VyQ2FzZSgpPT09VXx8KHA9aD10W25dLChcIm51bWJlclwiPT09KGM9YSk/eWUocCk6dHlwZW9mIHA9PT1jKSYmKGg9cyYmXCJzdHJpbmdcIj09PWEmJmg/aC50cmltKCk6aCwxKSYmKCFyfHxyKGgpKSkpJiZoIT09ZC5jb250YWluZXJbZC5rZXldJiYoZC5jb250YWluZXJbZC5rZXldPWgsdT0hMCksbnVsbCE9ZC5jb250YWluZXJbZC5rZXldfHxkLmFjY2VwdHNBdXRvfHwoZC5jb250YWluZXJbZC5rZXldPWQuZGVmYXVsdCx1PSEwKSx1fWlmKHU9dXx8e30sW1wic3RhcnRcIixcImVuZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49dVtlXSxhPSExO2lmKG4mJihJZShuKXx8KGE9TChuLFwiYW5jaG9yXCIpKSkmJm4hPT1fLmFuY2hvclNFW3RdKXtpZighMSE9PXMub3B0aW9uSXNBdHRhY2guYW5jaG9yU0VbdF0mJml0KHMsdmVbXy5hbmNob3JTRVt0XS5faWRdKSxhJiYhYXQocyx2ZVtuLl9pZF0sZSkpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYmluZCBhdHRhY2htZW50XCIpO18uYW5jaG9yU0VbdF09bixzLm9wdGlvbklzQXR0YWNoLmFuY2hvclNFW3RdPWEsaT12LnBvc2l0aW9uPSEwfX0pLCFfLmFuY2hvclNFWzBdfHwhXy5hbmNob3JTRVsxXXx8Xy5hbmNob3JTRVswXT09PV8uYW5jaG9yU0VbMV0pdGhyb3cgbmV3IEVycm9yKFwiYHN0YXJ0YCBhbmQgYGVuZGAgYXJlIHJlcXVpcmVkLlwiKTtmdW5jdGlvbiBrKGUpe3ZhciB0PW8uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJtYXNrXCIpKTtyZXR1cm4gdC5pZD1lLHQubWFza1VuaXRzLmJhc2VWYWw9U1ZHVW5pdFR5cGVzLlNWR19VTklUX1RZUEVfVVNFUlNQQUNFT05VU0UsW3QueCx0LnksdC53aWR0aCx0LmhlaWdodF0uZm9yRWFjaChmdW5jdGlvbihlKXtlLmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUFgsMCl9KSx0fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9by5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcIm1hcmtlclwiKSk7cmV0dXJuIHQuaWQ9ZSx0Lm1hcmtlclVuaXRzLmJhc2VWYWw9U1ZHTWFya2VyRWxlbWVudC5TVkdfTUFSS0VSVU5JVFNfU1RST0tFV0lEVEgsdC52aWV3Qm94LmJhc2VWYWx8fHQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLFwiMCAwIDAgMFwiKSx0fWZ1bmN0aW9uIE8oZSl7cmV0dXJuW2Uud2lkdGgsZS5oZWlnaHRdLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BFUkNFTlRBR0UsMTAwKX0pLGV9aSYmKGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk7aWYoIShuPUxlKGUpKXx8IShhPUxlKHQpKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGZyYW1lcy5cIik7cmV0dXJuIG4ubGVuZ3RoJiZhLmxlbmd0aCYmKG4ucmV2ZXJzZSgpLGEucmV2ZXJzZSgpLG4uc29tZShmdW5jdGlvbih0KXtyZXR1cm4gYS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCYmKGk9ZS5jb250ZW50V2luZG93LCEwKX0pfSkpLGl8fHdpbmRvd30oITEhPT1zLm9wdGlvbklzQXR0YWNoLmFuY2hvclNFWzBdP3ZlW18uYW5jaG9yU0VbMF0uX2lkXS5lbGVtZW50Ol8uYW5jaG9yU0VbMF0sITEhPT1zLm9wdGlvbklzQXR0YWNoLmFuY2hvclNFWzFdP3ZlW18uYW5jaG9yU0VbMV0uX2lkXS5lbGVtZW50Ol8uYW5jaG9yU0VbMV0pKSE9PXMuYmFzZVdpbmRvdyYmKHQ9ZSxtPShhPXMpLmFwbFN0YXRzLFM9dC5kb2N1bWVudCxnPUErXCItXCIrYS5faWQsYS5wYXRoTGlzdD17fSxYZShtLG1lKSxPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lK1wiX2VuYWJsZWRcIjttW3RdJiYodGVbZV0ucmVtb3ZlKGEpLG1bdF09ITEpfSksYS5iYXNlV2luZG93JiZhLnN2ZyYmYS5iYXNlV2luZG93LmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYS5zdmcpLEtlKGEuYmFzZVdpbmRvdz10KSxhLmJvZHlPZmZzZXQ9UWUodCksYS5zdmc9bj1TLmNyZWF0ZUVsZW1lbnROUyhyZSxcInN2Z1wiKSxuLmNsYXNzTmFtZS5iYXNlVmFsPUEsbi52aWV3Qm94LmJhc2VWYWx8fG4uc2V0QXR0cmlidXRlKFwidmlld0JveFwiLFwiMCAwIDAgMFwiKSxhLmRlZnM9bz1uLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwiZGVmc1wiKSksYS5saW5lUGF0aD1yPW8uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJwYXRoXCIpKSxyLmlkPWg9ZytcIi1saW5lLXBhdGhcIixyLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItbGluZS1wYXRoXCIscGUmJihyLnN0eWxlLmZpbGw9XCJub25lXCIpLGEubGluZVNoYXBlPXI9by5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5pZD1wPWcrXCItbGluZS1zaGFwZVwiLHIuaHJlZi5iYXNlVmFsPVwiI1wiK2gsKGw9by5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcImdcIikpKS5pZD1jPWcrXCItY2Fwc1wiLGEuY2Fwc01hc2tBbmNob3JTRT1bMCwxXS5tYXAoZnVuY3Rpb24oKXt2YXIgZT1sLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwicGF0aFwiKSk7cmV0dXJuIGUuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1jYXBzLW1hc2stYW5jaG9yXCIsZX0pLGEubGluZU1hc2tNYXJrZXJJZFNFPVtnK1wiLWNhcHMtbWFzay1tYXJrZXItMFwiLGcrXCItY2Fwcy1tYXNrLW1hcmtlci0xXCJdLGEuY2Fwc01hc2tNYXJrZXJTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHcoYS5saW5lTWFza01hcmtlcklkU0VbZV0pfSksYS5jYXBzTWFza01hcmtlclNoYXBlU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWEuY2Fwc01hc2tNYXJrZXJTRVtlXS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSk7cmV0dXJuIHQuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1jYXBzLW1hc2stbWFya2VyLXNoYXBlXCIsdH0pLGEuY2Fwc01hc2tMaW5lPXI9bC5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWNhcHMtbWFzay1saW5lXCIsci5ocmVmLmJhc2VWYWw9XCIjXCIrcCxhLm1hc2tCR1JlY3Q9cj1PKG8uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJyZWN0XCIpKSksci5pZD1kPWcrXCItbWFzay1iZy1yZWN0XCIsci5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLW1hc2stYmctcmVjdFwiLHBlJiYoci5zdHlsZS5maWxsPVwid2hpdGVcIiksYS5saW5lTWFzaz1PKGsoYS5saW5lTWFza0lkPWcrXCItbGluZS1tYXNrXCIpKSxhLmxpbmVNYXNrQkc9cj1hLmxpbmVNYXNrLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmhyZWYuYmFzZVZhbD1cIiNcIitkLGEubGluZU1hc2tTaGFwZT1yPWEubGluZU1hc2suYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1saW5lLW1hc2stc2hhcGVcIixyLmhyZWYuYmFzZVZhbD1cIiNcIitoLHIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixhLmxpbmVNYXNrQ2Fwcz1yPWEubGluZU1hc2suYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuaHJlZi5iYXNlVmFsPVwiI1wiK2MsYS5saW5lT3V0bGluZU1hc2s9TyhrKGY9ZytcIi1saW5lLW91dGxpbmUtbWFza1wiKSksKHI9YS5saW5lT3V0bGluZU1hc2suYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpKS5ocmVmLmJhc2VWYWw9XCIjXCIrZCxhLmxpbmVPdXRsaW5lTWFza1NoYXBlPXI9YS5saW5lT3V0bGluZU1hc2suYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1saW5lLW91dGxpbmUtbWFzay1zaGFwZVwiLHIuaHJlZi5iYXNlVmFsPVwiI1wiK2gsYS5saW5lT3V0bGluZU1hc2tDYXBzPXI9YS5saW5lT3V0bGluZU1hc2suYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuaHJlZi5iYXNlVmFsPVwiI1wiK2MsYS5mYWNlPW4uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJnXCIpKSxhLmxpbmVGYWNlPXI9YS5mYWNlLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmhyZWYuYmFzZVZhbD1cIiNcIitwLGEubGluZU91dGxpbmVGYWNlPXI9YS5mYWNlLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmhyZWYuYmFzZVZhbD1cIiNcIitwLHIuc3R5bGUubWFzaz1cInVybCgjXCIrZitcIilcIixyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYS5wbHVnTWFza0lkU0U9W2crXCItcGx1Zy1tYXNrLTBcIixnK1wiLXBsdWctbWFzay0xXCJdLGEucGx1Z01hc2tTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGsoYS5wbHVnTWFza0lkU0VbZV0pfSksYS5wbHVnTWFza1NoYXBlU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWEucGx1Z01hc2tTRVtlXS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSk7cmV0dXJuIHQuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1wbHVnLW1hc2stc2hhcGVcIix0fSkseT1bXSxhLnBsdWdPdXRsaW5lTWFza1NFPVswLDFdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gayh5W2VdPWcrXCItcGx1Zy1vdXRsaW5lLW1hc2stXCIrZSl9KSxhLnBsdWdPdXRsaW5lTWFza1NoYXBlU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWEucGx1Z091dGxpbmVNYXNrU0VbZV0uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpO3JldHVybiB0LmNsYXNzTmFtZS5iYXNlVmFsPUErXCItcGx1Zy1vdXRsaW5lLW1hc2stc2hhcGVcIix0fSksYS5wbHVnTWFya2VySWRTRT1bZytcIi1wbHVnLW1hcmtlci0wXCIsZytcIi1wbHVnLW1hcmtlci0xXCJdLGEucGx1Z01hcmtlclNFPVswLDFdLm1hcChmdW5jdGlvbihlKXt2YXIgdD13KGEucGx1Z01hcmtlcklkU0VbZV0pO3JldHVybiBwZSYmKHQubWFya2VyVW5pdHMuYmFzZVZhbD1TVkdNYXJrZXJFbGVtZW50LlNWR19NQVJLRVJVTklUU19VU0VSU1BBQ0VPTlVTRSksdH0pLGEucGx1Z01hcmtlclNoYXBlU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBhLnBsdWdNYXJrZXJTRVtlXS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcImdcIikpfSksYS5wbHVnRmFjZVNFPVswLDFdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYS5wbHVnTWFya2VyU2hhcGVTRVtlXS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSl9KSxhLnBsdWdPdXRsaW5lRmFjZVNFPVswLDFdLm1hcChmdW5jdGlvbihlKXt2YXIgdD1hLnBsdWdNYXJrZXJTaGFwZVNFW2VdLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKTtyZXR1cm4gdC5zdHlsZS5tYXNrPVwidXJsKCNcIit5W2VdK1wiKVwiLHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0fSksYS5wbHVnc0ZhY2U9cj1hLmZhY2UuYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1wbHVncy1mYWNlXCIsci5ocmVmLmJhc2VWYWw9XCIjXCIrcCxyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYS5jdXJTdGF0cy5zaG93X2luQW5pbT8oYS5pc1Nob3duPTEsTVttLnNob3dfZWZmZWN0XS5zdG9wKGEsITApKTphLmlzU2hvd258fChuLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIiksUy5ib2R5LmFwcGVuZENoaWxkKG4pLFswLDEsMl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuPWEub3B0aW9ucy5sYWJlbFNFTVtlXTtuJiZMKG4sXCJsYWJlbFwiKSYmKHQ9dmVbbi5faWRdKS5jb25mLmluaXRTdmcmJnQuY29uZi5pbml0U3ZnKHQsYSl9KSx2LmxpbmU9di5wbHVnPXYubGluZU91dGxpbmU9di5wbHVnT3V0bGluZT12LmZhY2VzPXYuZWZmZWN0PSEwKSx2LnBvc2l0aW9uPXgoXyx1LFwicGF0aFwiLHosbnVsbCxudWxsLGRlLnBhdGgpfHx2LnBvc2l0aW9uLHYucG9zaXRpb249eChfLHUsXCJzdGFydFNvY2tldFwiLFcsXCJzb2NrZXRTRVwiLDApfHx2LnBvc2l0aW9uLHYucG9zaXRpb249eChfLHUsXCJlbmRTb2NrZXRcIixXLFwic29ja2V0U0VcIiwxKXx8di5wb3NpdGlvbixbdS5zdGFydFNvY2tldEdyYXZpdHksdS5lbmRTb2NrZXRHcmF2aXR5XS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpPSExO251bGwhPWUmJihBcnJheS5pc0FycmF5KGUpP3llKGVbMF0pJiZ5ZShlWzFdKSYmKGk9W2VbMF0sZVsxXV0sQXJyYXkuaXNBcnJheShfLnNvY2tldEdyYXZpdHlTRVt0XSkmJihuPWksYT1fLnNvY2tldEdyYXZpdHlTRVt0XSxuLmxlbmd0aD09PWEubGVuZ3RoJiZuLmV2ZXJ5KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT1hW3RdfSkpJiYoaT0hMSkpOigoZStcIlwiKS50b0xvd2VyQ2FzZSgpPT09VT9pPW51bGw6eWUoZSkmJjA8PWUmJihpPWUpLGk9PT1fLnNvY2tldEdyYXZpdHlTRVt0XSYmKGk9ITEpKSwhMSE9PWkmJihfLnNvY2tldEdyYXZpdHlTRVt0XT1pLHYucG9zaXRpb249ITApKX0pLHYubGluZT1iKF8sdSxcImNvbG9yXCIsbnVsbCxcImxpbmVDb2xvclwiLG51bGwsZGUubGluZUNvbG9yLG51bGwsITApfHx2LmxpbmUsdi5saW5lPWIoXyx1LFwic2l6ZVwiLG51bGwsXCJsaW5lU2l6ZVwiLG51bGwsZGUubGluZVNpemUsZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZX0pfHx2LmxpbmUsW1wic3RhcnRQbHVnXCIsXCJlbmRQbHVnXCJdLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2LnBsdWc9eChfLHUsZSxqLFwicGx1Z1NFXCIsdCxkZS5wbHVnU0VbdF0pfHx2LnBsdWcsdi5wbHVnPWIoXyx1LGUrXCJDb2xvclwiLFwic3RyaW5nXCIsXCJwbHVnQ29sb3JTRVwiLHQsbnVsbCxudWxsLCEwKXx8di5wbHVnLHYucGx1Zz1iKF8sdSxlK1wiU2l6ZVwiLG51bGwsXCJwbHVnU2l6ZVNFXCIsdCxkZS5wbHVnU2l6ZVNFW3RdLGZ1bmN0aW9uKGUpe3JldHVybiAwPGV9KXx8di5wbHVnfSksdi5saW5lT3V0bGluZT1iKF8sdSxcIm91dGxpbmVcIixudWxsLFwibGluZU91dGxpbmVFbmFibGVkXCIsbnVsbCxkZS5saW5lT3V0bGluZUVuYWJsZWQpfHx2LmxpbmVPdXRsaW5lLHYubGluZU91dGxpbmU9YihfLHUsXCJvdXRsaW5lQ29sb3JcIixudWxsLFwibGluZU91dGxpbmVDb2xvclwiLG51bGwsZGUubGluZU91dGxpbmVDb2xvcixudWxsLCEwKXx8di5saW5lT3V0bGluZSx2LmxpbmVPdXRsaW5lPWIoXyx1LFwib3V0bGluZVNpemVcIixudWxsLFwibGluZU91dGxpbmVTaXplXCIsbnVsbCxkZS5saW5lT3V0bGluZVNpemUsZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZSYmZTw9LjQ4fSl8fHYubGluZU91dGxpbmUsW1wic3RhcnRQbHVnT3V0bGluZVwiLFwiZW5kUGx1Z091dGxpbmVcIl0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3YucGx1Z091dGxpbmU9YihfLHUsZSxudWxsLFwicGx1Z091dGxpbmVFbmFibGVkU0VcIix0LGRlLnBsdWdPdXRsaW5lRW5hYmxlZFNFW3RdKXx8di5wbHVnT3V0bGluZSx2LnBsdWdPdXRsaW5lPWIoXyx1LGUrXCJDb2xvclwiLFwic3RyaW5nXCIsXCJwbHVnT3V0bGluZUNvbG9yU0VcIix0LG51bGwsbnVsbCwhMCl8fHYucGx1Z091dGxpbmUsdi5wbHVnT3V0bGluZT1iKF8sdSxlK1wiU2l6ZVwiLG51bGwsXCJwbHVnT3V0bGluZVNpemVTRVwiLHQsZGUucGx1Z091dGxpbmVTaXplU0VbdF0sZnVuY3Rpb24oZSl7cmV0dXJuIDE8PWV9KXx8di5wbHVnT3V0bGluZX0pLFtcInN0YXJ0TGFiZWxcIixcImVuZExhYmVsXCIsXCJtaWRkbGVMYWJlbFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpLG89dVtlXSxsPV8ubGFiZWxTRU1bdF0mJiFzLm9wdGlvbklzQXR0YWNoLmxhYmVsU0VNW3RdP3ZlW18ubGFiZWxTRU1bdF0uX2lkXS50ZXh0Ol8ubGFiZWxTRU1bdF0scj0hMTtpZigobj1cInN0cmluZ1wiPT10eXBlb2YgbykmJihvPW8udHJpbSgpKSwobnx8byYmKHI9TChvLFwibGFiZWxcIikpKSYmbyE9PWwpe2lmKF8ubGFiZWxTRU1bdF0mJihpdChzLHZlW18ubGFiZWxTRU1bdF0uX2lkXSksXy5sYWJlbFNFTVt0XT1cIlwiKSxvKXtpZihyPyhhPXZlWyhpPW8pLl9pZF0pLmJvdW5kVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7YS5jb25mLnJlbW92ZU9wdGlvbihhLGUpfSk6aT1uZXcgQyhJLmNhcHRpb25MYWJlbCxbb10pLCFhdChzLHZlW2kuX2lkXSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBiaW5kIGF0dGFjaG1lbnRcIik7Xy5sYWJlbFNFTVt0XT1pfXMub3B0aW9uSXNBdHRhY2gubGFiZWxTRU1bdF09cn19KSxPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgZSx0LG89dGVbYV0sbj1hK1wiX2VuYWJsZWRcIixpPWErXCJfb3B0aW9uc1wiO2Z1bmN0aW9uIGwoYSl7dmFyIGk9e307cmV0dXJuIG8ub3B0aW9uc0NvbmYuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVszXTtudWxsPT1lWzRdfHxpW25dfHwoaVtuXT1bXSksKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpcImlkXCI9PT10P3g6YikuYXBwbHkobnVsbCxbaSxhXS5jb25jYXQoZS5zbGljZSgxKSkpfSksaX1mdW5jdGlvbiByKGUpe3ZhciB0LG49YStcIl9hbmltT3B0aW9uc1wiO3JldHVybiBlLmhhc093blByb3BlcnR5KFwiYW5pbWF0aW9uXCIpP2ZlKGUuYW5pbWF0aW9uKT90PXMuY3VyU3RhdHNbbl09dHQoZS5hbmltYXRpb24sby5kZWZhdWx0QW5pbU9wdGlvbnMpOih0PSEhZS5hbmltYXRpb24scy5jdXJTdGF0c1tuXT10P3R0KHt9LG8uZGVmYXVsdEFuaW1PcHRpb25zKTpudWxsKToodD0hIW8uZGVmYXVsdEVuYWJsZWQscy5jdXJTdGF0c1tuXT10P3R0KHt9LG8uZGVmYXVsdEFuaW1PcHRpb25zKTpudWxsKSx0fXUuaGFzT3duUHJvcGVydHkoYSkmJihlPXVbYV0sZmUoZSk/KHMuY3VyU3RhdHNbbl09ITAsdD1zLmN1clN0YXRzW2ldPWwoZSksby5hbmltJiYocy5jdXJTdGF0c1tpXS5hbmltYXRpb249cihlKSkpOih0PXMuY3VyU3RhdHNbbl09ISFlKSYmKHMuY3VyU3RhdHNbaV09bCh7fSksby5hbmltJiYocy5jdXJTdGF0c1tpXS5hbmltYXRpb249cih7fSkpKSx3ZSh0LF9bYV0pJiYoX1thXT10LHYuZWZmZWN0PSEwKSl9KSxldChzLHYpfWZ1bmN0aW9uIGx0KGUsdCxuKXt2YXIgYT17b3B0aW9uczp7YW5jaG9yU0U6W10sc29ja2V0U0U6W10sc29ja2V0R3Jhdml0eVNFOltdLHBsdWdTRTpbXSxwbHVnQ29sb3JTRTpbXSxwbHVnU2l6ZVNFOltdLHBsdWdPdXRsaW5lRW5hYmxlZFNFOltdLHBsdWdPdXRsaW5lQ29sb3JTRTpbXSxwbHVnT3V0bGluZVNpemVTRTpbXSxsYWJlbFNFTTpbXCJcIixcIlwiLFwiXCJdfSxvcHRpb25Jc0F0dGFjaDp7YW5jaG9yU0U6WyExLCExXSxsYWJlbFNFTTpbITEsITEsITFdfSxjdXJTdGF0czp7fSxhcGxTdGF0czp7fSxhdHRhY2htZW50czpbXSxldmVudHM6e30scmVmbG93VGFyZ2V0czpbXX07WGUoYS5jdXJTdGF0cyxtZSksWGUoYS5hcGxTdGF0cyxtZSksT2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dGVbZV0uc3RhdHM7WGUoYS5jdXJTdGF0cyx0KSxYZShhLmFwbFN0YXRzLHQpLGEub3B0aW9uc1tlXT0hMX0pLFhlKGEuY3VyU3RhdHMsRSksWGUoYS5hcGxTdGF0cyxFKSxhLmN1clN0YXRzLnNob3dfZWZmZWN0PU8sYS5jdXJTdGF0cy5zaG93X2FuaW1PcHRpb25zPU9lKE1bT10uZGVmYXVsdEFuaW1PcHRpb25zKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9pZFwiLHt2YWx1ZTorK19lfSksYS5faWQ9dGhpcy5faWQsZ2VbdGhpcy5faWRdPWEsMT09PWFyZ3VtZW50cy5sZW5ndGgmJihuPWUsZT1udWxsKSxuPW58fHt9LChlfHx0KSYmKG49T2UobiksZSYmKG4uc3RhcnQ9ZSksdCYmKG4uZW5kPXQpKSxhLmlzU2hvd249YS5hcGxTdGF0cy5zaG93X29uPSFuLmhpZGUsdGhpcy5zZXRPcHRpb25zKG4pfWZ1bmN0aW9uIHJ0KG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTt0W25dPWUsdGhpcy5zZXRPcHRpb25zKHQpfX1mdW5jdGlvbiBzdChlLHQpe3ZhciBuLGE9e2NvbmY6ZSxjdXJTdGF0czp7fSxhcGxTdGF0czp7fSxib3VuZFRhcmdldHM6W119LGk9e307ZS5hcmdPcHRpb25zLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiEoIXQubGVuZ3RofHwoXCJzdHJpbmdcIj09dHlwZW9mIGUudHlwZT90eXBlb2YgdFswXSE9PWUudHlwZTpcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnR5cGV8fCFlLnR5cGUodFswXSkpKSYmKGlbZS5vcHRpb25OYW1lXT10LnNoaWZ0KCksITApfSksbj10Lmxlbmd0aCYmZmUodFswXSk/T2UodFswXSk6e30sT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPWlbZV19KSxlLnN0YXRzJiYoWGUoYS5jdXJTdGF0cyxlLnN0YXRzKSxYZShhLmFwbFN0YXRzLGUuc3RhdHMpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9pZFwiLHt2YWx1ZTorK0VlfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpc1JlbW92ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXZlW3RoaXMuX2lkXX19KSxhLl9pZD10aGlzLl9pZCxlLmluaXQmJiFlLmluaXQoYSxuKXx8KHZlW3RoaXMuX2lkXT1hKX1yZXR1cm4gdGU9e2Rhc2g6e3N0YXRzOntkYXNoX2xlbjp7fSxkYXNoX2dhcDp7fSxkYXNoX21heE9mZnNldDp7fX0sYW5pbTohMCxkZWZhdWx0QW5pbU9wdGlvbnM6e2R1cmF0aW9uOjFlMyx0aW1pbmc6XCJsaW5lYXJcIn0sb3B0aW9uc0NvbmY6W1tcInR5cGVcIixcImxlblwiLFwibnVtYmVyXCIsbnVsbCxudWxsLG51bGwsZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZX1dLFtcInR5cGVcIixcImdhcFwiLFwibnVtYmVyXCIsbnVsbCxudWxsLG51bGwsZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZX1dXSxpbml0OmZ1bmN0aW9uKGUpe0RlKGUsXCJhcGxfbGluZV9zdHJva2VXaWR0aFwiLHRlLmRhc2gudXBkYXRlKSxlLmxpbmVGYWNlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQ9MCx0ZS5kYXNoLnVwZGF0ZShlKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuY3VyU3RhdHM7emUoZSxcImFwbF9saW5lX3N0cm9rZVdpZHRoXCIsdGUuZGFzaC51cGRhdGUpLHQuZGFzaF9hbmltSWQmJihnLnJlbW92ZSh0LmRhc2hfYW5pbUlkKSx0LmRhc2hfYW5pbUlkPW51bGwpLGUubGluZUZhY2Uuc3R5bGUuc3Ryb2tlRGFzaGFycmF5PVwibm9uZVwiLGUubGluZUZhY2Uuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldD0wLFhlKGUuYXBsU3RhdHMsdGUuZGFzaC5zdGF0cyl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXQuY3VyU3RhdHMsYT10LmFwbFN0YXRzLGk9YS5kYXNoX29wdGlvbnMsbz0hMTtuLmRhc2hfbGVuPWkubGVufHwyKmEubGluZV9zdHJva2VXaWR0aCxuLmRhc2hfZ2FwPWkuZ2FwfHxhLmxpbmVfc3Ryb2tlV2lkdGgsbi5kYXNoX21heE9mZnNldD1uLmRhc2hfbGVuK24uZGFzaF9nYXAsbz1xZSh0LGEsXCJkYXNoX2xlblwiLG4uZGFzaF9sZW4pfHxvLChvPXFlKHQsYSxcImRhc2hfZ2FwXCIsbi5kYXNoX2dhcCl8fG8pJiYodC5saW5lRmFjZS5zdHlsZS5zdHJva2VEYXNoYXJyYXk9YS5kYXNoX2xlbitcIixcIithLmRhc2hfZ2FwKSxuLmRhc2hfYW5pbU9wdGlvbnM/KG89cWUodCxhLFwiZGFzaF9tYXhPZmZzZXRcIixuLmRhc2hfbWF4T2Zmc2V0KSxhLmRhc2hfYW5pbU9wdGlvbnMmJihvfHx3ZShuLmRhc2hfYW5pbU9wdGlvbnMsYS5kYXNoX2FuaW1PcHRpb25zKSkmJihuLmRhc2hfYW5pbUlkJiYoZT1nLnN0b3Aobi5kYXNoX2FuaW1JZCksZy5yZW1vdmUobi5kYXNoX2FuaW1JZCkpLGEuZGFzaF9hbmltT3B0aW9ucz1udWxsKSxhLmRhc2hfYW5pbU9wdGlvbnN8fChuLmRhc2hfYW5pbUlkPWcuYWRkKGZ1bmN0aW9uKGUpe3JldHVybigxLWUpKmEuZGFzaF9tYXhPZmZzZXQrXCJweFwifSxmdW5jdGlvbihlKXt0LmxpbmVGYWNlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQ9ZX0sbi5kYXNoX2FuaW1PcHRpb25zLmR1cmF0aW9uLDAsbi5kYXNoX2FuaW1PcHRpb25zLnRpbWluZywhMSxlKSxhLmRhc2hfYW5pbU9wdGlvbnM9T2Uobi5kYXNoX2FuaW1PcHRpb25zKSkpOmEuZGFzaF9hbmltT3B0aW9ucyYmKG4uZGFzaF9hbmltSWQmJihnLnJlbW92ZShuLmRhc2hfYW5pbUlkKSxuLmRhc2hfYW5pbUlkPW51bGwpLHQubGluZUZhY2Uuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldD0wLGEuZGFzaF9hbmltT3B0aW9ucz1udWxsKX19LGdyYWRpZW50OntzdGF0czp7Z3JhZGllbnRfY29sb3JTRTp7aGFzU0U6ITB9LGdyYWRpZW50X3BvaW50U0U6e2hhc1NFOiEwLGhhc1Byb3BzOiEwfX0sb3B0aW9uc0NvbmY6W1tcInR5cGVcIixcInN0YXJ0Q29sb3JcIixcInN0cmluZ1wiLFwiY29sb3JTRVwiLDAsbnVsbCxudWxsLCEwXSxbXCJ0eXBlXCIsXCJlbmRDb2xvclwiLFwic3RyaW5nXCIsXCJjb2xvclNFXCIsMSxudWxsLG51bGwsITBdXSxpbml0OmZ1bmN0aW9uKGUpe3ZhciB0LGE9ZS5iYXNlV2luZG93LmRvY3VtZW50LG49ZS5kZWZzLGk9QStcIi1cIitlLl9pZCtcIi1ncmFkaWVudFwiO2UuZWZjX2dyYWRpZW50X2dyYWRpZW50PXQ9bi5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnROUyhyZSxcImxpbmVhckdyYWRpZW50XCIpKSx0LmlkPWksdC5ncmFkaWVudFVuaXRzLmJhc2VWYWw9U1ZHVW5pdFR5cGVzLlNWR19VTklUX1RZUEVfVVNFUlNQQUNFT05VU0UsW3QueDEsdC55MSx0LngyLHQueTJdLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BYLDApfSksZS5lZmNfZ3JhZGllbnRfc3RvcFNFPVswLDFdLm1hcChmdW5jdGlvbih0KXt2YXIgbj1lLmVmY19ncmFkaWVudF9ncmFkaWVudC5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnROUyhyZSxcInN0b3BcIikpO3RyeXtuLm9mZnNldC5iYXNlVmFsPXR9Y2F0Y2goZSl7aWYoZS5jb2RlIT09RE9NRXhjZXB0aW9uLk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUil0aHJvdyBlO24uc2V0QXR0cmlidXRlKFwib2Zmc2V0XCIsdCl9cmV0dXJuIG59KSxEZShlLFwiY3VyX3BsdWdfY29sb3JTRVwiLHRlLmdyYWRpZW50LnVwZGF0ZSksRGUoZSxcImFwbF9wYXRoXCIsdGUuZ3JhZGllbnQudXBkYXRlKSxlLmN1clN0YXRzLmxpbmVfYWx0Q29sb3I9ITAsZS5saW5lRmFjZS5zdHlsZS5zdHJva2U9XCJ1cmwoI1wiK2krXCIpXCIsdGUuZ3JhZGllbnQudXBkYXRlKGUpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZS5lZmNfZ3JhZGllbnRfZ3JhZGllbnQmJihlLmRlZnMucmVtb3ZlQ2hpbGQoZS5lZmNfZ3JhZGllbnRfZ3JhZGllbnQpLGUuZWZjX2dyYWRpZW50X2dyYWRpZW50PWUuZWZjX2dyYWRpZW50X3N0b3BTRT1udWxsKSx6ZShlLFwiY3VyX3BsdWdfY29sb3JTRVwiLHRlLmdyYWRpZW50LnVwZGF0ZSksemUoZSxcImFwbF9wYXRoXCIsdGUuZ3JhZGllbnQudXBkYXRlKSxlLmN1clN0YXRzLmxpbmVfYWx0Q29sb3I9ITEsZS5saW5lRmFjZS5zdHlsZS5zdHJva2U9ZS5jdXJTdGF0cy5saW5lX2NvbG9yLFhlKGUuYXBsU3RhdHMsdGUuZ3JhZGllbnQuc3RhdHMpfSx1cGRhdGU6ZnVuY3Rpb24oYSl7dmFyIGUsdCxpPWEuY3VyU3RhdHMsbz1hLmFwbFN0YXRzLG49by5ncmFkaWVudF9vcHRpb25zLGw9YS5wYXRoTGlzdC5hbmltVmFsfHxhLnBhdGhMaXN0LmJhc2VWYWw7WzAsMV0uZm9yRWFjaChmdW5jdGlvbihlKXtpLmdyYWRpZW50X2NvbG9yU0VbZV09bi5jb2xvclNFW2VdfHxpLnBsdWdfY29sb3JTRVtlXX0pLHQ9bFswXVswXSxpLmdyYWRpZW50X3BvaW50U0VbMF09e3g6dC54LHk6dC55fSx0PShlPWxbbC5sZW5ndGgtMV0pW2UubGVuZ3RoLTFdLGkuZ3JhZGllbnRfcG9pbnRTRVsxXT17eDp0LngseTp0Lnl9LFswLDFdLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG47cWUoYSxvLmdyYWRpZW50X2NvbG9yU0UsdCxuPWkuZ3JhZGllbnRfY29sb3JTRVt0XSkmJihwZT8obj1NZShuKSxhLmVmY19ncmFkaWVudF9zdG9wU0VbdF0uc3R5bGUuc3RvcENvbG9yPW5bMV0sYS5lZmNfZ3JhZGllbnRfc3RvcFNFW3RdLnN0eWxlLnN0b3BPcGFjaXR5PW5bMF0pOmEuZWZjX2dyYWRpZW50X3N0b3BTRVt0XS5zdHlsZS5zdG9wQ29sb3I9biksW1wieFwiLFwieVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyhuPWkuZ3JhZGllbnRfcG9pbnRTRVt0XVtlXSkhPT1vLmdyYWRpZW50X3BvaW50U0VbdF1bZV0mJihhLmVmY19ncmFkaWVudF9ncmFkaWVudFtlKyh0KzEpXS5iYXNlVmFsLnZhbHVlPW8uZ3JhZGllbnRfcG9pbnRTRVt0XVtlXT1uKX0pfSl9fSxkcm9wU2hhZG93OntzdGF0czp7ZHJvcFNoYWRvd19keDp7fSxkcm9wU2hhZG93X2R5Ont9LGRyb3BTaGFkb3dfYmx1cjp7fSxkcm9wU2hhZG93X2NvbG9yOnt9LGRyb3BTaGFkb3dfb3BhY2l0eTp7fSxkcm9wU2hhZG93X3g6e30sZHJvcFNoYWRvd195Ont9fSxvcHRpb25zQ29uZjpbW1widHlwZVwiLFwiZHhcIixudWxsLG51bGwsbnVsbCwyXSxbXCJ0eXBlXCIsXCJkeVwiLG51bGwsbnVsbCxudWxsLDRdLFtcInR5cGVcIixcImJsdXJcIixudWxsLG51bGwsbnVsbCwzLGZ1bmN0aW9uKGUpe3JldHVybiAwPD1lfV0sW1widHlwZVwiLFwiY29sb3JcIixudWxsLG51bGwsbnVsbCxcIiMwMDBcIixudWxsLCEwXSxbXCJ0eXBlXCIsXCJvcGFjaXR5XCIsbnVsbCxudWxsLG51bGwsLjgsZnVuY3Rpb24oZSl7cmV0dXJuIDA8PWUmJmU8PTF9XV0saW5pdDpmdW5jdGlvbih0KXt2YXIgZSxuLGEsaSxvLGw9dC5iYXNlV2luZG93LmRvY3VtZW50LHI9dC5kZWZzLHM9QStcIi1cIit0Ll9pZCtcIi1kcm9wU2hhZG93XCIsdT0oZT1sLG49cyxvPXt9LFwiYm9vbGVhblwiIT10eXBlb2YgcCYmKHA9ISF3aW5kb3cuU1ZHRkVEcm9wU2hhZG93RWxlbWVudCYmIXBlKSxvLmVsbXNBcHBlbmQ9W28uZWxtRmlsdGVyPWE9ZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmaWx0ZXJcIildLGEuZmlsdGVyVW5pdHMuYmFzZVZhbD1TVkdVbml0VHlwZXMuU1ZHX1VOSVRfVFlQRV9VU0VSU1BBQ0VPTlVTRSxhLnguYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QWCwwKSxhLnkuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QWCwwKSxhLndpZHRoLmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUEVSQ0VOVEFHRSwxMDApLGEuaGVpZ2h0LmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUEVSQ0VOVEFHRSwxMDApLGEuaWQ9bixwPyhvLmVsbU9mZnNldD1vLmVsbUJsdXI9aT1hLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVEcm9wU2hhZG93XCIpKSxvLnN0eWxlRmxvb2Q9aS5zdHlsZSk6KG8uZWxtQmx1cj1hLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVHYXVzc2lhbkJsdXJcIikpLG8uZWxtT2Zmc2V0PWk9YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlT2Zmc2V0XCIpKSxpLnJlc3VsdC5iYXNlVmFsPVwib2Zmc2V0Ymx1clwiLGk9YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlRmxvb2RcIikpLG8uc3R5bGVGbG9vZD1pLnN0eWxlLChpPWEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZUNvbXBvc2l0ZVwiKSkpLmluMi5iYXNlVmFsPVwib2Zmc2V0Ymx1clwiLGkub3BlcmF0b3IuYmFzZVZhbD1TVkdGRUNvbXBvc2l0ZUVsZW1lbnQuU1ZHX0ZFQ09NUE9TSVRFX09QRVJBVE9SX0lOLChpPWEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZU1lcmdlXCIpKSkuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZU1lcmdlTm9kZVwiKSksaS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlTWVyZ2VOb2RlXCIpKS5pbjEuYmFzZVZhbD1cIlNvdXJjZUdyYXBoaWNcIiksbyk7W1wiZWxtRmlsdGVyXCIsXCJlbG1PZmZzZXRcIixcImVsbUJsdXJcIixcInN0eWxlRmxvb2RcIixcImVsbXNBcHBlbmRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0W1wiZWZjX2Ryb3BTaGFkb3dfXCIrZV09dVtlXX0pLHUuZWxtc0FwcGVuZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuYXBwZW5kQ2hpbGQoZSl9KSx0LmZhY2Uuc2V0QXR0cmlidXRlKFwiZmlsdGVyXCIsXCJ1cmwoI1wiK3MrXCIpXCIpLERlKHQsXCJuZXdfZWRnZTR2aWV3Qm94XCIsdGUuZHJvcFNoYWRvdy5hZGp1c3RFZGdlKSx0ZS5kcm9wU2hhZG93LnVwZGF0ZSh0KX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGVmcztlLmVmY19kcm9wU2hhZG93X2VsbXNBcHBlbmQmJihlLmVmY19kcm9wU2hhZG93X2VsbXNBcHBlbmQuZm9yRWFjaChmdW5jdGlvbihlKXt0LnJlbW92ZUNoaWxkKGUpfSksZS5lZmNfZHJvcFNoYWRvd19lbG1GaWx0ZXI9ZS5lZmNfZHJvcFNoYWRvd19lbG1PZmZzZXQ9ZS5lZmNfZHJvcFNoYWRvd19lbG1CbHVyPWUuZWZjX2Ryb3BTaGFkb3dfc3R5bGVGbG9vZD1lLmVmY19kcm9wU2hhZG93X2VsbXNBcHBlbmQ9bnVsbCksemUoZSxcIm5ld19lZGdlNHZpZXdCb3hcIix0ZS5kcm9wU2hhZG93LmFkanVzdEVkZ2UpLGV0KGUse30pLGUuZmFjZS5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIiksWGUoZS5hcGxTdGF0cyx0ZS5kcm9wU2hhZG93LnN0YXRzKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0LG4sYT1lLmN1clN0YXRzLGk9ZS5hcGxTdGF0cyxvPWkuZHJvcFNoYWRvd19vcHRpb25zO2EuZHJvcFNoYWRvd19keD10PW8uZHgscWUoZSxpLFwiZHJvcFNoYWRvd19keFwiLHQpJiYoZS5lZmNfZHJvcFNoYWRvd19lbG1PZmZzZXQuZHguYmFzZVZhbD10LG49ITApLGEuZHJvcFNoYWRvd19keT10PW8uZHkscWUoZSxpLFwiZHJvcFNoYWRvd19keVwiLHQpJiYoZS5lZmNfZHJvcFNoYWRvd19lbG1PZmZzZXQuZHkuYmFzZVZhbD10LG49ITApLGEuZHJvcFNoYWRvd19ibHVyPXQ9by5ibHVyLHFlKGUsaSxcImRyb3BTaGFkb3dfYmx1clwiLHQpJiYoZS5lZmNfZHJvcFNoYWRvd19lbG1CbHVyLnNldFN0ZERldmlhdGlvbih0LHQpLG49ITApLG4mJmV0KGUse30pLGEuZHJvcFNoYWRvd19jb2xvcj10PW8uY29sb3IscWUoZSxpLFwiZHJvcFNoYWRvd19jb2xvclwiLHQpJiYoZS5lZmNfZHJvcFNoYWRvd19zdHlsZUZsb29kLmZsb29kQ29sb3I9dCksYS5kcm9wU2hhZG93X29wYWNpdHk9dD1vLm9wYWNpdHkscWUoZSxpLFwiZHJvcFNoYWRvd19vcGFjaXR5XCIsdCkmJihlLmVmY19kcm9wU2hhZG93X3N0eWxlRmxvb2QuZmxvb2RPcGFjaXR5PXQpfSxhZGp1c3RFZGdlOmZ1bmN0aW9uKGEsaSl7dmFyIGUsdCxvPWEuY3VyU3RhdHMsbD1hLmFwbFN0YXRzO251bGwhPW8uZHJvcFNoYWRvd19keCYmKGU9MypvLmRyb3BTaGFkb3dfYmx1ciwodD17eDE6aS54MS1lK28uZHJvcFNoYWRvd19keCx5MTppLnkxLWUrby5kcm9wU2hhZG93X2R5LHgyOmkueDIrZStvLmRyb3BTaGFkb3dfZHgseTI6aS55MitlK28uZHJvcFNoYWRvd19keX0pLngxPGkueDEmJihpLngxPXQueDEpLHQueTE8aS55MSYmKGkueTE9dC55MSksdC54Mj5pLngyJiYoaS54Mj10LngyKSx0LnkyPmkueTImJihpLnkyPXQueTIpLFtcInhcIixcInlcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuPVwiZHJvcFNoYWRvd19cIitlO29bbl09dD1pW2UrXCIxXCJdLHFlKGEsbCxuLHQpJiYoYS5lZmNfZHJvcFNoYWRvd19lbG1GaWx0ZXJbZV0uYmFzZVZhbC52YWx1ZT10KX0pKX19fSxPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD10ZVtlXSxuPXQuc3RhdHM7bltlK1wiX2VuYWJsZWRcIl09e2luaVZhbHVlOiExfSxuW2UrXCJfb3B0aW9uc1wiXT17aGFzUHJvcHM6ITB9LHQuYW5pbSYmKG5bZStcIl9hbmltT3B0aW9uc1wiXT17fSxuW2UrXCJfYW5pbUlkXCJdPXt9KX0pLE09e25vbmU6e2RlZmF1bHRBbmltT3B0aW9uczp7fSxpbml0OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jdXJTdGF0cztuLnNob3dfYW5pbUlkJiYoZy5yZW1vdmUobi5zaG93X2FuaW1JZCksbi5zaG93X2FuaW1JZD1udWxsKSxNLm5vbmUuc3RhcnQoZSx0KX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXtNLm5vbmUuc3RvcChlLCEwKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIGE9ZS5jdXJTdGF0cztyZXR1cm4gbj1udWxsIT1uP246ZS5hcGxTdGF0cy5zaG93X29uLGEuc2hvd19pbkFuaW09ITEsdCYmJGUoZSxuKSxuPzE6MH19LGZhZGU6e2RlZmF1bHRBbmltT3B0aW9uczp7ZHVyYXRpb246MzAwLHRpbWluZzpcImxpbmVhclwifSxpbml0OmZ1bmN0aW9uKG4sZSl7dmFyIHQ9bi5jdXJTdGF0cyxhPW4uYXBsU3RhdHM7dC5zaG93X2FuaW1JZCYmZy5yZW1vdmUodC5zaG93X2FuaW1JZCksdC5zaG93X2FuaW1JZD1nLmFkZChmdW5jdGlvbihlKXtyZXR1cm4gZX0sZnVuY3Rpb24oZSx0KXt0P00uZmFkZS5zdG9wKG4sITApOihuLnN2Zy5zdHlsZS5vcGFjaXR5PWUrXCJcIixzZSYmKEhlKG4sbi5zdmcpLFVlKG4pKSl9LGEuc2hvd19hbmltT3B0aW9ucy5kdXJhdGlvbiwxLGEuc2hvd19hbmltT3B0aW9ucy50aW1pbmcsbnVsbCwhMSksTS5mYWRlLnN0YXJ0KG4sZSl9LHN0YXJ0OmZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1lLmN1clN0YXRzO2Euc2hvd19pbkFuaW0mJihuPWcuc3RvcChhLnNob3dfYW5pbUlkKSksJGUoZSwxKSxhLnNob3dfaW5BbmltPSEwLGcuc3RhcnQoYS5zaG93X2FuaW1JZCwhZS5hcGxTdGF0cy5zaG93X29uLG51bGwhPXQ/dDpuKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIGEsaT1lLmN1clN0YXRzO3JldHVybiBuPW51bGwhPW4/bjplLmFwbFN0YXRzLnNob3dfb24sYT1pLnNob3dfaW5BbmltP2cuc3RvcChpLnNob3dfYW5pbUlkKTpuPzE6MCxpLnNob3dfaW5BbmltPSExLHQmJihlLnN2Zy5zdHlsZS5vcGFjaXR5PW4/XCJcIjpcIjBcIiwkZShlLG4pKSxhfX0sZHJhdzp7ZGVmYXVsdEFuaW1PcHRpb25zOntkdXJhdGlvbjo1MDAsdGltaW5nOlsuNTgsMCwuNDIsMV19LGluaXQ6ZnVuY3Rpb24obixlKXt2YXIgdD1uLmN1clN0YXRzLGE9bi5hcGxTdGF0cyxsPW4ucGF0aExpc3QuYmFzZVZhbCxpPUZlKGwpLHI9aS5zZWdzTGVuLHM9aS5sZW5BbGw7dC5zaG93X2FuaW1JZCYmZy5yZW1vdmUodC5zaG93X2FuaW1JZCksdC5zaG93X2FuaW1JZD1nLmFkZChmdW5jdGlvbihlKXt2YXIgdCxuLGEsaSxvPS0xO2lmKDA9PT1lKW49W1tsWzBdWzBdLGxbMF1bMF1dXTtlbHNlIGlmKDE9PT1lKW49bDtlbHNle2Zvcih0PXMqZSxuPVtdO3Q+PXJbKytvXTspbi5wdXNoKGxbb10pLHQtPXJbb107dCYmKDI9PT0oYT1sW29dKS5sZW5ndGg/bi5wdXNoKFthWzBdLFBlKGFbMF0sYVsxXSx0L3Jbb10pXSk6KGk9VGUoYVswXSxhWzFdLGFbMl0sYVszXSxCZShhWzBdLGFbMV0sYVsyXSxhWzNdLHQpKSxuLnB1c2goW2FbMF0saS5mcm9tUDEsaS5mcm9tUDIsaV0pKSl9cmV0dXJuIG59LGZ1bmN0aW9uKGUsdCl7dD9NLmRyYXcuc3RvcChuLCEwKToobi5wYXRoTGlzdC5hbmltVmFsPWUsZXQobix7cGF0aDohMH0pKX0sYS5zaG93X2FuaW1PcHRpb25zLmR1cmF0aW9uLDEsYS5zaG93X2FuaW1PcHRpb25zLnRpbWluZyxudWxsLCExKSxNLmRyYXcuc3RhcnQobixlKX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixhPWUuY3VyU3RhdHM7YS5zaG93X2luQW5pbSYmKG49Zy5zdG9wKGEuc2hvd19hbmltSWQpKSwkZShlLDEpLGEuc2hvd19pbkFuaW09ITAsRGUoZSxcImFwbF9wb3NpdGlvblwiLE0uZHJhdy51cGRhdGUpLGcuc3RhcnQoYS5zaG93X2FuaW1JZCwhZS5hcGxTdGF0cy5zaG93X29uLG51bGwhPXQ/dDpuKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIGEsaT1lLmN1clN0YXRzO3JldHVybiBuPW51bGwhPW4/bjplLmFwbFN0YXRzLnNob3dfb24sYT1pLnNob3dfaW5BbmltP2cuc3RvcChpLnNob3dfYW5pbUlkKTpuPzE6MCxpLnNob3dfaW5BbmltPSExLHQmJihlLnBhdGhMaXN0LmFuaW1WYWw9bj9udWxsOltbZS5wYXRoTGlzdC5iYXNlVmFsWzBdWzBdLGUucGF0aExpc3QuYmFzZVZhbFswXVswXV1dLGV0KGUse3BhdGg6ITB9KSwkZShlLG4pKSxhfSx1cGRhdGU6ZnVuY3Rpb24oZSl7emUoZSxcImFwbF9wb3NpdGlvblwiLE0uZHJhdy51cGRhdGUpLGUuY3VyU3RhdHMuc2hvd19pbkFuaW0/TS5kcmF3LmluaXQoZSxNLmRyYXcuc3RvcChlKSk6ZS5hcGxTdGF0cy5zaG93X2FuaW1PcHRpb25zPXt9fX19LFtbXCJzdGFydFwiLFwiYW5jaG9yU0VcIiwwXSxbXCJlbmRcIixcImFuY2hvclNFXCIsMV0sW1wiY29sb3JcIixcImxpbmVDb2xvclwiXSxbXCJzaXplXCIsXCJsaW5lU2l6ZVwiXSxbXCJzdGFydFNvY2tldEdyYXZpdHlcIixcInNvY2tldEdyYXZpdHlTRVwiLDBdLFtcImVuZFNvY2tldEdyYXZpdHlcIixcInNvY2tldEdyYXZpdHlTRVwiLDFdLFtcInN0YXJ0UGx1Z0NvbG9yXCIsXCJwbHVnQ29sb3JTRVwiLDBdLFtcImVuZFBsdWdDb2xvclwiLFwicGx1Z0NvbG9yU0VcIiwxXSxbXCJzdGFydFBsdWdTaXplXCIsXCJwbHVnU2l6ZVNFXCIsMF0sW1wiZW5kUGx1Z1NpemVcIixcInBsdWdTaXplU0VcIiwxXSxbXCJvdXRsaW5lXCIsXCJsaW5lT3V0bGluZUVuYWJsZWRcIl0sW1wib3V0bGluZUNvbG9yXCIsXCJsaW5lT3V0bGluZUNvbG9yXCJdLFtcIm91dGxpbmVTaXplXCIsXCJsaW5lT3V0bGluZVNpemVcIl0sW1wic3RhcnRQbHVnT3V0bGluZVwiLFwicGx1Z091dGxpbmVFbmFibGVkU0VcIiwwXSxbXCJlbmRQbHVnT3V0bGluZVwiLFwicGx1Z091dGxpbmVFbmFibGVkU0VcIiwxXSxbXCJzdGFydFBsdWdPdXRsaW5lQ29sb3JcIixcInBsdWdPdXRsaW5lQ29sb3JTRVwiLDBdLFtcImVuZFBsdWdPdXRsaW5lQ29sb3JcIixcInBsdWdPdXRsaW5lQ29sb3JTRVwiLDFdLFtcInN0YXJ0UGx1Z091dGxpbmVTaXplXCIsXCJwbHVnT3V0bGluZVNpemVTRVwiLDBdLFtcImVuZFBsdWdPdXRsaW5lU2l6ZVwiLFwicGx1Z091dGxpbmVTaXplU0VcIiwxXV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXSxhPWVbMl07T2JqZWN0LmRlZmluZVByb3BlcnR5KGx0LnByb3RvdHlwZSx0LHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1udWxsIT1hP2dlW3RoaXMuX2lkXS5vcHRpb25zW25dW2FdOm4/Z2VbdGhpcy5faWRdLm9wdGlvbnNbbl06Z2VbdGhpcy5faWRdLm9wdGlvbnNbdF07cmV0dXJuIG51bGw9PWU/VTpPZShlKX0sc2V0OnJ0KHQpLGVudW1lcmFibGU6ITB9KX0pLFtbXCJwYXRoXCIsel0sW1wic3RhcnRTb2NrZXRcIixXLFwic29ja2V0U0VcIiwwXSxbXCJlbmRTb2NrZXRcIixXLFwic29ja2V0U0VcIiwxXSxbXCJzdGFydFBsdWdcIixqLFwicGx1Z1NFXCIsMF0sW1wiZW5kUGx1Z1wiLGosXCJwbHVnU0VcIiwxXV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgYT1lWzBdLGk9ZVsxXSxvPWVbMl0sbD1lWzNdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShsdC5wcm90b3R5cGUsYSx7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQsbj1udWxsIT1sP2dlW3RoaXMuX2lkXS5vcHRpb25zW29dW2xdOm8/Z2VbdGhpcy5faWRdLm9wdGlvbnNbb106Z2VbdGhpcy5faWRdLm9wdGlvbnNbYV07cmV0dXJuIG4/T2JqZWN0LmtleXMoaSkuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gaVtlXT09PW4mJih0PWUsITApfSk/dDpuZXcgRXJyb3IoXCJJdCdzIGJyb2tlblwiKTpVfSxzZXQ6cnQoYSksZW51bWVyYWJsZTohMH0pfSksT2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGE9dGVbbl07T2JqZWN0LmRlZmluZVByb3BlcnR5KGx0LnByb3RvdHlwZSxuLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdSxlLHQ9Z2VbdGhpcy5faWRdLm9wdGlvbnNbbl07cmV0dXJuIGZlKHQpPyh1PXQsZT1hLm9wdGlvbnNDb25mLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuLGE9dFswXSxpPXRbMV0sbz10WzJdLGw9dFszXSxyPXRbNF0scz1udWxsIT1yP3VbbF1bcl06bD91W2xdOnVbaV07cmV0dXJuIGVbaV09XCJpZFwiPT09YT9zP09iamVjdC5rZXlzKG8pLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV09PT1zJiYobj1lLCEwKX0pP246bmV3IEVycm9yKFwiSXQncyBicm9rZW5cIik6VTpudWxsPT1zP1U6T2UocyksZX0se30pLGEuYW5pbSYmKGUuYW5pbWF0aW9uPU9lKHUuYW5pbWF0aW9uKSksZSk6dH0sc2V0OnJ0KG4pLGVudW1lcmFibGU6ITB9KX0pLFtcInN0YXJ0TGFiZWxcIixcImVuZExhYmVsXCIsXCJtaWRkbGVMYWJlbFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGx0LnByb3RvdHlwZSxlLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT1nZVt0aGlzLl9pZF0sdD1lLm9wdGlvbnM7cmV0dXJuIHQubGFiZWxTRU1bbl0mJiFlLm9wdGlvbklzQXR0YWNoLmxhYmVsU0VNW25dP3ZlW3QubGFiZWxTRU1bbl0uX2lkXS50ZXh0OnQubGFiZWxTRU1bbl18fFwiXCJ9LHNldDpydChlKSxlbnVtZXJhYmxlOiEwfSl9KSxsdC5wcm90b3R5cGUuc2V0T3B0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gb3QoZ2VbdGhpcy5faWRdLGUpLHRoaXN9LGx0LnByb3RvdHlwZS5wb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBldChnZVt0aGlzLl9pZF0se3Bvc2l0aW9uOiEwfSksdGhpc30sbHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PWdlW3RoaXMuX2lkXSxuPXQuY3VyU3RhdHM7T2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZStcIl9hbmltSWRcIjtuW3RdJiZnLnJlbW92ZShuW3RdKX0pLG4uc2hvd19hbmltSWQmJmcucmVtb3ZlKG4uc2hvd19hbmltSWQpLHQuYXR0YWNobWVudHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2l0KHQsZSl9KSx0LmJhc2VXaW5kb3cmJnQuc3ZnJiZ0LmJhc2VXaW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0LnN2ZyksZGVsZXRlIGdlW3RoaXMuX2lkXX0sbHQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnQoZ2VbdGhpcy5faWRdLCEwLGUsdCksdGhpc30sbHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnQoZ2VbdGhpcy5faWRdLCExLGUsdCksdGhpc30sbz1mdW5jdGlvbih0KXt0JiZ2ZVt0Ll9pZF0mJih0LmJvdW5kVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7aXQoZS5wcm9wcyx0LCEwKX0pLHQuY29uZi5yZW1vdmUmJnQuY29uZi5yZW1vdmUodCksZGVsZXRlIHZlW3QuX2lkXSl9LHN0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dmVbdC5faWRdO24mJihuLmJvdW5kVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7bi5jb25mLnJlbW92ZU9wdGlvbihuLGUpfSksamUoZnVuY3Rpb24oKXt2YXIgZT12ZVt0Ll9pZF07ZSYmKGNvbnNvbGUuZXJyb3IoXCJMZWFkZXJMaW5lQXR0YWNobWVudCB3YXMgbm90IHJlbW92ZWQgYnkgcmVtb3ZlT3B0aW9uXCIpLG8oZSkpfSkpfSxDPXN0LHdpbmRvdy5MZWFkZXJMaW5lQXR0YWNobWVudD1DLEw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIEMmJighKGUuaXNSZW1vdmVkfHx0JiZ2ZVtlLl9pZF0uY29uZi50eXBlIT09dCl8fG51bGwpfSxJPXtwb2ludEFuY2hvcjp7dHlwZTpcImFuY2hvclwiLGFyZ09wdGlvbnM6W3tvcHRpb25OYW1lOlwiZWxlbWVudFwiLHR5cGU6SWV9XSxpbml0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZWxlbWVudD1JLnBvaW50QW5jaG9yLmNoZWNrRWxlbWVudCh0LmVsZW1lbnQpLGUueD1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudCh0LngsITApfHxbLjUsITBdLGUueT1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudCh0LnksITApfHxbLjUsITBdLCEwfSxyZW1vdmVPcHRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzLGE9e30saT1lLmVsZW1lbnQsbz1uLm9wdGlvbnMuYW5jaG9yU0VbXCJzdGFydFwiPT09dC5vcHRpb25OYW1lPzE6MF07aT09PW8mJihpPW89PT1kb2N1bWVudC5ib2R5P25ldyBDKEkucG9pbnRBbmNob3IsW2ldKTpkb2N1bWVudC5ib2R5KSxhW3Qub3B0aW9uTmFtZV09aSxvdChuLGEpfSxnZXRCQm94TmVzdDpmdW5jdGlvbihlLHQpe3ZhciBuPUFlKGUuZWxlbWVudCx0LmJhc2VXaW5kb3cpLGE9bi53aWR0aCxpPW4uaGVpZ2h0O3JldHVybiBuLndpZHRoPW4uaGVpZ2h0PTAsbi5sZWZ0PW4ucmlnaHQ9bi5sZWZ0K2UueFswXSooZS54WzFdP2E6MSksbi50b3A9bi5ib3R0b209bi50b3ArZS55WzBdKihlLnlbMV0/aToxKSxufSxwYXJzZVBlcmNlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9ITE7cmV0dXJuIHllKGUpP2E9ZTpcInN0cmluZ1wiPT10eXBlb2YgZSYmKG49bS5leGVjKGUpKSYmblsyXSYmKGk9MCE9PShhPXBhcnNlRmxvYXQoblsxXSkvMTAwKSksbnVsbCE9YSYmKHR8fDA8PWEpP1thLGldOm51bGx9LGNoZWNrRWxlbWVudDpmdW5jdGlvbihlKXtpZihudWxsPT1lKWU9ZG9jdW1lbnQuYm9keTtlbHNlIGlmKCFJZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJgZWxlbWVudGAgbXVzdCBiZSBFbGVtZW50XCIpO3JldHVybiBlfX0sYXJlYUFuY2hvcjp7dHlwZTpcImFuY2hvclwiLGFyZ09wdGlvbnM6W3tvcHRpb25OYW1lOlwiZWxlbWVudFwiLHR5cGU6SWV9LHtvcHRpb25OYW1lOlwic2hhcGVcIix0eXBlOlwic3RyaW5nXCJ9XSxzdGF0czp7Y29sb3I6e30sc3Ryb2tlV2lkdGg6e30sZWxlbWVudFdpZHRoOnt9LGVsZW1lbnRIZWlnaHQ6e30sZWxlbWVudExlZnQ6e30sZWxlbWVudFRvcDp7fSxwYXRoTGlzdFJlbDp7fSxiQm94UmVsOnt9LHBhdGhEYXRhOnt9LHZpZXdCb3hCQm94OntoYXNQcm9wczohMH0sZGFzaExlbjp7fSxkYXNoR2FwOnt9fSxpbml0OmZ1bmN0aW9uKGksZSl7dmFyIHQsbixhLG89W107cmV0dXJuIGkuZWxlbWVudD1JLnBvaW50QW5jaG9yLmNoZWNrRWxlbWVudChlLmVsZW1lbnQpLFwic3RyaW5nXCI9PXR5cGVvZiBlLmNvbG9yJiYoaS5jb2xvcj1lLmNvbG9yLnRyaW0oKSksXCJzdHJpbmdcIj09dHlwZW9mIGUuZmlsbENvbG9yJiYoaS5maWxsPWUuZmlsbENvbG9yLnRyaW0oKSkseWUoZS5zaXplKSYmMDw9ZS5zaXplJiYoaS5zaXplPWUuc2l6ZSksZS5kYXNoJiYoaS5kYXNoPSEwLHllKGUuZGFzaC5sZW4pJiYwPGUuZGFzaC5sZW4mJihpLmRhc2hMZW49ZS5kYXNoLmxlbikseWUoZS5kYXNoLmdhcCkmJjA8ZS5kYXNoLmdhcCYmKGkuZGFzaEdhcD1lLmRhc2guZ2FwKSksXCJjaXJjbGVcIj09PWUuc2hhcGU/aS5zaGFwZT1lLnNoYXBlOlwicG9seWdvblwiPT09ZS5zaGFwZSYmQXJyYXkuaXNBcnJheShlLnBvaW50cykmJjM8PWUucG9pbnRzLmxlbmd0aCYmZS5wb2ludHMuZXZlcnkoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuISghKHQueD1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudChlWzBdLCEwKSl8fCEodC55PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KGVbMV0sITApKSkmJihvLnB1c2godCksKHQueFsxXXx8dC55WzFdKSYmKGkuaGFzUmF0aW89ITApLCEwKX0pPyhpLnNoYXBlPWUuc2hhcGUsaS5wb2ludHM9byk6KGkuc2hhcGU9XCJyZWN0XCIsaS5yYWRpdXM9eWUoZS5yYWRpdXMpJiYwPD1lLnJhZGl1cz9lLnJhZGl1czowKSxcInJlY3RcIiE9PWkuc2hhcGUmJlwiY2lyY2xlXCIhPT1pLnNoYXBlfHwoaS54PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KGUueCwhMCl8fFstLjA1LCEwXSxpLnk9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQoZS55LCEwKXx8Wy0uMDUsITBdLGkud2lkdGg9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQoZS53aWR0aCl8fFsxLjEsITBdLGkuaGVpZ2h0PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KGUuaGVpZ2h0KXx8WzEuMSwhMF0sKGkueFsxXXx8aS55WzFdfHxpLndpZHRoWzFdfHxpLmhlaWdodFsxXSkmJihpLmhhc1JhdGlvPSEwKSksdD1pLmVsZW1lbnQub3duZXJEb2N1bWVudCxpLnN2Zz1uPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwic3ZnXCIpLG4uY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1hcmVhQW5jaG9yXCIsbi52aWV3Qm94LmJhc2VWYWx8fG4uc2V0QXR0cmlidXRlKFwidmlld0JveFwiLFwiMCAwIDAgMFwiKSxpLnBhdGg9bi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInBhdGhcIikpLGkucGF0aC5zdHlsZS5maWxsPWkuZmlsbHx8XCJub25lXCIsaS5pc1Nob3duPSExLG4uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHQuYm9keS5hcHBlbmRDaGlsZChuKSxLZShhPXQuZGVmYXVsdFZpZXcpLGkuYm9keU9mZnNldD1RZShhKSxpLnVwZGF0ZUNvbG9yPWZ1bmN0aW9uKCl7dmFyIGUsdD1pLmN1clN0YXRzLG49aS5hcGxTdGF0cyxhPWkuYm91bmRUYXJnZXRzLmxlbmd0aD9pLmJvdW5kVGFyZ2V0c1swXS5wcm9wcy5jdXJTdGF0czpudWxsO3QuY29sb3I9ZT1pLmNvbG9yfHwoYT9hLmxpbmVfY29sb3I6ZGUubGluZUNvbG9yKSxxZShpLG4sXCJjb2xvclwiLGUpJiYoaS5wYXRoLnN0eWxlLnN0cm9rZT1lKX0saS51cGRhdGVTaG93PWZ1bmN0aW9uKCl7JGUoaSxpLmJvdW5kVGFyZ2V0cy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5wcm9wcy5pc1Nob3dufSkpfSwhMH0sYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHM7cmV0dXJuIGUuY29sb3J8fERlKG4sXCJjdXJfbGluZV9jb2xvclwiLGUudXBkYXRlQ29sb3IpLERlKG4sXCJzdmdTaG93XCIsZS51cGRhdGVTaG93KSxqZShmdW5jdGlvbigpe2UudXBkYXRlQ29sb3IoKSxlLnVwZGF0ZVNob3coKX0pLCEwfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzO2UuY29sb3J8fHplKG4sXCJjdXJfbGluZV9jb2xvclwiLGUudXBkYXRlQ29sb3IpLHplKG4sXCJzdmdTaG93XCIsZS51cGRhdGVTaG93KSwxPGUuYm91bmRUYXJnZXRzLmxlbmd0aCYmamUoZnVuY3Rpb24oKXtlLnVwZGF0ZUNvbG9yKCksZS51cGRhdGVTaG93KCksSS5hcmVhQW5jaG9yLnVwZGF0ZShlKSYmZS5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtldChlLnByb3BzLHtwb3NpdGlvbjohMH0pfSl9KX0scmVtb3ZlT3B0aW9uOmZ1bmN0aW9uKGUsdCl7SS5wb2ludEFuY2hvci5yZW1vdmVPcHRpb24oZSx0KX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3QuYm91bmRUYXJnZXRzLmxlbmd0aCYmKGNvbnNvbGUuZXJyb3IoXCJMZWFkZXJMaW5lQXR0YWNobWVudCB3YXMgbm90IHVuYm91bmQgYnkgcmVtb3ZlXCIpLHQuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7SS5hcmVhQW5jaG9yLnVuYmluZCh0LGUpfSkpLHQuc3ZnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5zdmcpfSxnZXRTdHJva2VXaWR0aDpmdW5jdGlvbihlLHQpe3JldHVybiBJLmFyZWFBbmNob3IudXBkYXRlKGUpJiYxPGUuYm91bmRUYXJnZXRzLmxlbmd0aCYmamUoZnVuY3Rpb24oKXtlLmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucHJvcHMhPT10JiZldChlLnByb3BzLHtwb3NpdGlvbjohMH0pfSl9KSxlLmN1clN0YXRzLnN0cm9rZVdpZHRofSxnZXRQYXRoRGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuPUFlKGUuZWxlbWVudCx0LmJhc2VXaW5kb3cpO3JldHVybiBSZShlLmN1clN0YXRzLnBhdGhMaXN0UmVsLGZ1bmN0aW9uKGUpe2UueCs9bi5sZWZ0LGUueSs9bi50b3B9KX0sZ2V0QkJveE5lc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj1BZShlLmVsZW1lbnQsdC5iYXNlV2luZG93KSxhPWUuY3VyU3RhdHMuYkJveFJlbDtyZXR1cm57bGVmdDphLmxlZnQrbi5sZWZ0LHRvcDphLnRvcCtuLnRvcCxyaWdodDphLnJpZ2h0K24ubGVmdCxib3R0b206YS5ib3R0b20rbi50b3Asd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9fSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGEsbixpLG8sZSxsLHIscyx1LGgscCxjLGQsZix5LG0sUyxnLF8sdixFLHgsYixrLHcsTyxNLEksQyxMLEEsVixQPXQuY3VyU3RhdHMsTj10LmFwbFN0YXRzLFQ9dC5ib3VuZFRhcmdldHMubGVuZ3RoP3QuYm91bmRUYXJnZXRzWzBdLnByb3BzLmN1clN0YXRzOm51bGwsVz17fTtpZihXLnN0cm9rZVdpZHRoPXFlKHQsUCxcInN0cm9rZVdpZHRoXCIsbnVsbCE9dC5zaXplP3Quc2l6ZTpUP1QubGluZV9zdHJva2VXaWR0aDpkZS5saW5lU2l6ZSksYT1DZSh0LmVsZW1lbnQpLFcuZWxlbWVudFdpZHRoPXFlKHQsUCxcImVsZW1lbnRXaWR0aFwiLGEud2lkdGgpLFcuZWxlbWVudEhlaWdodD1xZSh0LFAsXCJlbGVtZW50SGVpZ2h0XCIsYS5oZWlnaHQpLFcuZWxlbWVudExlZnQ9cWUodCxQLFwiZWxlbWVudExlZnRcIixhLmxlZnQpLFcuZWxlbWVudFRvcD1xZSh0LFAsXCJlbGVtZW50VG9wXCIsYS50b3ApLFcuc3Ryb2tlV2lkdGh8fHQuaGFzUmF0aW8mJihXLmVsZW1lbnRXaWR0aHx8Vy5lbGVtZW50SGVpZ2h0KSl7c3dpdGNoKHQuc2hhcGUpe2Nhc2VcInJlY3RcIjooST17bGVmdDp0LnhbMF0qKHQueFsxXT9hLndpZHRoOjEpLHRvcDp0LnlbMF0qKHQueVsxXT9hLmhlaWdodDoxKSx3aWR0aDp0LndpZHRoWzBdKih0LndpZHRoWzFdP2Eud2lkdGg6MSksaGVpZ2h0OnQuaGVpZ2h0WzBdKih0LmhlaWdodFsxXT9hLmhlaWdodDoxKX0pLnJpZ2h0PUkubGVmdCtJLndpZHRoLEkuYm90dG9tPUkudG9wK0kuaGVpZ2h0LGI9UC5zdHJva2VXaWR0aC8yLEU9KHg9TWF0aC5taW4oSS53aWR0aCxJLmhlaWdodCkpP3gvMipNYXRoLlNRUlQyK2I6MCxPPSh2PXQucmFkaXVzP3QucmFkaXVzPD1FP3QucmFkaXVzOkU6MCk/KHc9di0oaz0odi1iKS9NYXRoLlNRUlQyKSxNPXYqZWUsTz1be3g6SS5sZWZ0LXcseTpJLnRvcCtrfSx7eDpJLmxlZnQrayx5OkkudG9wLXd9LHt4OkkucmlnaHQtayx5OkkudG9wLXd9LHt4OkkucmlnaHQrdyx5OkkudG9wK2t9LHt4OkkucmlnaHQrdyx5OkkuYm90dG9tLWt9LHt4OkkucmlnaHQtayx5OkkuYm90dG9tK3d9LHt4OkkubGVmdCtrLHk6SS5ib3R0b20rd30se3g6SS5sZWZ0LXcseTpJLmJvdHRvbS1rfV0sUC5wYXRoTGlzdFJlbD1bW09bMF0se3g6T1swXS54LHk6T1swXS55LU19LHt4Ok9bMV0ueC1NLHk6T1sxXS55fSxPWzFdXV0sT1sxXS54IT09T1syXS54JiZQLnBhdGhMaXN0UmVsLnB1c2goW09bMV0sT1syXV0pLFAucGF0aExpc3RSZWwucHVzaChbT1syXSx7eDpPWzJdLngrTSx5Ok9bMl0ueX0se3g6T1szXS54LHk6T1szXS55LU19LE9bM11dKSxPWzNdLnkhPT1PWzRdLnkmJlAucGF0aExpc3RSZWwucHVzaChbT1szXSxPWzRdXSksUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzRdLHt4Ok9bNF0ueCx5Ok9bNF0ueStNfSx7eDpPWzVdLngrTSx5Ok9bNV0ueX0sT1s1XV0pLE9bNV0ueCE9PU9bNl0ueCYmUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzVdLE9bNl1dKSxQLnBhdGhMaXN0UmVsLnB1c2goW09bNl0se3g6T1s2XS54LU0seTpPWzZdLnl9LHt4Ok9bN10ueCx5Ok9bN10ueStNfSxPWzddXSksT1s3XS55IT09T1swXS55JiZQLnBhdGhMaXN0UmVsLnB1c2goW09bN10sT1swXV0pLFAucGF0aExpc3RSZWwucHVzaChbXSksdz12LWsrUC5zdHJva2VXaWR0aC8yLFt7eDpJLmxlZnQtdyx5OkkudG9wLXd9LHt4OkkucmlnaHQrdyx5OkkuYm90dG9tK3d9XSk6KHc9UC5zdHJva2VXaWR0aC8yLE89W3t4OkkubGVmdC13LHk6SS50b3Atd30se3g6SS5yaWdodCt3LHk6SS5ib3R0b20rd31dLFAucGF0aExpc3RSZWw9W1tPWzBdLHt4Ok9bMV0ueCx5Ok9bMF0ueX1dLFt7eDpPWzFdLngseTpPWzBdLnl9LE9bMV1dLFtPWzFdLHt4Ok9bMF0ueCx5Ok9bMV0ueX1dLFtdXSxbe3g6SS5sZWZ0LVAuc3Ryb2tlV2lkdGgseTpJLnRvcC1QLnN0cm9rZVdpZHRofSx7eDpJLnJpZ2h0K1Auc3Ryb2tlV2lkdGgseTpJLmJvdHRvbStQLnN0cm9rZVdpZHRofV0pLFAuYkJveFJlbD17bGVmdDpPWzBdLngsdG9wOk9bMF0ueSxyaWdodDpPWzFdLngsYm90dG9tOk9bMV0ueSx3aWR0aDpPWzFdLngtT1swXS54LGhlaWdodDpPWzFdLnktT1swXS55fTticmVhaztjYXNlXCJjaXJjbGVcIjooXz17bGVmdDp0LnhbMF0qKHQueFsxXT9hLndpZHRoOjEpLHRvcDp0LnlbMF0qKHQueVsxXT9hLmhlaWdodDoxKSx3aWR0aDp0LndpZHRoWzBdKih0LndpZHRoWzFdP2Eud2lkdGg6MSksaGVpZ2h0OnQuaGVpZ2h0WzBdKih0LmhlaWdodFsxXT9hLmhlaWdodDoxKX0pLndpZHRofHxfLmhlaWdodHx8KF8ud2lkdGg9Xy5oZWlnaHQ9MTApLF8ud2lkdGh8fChfLndpZHRoPV8uaGVpZ2h0KSxfLmhlaWdodHx8KF8uaGVpZ2h0PV8ud2lkdGgpLF8ucmlnaHQ9Xy5sZWZ0K18ud2lkdGgsXy5ib3R0b209Xy50b3ArXy5oZWlnaHQscj1fLmxlZnQrXy53aWR0aC8yLHM9Xy50b3ArXy5oZWlnaHQvMixkPVAuc3Ryb2tlV2lkdGgvMixmPV8ud2lkdGgvMix5PV8uaGVpZ2h0LzIsdT1mKk1hdGguU1FSVDIrZCxoPXkqTWF0aC5TUVJUMitkLHA9dSplZSxjPWgqZWUsZz1be3g6ci11LHk6c30se3g6cix5OnMtaH0se3g6cit1LHk6c30se3g6cix5OnMraH1dLFAucGF0aExpc3RSZWw9W1tnWzBdLHt4OmdbMF0ueCx5OmdbMF0ueS1jfSx7eDpnWzFdLngtcCx5OmdbMV0ueX0sZ1sxXV0sW2dbMV0se3g6Z1sxXS54K3AseTpnWzFdLnl9LHt4OmdbMl0ueCx5OmdbMl0ueS1jfSxnWzJdXSxbZ1syXSx7eDpnWzJdLngseTpnWzJdLnkrY30se3g6Z1szXS54K3AseTpnWzNdLnl9LGdbM11dLFtnWzNdLHt4OmdbM10ueC1wLHk6Z1szXS55fSx7eDpnWzBdLngseTpnWzBdLnkrY30sZ1swXV0sW11dLG09dS1mK1Auc3Ryb2tlV2lkdGgvMixTPWgteStQLnN0cm9rZVdpZHRoLzIsZz1be3g6Xy5sZWZ0LW0seTpfLnRvcC1TfSx7eDpfLnJpZ2h0K20seTpfLmJvdHRvbStTfV0sUC5iQm94UmVsPXtsZWZ0OmdbMF0ueCx0b3A6Z1swXS55LHJpZ2h0OmdbMV0ueCxib3R0b206Z1sxXS55LHdpZHRoOmdbMV0ueC1nWzBdLngsaGVpZ2h0OmdbMV0ueS1nWzBdLnl9O2JyZWFrO2Nhc2VcInBvbHlnb25cIjp0LnBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUueFswXSooZS54WzFdP2Eud2lkdGg6MSksbj1lLnlbMF0qKGUueVsxXT9hLmhlaWdodDoxKTtpPyh0PGkubGVmdCYmKGkubGVmdD10KSx0PmkucmlnaHQmJihpLnJpZ2h0PXQpLG48aS50b3AmJihpLnRvcD1uKSxuPmkuYm90dG9tJiYoaS5ib3R0b209bikpOmk9e2xlZnQ6dCxyaWdodDp0LHRvcDpuLGJvdHRvbTpufSxvP1AucGF0aExpc3RSZWwucHVzaChbbyx7eDp0LHk6bn1dKTpQLnBhdGhMaXN0UmVsPVtdLG89e3g6dCx5Om59fSksUC5wYXRoTGlzdFJlbC5wdXNoKFtdKSxlPVAuc3Ryb2tlV2lkdGgvMixsPVt7eDppLmxlZnQtZSx5OmkudG9wLWV9LHt4OmkucmlnaHQrZSx5OmkuYm90dG9tK2V9XSxQLmJCb3hSZWw9e2xlZnQ6bFswXS54LHRvcDpsWzBdLnkscmlnaHQ6bFsxXS54LGJvdHRvbTpsWzFdLnksd2lkdGg6bFsxXS54LWxbMF0ueCxoZWlnaHQ6bFsxXS55LWxbMF0ueX19Vy5wYXRoTGlzdFJlbD1XLmJCb3hSZWw9ITB9cmV0dXJuKFcucGF0aExpc3RSZWx8fFcuZWxlbWVudExlZnR8fFcuZWxlbWVudFRvcCkmJihQLnBhdGhEYXRhPVJlKFAucGF0aExpc3RSZWwsZnVuY3Rpb24oZSl7ZS54Kz1hLmxlZnQsZS55Kz1hLnRvcH0pKSxxZSh0LE4sXCJzdHJva2VXaWR0aFwiLG49UC5zdHJva2VXaWR0aCkmJih0LnBhdGguc3R5bGUuc3Ryb2tlV2lkdGg9bitcInB4XCIpLEdlKG49UC5wYXRoRGF0YSxOLnBhdGhEYXRhKSYmKHQucGF0aC5zZXRQYXRoRGF0YShuKSxOLnBhdGhEYXRhPW4sVy5wYXRoRGF0YT0hMCksdC5kYXNoJiYoIVcucGF0aERhdGEmJighVy5zdHJva2VXaWR0aHx8dC5kYXNoTGVuJiZ0LmRhc2hHYXApfHwoUC5kYXNoTGVuPXQuZGFzaExlbnx8MipQLnN0cm9rZVdpZHRoLFAuZGFzaEdhcD10LmRhc2hHYXB8fFAuc3Ryb2tlV2lkdGgpLFcuZGFzaD1xZSh0LE4sXCJkYXNoTGVuXCIsUC5kYXNoTGVuKXx8Vy5kYXNoLFcuZGFzaD1xZSh0LE4sXCJkYXNoR2FwXCIsUC5kYXNoR2FwKXx8Vy5kYXNoLFcuZGFzaCYmKHQucGF0aC5zdHlsZS5zdHJva2VEYXNoYXJyYXk9Ti5kYXNoTGVuK1wiLFwiK04uZGFzaEdhcCkpLEM9UC52aWV3Qm94QkJveCxMPU4udmlld0JveEJCb3gsQT10LnN2Zy52aWV3Qm94LmJhc2VWYWwsVj10LnN2Zy5zdHlsZSxDLng9UC5iQm94UmVsLmxlZnQrYS5sZWZ0LEMueT1QLmJCb3hSZWwudG9wK2EudG9wLEMud2lkdGg9UC5iQm94UmVsLndpZHRoLEMuaGVpZ2h0PVAuYkJveFJlbC5oZWlnaHQsW1wieFwiLFwieVwiLFwid2lkdGhcIixcImhlaWdodFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyhuPUNbZV0pIT09TFtlXSYmKEFbZV09TFtlXT1uLFZbb2VbZV1dPW4rKFwieFwiPT09ZXx8XCJ5XCI9PT1lP3QuYm9keU9mZnNldFtlXTowKStcInB4XCIpfSksVy5zdHJva2VXaWR0aHx8Vy5wYXRoTGlzdFJlbHx8Vy5iQm94UmVsfX0sbW91c2VIb3ZlckFuY2hvcjp7dHlwZTpcImFuY2hvclwiLGFyZ09wdGlvbnM6W3tvcHRpb25OYW1lOlwiZWxlbWVudFwiLHR5cGU6SWV9LHtvcHRpb25OYW1lOlwic2hvd0VmZmVjdE5hbWVcIix0eXBlOlwic3RyaW5nXCJ9XSxzdHlsZTp7YmFja2dyb3VuZEltYWdlOlwidXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtODtiYXNlNjQsUEhOMlp5QjJaWEp6YVc5dVBTSXhMakVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZDJsa2RHZzlJakkwSWlCb1pXbG5hSFE5SWpJMElqNDhjRzlzZVdkdmJpQndiMmx1ZEhNOUlqSTBMREFnTUN3NElEZ3NNVEVnTUN3eE9TQTFMREkwSURFekxERTJJREUyTERJMElpQm1hV3hzUFNKamIzSmhiQ0l2UGp3dmMzWm5QZz09JylcIixiYWNrZ3JvdW5kU2l6ZTpcIlwiLGJhY2tncm91bmRSZXBlYXQ6XCJuby1yZXBlYXRcIixiYWNrZ3JvdW5kQ29sb3I6XCIjZjhmODgxXCIsY3Vyc29yOlwiZGVmYXVsdFwifSxob3ZlclN0eWxlOntiYWNrZ3JvdW5kSW1hZ2U6XCJub25lXCIsYmFja2dyb3VuZENvbG9yOlwiI2ZhZGY4ZlwifSxwYWRkaW5nOnt0b3A6MSxyaWdodDoxNSxib3R0b206MSxsZWZ0OjJ9LG1pbkhlaWdodDoxNSxiYWNrZ3JvdW5kUG9zaXRpb246e3JpZ2h0OjIsdG9wOjJ9LGJhY2tncm91bmRTaXplOnt3aWR0aDoxMixoZWlnaHQ6MTJ9LGRpcktleXM6W1tcInRvcFwiLFwiVG9wXCJdLFtcInJpZ2h0XCIsXCJSaWdodFwiXSxbXCJib3R0b21cIixcIkJvdHRvbVwiXSxbXCJsZWZ0XCIsXCJMZWZ0XCJdXSxpbml0OmZ1bmN0aW9uKGEsaSl7dmFyIG8sdCxlLG4sbCxyLHMsdSxoLHAsYyxkPUkubW91c2VIb3ZlckFuY2hvcixmPXt9O2lmKGEuZWxlbWVudD1JLnBvaW50QW5jaG9yLmNoZWNrRWxlbWVudChpLmVsZW1lbnQpLHU9YS5lbGVtZW50LCEoKHA9dS5vd25lckRvY3VtZW50KSYmKGg9cC5kZWZhdWx0VmlldykmJmguSFRNTEVsZW1lbnQmJnUgaW5zdGFuY2VvZiBoLkhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJgZWxlbWVudGAgbXVzdCBiZSBIVE1MIGVsZW1lbnRcIik7cmV0dXJuIGQuc3R5bGUuYmFja2dyb3VuZFNpemU9ZC5iYWNrZ3JvdW5kU2l6ZS53aWR0aCtcInB4IFwiK2QuYmFja2dyb3VuZFNpemUuaGVpZ2h0K1wicHhcIixbXCJzdHlsZVwiLFwiaG92ZXJTdHlsZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWRbZV07YVtlXT1PYmplY3Qua2V5cyhuKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT1uW3RdLGV9LHt9KX0pLFwiaW5saW5lXCI9PT0obz1hLmVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGEuZWxlbWVudCxcIlwiKSkuZGlzcGxheT9hLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIjpcIm5vbmVcIj09PW8uZGlzcGxheSYmKGEuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLEkubW91c2VIb3ZlckFuY2hvci5kaXJLZXlzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPVwicGFkZGluZ1wiK2VbMV07cGFyc2VGbG9hdChvW25dKTxkLnBhZGRpbmdbdF0mJihhLnN0eWxlW25dPWQucGFkZGluZ1t0XStcInB4XCIpfSksYS5zdHlsZS5kaXNwbGF5JiYobj1hLmVsZW1lbnQuc3R5bGUuZGlzcGxheSxhLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1hLnN0eWxlLmRpc3BsYXkpLEkubW91c2VIb3ZlckFuY2hvci5kaXJLZXlzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJwYWRkaW5nXCIrZVsxXTthLnN0eWxlW3RdJiYoZlt0XT1hLmVsZW1lbnQuc3R5bGVbdF0sYS5lbGVtZW50LnN0eWxlW3RdPWEuc3R5bGVbdF0pfSksKGU9YS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5oZWlnaHQ8ZC5taW5IZWlnaHQmJihzZT8oYz1kLm1pbkhlaWdodCxcImNvbnRlbnQtYm94XCI9PT1vLmJveFNpemluZz9jLT1wYXJzZUZsb2F0KG8uYm9yZGVyVG9wV2lkdGgpK3BhcnNlRmxvYXQoby5ib3JkZXJCb3R0b21XaWR0aCkrcGFyc2VGbG9hdChvLnBhZGRpbmdUb3ApK3BhcnNlRmxvYXQoby5wYWRkaW5nQm90dG9tKTpcInBhZGRpbmctYm94XCI9PT1vLmJveFNpemluZyYmKGMtPXBhcnNlRmxvYXQoby5ib3JkZXJUb3BXaWR0aCkrcGFyc2VGbG9hdChvLmJvcmRlckJvdHRvbVdpZHRoKSksYS5zdHlsZS5oZWlnaHQ9YytcInB4XCIpOmEuc3R5bGUuaGVpZ2h0PXBhcnNlRmxvYXQoby5oZWlnaHQpKyhkLm1pbkhlaWdodC1lLmhlaWdodCkrXCJweFwiKSxhLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1wZT9lLndpZHRoLWQuYmFja2dyb3VuZFNpemUud2lkdGgtZC5iYWNrZ3JvdW5kUG9zaXRpb24ucmlnaHQrXCJweCBcIitkLmJhY2tncm91bmRQb3NpdGlvbi50b3ArXCJweFwiOlwicmlnaHQgXCIrZC5iYWNrZ3JvdW5kUG9zaXRpb24ucmlnaHQrXCJweCB0b3AgXCIrZC5iYWNrZ3JvdW5kUG9zaXRpb24udG9wK1wicHhcIixhLnN0eWxlLmRpc3BsYXkmJihhLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1uKSxJLm1vdXNlSG92ZXJBbmNob3IuZGlyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwicGFkZGluZ1wiK2VbMV07YS5zdHlsZVt0XSYmKGEuZWxlbWVudC5zdHlsZVt0XT1mW3RdKX0pLFtcInN0eWxlXCIsXCJob3ZlclN0eWxlXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9YVtlXSxuPWlbZV07ZmUobikmJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIG5bZV18fHllKG5bZV0pP3RbZV09bltlXTpudWxsPT1uW2VdJiZkZWxldGUgdFtlXX0pfSksXCJmdW5jdGlvblwiPT10eXBlb2YgaS5vblN3aXRjaCYmKHM9aS5vblN3aXRjaCksaS5zaG93RWZmZWN0TmFtZSYmTVtpLnNob3dFZmZlY3ROYW1lXSYmKGEuc2hvd0VmZmVjdE5hbWU9bD1pLnNob3dFZmZlY3ROYW1lKSxyPWkuYW5pbU9wdGlvbnMsYS5lbG1TdHlsZT10PWEuZWxlbWVudC5zdHlsZSxhLm1vdXNlZW50ZXI9ZnVuY3Rpb24oZSl7YS5ob3ZlclN0eWxlU2F2ZT1kLmdldFN0eWxlcyh0LE9iamVjdC5rZXlzKGEuaG92ZXJTdHlsZSkpLGQuc2V0U3R5bGVzKHQsYS5ob3ZlclN0eWxlKSxhLmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe250KGUucHJvcHMsITAsbCxyKX0pLHMmJnMoZSl9LGEubW91c2VsZWF2ZT1mdW5jdGlvbihlKXtkLnNldFN0eWxlcyh0LGEuaG92ZXJTdHlsZVNhdmUpLGEuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7bnQoZS5wcm9wcywhMSxsLHIpfSkscyYmcyhlKX0sITB9LGJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixhLGksbyxsO3JldHVybiB0LnByb3BzLnN2Zz9JLm1vdXNlSG92ZXJBbmNob3IubGxTaG93KHQucHJvcHMsITEsZS5zaG93RWZmZWN0TmFtZSk6amUoZnVuY3Rpb24oKXtJLm1vdXNlSG92ZXJBbmNob3IubGxTaG93KHQucHJvcHMsITEsZS5zaG93RWZmZWN0TmFtZSl9KSxlLmVuYWJsZWR8fChlLnN0eWxlU2F2ZT1JLm1vdXNlSG92ZXJBbmNob3IuZ2V0U3R5bGVzKGUuZWxtU3R5bGUsT2JqZWN0LmtleXMoZS5zdHlsZSkpLEkubW91c2VIb3ZlckFuY2hvci5zZXRTdHlsZXMoZS5lbG1TdHlsZSxlLnN0eWxlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXI9KG49ZS5lbGVtZW50LGE9ZS5tb3VzZWVudGVyLGk9ZS5tb3VzZWxlYXZlLFwib25tb3VzZWVudGVyXCJpbiBuJiZcIm9ubW91c2VsZWF2ZVwiaW4gbj8obi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLGEsITEpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixpLCExKSxmdW5jdGlvbigpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIixhLCExKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsaSwhMSl9KTooY29uc29sZS53YXJuKFwibW91c2VlbnRlciBhbmQgbW91c2VsZWF2ZSBldmVudHMgcG9seWZpbGwgaXMgZW5hYmxlZC5cIiksbz1mdW5jdGlvbihlKXtlLnJlbGF0ZWRUYXJnZXQmJihlLnJlbGF0ZWRUYXJnZXQ9PT10aGlzfHx0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUucmVsYXRlZFRhcmdldCkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpfHxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsbyksbD1mdW5jdGlvbihlKXtlLnJlbGF0ZWRUYXJnZXQmJihlLnJlbGF0ZWRUYXJnZXQ9PT10aGlzfHx0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUucmVsYXRlZFRhcmdldCkmTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpfHxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixsKSxmdW5jdGlvbigpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLG8sITEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsbCwhMSl9KSksZS5lbmFibGVkPSEwKSwhMH0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7ZS5lbmFibGVkJiZlLmJvdW5kVGFyZ2V0cy5sZW5ndGg8PTEmJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoKSxJLm1vdXNlSG92ZXJBbmNob3Iuc2V0U3R5bGVzKGUuZWxtU3R5bGUsZS5zdHlsZVNhdmUpLGUuZW5hYmxlZD0hMSksSS5tb3VzZUhvdmVyQW5jaG9yLmxsU2hvdyh0LnByb3BzLCEwLGUuc2hvd0VmZmVjdE5hbWUpfSxyZW1vdmVPcHRpb246ZnVuY3Rpb24oZSx0KXtJLnBvaW50QW5jaG9yLnJlbW92ZU9wdGlvbihlLHQpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5ib3VuZFRhcmdldHMubGVuZ3RoJiYoY29uc29sZS5lcnJvcihcIkxlYWRlckxpbmVBdHRhY2htZW50IHdhcyBub3QgdW5ib3VuZCBieSByZW1vdmVcIiksdC5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtJLm1vdXNlSG92ZXJBbmNob3IudW5iaW5kKHQsZSl9KSl9LGdldEJCb3hOZXN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFlKGUuZWxlbWVudCx0LmJhc2VXaW5kb3cpfSxsbFNob3c6ZnVuY3Rpb24oZSx0LG4pe01bbnx8ZS5jdXJTdGF0cy5zaG93X2VmZmVjdF0uc3RvcChlLCEwLHQpLGUuYXBsU3RhdHMuc2hvd19vbj10fSxnZXRTdHlsZXM6ZnVuY3Rpb24obixlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT1uW3RdLGV9LHt9KX0sc2V0U3R5bGVzOmZ1bmN0aW9uKHQsbil7T2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPW5bZV19KX19LGNhcHRpb25MYWJlbDp7dHlwZTpcImxhYmVsXCIsYXJnT3B0aW9uczpbe29wdGlvbk5hbWU6XCJ0ZXh0XCIsdHlwZTpcInN0cmluZ1wifV0sc3RhdHM6e2NvbG9yOnt9LHg6e30seTp7fX0sdGV4dFN0eWxlUHJvcHM6W1wiZm9udEZhbWlseVwiLFwiZm9udFN0eWxlXCIsXCJmb250VmFyaWFudFwiLFwiZm9udFdlaWdodFwiLFwiZm9udFN0cmV0Y2hcIixcImZvbnRTaXplXCIsXCJmb250U2l6ZUFkanVzdFwiLFwia2VybmluZ1wiLFwibGV0dGVyU3BhY2luZ1wiLFwid29yZFNwYWNpbmdcIixcInRleHREZWNvcmF0aW9uXCJdLGluaXQ6ZnVuY3Rpb24odSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC50ZXh0JiYodS50ZXh0PXQudGV4dC50cmltKCkpLCEhdS50ZXh0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQuY29sb3ImJih1LmNvbG9yPXQuY29sb3IudHJpbSgpKSx1Lm91dGxpbmVDb2xvcj1cInN0cmluZ1wiPT10eXBlb2YgdC5vdXRsaW5lQ29sb3I/dC5vdXRsaW5lQ29sb3IudHJpbSgpOlwiI2ZmZlwiLEFycmF5LmlzQXJyYXkodC5vZmZzZXQpJiZ5ZSh0Lm9mZnNldFswXSkmJnllKHQub2Zmc2V0WzFdKSYmKHUub2Zmc2V0PXt4OnQub2Zmc2V0WzBdLHk6dC5vZmZzZXRbMV19KSx5ZSh0LmxpbmVPZmZzZXQpJiYodS5saW5lT2Zmc2V0PXQubGluZU9mZnNldCksSS5jYXB0aW9uTGFiZWwudGV4dFN0eWxlUHJvcHMuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT10W2VdJiYodVtlXT10W2VdKX0pLHUudXBkYXRlQ29sb3I9ZnVuY3Rpb24oZSl7SS5jYXB0aW9uTGFiZWwudXBkYXRlQ29sb3IodSxlKX0sdS51cGRhdGVTb2NrZXRYWT1mdW5jdGlvbihlKXt2YXIgdCxuLGEsaSxvPXUuY3VyU3RhdHMsbD11LmFwbFN0YXRzLHI9ZS5jdXJTdGF0cyxzPXIucG9zaXRpb25fc29ja2V0WFlTRVt1LnNvY2tldEluZGV4XTtudWxsIT1zLngmJih1Lm9mZnNldD8oby54PXMueCt1Lm9mZnNldC54LG8ueT1zLnkrdS5vZmZzZXQueSk6KHQ9dS5oZWlnaHQvMixuPU1hdGgubWF4KHIuYXR0YWNoX3BsdWdTaWRlTGVuU0VbdS5zb2NrZXRJbmRleF18fDAsci5saW5lX3N0cm9rZVdpZHRoLzIpLGE9ci5wb3NpdGlvbl9zb2NrZXRYWVNFW3Uuc29ja2V0SW5kZXg/MDoxXSxzLnNvY2tldElkPT09VHx8cy5zb2NrZXRJZD09PVA/KG8ueD1zLnNvY2tldElkPT09VD9zLngtdC11LndpZHRoOnMueCt0LG8ueT1hLnk8cy55P3MueStuK3Q6cy55LW4tdC11LmhlaWdodCk6KG8ueD1hLng8cy54P3MueCtuK3Q6cy54LW4tdC11LndpZHRoLG8ueT1zLnNvY2tldElkPT09Vj9zLnktdC11LmhlaWdodDpzLnkrdCkpLHFlKHUsbCxcInhcIixpPW8ueCkmJih1LmVsbVBvc2l0aW9uLnguYmFzZVZhbC5nZXRJdGVtKDApLnZhbHVlPWkpLHFlKHUsbCxcInlcIixpPW8ueSkmJih1LmVsbVBvc2l0aW9uLnkuYmFzZVZhbC5nZXRJdGVtKDApLnZhbHVlPWkrdS5oZWlnaHQpKX0sdS51cGRhdGVQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0LG4sYT11LmN1clN0YXRzLGk9dS5hcGxTdGF0cyxvPWUucGF0aExpc3QuYW5pbVZhbHx8ZS5wYXRoTGlzdC5iYXNlVmFsO28mJih0PUkuY2FwdGlvbkxhYmVsLmdldE1pZFBvaW50KG8sdS5saW5lT2Zmc2V0KSxhLng9dC54LXUud2lkdGgvMixhLnk9dC55LXUuaGVpZ2h0LzIscWUodSxpLFwieFwiLG49YS54KSYmKHUuZWxtUG9zaXRpb24ueC5iYXNlVmFsLmdldEl0ZW0oMCkudmFsdWU9bikscWUodSxpLFwieVwiLG49YS55KSYmKHUuZWxtUG9zaXRpb24ueS5iYXNlVmFsLmdldEl0ZW0oMCkudmFsdWU9bit1LmhlaWdodCkpfSx1LnVwZGF0ZVNob3c9ZnVuY3Rpb24oZSl7SS5jYXB0aW9uTGFiZWwudXBkYXRlU2hvdyh1LGUpfSxwZSYmKHUuYWRqdXN0RWRnZT1mdW5jdGlvbihlLHQpe3ZhciBuPXUuY3VyU3RhdHM7bnVsbCE9bi54JiZJLmNhcHRpb25MYWJlbC5hZGp1c3RFZGdlKHQse3g6bi54LHk6bi55LHdpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSx1LnN0cm9rZVdpZHRoLzIpfSksITApfSx1cGRhdGVDb2xvcjpmdW5jdGlvbihlLHQpe3ZhciBuLGE9ZS5jdXJTdGF0cyxpPWUuYXBsU3RhdHMsbz10LmN1clN0YXRzO2EuY29sb3I9bj1lLmNvbG9yfHxvLmxpbmVfY29sb3IscWUoZSxpLFwiY29sb3JcIixuKSYmKGUuc3R5bGVGaWxsLmZpbGw9bil9LHVwZGF0ZVNob3c6ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMD09PXQuaXNTaG93bjtuIT09ZS5pc1Nob3duJiYoZS5zdHlsZVNob3cudmlzaWJpbGl0eT1uP1wiXCI6XCJoaWRkZW5cIixlLmlzU2hvd249bil9LGFkanVzdEVkZ2U6ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPXt4MTp0Lngtbix5MTp0Lnktbix4Mjp0LngrdC53aWR0aCtuLHkyOnQueSt0LmhlaWdodCtufTthLngxPGUueDEmJihlLngxPWEueDEpLGEueTE8ZS55MSYmKGUueTE9YS55MSksYS54Mj5lLngyJiYoZS54Mj1hLngyKSxhLnkyPmUueTImJihlLnkyPWEueTIpfSxuZXdUZXh0OmZ1bmN0aW9uKGUsdCxuLGEsaSl7dmFyIG8sbCxyLHMsdSxoPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwidGV4dFwiKTtyZXR1cm4gaC50ZXh0Q29udGVudD1lLFtoLngsaC55XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uY3JlYXRlU1ZHTGVuZ3RoKCk7dC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QWCwwKSxlLmJhc2VWYWwuaW5pdGlhbGl6ZSh0KX0pLFwiYm9vbGVhblwiIT10eXBlb2YgZiYmKGY9XCJwYWludE9yZGVyXCJpbiBoLnN0eWxlKSxpJiYhZj8obD10LmNyZWF0ZUVsZW1lbnROUyhyZSxcImRlZnNcIiksaC5pZD1hLGwuYXBwZW5kQ2hpbGQoaCksKHM9KG89dC5jcmVhdGVFbGVtZW50TlMocmUsXCJnXCIpKS5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSkpLmhyZWYuYmFzZVZhbD1cIiNcIithLChyPW8uYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpKS5ocmVmLmJhc2VWYWw9XCIjXCIrYSwodT1zLnN0eWxlKS5zdHJva2VMaW5lam9pbj1cInJvdW5kXCIse2VsbVBvc2l0aW9uOmgsc3R5bGVUZXh0Omguc3R5bGUsc3R5bGVGaWxsOnIuc3R5bGUsc3R5bGVTdHJva2U6dSxzdHlsZVNob3c6by5zdHlsZSxlbG1zQXBwZW5kOltsLG9dfSk6KHU9aC5zdHlsZSxpJiYodS5zdHJva2VMaW5lam9pbj1cInJvdW5kXCIsdS5wYWludE9yZGVyPVwic3Ryb2tlXCIpLHtlbG1Qb3NpdGlvbjpoLHN0eWxlVGV4dDp1LHN0eWxlRmlsbDp1LHN0eWxlU3Ryb2tlOmk/dTpudWxsLHN0eWxlU2hvdzp1LGVsbXNBcHBlbmQ6W2hdfSl9LGdldE1pZFBvaW50OmZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpPUZlKGUpLG89aS5zZWdzTGVuLGw9aS5sZW5BbGwscj0tMSxzPWwvMisodHx8MCk7aWYoczw9MClyZXR1cm4gMj09PShuPWVbMF0pLmxlbmd0aD9QZShuWzBdLG5bMV0sMCk6VGUoblswXSxuWzFdLG5bMl0sblszXSwwKTtpZihsPD1zKXJldHVybiAyPT09KG49ZVtlLmxlbmd0aC0xXSkubGVuZ3RoP1BlKG5bMF0sblsxXSwxKTpUZShuWzBdLG5bMV0sblsyXSxuWzNdLDEpO2ZvcihhPVtdO3M+b1srK3JdOylhLnB1c2goZVtyXSkscy09b1tyXTtyZXR1cm4gMj09PShuPWVbcl0pLmxlbmd0aD9QZShuWzBdLG5bMV0scy9vW3JdKTpUZShuWzBdLG5bMV0sblsyXSxuWzNdLEJlKG5bMF0sblsxXSxuWzJdLG5bM10scykpfSxpbml0U3ZnOmZ1bmN0aW9uKHQsbil7dmFyIGUsYSxpPUkuY2FwdGlvbkxhYmVsLm5ld1RleHQodC50ZXh0LG4uYmFzZVdpbmRvdy5kb2N1bWVudCxuLnN2ZyxBK1wiLWNhcHRpb25MYWJlbC1cIit0Ll9pZCx0Lm91dGxpbmVDb2xvcik7W1wiZWxtUG9zaXRpb25cIixcInN0eWxlRmlsbFwiLFwic3R5bGVTaG93XCIsXCJlbG1zQXBwZW5kXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1pW2VdfSksdC5pc1Nob3duPSExLHQuc3R5bGVTaG93LnZpc2liaWxpdHk9XCJoaWRkZW5cIixJLmNhcHRpb25MYWJlbC50ZXh0U3R5bGVQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJihpLnN0eWxlVGV4dFtlXT10W2VdKX0pLGkuZWxtc0FwcGVuZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc3ZnLmFwcGVuZENoaWxkKGUpfSksZT1pLmVsbVBvc2l0aW9uLmdldEJCb3goKSx0LndpZHRoPWUud2lkdGgsdC5oZWlnaHQ9ZS5oZWlnaHQsdC5vdXRsaW5lQ29sb3ImJihhPTEwPChhPWUuaGVpZ2h0LzkpPzEwOmE8Mj8yOmEsaS5zdHlsZVN0cm9rZS5zdHJva2VXaWR0aD1hK1wicHhcIixpLnN0eWxlU3Ryb2tlLnN0cm9rZT10Lm91dGxpbmVDb2xvciksdC5zdHJva2VXaWR0aD1hfHwwLFhlKHQuYXBsU3RhdHMsSS5jYXB0aW9uTGFiZWwuc3RhdHMpLHQudXBkYXRlQ29sb3IobiksdC5yZWZTb2NrZXRYWT90LnVwZGF0ZVNvY2tldFhZKG4pOnQudXBkYXRlUGF0aChuKSxwZSYmZXQobix7fSksdC51cGRhdGVTaG93KG4pfSxiaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcztyZXR1cm4gZS5jb2xvcnx8RGUobixcImN1cl9saW5lX2NvbG9yXCIsZS51cGRhdGVDb2xvciksKGUucmVmU29ja2V0WFk9XCJzdGFydExhYmVsXCI9PT10Lm9wdGlvbk5hbWV8fFwiZW5kTGFiZWxcIj09PXQub3B0aW9uTmFtZSk/KGUuc29ja2V0SW5kZXg9XCJzdGFydExhYmVsXCI9PT10Lm9wdGlvbk5hbWU/MDoxLERlKG4sXCJhcGxfcG9zaXRpb25cIixlLnVwZGF0ZVNvY2tldFhZKSxlLm9mZnNldHx8KERlKG4sXCJjdXJfYXR0YWNoX3BsdWdTaWRlTGVuU0VcIixlLnVwZGF0ZVNvY2tldFhZKSxEZShuLFwiY3VyX2xpbmVfc3Ryb2tlV2lkdGhcIixlLnVwZGF0ZVNvY2tldFhZKSkpOkRlKG4sXCJhcGxfcGF0aFwiLGUudXBkYXRlUGF0aCksRGUobixcInN2Z1Nob3dcIixlLnVwZGF0ZVNob3cpLHBlJiZEZShuLFwibmV3X2VkZ2U0dmlld0JveFwiLGUuYWRqdXN0RWRnZSksSS5jYXB0aW9uTGFiZWwuaW5pdFN2ZyhlLG4pLCEwfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzO2UuZWxtc0FwcGVuZCYmKGUuZWxtc0FwcGVuZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc3ZnLnJlbW92ZUNoaWxkKGUpfSksZS5lbG1Qb3NpdGlvbj1lLnN0eWxlRmlsbD1lLnN0eWxlU2hvdz1lLmVsbXNBcHBlbmQ9bnVsbCksWGUoZS5jdXJTdGF0cyxJLmNhcHRpb25MYWJlbC5zdGF0cyksWGUoZS5hcGxTdGF0cyxJLmNhcHRpb25MYWJlbC5zdGF0cyksZS5jb2xvcnx8emUobixcImN1cl9saW5lX2NvbG9yXCIsZS51cGRhdGVDb2xvciksZS5yZWZTb2NrZXRYWT8oemUobixcImFwbF9wb3NpdGlvblwiLGUudXBkYXRlU29ja2V0WFkpLGUub2Zmc2V0fHwoemUobixcImN1cl9hdHRhY2hfcGx1Z1NpZGVMZW5TRVwiLGUudXBkYXRlU29ja2V0WFkpLHplKG4sXCJjdXJfbGluZV9zdHJva2VXaWR0aFwiLGUudXBkYXRlU29ja2V0WFkpKSk6emUobixcImFwbF9wYXRoXCIsZS51cGRhdGVQYXRoKSx6ZShuLFwic3ZnU2hvd1wiLGUudXBkYXRlU2hvdykscGUmJih6ZShuLFwibmV3X2VkZ2U0dmlld0JveFwiLGUuYWRqdXN0RWRnZSksZXQobix7fSkpfSxyZW1vdmVPcHRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzLGE9e307YVt0Lm9wdGlvbk5hbWVdPVwiXCIsb3QobixhKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3QuYm91bmRUYXJnZXRzLmxlbmd0aCYmKGNvbnNvbGUuZXJyb3IoXCJMZWFkZXJMaW5lQXR0YWNobWVudCB3YXMgbm90IHVuYm91bmQgYnkgcmVtb3ZlXCIpLHQuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7SS5jYXB0aW9uTGFiZWwudW5iaW5kKHQsZSl9KSl9fSxwYXRoTGFiZWw6e3R5cGU6XCJsYWJlbFwiLGFyZ09wdGlvbnM6W3tvcHRpb25OYW1lOlwidGV4dFwiLHR5cGU6XCJzdHJpbmdcIn1dLHN0YXRzOntjb2xvcjp7fSxzdGFydE9mZnNldDp7fSxwYXRoRGF0YTp7fX0saW5pdDpmdW5jdGlvbihzLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0LnRleHQmJihzLnRleHQ9dC50ZXh0LnRyaW0oKSksISFzLnRleHQmJihcInN0cmluZ1wiPT10eXBlb2YgdC5jb2xvciYmKHMuY29sb3I9dC5jb2xvci50cmltKCkpLHMub3V0bGluZUNvbG9yPVwic3RyaW5nXCI9PXR5cGVvZiB0Lm91dGxpbmVDb2xvcj90Lm91dGxpbmVDb2xvci50cmltKCk6XCIjZmZmXCIseWUodC5saW5lT2Zmc2V0KSYmKHMubGluZU9mZnNldD10LmxpbmVPZmZzZXQpLEkuY2FwdGlvbkxhYmVsLnRleHRTdHlsZVByb3BzLmZvckVhY2goZnVuY3Rpb24oZSl7bnVsbCE9dFtlXSYmKHNbZV09dFtlXSl9KSxzLnVwZGF0ZUNvbG9yPWZ1bmN0aW9uKGUpe0kuY2FwdGlvbkxhYmVsLnVwZGF0ZUNvbG9yKHMsZSl9LHMudXBkYXRlUGF0aD1mdW5jdGlvbihlKXt2YXIgdCxuPXMuY3VyU3RhdHMsYT1zLmFwbFN0YXRzLGk9ZS5jdXJTdGF0cyxvPWUucGF0aExpc3QuYW5pbVZhbHx8ZS5wYXRoTGlzdC5iYXNlVmFsO28mJihuLnBhdGhEYXRhPXQ9SS5wYXRoTGFiZWwuZ2V0T2Zmc2V0UGF0aERhdGEobyxpLmxpbmVfc3Ryb2tlV2lkdGgvMitzLnN0cm9rZVdpZHRoLzIrcy5oZWlnaHQvNCwxLjI1KnMuaGVpZ2h0KSxHZSh0LGEucGF0aERhdGEpJiYocy5lbG1QYXRoLnNldFBhdGhEYXRhKHQpLGEucGF0aERhdGE9dCxzLmJCb3g9cy5lbG1Qb3NpdGlvbi5nZXRCQm94KCkscy51cGRhdGVTdGFydE9mZnNldChlKSkpfSxzLnVwZGF0ZVN0YXJ0T2Zmc2V0PWZ1bmN0aW9uKGUpe3ZhciB0LGksbixhLG89cy5jdXJTdGF0cyxsPXMuYXBsU3RhdHMscj1lLmN1clN0YXRzO28ucGF0aERhdGEmJigyPT09cy5zZW1JbmRleCYmIXMubGluZU9mZnNldHx8KG49by5wYXRoRGF0YS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbixhPXQudmFsdWVzO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIk1cIjppPXt4OmFbMF0seTphWzFdfTticmVhaztjYXNlXCJMXCI6bj17eDphWzBdLHk6YVsxXX0saSYmKGUrPVZlKGksbikpLGk9bjticmVhaztjYXNlXCJDXCI6bj17eDphWzRdLHk6YVs1XX0saSYmKGUrPVdlKGkse3g6YVswXSx5OmFbMV19LHt4OmFbMl0seTphWzNdfSxuKSksaT1ufXJldHVybiBlfSwwKSxhPTA9PT1zLnNlbUluZGV4PzA6MT09PXMuc2VtSW5kZXg/bjpuLzIsMiE9PXMuc2VtSW5kZXgmJih0PU1hdGgubWF4KHIuYXR0YWNoX3BsdWdCYWNrTGVuU0Vbcy5zZW1JbmRleF18fDAsci5saW5lX3N0cm9rZVdpZHRoLzIpK3Muc3Ryb2tlV2lkdGgvMitzLmhlaWdodC80LGE9KGErPTA9PT1zLnNlbUluZGV4P3Q6LXQpPDA/MDpuPGE/bjphKSxzLmxpbmVPZmZzZXQmJihhPShhKz1zLmxpbmVPZmZzZXQpPDA/MDpuPGE/bjphKSxvLnN0YXJ0T2Zmc2V0PWEscWUocyxsLFwic3RhcnRPZmZzZXRcIixhKSYmKHMuZWxtT2Zmc2V0LnN0YXJ0T2Zmc2V0LmJhc2VWYWwudmFsdWU9YSkpKX0scy51cGRhdGVTaG93PWZ1bmN0aW9uKGUpe0kuY2FwdGlvbkxhYmVsLnVwZGF0ZVNob3cocyxlKX0scGUmJihzLmFkanVzdEVkZ2U9ZnVuY3Rpb24oZSx0KXtzLmJCb3gmJkkuY2FwdGlvbkxhYmVsLmFkanVzdEVkZ2UodCxzLmJCb3gscy5zdHJva2VXaWR0aC8yKX0pLCEwKX0sZ2V0T2Zmc2V0UGF0aERhdGE6ZnVuY3Rpb24oZSx4LG4pe3ZhciBiLGEsaz1bXTtmdW5jdGlvbiB3KGUsdCl7cmV0dXJuIE1hdGguYWJzKGUueC10LngpPDMmJk1hdGguYWJzKGUueS10LnkpPDN9cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLGEsaSxvLGwscixzLHUsaCxwLGMsZCxmLHksbSxTLGcsXyx2LEU7Mj09PWUubGVuZ3RoPyhnPWVbMF0sXz1lWzFdLHY9eCxFPU1hdGguYXRhbjIoZy55LV8ueSxfLngtZy54KSsuNSpNYXRoLlBJLHQ9W3t4OmcueCtNYXRoLmNvcyhFKSp2LHk6Zy55K01hdGguc2luKEUpKnYqLTF9LHt4Ol8ueCtNYXRoLmNvcyhFKSp2LHk6Xy55K01hdGguc2luKEUpKnYqLTF9XSxiPyhhPWIucG9pbnRzLDA8PShpPU1hdGguYXRhbjIoYVsxXS55LWFbMF0ueSxhWzBdLngtYVsxXS54KS1NYXRoLmF0YW4yKGVbMF0ueS1lWzFdLnksZVsxXS54LWVbMF0ueCkpJiZpPD1NYXRoLlBJP249e3R5cGU6XCJsaW5lXCIscG9pbnRzOnQsaW5zaWRlOiEwfToobD1OZShhWzBdLGFbMV0seCksbz1OZSh0WzFdLHRbMF0seCkscz1hWzBdLGg9byxwPXRbMV0sYz0odT1sKS54LXMueCxkPXUueS1zLnksZj1wLngtaC54LHk9cC55LWgueSxtPSgtZCoocy54LWgueCkrYyoocy55LWgueSkpLygtZipkK2MqeSksUz0oZioocy55LWgueSkteSoocy54LWgueCkpLygtZipkK2MqeSksbj0ocj0wPD1tJiZtPD0xJiYwPD1TJiZTPD0xP3t4OnMueCtTKmMseTpzLnkrUypkfTpudWxsKT97dHlwZTpcImxpbmVcIixwb2ludHM6W2FbMV09cix0WzFdXX06KGFbMV09dyhvLGwpP286bCx7dHlwZTpcImxpbmVcIixwb2ludHM6W28sdFsxXV19KSxiLmxlbj1WZShhWzBdLGFbMV0pKSk6bj17dHlwZTpcImxpbmVcIixwb2ludHM6dH0sbi5sZW49VmUobi5wb2ludHNbMF0sbi5wb2ludHNbMV0pLGsucHVzaChiPW4pKTooay5wdXNoKHt0eXBlOlwiY3ViaWNcIixwb2ludHM6ZnVuY3Rpb24oZSx0LG4sYSxpLG8pe2Zvcih2YXIgbCxyLHM9V2UoZSx0LG4sYSkvbyx1PTEvKG88aT9pL28qczpzKSxoPVtdLHA9MDtyPSg5MC0obD1UZShlLHQsbixhLHApKS5hbmdsZSkqKE1hdGguUEkvMTgwKSxoLnB1c2goe3g6bC54K01hdGguY29zKHIpKmkseTpsLnkrTWF0aC5zaW4ocikqaSotMX0pLCEoMTw9cCk7KTE8KHArPXUpJiYocD0xKTtyZXR1cm4gaH0oZVswXSxlWzFdLGVbMl0sZVszXSx4LDE2KX0pLGI9bnVsbCl9KSxiPW51bGwsay5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0O2I9XCJsaW5lXCI9PT1lLnR5cGU/KGUuaW5zaWRlJiYoYi5sZW4+eD8oKHQ9Yi5wb2ludHMpWzFdPU5lKHRbMF0sdFsxXSwteCksYi5sZW49VmUodFswXSx0WzFdKSk6KGIucG9pbnRzPW51bGwsYi5sZW49MCksZS5sZW4+eCtuPygodD1lLnBvaW50cylbMF09TmUodFsxXSx0WzBdLC0oeCtuKSksZS5sZW49VmUodFswXSx0WzFdKSk6KGUucG9pbnRzPW51bGwsZS5sZW49MCkpLGUpOm51bGx9KSxrLnJlZHVjZShmdW5jdGlvbih0LGUpe3ZhciBuPWUucG9pbnRzO3JldHVybiBuJiYoYSYmdyhuWzBdLGEpfHx0LnB1c2goe3R5cGU6XCJNXCIsdmFsdWVzOltuWzBdLngsblswXS55XX0pLFwibGluZVwiPT09ZS50eXBlP3QucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W25bMV0ueCxuWzFdLnldfSk6KG4uc2hpZnQoKSxuLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbZS54LGUueV19KX0pKSxhPW5bbi5sZW5ndGgtMV0pLHR9LFtdKX0sbmV3VGV4dDpmdW5jdGlvbihlLHQsbixhKXt2YXIgaSxvLGwscixzLHUsaCxwLGM9dC5jcmVhdGVFbGVtZW50TlMocmUsXCJkZWZzXCIpLGQ9Yy5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInBhdGhcIikpO3JldHVybiBkLmlkPWk9bitcIi1wYXRoXCIsKHI9KGw9dC5jcmVhdGVFbGVtZW50TlMocmUsXCJ0ZXh0XCIpKS5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInRleHRQYXRoXCIpKSkuaHJlZi5iYXNlVmFsPVwiI1wiK2ksci5zdGFydE9mZnNldC5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BYLDApLHIudGV4dENvbnRlbnQ9ZSxcImJvb2xlYW5cIiE9dHlwZW9mIGYmJihmPVwicGFpbnRPcmRlclwiaW4gbC5zdHlsZSksYSYmIWY/KGwuaWQ9bz1uK1wiLXRleHRcIixjLmFwcGVuZENoaWxkKGwpLChoPShzPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwiZ1wiKSkuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpKS5ocmVmLmJhc2VWYWw9XCIjXCIrbywodT1zLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSkuaHJlZi5iYXNlVmFsPVwiI1wiK28sKHA9aC5zdHlsZSkuc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLHtlbG1Qb3NpdGlvbjpsLGVsbVBhdGg6ZCxlbG1PZmZzZXQ6cixzdHlsZVRleHQ6bC5zdHlsZSxzdHlsZUZpbGw6dS5zdHlsZSxzdHlsZVN0cm9rZTpwLHN0eWxlU2hvdzpzLnN0eWxlLGVsbXNBcHBlbmQ6W2Msc119KToocD1sLnN0eWxlLGEmJihwLnN0cm9rZUxpbmVqb2luPVwicm91bmRcIixwLnBhaW50T3JkZXI9XCJzdHJva2VcIikse2VsbVBvc2l0aW9uOmwsZWxtUGF0aDpkLGVsbU9mZnNldDpyLHN0eWxlVGV4dDpwLHN0eWxlRmlsbDpwLHN0eWxlU3Ryb2tlOmE/cDpudWxsLHN0eWxlU2hvdzpwLGVsbXNBcHBlbmQ6W2MsbF19KX0saW5pdFN2ZzpmdW5jdGlvbih0LG4pe3ZhciBlLGEsaT1JLnBhdGhMYWJlbC5uZXdUZXh0KHQudGV4dCxuLmJhc2VXaW5kb3cuZG9jdW1lbnQsQStcIi1wYXRoTGFiZWwtXCIrdC5faWQsdC5vdXRsaW5lQ29sb3IpO1tcImVsbVBvc2l0aW9uXCIsXCJlbG1QYXRoXCIsXCJlbG1PZmZzZXRcIixcInN0eWxlRmlsbFwiLFwic3R5bGVTaG93XCIsXCJlbG1zQXBwZW5kXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1pW2VdfSksdC5pc1Nob3duPSExLHQuc3R5bGVTaG93LnZpc2liaWxpdHk9XCJoaWRkZW5cIixJLmNhcHRpb25MYWJlbC50ZXh0U3R5bGVQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJihpLnN0eWxlVGV4dFtlXT10W2VdKX0pLGkuZWxtc0FwcGVuZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc3ZnLmFwcGVuZENoaWxkKGUpfSksaS5lbG1QYXRoLnNldFBhdGhEYXRhKFt7dHlwZTpcIk1cIix2YWx1ZXM6WzAsMTAwXX0se3R5cGU6XCJoXCIsdmFsdWVzOlsxMDBdfV0pLGU9aS5lbG1Qb3NpdGlvbi5nZXRCQm94KCksaS5zdHlsZVRleHQudGV4dEFuY2hvcj1bXCJzdGFydFwiLFwiZW5kXCIsXCJtaWRkbGVcIl1bdC5zZW1JbmRleF0sMiE9PXQuc2VtSW5kZXh8fHQubGluZU9mZnNldHx8aS5lbG1PZmZzZXQuc3RhcnRPZmZzZXQuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QRVJDRU5UQUdFLDUwKSx0LmhlaWdodD1lLmhlaWdodCx0Lm91dGxpbmVDb2xvciYmKGE9MTA8KGE9ZS5oZWlnaHQvOSk/MTA6YTwyPzI6YSxpLnN0eWxlU3Ryb2tlLnN0cm9rZVdpZHRoPWErXCJweFwiLGkuc3R5bGVTdHJva2Uuc3Ryb2tlPXQub3V0bGluZUNvbG9yKSx0LnN0cm9rZVdpZHRoPWF8fDAsWGUodC5hcGxTdGF0cyxJLnBhdGhMYWJlbC5zdGF0cyksdC51cGRhdGVDb2xvcihuKSx0LnVwZGF0ZVBhdGgobiksdC51cGRhdGVTdGFydE9mZnNldChuKSxwZSYmZXQobix7fSksdC51cGRhdGVTaG93KG4pfSxiaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcztyZXR1cm4gZS5jb2xvcnx8RGUobixcImN1cl9saW5lX2NvbG9yXCIsZS51cGRhdGVDb2xvciksRGUobixcImN1cl9saW5lX3N0cm9rZVdpZHRoXCIsZS51cGRhdGVQYXRoKSxEZShuLFwiYXBsX3BhdGhcIixlLnVwZGF0ZVBhdGgpLGUuc2VtSW5kZXg9XCJzdGFydExhYmVsXCI9PT10Lm9wdGlvbk5hbWU/MDpcImVuZExhYmVsXCI9PT10Lm9wdGlvbk5hbWU/MToyLDI9PT1lLnNlbUluZGV4JiYhZS5saW5lT2Zmc2V0fHxEZShuLFwiY3VyX2F0dGFjaF9wbHVnQmFja0xlblNFXCIsZS51cGRhdGVTdGFydE9mZnNldCksRGUobixcInN2Z1Nob3dcIixlLnVwZGF0ZVNob3cpLHBlJiZEZShuLFwibmV3X2VkZ2U0dmlld0JveFwiLGUuYWRqdXN0RWRnZSksSS5wYXRoTGFiZWwuaW5pdFN2ZyhlLG4pLCEwfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzO2UuZWxtc0FwcGVuZCYmKGUuZWxtc0FwcGVuZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uc3ZnLnJlbW92ZUNoaWxkKGUpfSksZS5lbG1Qb3NpdGlvbj1lLmVsbVBhdGg9ZS5lbG1PZmZzZXQ9ZS5zdHlsZUZpbGw9ZS5zdHlsZVNob3c9ZS5lbG1zQXBwZW5kPW51bGwpLFhlKGUuY3VyU3RhdHMsSS5wYXRoTGFiZWwuc3RhdHMpLFhlKGUuYXBsU3RhdHMsSS5wYXRoTGFiZWwuc3RhdHMpLGUuY29sb3J8fHplKG4sXCJjdXJfbGluZV9jb2xvclwiLGUudXBkYXRlQ29sb3IpLHplKG4sXCJjdXJfbGluZV9zdHJva2VXaWR0aFwiLGUudXBkYXRlUGF0aCksemUobixcImFwbF9wYXRoXCIsZS51cGRhdGVQYXRoKSwyPT09ZS5zZW1JbmRleCYmIWUubGluZU9mZnNldHx8emUobixcImN1cl9hdHRhY2hfcGx1Z0JhY2tMZW5TRVwiLGUudXBkYXRlU3RhcnRPZmZzZXQpLHplKG4sXCJzdmdTaG93XCIsZS51cGRhdGVTaG93KSxwZSYmKHplKG4sXCJuZXdfZWRnZTR2aWV3Qm94XCIsZS5hZGp1c3RFZGdlKSxldChuLHt9KSl9LHJlbW92ZU9wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHMsYT17fTthW3Qub3B0aW9uTmFtZV09XCJcIixvdChuLGEpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5ib3VuZFRhcmdldHMubGVuZ3RoJiYoY29uc29sZS5lcnJvcihcIkxlYWRlckxpbmVBdHRhY2htZW50IHdhcyBub3QgdW5ib3VuZCBieSByZW1vdmVcIiksdC5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtJLnBhdGhMYWJlbC51bmJpbmQodCxlKX0pKX19fSxPYmplY3Qua2V5cyhJKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2x0W2VdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDKElbZV0sQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9fSksbHQucG9zaXRpb25CeVdpbmRvd1Jlc2l6ZT0hMCx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHYuYWRkKGZ1bmN0aW9uKCl7bHQucG9zaXRpb25CeVdpbmRvd1Jlc2l6ZSYmT2JqZWN0LmtleXMoZ2UpLmZvckVhY2goZnVuY3Rpb24oZSl7ZXQoZ2VbZV0se3Bvc2l0aW9uOiEwfSl9KX0pLCExKSxsdH0oKTshZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTplW1wibGVhZGVyLWxpbmVcIl09dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIExlYWRlckxpbmV9KTsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgRE9OJ1QgTUFOVUFMTFkgRURJVCBUSElTIEZJTEVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKlxuICogQW5pbUV2ZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5zZWtpL2FuaW0tZXZlbnRcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgYW5zZWtpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbnZhciBNU1BGID0gMTAwMCAvIDYwLFxuICAgIC8vIG1zL2ZyYW1lIChGUFM6IDYwKVxuS0VFUF9MT09QID0gNTAwLFxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IHRhc2tcbiAqIEBwcm9wZXJ0eSB7RXZlbnR9IGV2ZW50XG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBsaXN0ZW5lclxuICovXG5cbi8qKiBAdHlwZSB7dGFza1tdfSAqL1xudGFza3MgPSBbXTtcblxudmFyIHJlcXVlc3RBbmltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgTVNQRik7XG59LFxuICAgIGNhbmNlbEFuaW0gPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAocmVxdWVzdElEKSB7XG4gIHJldHVybiBjbGVhclRpbWVvdXQocmVxdWVzdElEKTtcbn07XG5cbnZhciBsYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKSxcbiAgICByZXF1ZXN0SUQ7XG5cbmZ1bmN0aW9uIHN0ZXAoKSB7XG4gIHZhciBjYWxsZWQsIG5leHQ7XG5cbiAgaWYgKHJlcXVlc3RJRCkge1xuICAgIGNhbmNlbEFuaW0uY2FsbCh3aW5kb3csIHJlcXVlc3RJRCk7XG4gICAgcmVxdWVzdElEID0gbnVsbDtcbiAgfVxuXG4gIHRhc2tzLmZvckVhY2goZnVuY3Rpb24gKHRhc2spIHtcbiAgICB2YXIgZXZlbnQ7XG5cbiAgICBpZiAoZXZlbnQgPSB0YXNrLmV2ZW50KSB7XG4gICAgICB0YXNrLmV2ZW50ID0gbnVsbDsgLy8gQ2xlYXIgaXQgYmVmb3JlIGB0YXNrLmxpc3RlbmVyKClgIGJlY2F1c2UgdGhhdCBtaWdodCBmaXJlIGFub3RoZXIgZXZlbnQuXG5cbiAgICAgIHRhc2subGlzdGVuZXIoZXZlbnQpO1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChjYWxsZWQpIHtcbiAgICBsYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBuZXh0ID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChEYXRlLm5vdygpIC0gbGFzdEZyYW1lVGltZSA8IEtFRVBfTE9PUCkge1xuICAgIC8vIEdvIG9uIGZvciBhIHdoaWxlXG4gICAgbmV4dCA9IHRydWU7XG4gIH1cblxuICBpZiAobmV4dCkge1xuICAgIHJlcXVlc3RJRCA9IHJlcXVlc3RBbmltLmNhbGwod2luZG93LCBzdGVwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRleE9mVGFza3MobGlzdGVuZXIpIHtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHRhc2tzLnNvbWUoZnVuY3Rpb24gKHRhc2ssIGkpIHtcbiAgICBpZiAodGFzay5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgIGluZGV4ID0gaTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiBpbmRleDtcbn1cblxudmFyIEFuaW1FdmVudCA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIC0gQW4gZXZlbnQgbGlzdGVuZXIuXG4gICAqIEByZXR1cm5zIHsoZnVuY3Rpb258bnVsbCl9IEEgd3JhcHBlZCBldmVudCBsaXN0ZW5lci5cbiAgICovXG4gIGFkZDogZnVuY3Rpb24gYWRkKGxpc3RlbmVyKSB7XG4gICAgdmFyIHRhc2s7XG5cbiAgICBpZiAoaW5kZXhPZlRhc2tzKGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICAgIHRhc2tzLnB1c2godGFzayA9IHtcbiAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGFzay5ldmVudCA9IGV2ZW50O1xuXG4gICAgICAgIGlmICghcmVxdWVzdElEKSB7XG4gICAgICAgICAgc3RlcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShsaXN0ZW5lcikge1xuICAgIHZhciBpUmVtb3ZlO1xuXG4gICAgaWYgKChpUmVtb3ZlID0gaW5kZXhPZlRhc2tzKGxpc3RlbmVyKSkgPiAtMSkge1xuICAgICAgdGFza3Muc3BsaWNlKGlSZW1vdmUsIDEpO1xuXG4gICAgICBpZiAoIXRhc2tzLmxlbmd0aCAmJiByZXF1ZXN0SUQpIHtcbiAgICAgICAgY2FuY2VsQW5pbS5jYWxsKHdpbmRvdywgcmVxdWVzdElEKTtcbiAgICAgICAgcmVxdWVzdElEID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBBbmltRXZlbnQ7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIERPTidUIE1BTlVBTExZIEVESVQgVEhJUyBGSUxFXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLypcbiAqIENTU1ByZWZpeFxuICogaHR0cHM6Ly9naXRodWIuY29tL2Fuc2VraS9jc3NwcmVmaXhcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgYW5zZWtpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIHVjZih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zdWJzdHIoMSk7XG59XG5cbnZhciBQUkVGSVhFUyA9IFsnd2Via2l0JywgJ21veicsICdtcycsICdvJ10sXG4gICAgTkFNRV9QUkVGSVhFUyA9IFBSRUZJWEVTLnJlZHVjZShmdW5jdGlvbiAocHJlZml4ZXMsIHByZWZpeCkge1xuICBwcmVmaXhlcy5wdXNoKHByZWZpeCk7XG4gIHByZWZpeGVzLnB1c2godWNmKHByZWZpeCkpO1xuICByZXR1cm4gcHJlZml4ZXM7XG59LCBbXSksXG4gICAgVkFMVUVfUFJFRklYRVMgPSBQUkVGSVhFUy5tYXAoZnVuY3Rpb24gKHByZWZpeCkge1xuICByZXR1cm4gXCItXCIuY29uY2F0KHByZWZpeCwgXCItXCIpO1xufSksXG5cbi8qKlxuICogR2V0IHNhbXBsZSBDU1NTdHlsZURlY2xhcmF0aW9uLlxuICogQHJldHVybnMge0NTU1N0eWxlRGVjbGFyYXRpb259XG4gKi9cbmdldERlY2xhcmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZGVjbGFyYXRpb247XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRlY2xhcmF0aW9uID0gZGVjbGFyYXRpb24gfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gIH07XG59KCksXG5cbi8qKlxuICogTm9ybWFsaXplIG5hbWUuXG4gKiBAcGFyYW0ge30gcHJvcE5hbWUgLSBBIG5hbWUgdGhhdCBpcyBub3JtYWxpemVkLlxuICogQHJldHVybnMge3N0cmluZ30gQSBub3JtYWxpemVkIG5hbWUuXG4gKi9cbm5vcm1hbGl6ZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZVByZWZpeGVkTmFtZSA9IG5ldyBSZWdFeHAoJ14oPzonICsgUFJFRklYRVMuam9pbignfCcpICsgJykoLiknLCAnaScpLFxuICAgICAgcmVVYyA9IC9bQS1aXS87XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICByZXR1cm4gKHByb3BOYW1lID0gKHByb3BOYW1lICsgJycpLnJlcGxhY2UoL1xccy9nLCAnJykucmVwbGFjZSgvLShbXFxkYS16XSkvZ2ksIGZ1bmN0aW9uIChzdHIsIHAxKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKTtcbiAgICB9KSAvLyBjYW1lbENhc2VcbiAgICAvLyAnbXMnIGFuZCAnTXMnIGFyZSBmb3VuZCBieSByZVByZWZpeGVkTmFtZSAnaScgb3B0aW9uXG4gICAgLnJlcGxhY2UocmVQcmVmaXhlZE5hbWUsIGZ1bmN0aW9uIChzdHIsIHAxKSB7XG4gICAgICByZXR1cm4gcmVVYy50ZXN0KHAxKSA/IHAxLnRvTG93ZXJDYXNlKCkgOiBzdHI7XG4gICAgfSkgLy8gUmVtb3ZlIHByZWZpeFxuICAgICkudG9Mb3dlckNhc2UoKSA9PT0gJ2Zsb2F0JyA/ICdjc3NGbG9hdCcgOiBwcm9wTmFtZTtcbiAgfTsgLy8gRm9yIG9sZCBDU1NPTVxufSgpLFxuXG4vKipcbiAqIE5vcm1hbGl6ZSB2YWx1ZS5cbiAqIEBwYXJhbSB7fSBwcm9wVmFsdWUgLSBBIHZhbHVlIHRoYXQgaXMgbm9ybWFsaXplZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgbm9ybWFsaXplZCB2YWx1ZS5cbiAqL1xubm9ybWFsaXplVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZVByZWZpeGVkVmFsdWUgPSBuZXcgUmVnRXhwKCdeKD86JyArIFZBTFVFX1BSRUZJWEVTLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wVmFsdWUpIHtcbiAgICByZXR1cm4gKHByb3BWYWx1ZSAhPSBudWxsID8gcHJvcFZhbHVlICsgJycgOiAnJykucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKHJlUHJlZml4ZWRWYWx1ZSwgJycpO1xuICB9O1xufSgpLFxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBgQ1NTLnN1cHBvcnRzYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wTmFtZSAtIEEgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wVmFsdWUgLSBBIHZhbHVlLlxuICogICAgIFNpbmNlIGBDU1NTdHlsZURlY2xhcmF0aW9uLnNldFByb3BlcnR5YCBtaWdodCByZXR1cm4gdW5leHBlY3RlZCByZXN1bHQsXG4gKiAgICAgdGhlIGBwcm9wVmFsdWVgIHNob3VsZCBiZSBjaGVja2VkIGJlZm9yZSB0aGUgYGNzc1N1cHBvcnRzYCBpcyBjYWxsZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGdpdmVuIHBhaXIgaXMgYWNjZXB0ZWQuXG4gKi9cbmNzc1N1cHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKC8vIHJldHVybiB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHMgfHwgKChwcm9wTmFtZSwgcHJvcFZhbHVlKSA9PiB7XG4gICAgLy8gYENTUy5zdXBwb3J0c2AgZG9lc24ndCBmaW5kIHByZWZpeGVkIHByb3BlcnR5LlxuICAgIGZ1bmN0aW9uIChwcm9wTmFtZSwgcHJvcFZhbHVlKSB7XG4gICAgICB2YXIgZGVjbGFyYXRpb24gPSBnZXREZWNsYXJhdGlvbigpOyAvLyBJbiBzb21lIGJyb3dzZXJzLCBgZGVjbGFyYXRpb25bcHJvcF0gPSB2YWx1ZWAgdXBkYXRlcyBhbnkgcHJvcGVydHkuXG5cbiAgICAgIHByb3BOYW1lID0gcHJvcE5hbWUucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gXCItXCIuY29uY2F0KHN0ci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH0pOyAvLyBrZWJhYi1jYXNlXG5cbiAgICAgIGRlY2xhcmF0aW9uLnNldFByb3BlcnR5KHByb3BOYW1lLCBwcm9wVmFsdWUpO1xuICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uW3Byb3BOYW1lXSAhPSBudWxsICYmIC8vIEJlY2F1c2UgZ2V0UHJvcGVydHlWYWx1ZSByZXR1cm5zICcnIGlmIGl0IGlzIHVuc3VwcG9ydGVkXG4gICAgICBkZWNsYXJhdGlvbi5nZXRQcm9wZXJ0eVZhbHVlKHByb3BOYW1lKSA9PT0gcHJvcFZhbHVlO1xuICAgIH1cbiAgKTtcbn0oKSxcbiAgICAvLyBDYWNoZVxucHJvcE5hbWVzID0ge30sXG4gICAgcHJvcFZhbHVlcyA9IHt9O1xuXG5mdW5jdGlvbiBnZXROYW1lKHByb3BOYW1lKSB7XG4gIHByb3BOYW1lID0gbm9ybWFsaXplTmFtZShwcm9wTmFtZSk7XG5cbiAgaWYgKHByb3BOYW1lICYmIHByb3BOYW1lc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgIHZhciBkZWNsYXJhdGlvbiA9IGdldERlY2xhcmF0aW9uKCk7XG5cbiAgICBpZiAoZGVjbGFyYXRpb25bcHJvcE5hbWVdICE9IG51bGwpIHtcbiAgICAgIC8vIE9yaWdpbmFsXG4gICAgICBwcm9wTmFtZXNbcHJvcE5hbWVdID0gcHJvcE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRyeSB3aXRoIHByZWZpeGVzXG4gICAgICB2YXIgdWNmTmFtZSA9IHVjZihwcm9wTmFtZSk7XG5cbiAgICAgIGlmICghTkFNRV9QUkVGSVhFUy5zb21lKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgICAgdmFyIHByZWZpeGVkID0gcHJlZml4ICsgdWNmTmFtZTtcblxuICAgICAgICBpZiAoZGVjbGFyYXRpb25bcHJlZml4ZWRdICE9IG51bGwpIHtcbiAgICAgICAgICBwcm9wTmFtZXNbcHJvcE5hbWVdID0gcHJlZml4ZWQ7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KSkge1xuICAgICAgICBwcm9wTmFtZXNbcHJvcE5hbWVdID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByb3BOYW1lc1twcm9wTmFtZV0gfHwgdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZShwcm9wTmFtZSwgcHJvcFZhbHVlKSB7XG4gIHZhciByZXM7XG5cbiAgaWYgKCEocHJvcE5hbWUgPSBnZXROYW1lKHByb3BOYW1lKSkpIHtcbiAgICByZXR1cm4gcmVzO1xuICB9IC8vIEludmFsaWQgcHJvcGVydHlcblxuXG4gIHByb3BWYWx1ZXNbcHJvcE5hbWVdID0gcHJvcFZhbHVlc1twcm9wTmFtZV0gfHwge307XG4gIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkgPyBwcm9wVmFsdWUgOiBbcHJvcFZhbHVlXSkuc29tZShmdW5jdGlvbiAocHJvcFZhbHVlKSB7XG4gICAgcHJvcFZhbHVlID0gbm9ybWFsaXplVmFsdWUocHJvcFZhbHVlKTtcblxuICAgIGlmIChwcm9wVmFsdWVzW3Byb3BOYW1lXVtwcm9wVmFsdWVdICE9IG51bGwpIHtcbiAgICAgIC8vIENhY2hlXG4gICAgICBpZiAocHJvcFZhbHVlc1twcm9wTmFtZV1bcHJvcFZhbHVlXSAhPT0gZmFsc2UpIHtcbiAgICAgICAgcmVzID0gcHJvcFZhbHVlc1twcm9wTmFtZV1bcHJvcFZhbHVlXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTsgLy8gQ29udGludWUgdG8gbmV4dCB2YWx1ZVxuICAgIH1cblxuICAgIGlmIChjc3NTdXBwb3J0cyhwcm9wTmFtZSwgcHJvcFZhbHVlKSkge1xuICAgICAgLy8gT3JpZ2luYWxcbiAgICAgIHJlcyA9IHByb3BWYWx1ZXNbcHJvcE5hbWVdW3Byb3BWYWx1ZV0gPSBwcm9wVmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoVkFMVUVfUFJFRklYRVMuc29tZShmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAvLyBUcnkgd2l0aCBwcmVmaXhlc1xuICAgICAgdmFyIHByZWZpeGVkID0gcHJlZml4ICsgcHJvcFZhbHVlO1xuXG4gICAgICBpZiAoY3NzU3VwcG9ydHMocHJvcE5hbWUsIHByZWZpeGVkKSkge1xuICAgICAgICByZXMgPSBwcm9wVmFsdWVzW3Byb3BOYW1lXVtwcm9wVmFsdWVdID0gcHJlZml4ZWQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByb3BWYWx1ZXNbcHJvcE5hbWVdW3Byb3BWYWx1ZV0gPSBmYWxzZTtcbiAgICByZXR1cm4gZmFsc2U7IC8vIENvbnRpbnVlIHRvIG5leHQgdmFsdWVcbiAgfSk7XG4gIHJldHVybiB0eXBlb2YgcmVzID09PSAnc3RyaW5nJyA/IHJlcyA6IHZvaWQgMDsgLy8gSXQgbWlnaHQgYmUgZW1wdHkgc3RyaW5nLlxufVxuXG52YXIgQ1NTUHJlZml4ID0ge1xuICBnZXROYW1lOiBnZXROYW1lLFxuICBnZXRWYWx1ZTogZ2V0VmFsdWVcbn07XG5leHBvcnQgZGVmYXVsdCBDU1NQcmVmaXg7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIERPTidUIE1BTlVBTExZIEVESVQgVEhJUyBGSUxFXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLypcbiAqIG1DbGFzc0xpc3RcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnNla2kvbS1jbGFzcy1saXN0XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIxIGFuc2VraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5mdW5jdGlvbiBub3JtYWxpemUodG9rZW4pIHtcbiAgcmV0dXJuICh0b2tlbiArICcnKS50cmltKCk7XG59IC8vIE5vdCBgfHxgXG5cblxuZnVuY3Rpb24gYXBwbHlMaXN0KGxpc3QsIGVsZW1lbnQpIHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbGlzdC5qb2luKCcgJykpO1xufVxuXG5mdW5jdGlvbiBfYWRkKGxpc3QsIGVsZW1lbnQsIHRva2Vucykge1xuICBpZiAodG9rZW5zLmZpbHRlcihmdW5jdGlvbiAodG9rZW4pIHtcbiAgICBpZiAoISh0b2tlbiA9IG5vcm1hbGl6ZSh0b2tlbikpIHx8IGxpc3QuaW5kZXhPZih0b2tlbikgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGlzdC5wdXNoKHRva2VuKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSkubGVuZ3RoKSB7XG4gICAgYXBwbHlMaXN0KGxpc3QsIGVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9yZW1vdmUobGlzdCwgZWxlbWVudCwgdG9rZW5zKSB7XG4gIGlmICh0b2tlbnMuZmlsdGVyKGZ1bmN0aW9uICh0b2tlbikge1xuICAgIHZhciBpO1xuXG4gICAgaWYgKCEodG9rZW4gPSBub3JtYWxpemUodG9rZW4pKSB8fCAoaSA9IGxpc3QuaW5kZXhPZih0b2tlbikpID09PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KS5sZW5ndGgpIHtcbiAgICBhcHBseUxpc3QobGlzdCwgZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3RvZ2dsZShsaXN0LCBlbGVtZW50LCB0b2tlbiwgZm9yY2UpIHtcbiAgdmFyIGkgPSBsaXN0LmluZGV4T2YodG9rZW4gPSBub3JtYWxpemUodG9rZW4pKTtcblxuICBpZiAoaSAhPT0gLTEpIHtcbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuICAgIGFwcGx5TGlzdChsaXN0LCBlbGVtZW50KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoZm9yY2UgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGlzdC5wdXNoKHRva2VuKTtcbiAgYXBwbHlMaXN0KGxpc3QsIGVsZW1lbnQpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gX3JlcGxhY2UobGlzdCwgZWxlbWVudCwgdG9rZW4sIG5ld1Rva2VuKSB7XG4gIHZhciBpO1xuXG4gIGlmICghKHRva2VuID0gbm9ybWFsaXplKHRva2VuKSkgfHwgIShuZXdUb2tlbiA9IG5vcm1hbGl6ZShuZXdUb2tlbikpIHx8IHRva2VuID09PSBuZXdUb2tlbiB8fCAoaSA9IGxpc3QuaW5kZXhPZih0b2tlbikpID09PSAtMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxpc3Quc3BsaWNlKGksIDEpO1xuXG4gIGlmIChsaXN0LmluZGV4T2YobmV3VG9rZW4pID09PSAtMSkge1xuICAgIGxpc3QucHVzaChuZXdUb2tlbik7XG4gIH1cblxuICBhcHBseUxpc3QobGlzdCwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG1DbGFzc0xpc3QoZWxlbWVudCkge1xuICByZXR1cm4gIW1DbGFzc0xpc3QuaWdub3JlTmF0aXZlICYmIGVsZW1lbnQuY2xhc3NMaXN0IHx8IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGlzdCA9IChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykudHJpbSgpLnNwbGl0KC9cXHMrLykuZmlsdGVyKGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgcmV0dXJuICEhdG9rZW47XG4gICAgfSksXG4gICAgICAgIGlucyA9IHtcbiAgICAgIGxlbmd0aDogbGlzdC5sZW5ndGgsXG4gICAgICBpdGVtOiBmdW5jdGlvbiBpdGVtKGkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RbaV07XG4gICAgICB9LFxuICAgICAgY29udGFpbnM6IGZ1bmN0aW9uIGNvbnRhaW5zKHRva2VuKSB7XG4gICAgICAgIHJldHVybiBsaXN0LmluZGV4T2Yobm9ybWFsaXplKHRva2VuKSkgIT09IC0xO1xuICAgICAgfSxcbiAgICAgIGFkZDogZnVuY3Rpb24gYWRkKCkge1xuICAgICAgICBfYWRkKGxpc3QsIGVsZW1lbnQsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuXG4gICAgICAgIHJldHVybiBtQ2xhc3NMaXN0Lm1ldGhvZENoYWluID8gaW5zIDogdm9pZCAwO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICBfcmVtb3ZlKGxpc3QsIGVsZW1lbnQsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuXG4gICAgICAgIHJldHVybiBtQ2xhc3NMaXN0Lm1ldGhvZENoYWluID8gaW5zIDogdm9pZCAwO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKHRva2VuLCBmb3JjZSkge1xuICAgICAgICByZXR1cm4gX3RvZ2dsZShsaXN0LCBlbGVtZW50LCB0b2tlbiwgZm9yY2UpO1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UodG9rZW4sIG5ld1Rva2VuKSB7XG4gICAgICAgIF9yZXBsYWNlKGxpc3QsIGVsZW1lbnQsIHRva2VuLCBuZXdUb2tlbik7XG5cbiAgICAgICAgcmV0dXJuIG1DbGFzc0xpc3QubWV0aG9kQ2hhaW4gPyBpbnMgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaW5zO1xuICB9KCk7XG59XG5cbm1DbGFzc0xpc3QubWV0aG9kQ2hhaW4gPSB0cnVlO1xuZXhwb3J0IGRlZmF1bHQgbUNsYXNzTGlzdDsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgRE9OJ1QgTUFOVUFMTFkgRURJVCBUSElTIEZJTEVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbi8qXG4gKiBQb2ludGVyRXZlbnRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnNla2kvcG9pbnRlci1ldmVudFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMiBhbnNla2lcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuaW1wb3J0IEFuaW1FdmVudCBmcm9tICdhbmltLWV2ZW50JztcbnZhciBNT1VTRV9FTVVfSU5URVJWQUwgPSA0MDAsXG4gICAgLy8gQXZvaWQgbW91c2UgZXZlbnRzIGVtdWxhdGlvblxuQ0xJQ0tfRU1VTEFUT1JfRUxFTUVOVFMgPSBbXSxcbiAgICBEQkxDTElDS19FTVVMQVRPUl9FTEVNRU5UUyA9IFtdOyAvLyBTdXBwb3J0IG9wdGlvbnMgZm9yIGFkZEV2ZW50TGlzdGVuZXJcblxudmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcblxudHJ5IHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgfVxuICB9KSk7XG59IGNhdGNoIChlcnJvcikge1xuICAvKiBpZ25vcmUgKi9cbn1cbi8qKlxuICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIHNwZWNpZmljIG9wdGlvbi5cbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gQW4gZXZlbnQtdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBFdmVudExpc3RlbmVyLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdC5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgLy8gV2hlbiBgcGFzc2l2ZWAgaXMgbm90IHN1cHBvcnRlZCwgY29uc2lkZXIgdGhhdCB0aGUgYHVzZUNhcHR1cmVgIGlzIHN1cHBvcnRlZCBpbnN0ZWFkIG9mXG4gIC8vIGBvcHRpb25zYCAoaS5lLiBvcHRpb25zIG90aGVyIHRoYW4gdGhlIGBwYXNzaXZlYCBhbHNvIGFyZSBub3Qgc3VwcG9ydGVkKS5cbiAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIHBhc3NpdmVTdXBwb3J0ZWQgPyBvcHRpb25zIDogb3B0aW9ucy5jYXB0dXJlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UG9pbnRzTGVuZ3RoKHAwLCBwMSkge1xuICB2YXIgbHggPSBwMC54IC0gcDEueCxcbiAgICAgIGx5ID0gcDAueSAtIHAxLnk7XG4gIHJldHVybiBNYXRoLnNxcnQobHggKiBseCArIGx5ICogbHkpO1xufVxuLyoqXG4gKiBHZXQgVG91Y2ggaW5zdGFuY2UgaW4gbGlzdC5cbiAqIEBwYXJhbSB7VG91Y2hbXX0gdG91Y2hlcyAtIEFuIEFycmF5IG9yIFRvdWNoTGlzdCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpZCAtIFRvdWNoI2lkZW50aWZpZXJcbiAqIEByZXR1cm5zIHsoVG91Y2h8bnVsbCl9IC0gQSBmb3VuZCBUb3VjaCBpbnN0YW5jZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFRvdWNoQnlJZCh0b3VjaGVzLCBpZCkge1xuICBpZiAodG91Y2hlcyAhPSBudWxsICYmIGlkICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0b3VjaGVzW2ldLmlkZW50aWZpZXIgPT09IGlkKSB7XG4gICAgICAgIHJldHVybiB0b3VjaGVzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0geHkgLSBTb21ldGhpbmcgdGhhdCBtaWdodCBoYXZlIGNsaWVudFggYW5kIGNsaWVudFkuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBgdHJ1ZWAgaWYgaXQgaGFzIHZhbGlkIGNsaWVudFggYW5kIGNsaWVudFkuXG4gKi9cblxuXG5mdW5jdGlvbiBoYXNYWSh4eSkge1xuICByZXR1cm4geHkgJiYgdHlwZW9mIHh5LmNsaWVudFggPT09ICdudW1iZXInICYmIHR5cGVvZiB4eS5jbGllbnRZID09PSAnbnVtYmVyJztcbn0gLy8gR2Vja28sIFRyaWRlbnQgcGljayBkcmFnLWV2ZW50IG9mIHNvbWUgZWxlbWVudHMgc3VjaCBhcyBpbWcsIGEsIGV0Yy5cblxuXG5mdW5jdGlvbiBkcmFnc3RhcnQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cblxudmFyIFBvaW50ZXJFdmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBgUG9pbnRlckV2ZW50YCBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIFBvaW50ZXJFdmVudChvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb2ludGVyRXZlbnQpO1xuXG4gICAgdGhpcy5zdGFydEhhbmRsZXJzID0ge307XG4gICAgdGhpcy5sYXN0SGFuZGxlcklkID0gMDtcbiAgICB0aGlzLmN1clBvaW50ZXJDbGFzcyA9IG51bGw7XG4gICAgdGhpcy5jdXJUb3VjaElkID0gbnVsbDtcbiAgICB0aGlzLmxhc3RQb2ludGVyWFkgPSB7XG4gICAgICBjbGllbnRYOiAwLFxuICAgICAgY2xpZW50WTogMFxuICAgIH07XG4gICAgdGhpcy5sYXN0VG91Y2hUaW1lID0gMDsgLy8gT3B0aW9uc1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLy8gRGVmYXVsdFxuICAgICAgcHJldmVudERlZmF1bHQ6IHRydWUsXG4gICAgICBzdG9wUHJvcGFnYXRpb246IHRydWVcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIFsncHJldmVudERlZmF1bHQnLCAnc3RvcFByb3BhZ2F0aW9uJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tvcHRpb25dID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBfdGhpcy5vcHRpb25zW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gc3RhcnRIYW5kbGVyIC0gVGhpcyBpcyBjYWxsZWQgd2l0aCBwb2ludGVyWFkgd2hlbiBpdCBzdGFydHMuIFRoaXMgcmV0dXJucyBib29sZWFuLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBoYW5kbGVySWQgd2hpY2ggaXMgdXNlZCBmb3IgYWRkaW5nL3JlbW92aW5nIHRvIGVsZW1lbnQuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBvaW50ZXJFdmVudCwgW3tcbiAgICBrZXk6IFwicmVnU3RhcnRIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ1N0YXJ0SGFuZGxlcihzdGFydEhhbmRsZXIpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgdGhhdC5zdGFydEhhbmRsZXJzWysrdGhhdC5sYXN0SGFuZGxlcklkXSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlckNsYXNzID0gZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicgPyAnbW91c2UnIDogJ3RvdWNoJyxcbiAgICAgICAgICAgIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBwb2ludGVyWFksIHRvdWNoSWQ7XG5cbiAgICAgICAgaWYgKHBvaW50ZXJDbGFzcyA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgIHRoYXQubGFzdFRvdWNoVGltZSA9IG5vdzsgLy8gQXZvaWQgbW91c2UgZXZlbnRzIGVtdWxhdGlvblxuXG4gICAgICAgICAgcG9pbnRlclhZID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICAgICAgdG91Y2hJZCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQXZvaWQgbW91c2UgZXZlbnRzIGVtdWxhdGlvblxuICAgICAgICAgIGlmIChub3cgLSB0aGF0Lmxhc3RUb3VjaFRpbWUgPCBNT1VTRV9FTVVfSU5URVJWQUwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwb2ludGVyWFkgPSBldmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGFzWFkocG9pbnRlclhZKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY2xpZW50WC9jbGllbnRZJyk7XG4gICAgICAgIH0gLy8gSXQgaXMgbmV3IG9uZSBldmVuIGlmIHRob3NlIGFyZSAnbW91c2UnIG9yIElEIGlzIHNhbWUsIHRoZW4gY2FuY2VsIGN1cnJlbnQgb25lLlxuXG5cbiAgICAgICAgaWYgKHRoYXQuY3VyUG9pbnRlckNsYXNzKSB7XG4gICAgICAgICAgdGhhdC5jYW5jZWwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydEhhbmRsZXIuY2FsbCh0aGF0LCBwb2ludGVyWFkpKSB7XG4gICAgICAgICAgdGhhdC5jdXJQb2ludGVyQ2xhc3MgPSBwb2ludGVyQ2xhc3M7XG4gICAgICAgICAgdGhhdC5jdXJUb3VjaElkID0gcG9pbnRlckNsYXNzID09PSAndG91Y2gnID8gdG91Y2hJZCA6IG51bGw7XG4gICAgICAgICAgdGhhdC5sYXN0UG9pbnRlclhZLmNsaWVudFggPSBwb2ludGVyWFkuY2xpZW50WDtcbiAgICAgICAgICB0aGF0Lmxhc3RQb2ludGVyWFkuY2xpZW50WSA9IHBvaW50ZXJYWS5jbGllbnRZO1xuXG4gICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhhdC5sYXN0SGFuZGxlcklkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlcklkIC0gQW4gSUQgd2hpY2ggd2FzIHJldHVybmVkIGJ5IHJlZ1N0YXJ0SGFuZGxlci5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVucmVnU3RhcnRIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVucmVnU3RhcnRIYW5kbGVyKGhhbmRsZXJJZCkge1xuICAgICAgZGVsZXRlIHRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVySWQgLSBBbiBJRCB3aGljaCB3YXMgcmV0dXJuZWQgYnkgcmVnU3RhcnRIYW5kbGVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGhhbmRsZXJJZCB3aGljaCB3YXMgcGFzc2VkLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkU3RhcnRIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN0YXJ0SGFuZGxlcihlbGVtZW50LCBoYW5kbGVySWQpIHtcbiAgICAgIGlmICghdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoYW5kbGVySWQ6IFwiLmNvbmNhdChoYW5kbGVySWQpKTtcbiAgICAgIH1cblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICdtb3VzZWRvd24nLCB0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXSwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaHN0YXJ0JywgdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAnZHJhZ3N0YXJ0JywgZHJhZ3N0YXJ0LCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaGFuZGxlcklkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVySWQgLSBBbiBJRCB3aGljaCB3YXMgcmV0dXJuZWQgYnkgcmVnU3RhcnRIYW5kbGVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGhhbmRsZXJJZCB3aGljaCB3YXMgcGFzc2VkLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlU3RhcnRIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVN0YXJ0SGFuZGxlcihlbGVtZW50LCBoYW5kbGVySWQpIHtcbiAgICAgIGlmICghdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoYW5kbGVySWQ6IFwiLmNvbmNhdChoYW5kbGVySWQpKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXSwgZmFsc2UpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF0sIGZhbHNlKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZHJhZ3N0YXJ0LCBmYWxzZSk7XG4gICAgICByZXR1cm4gaGFuZGxlcklkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1vdmVIYW5kbGVyIC0gVGhpcyBpcyBjYWxsZWQgd2l0aCBwb2ludGVyWFkgd2hlbiBpdCBtb3Zlcy5cbiAgICAgKiBAcGFyYW0gez9ib29sZWFufSByYXdFdmVudCAtIENhcHR1cmUgZXZlbnRzIHdpdGhvdXQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRNb3ZlSGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRNb3ZlSGFuZGxlcihlbGVtZW50LCBtb3ZlSGFuZGxlciwgcmF3RXZlbnQpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlckNsYXNzID0gZXZlbnQudHlwZSA9PT0gJ21vdXNlbW92ZScgPyAnbW91c2UnIDogJ3RvdWNoJzsgLy8gQXZvaWQgbW91c2UgZXZlbnRzIGVtdWxhdGlvblxuXG4gICAgICAgIGlmIChwb2ludGVyQ2xhc3MgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICB0aGF0Lmxhc3RUb3VjaFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ZXJDbGFzcyA9PT0gdGhhdC5jdXJQb2ludGVyQ2xhc3MpIHtcbiAgICAgICAgICB2YXIgcG9pbnRlclhZID0gcG9pbnRlckNsYXNzID09PSAndG91Y2gnID8gZ2V0VG91Y2hCeUlkKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCB0aGF0LmN1clRvdWNoSWQpIDogZXZlbnQ7XG5cbiAgICAgICAgICBpZiAoaGFzWFkocG9pbnRlclhZKSkge1xuICAgICAgICAgICAgaWYgKHBvaW50ZXJYWS5jbGllbnRYICE9PSB0aGF0Lmxhc3RQb2ludGVyWFkuY2xpZW50WCB8fCBwb2ludGVyWFkuY2xpZW50WSAhPT0gdGhhdC5sYXN0UG9pbnRlclhZLmNsaWVudFkpIHtcbiAgICAgICAgICAgICAgdGhhdC5tb3ZlKHBvaW50ZXJYWSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB3cmFwcGVkSGFuZGxlciA9IHJhd0V2ZW50ID8gaGFuZGxlciA6IEFuaW1FdmVudC5hZGQoaGFuZGxlcik7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ21vdXNlbW92ZScsIHdyYXBwZWRIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNobW92ZScsIHdyYXBwZWRIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGF0LmN1ck1vdmVIYW5kbGVyID0gbW92ZUhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7e2NsaWVudFgsIGNsaWVudFl9fSBbcG9pbnRlclhZXSAtIFRoaXMgbWlnaHQgYmUgTW91c2VFdmVudCwgVG91Y2ggb2YgVG91Y2hFdmVudCBvciBPYmplY3QuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJtb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmUocG9pbnRlclhZKSB7XG4gICAgICBpZiAoaGFzWFkocG9pbnRlclhZKSkge1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyWFkuY2xpZW50WCA9IHBvaW50ZXJYWS5jbGllbnRYO1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyWFkuY2xpZW50WSA9IHBvaW50ZXJYWS5jbGllbnRZO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jdXJNb3ZlSGFuZGxlcikge1xuICAgICAgICB0aGlzLmN1ck1vdmVIYW5kbGVyKHRoaXMubGFzdFBvaW50ZXJYWSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZW5kSGFuZGxlciAtIFRoaXMgaXMgY2FsbGVkIHdpdGggcG9pbnRlclhZIHdoZW4gaXQgZW5kcy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZEVuZEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRW5kSGFuZGxlcihlbGVtZW50LCBlbmRIYW5kbGVyKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZWRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVyQ2xhc3MgPSBldmVudC50eXBlID09PSAnbW91c2V1cCcgPyAnbW91c2UnIDogJ3RvdWNoJzsgLy8gQXZvaWQgbW91c2UgZXZlbnRzIGVtdWxhdGlvblxuXG4gICAgICAgIGlmIChwb2ludGVyQ2xhc3MgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICB0aGF0Lmxhc3RUb3VjaFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ZXJDbGFzcyA9PT0gdGhhdC5jdXJQb2ludGVyQ2xhc3MpIHtcbiAgICAgICAgICB2YXIgcG9pbnRlclhZID0gcG9pbnRlckNsYXNzID09PSAndG91Y2gnID8gZ2V0VG91Y2hCeUlkKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCB0aGF0LmN1clRvdWNoSWQpIHx8ICggLy8gSXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSBgdG91Y2hlc2AgZXZlbiBpZiBpdCBpcyBub3QgaW4gYGNoYW5nZWRUb3VjaGVzYC5cbiAgICAgICAgICBnZXRUb3VjaEJ5SWQoZXZlbnQudG91Y2hlcywgdGhhdC5jdXJUb3VjaElkKSA/IG51bGwgOiB7fSkgOiAvLyBge31gIG1lYW5zIG1hdGNoaW5nXG4gICAgICAgICAgZXZlbnQ7XG5cbiAgICAgICAgICBpZiAocG9pbnRlclhZKSB7XG4gICAgICAgICAgICB0aGF0LmVuZChwb2ludGVyWFkpO1xuXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ21vdXNldXAnLCB3cmFwcGVkSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaGVuZCcsIHdyYXBwZWRIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGF0LmN1ckVuZEhhbmRsZXIgPSBlbmRIYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3tjbGllbnRYLCBjbGllbnRZfX0gW3BvaW50ZXJYWV0gLSBUaGlzIG1pZ2h0IGJlIE1vdXNlRXZlbnQsIFRvdWNoIG9mIFRvdWNoRXZlbnQgb3IgT2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuZChwb2ludGVyWFkpIHtcbiAgICAgIGlmIChoYXNYWShwb2ludGVyWFkpKSB7XG4gICAgICAgIHRoaXMubGFzdFBvaW50ZXJYWS5jbGllbnRYID0gcG9pbnRlclhZLmNsaWVudFg7XG4gICAgICAgIHRoaXMubGFzdFBvaW50ZXJYWS5jbGllbnRZID0gcG9pbnRlclhZLmNsaWVudFk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmN1ckVuZEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jdXJFbmRIYW5kbGVyKHRoaXMubGFzdFBvaW50ZXJYWSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3VyUG9pbnRlckNsYXNzID0gdGhpcy5jdXJUb3VjaElkID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYW5jZWxIYW5kbGVyIC0gVGhpcyBpcyBjYWxsZWQgd2hlbiBpdCBjYW5jZWxzLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkQ2FuY2VsSGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDYW5jZWxIYW5kbGVyKGVsZW1lbnQsIGNhbmNlbEhhbmRsZXIpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlZEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgLypcbiAgICAgICAgICBOb3csIHRoaXMgaXMgZmlyZWQgYnkgdG91Y2hjYW5jZWwgb25seSwgYnV0IGl0IG1pZ2h0IGJlIGZpcmVkIGV2ZW4gaWYgY3VyUG9pbnRlckNsYXNzIGlzIG1vdXNlLlxuICAgICAgICAqL1xuICAgICAgICAvLyBjb25zdCBwb2ludGVyQ2xhc3MgPSAndG91Y2gnO1xuICAgICAgICB0aGF0Lmxhc3RUb3VjaFRpbWUgPSBEYXRlLm5vdygpOyAvLyBBdm9pZCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG5cbiAgICAgICAgaWYgKHRoYXQuY3VyUG9pbnRlckNsYXNzICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgcG9pbnRlclhZID0gZ2V0VG91Y2hCeUlkKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCB0aGF0LmN1clRvdWNoSWQpIHx8ICggLy8gSXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSBgdG91Y2hlc2AgZXZlbiBpZiBpdCBpcyBub3QgaW4gYGNoYW5nZWRUb3VjaGVzYC5cbiAgICAgICAgICBnZXRUb3VjaEJ5SWQoZXZlbnQudG91Y2hlcywgdGhhdC5jdXJUb3VjaElkKSA/IG51bGwgOiB7fSk7IC8vIGB7fWAgbWVhbnMgbWF0Y2hpbmdcblxuICAgICAgICAgIGlmIChwb2ludGVyWFkpIHtcbiAgICAgICAgICAgIHRoYXQuY2FuY2VsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2hjYW5jZWwnLCB3cmFwcGVkSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhhdC5jdXJDYW5jZWxIYW5kbGVyID0gY2FuY2VsSGFuZGxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjYW5jZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgaWYgKHRoaXMuY3VyQ2FuY2VsSGFuZGxlcikge1xuICAgICAgICB0aGlzLmN1ckNhbmNlbEhhbmRsZXIoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdXJQb2ludGVyQ2xhc3MgPSB0aGlzLmN1clRvdWNoSWQgPSBudWxsO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9uc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW11bGF0ZSBgY2xpY2tgIGV2ZW50IHZpYSBgdG91Y2hlbmRgIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRhcmdldCBlbGVtZW50LCBsaXN0ZW5lcnMgdGhhdCBjYWxsIGBldmVudC5wcmV2ZW50RGVmYXVsdCgpYCBhcmUgYXR0YWNoZWQgbGF0ZXIuXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSBtb3ZlVG9sZXJhbmNlIC0gTW92ZSB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSB0aW1lVG9sZXJhbmNlIC0gVGltZSB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9IFRoZSBwYXNzZWQgYGVsZW1lbnRgLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdENsaWNrRW11bGF0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdENsaWNrRW11bGF0b3IoZWxlbWVudCwgbW92ZVRvbGVyYW5jZSwgdGltZVRvbGVyYW5jZSkge1xuICAgICAgaWYgKENMSUNLX0VNVUxBVE9SX0VMRU1FTlRTLmluY2x1ZGVzKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBDTElDS19FTVVMQVRPUl9FTEVNRU5UUy5wdXNoKGVsZW1lbnQpO1xuICAgICAgdmFyIERFRkFVTFRfTU9WRV9UT0xFUkFOQ0UgPSAxNixcbiAgICAgICAgICAvLyBweFxuICAgICAgREVGQVVMVF9USU1FX1RPTEVSQU5DRSA9IDQwMDsgLy8gbXNcblxuICAgICAgdmFyIHN0YXJ0WCwgc3RhcnRZLCB0b3VjaElkLCBzdGFydE1zO1xuXG4gICAgICBpZiAobW92ZVRvbGVyYW5jZSA9PSBudWxsKSB7XG4gICAgICAgIG1vdmVUb2xlcmFuY2UgPSBERUZBVUxUX01PVkVfVE9MRVJBTkNFO1xuICAgICAgfVxuXG4gICAgICBpZiAodGltZVRvbGVyYW5jZSA9PSBudWxsKSB7XG4gICAgICAgIHRpbWVUb2xlcmFuY2UgPSBERUZBVUxUX1RJTUVfVE9MRVJBTkNFO1xuICAgICAgfVxuXG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICAgIHN0YXJ0WCA9IHRvdWNoLmNsaWVudFg7XG4gICAgICAgIHN0YXJ0WSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgIHRvdWNoSWQgPSB0b3VjaC5pZGVudGlmaWVyO1xuICAgICAgICBzdGFydE1zID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB9LCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0b3VjaCA9IGdldFRvdWNoQnlJZChldmVudC5jaGFuZ2VkVG91Y2hlcywgdG91Y2hJZCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydFggPT09ICdudW1iZXInICYmIHR5cGVvZiBzdGFydFkgPT09ICdudW1iZXInICYmIHR5cGVvZiBzdGFydE1zID09PSAnbnVtYmVyJyAmJiB0b3VjaCAmJiB0eXBlb2YgdG91Y2guY2xpZW50WCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHRvdWNoLmNsaWVudFkgPT09ICdudW1iZXInICYmIGdldFBvaW50c0xlbmd0aCh7XG4gICAgICAgICAgeDogc3RhcnRYLFxuICAgICAgICAgIHk6IHN0YXJ0WVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICB5OiB0b3VjaC5jbGllbnRZXG4gICAgICAgIH0pIDw9IG1vdmVUb2xlcmFuY2UgJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydE1zIDw9IHRpbWVUb2xlcmFuY2UpIHtcbiAgICAgICAgICAvLyBGSVJFXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7XG4gICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoLmNsaWVudFgsXG4gICAgICAgICAgICAgIGNsaWVudFk6IHRvdWNoLmNsaWVudFlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3RXZlbnQuZW11bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0WCA9IHN0YXJ0WSA9IHRvdWNoSWQgPSBzdGFydE1zID0gbnVsbDtcbiAgICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2hjYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXJ0WCA9IHN0YXJ0WSA9IHRvdWNoSWQgPSBzdGFydE1zID0gbnVsbDtcbiAgICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIGBkYmxjbGlja2AgZXZlbnQgdmlhIGB0b3VjaGVuZGAgZXZlbnQuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGFyZ2V0IGVsZW1lbnQsIGxpc3RlbmVycyB0aGF0IGNhbGwgYGV2ZW50LnByZXZlbnREZWZhdWx0KClgIGFyZSBhdHRhY2hlZCBsYXRlci5cbiAgICAgKiBAcGFyYW0gez9udW1iZXJ9IG1vdmVUb2xlcmFuY2UgLSBNb3ZlIHRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0gez9udW1iZXJ9IHRpbWVUb2xlcmFuY2UgLSBUaW1lIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIHBhc3NlZCBgZWxlbWVudGAuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbml0RGJsQ2xpY2tFbXVsYXRvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0RGJsQ2xpY2tFbXVsYXRvcihlbGVtZW50LCBtb3ZlVG9sZXJhbmNlLCB0aW1lVG9sZXJhbmNlKSB7XG4gICAgICBpZiAoREJMQ0xJQ0tfRU1VTEFUT1JfRUxFTUVOVFMuaW5jbHVkZXMoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIERCTENMSUNLX0VNVUxBVE9SX0VMRU1FTlRTLnB1c2goZWxlbWVudCk7XG4gICAgICB2YXIgREVGQVVMVF9NT1ZFX1RPTEVSQU5DRSA9IDE2LFxuICAgICAgICAgIC8vIHB4XG4gICAgICBERUZBVUxUX1RJTUVfVE9MRVJBTkNFID0gNDAwOyAvLyBtc1xuXG4gICAgICB2YXIgc3RhcnRYLCBzdGFydFksIHN0YXJ0TXM7XG5cbiAgICAgIGlmIChtb3ZlVG9sZXJhbmNlID09IG51bGwpIHtcbiAgICAgICAgbW92ZVRvbGVyYW5jZSA9IERFRkFVTFRfTU9WRV9UT0xFUkFOQ0U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aW1lVG9sZXJhbmNlID09IG51bGwpIHtcbiAgICAgICAgdGltZVRvbGVyYW5jZSA9IERFRkFVTFRfVElNRV9UT0xFUkFOQ0U7XG4gICAgICB9XG5cbiAgICAgIFBvaW50ZXJFdmVudC5pbml0Q2xpY2tFbXVsYXRvcihlbGVtZW50LCBtb3ZlVG9sZXJhbmNlLCB0aW1lVG9sZXJhbmNlKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAnY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudC5lbXVsYXRlZCB8fCAvLyBJZ25vcmUgZXZlbnRzIHRoYXQgYXJlIG5vdCBmcm9tIGB0b3VjaGVuZGAuXG4gICAgICAgIHR5cGVvZiBldmVudC5jbGllbnRYICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgZXZlbnQuY2xpZW50WSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0WCA9PT0gJ251bWJlcicgJiYgZ2V0UG9pbnRzTGVuZ3RoKHtcbiAgICAgICAgICB4OiBzdGFydFgsXG4gICAgICAgICAgeTogc3RhcnRZXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgfSkgPD0gbW92ZVRvbGVyYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0TXMgPD0gdGltZVRvbGVyYW5jZSAqIDIpIHtcbiAgICAgICAgICAvLyB1cCAodG9sZXJhbmNlKSBkb3duICh0b2xlcmFuY2UpIHVwXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBGSVJFXG4gICAgICAgICAgICB2YXIgbmV3RXZlbnQgPSBuZXcgTW91c2VFdmVudCgnZGJsY2xpY2snLCB7XG4gICAgICAgICAgICAgIGNsaWVudFg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICAgIGNsaWVudFk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3RXZlbnQuZW11bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICBzdGFydFggPSBzdGFydFkgPSBzdGFydE1zID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyAxc3RcbiAgICAgICAgICBzdGFydFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgIHN0YXJ0WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgc3RhcnRNcyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUG9pbnRlckV2ZW50O1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBQb2ludGVyRXZlbnQ7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIERPTidUIE1BTlVBTExZIEVESVQgVEhJUyBGSUxFXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbi8qXG4gKiBQbGFpbkRyYWdnYWJsZVxuICogaHR0cHM6Ly9hbnNla2kuZ2l0aHViLmlvL3BsYWluLWRyYWdnYWJsZS9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgYW5zZWtpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbmltcG9ydCBQb2ludGVyRXZlbnQgZnJvbSAncG9pbnRlci1ldmVudCc7XG5pbXBvcnQgQ1NTUHJlZml4IGZyb20gJ2Nzc3ByZWZpeCc7XG5pbXBvcnQgQW5pbUV2ZW50IGZyb20gJ2FuaW0tZXZlbnQnO1xuaW1wb3J0IG1DbGFzc0xpc3QgZnJvbSAnbS1jbGFzcy1saXN0Jztcbm1DbGFzc0xpc3QuaWdub3JlTmF0aXZlID0gdHJ1ZTtcblxudmFyIFpJTkRFWCA9IDkwMDAsXG4gICAgLy8gW1NOQVBdXG5TTkFQX0dSQVZJVFkgPSAyMCxcbiAgICBTTkFQX0NPUk5FUiA9ICd0bCcsXG4gICAgU05BUF9TSURFID0gJ2JvdGgnLFxuICAgIFNOQVBfRURHRSA9ICdib3RoJyxcbiAgICBTTkFQX0JBU0UgPSAnY29udGFpbm1lbnQnLFxuICAgIFNOQVBfQUxMX0NPUk5FUlMgPSBbJ3RsJywgJ3RyJywgJ2JsJywgJ2JyJ10sXG4gICAgU05BUF9BTExfU0lERVMgPSBbJ3N0YXJ0JywgJ2VuZCddLFxuICAgIFNOQVBfQUxMX0VER0VTID0gWydpbnNpZGUnLCAnb3V0c2lkZSddLFxuICAgIC8vIFsvU05BUF1cbi8vIFtBVVRPLVNDUk9MTF1cbkFVVE9TQ1JPTExfU1BFRUQgPSBbNDAsIDIwMCwgMTAwMF0sXG4gICAgQVVUT1NDUk9MTF9TRU5TSVRJVklUWSA9IFsxMDAsIDQwLCAwXSxcbiAgICAvLyBbL0FVVE8tU0NST0xMXVxuSVNfRURHRSA9ICctbXMtc2Nyb2xsLWxpbWl0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgJy1tcy1pbWUtYWxpZ24nIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiAhd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLFxuICAgIElTX1RSSURFTlQgPSAhSVNfRURHRSAmJiAhIWRvY3VtZW50LnVuaXF1ZUlELFxuICAgIC8vIEZ1dHVyZSBFZGdlIG1pZ2h0IHN1cHBvcnQgYGRvY3VtZW50LnVuaXF1ZUlEYC5cbklTX0dFQ0tPID0gKCdNb3pBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpLFxuICAgIElTX0JMSU5LID0gIUlTX0VER0UgJiYgIUlTX0dFQ0tPICYmIC8vIEVkZ2UgaGFzIGB3aW5kb3cuY2hyb21lYCwgYW5kIGZ1dHVyZSBHZWNrbyBtaWdodCBoYXZlIHRoYXQuXG4hIXdpbmRvdy5jaHJvbWUgJiYgISF3aW5kb3cuQ1NTLFxuICAgIElTX1dFQktJVCA9ICFJU19FREdFICYmICFJU19UUklERU5UICYmICFJU19HRUNLTyAmJiAhSVNfQkxJTksgJiYgLy8gU29tZSBlbmdpbmVzIHN1cHBvcnQgYHdlYmtpdC0qYCBwcm9wZXJ0aWVzLlxuIXdpbmRvdy5jaHJvbWUgJiYgJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICBpc09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmcsXG4gICAgICBmblRvU3RyaW5nID0ge30uaGFzT3duUHJvcGVydHkudG9TdHJpbmcsXG4gICAgICBvYmpGblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBwcm90bywgY29uc3RyO1xuICAgIHJldHVybiBvYmogJiYgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJyAmJiAoIShwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSB8fCAoY29uc3RyID0gcHJvdG8uaGFzT3duUHJvcGVydHkoJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3IpICYmIHR5cGVvZiBjb25zdHIgPT09ICdmdW5jdGlvbicgJiYgZm5Ub1N0cmluZy5jYWxsKGNvbnN0cikgPT09IG9iakZuU3RyaW5nKTtcbiAgfTtcbn0oKSxcbiAgICBpc0Zpbml0ZSA9IE51bWJlci5pc0Zpbml0ZSB8fCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgd2luZG93LmlzRmluaXRlKHZhbHVlKTtcbn0sXG5cbi8qKiBAdHlwZSB7T2JqZWN0LjxfaWQ6IG51bWJlciwgcHJvcHM+fSAqL1xuaW5zUHJvcHMgPSB7fSxcbiAgICBwb2ludGVyT2Zmc2V0ID0ge30sXG4gICAgcG9pbnRlckV2ZW50ID0gbmV3IFBvaW50ZXJFdmVudCgpO1xuXG52YXIgaW5zSWQgPSAwLFxuICAgIGFjdGl2ZVByb3BzLFxuICAgIGhhc01vdmVkLFxuICAgIGJvZHksXG4gICAgLy8gQ1NTIHByb3BlcnR5L3ZhbHVlXG5jc3NWYWx1ZURyYWdnYWJsZUN1cnNvcixcbiAgICBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yLFxuICAgIGNzc09yZ1ZhbHVlQm9keUN1cnNvcixcbiAgICBjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5LFxuICAgIGNzc1Byb3BUcmFuc2Zvcm0sXG4gICAgY3NzUHJvcFVzZXJTZWxlY3QsXG4gICAgY3NzT3JnVmFsdWVCb2R5VXNlclNlbGVjdCxcbiAgICAvLyBUcnkgdG8gc2V0IGBjdXJzb3JgIHByb3BlcnR5LlxuY3NzV2FudGVkVmFsdWVEcmFnZ2FibGVDdXJzb3IgPSBJU19XRUJLSVQgPyBbJ2FsbC1zY3JvbGwnLCAnbW92ZSddIDogWydncmFiJywgJ2FsbC1zY3JvbGwnLCAnbW92ZSddLFxuICAgIGNzc1dhbnRlZFZhbHVlRHJhZ2dpbmdDdXJzb3IgPSBJU19XRUJLSVQgPyAnbW92ZScgOiBbJ2dyYWJiaW5nJywgJ21vdmUnXSxcbiAgICAvLyBjbGFzc1xuZHJhZ2dhYmxlQ2xhc3MgPSAncGxhaW4tZHJhZ2dhYmxlJyxcbiAgICBkcmFnZ2luZ0NsYXNzID0gJ3BsYWluLWRyYWdnYWJsZS1kcmFnZ2luZycsXG4gICAgbW92aW5nQ2xhc3MgPSAncGxhaW4tZHJhZ2dhYmxlLW1vdmluZyc7IC8vIFtBVVRPLVNDUk9MTF1cbi8vIFNjcm9sbCBBbmltYXRpb24gQ29udHJvbGxlclxuXG52YXIgc2Nyb2xsRnJhbWUgPSB7fSxcbiAgICBNU1BGID0gMTAwMCAvIDYwLFxuICAgIC8vIG1zL2ZyYW1lIChGUFM6IDYwKVxucmVxdWVzdEFuaW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBNU1BGKTtcbn0sXG4gICAgY2FuY2VsQW5pbSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChyZXF1ZXN0SUQpIHtcbiAgcmV0dXJuIGNsZWFyVGltZW91dChyZXF1ZXN0SUQpO1xufTtcblxue1xuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gTW92ZUFyZ3NcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRpciAtIFstMSB8IDFdIG1pbnVzIG9yIHBsdXMgdG8gcG9zaXRpb24gdmFsdWUuXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzcGVlZCAtIHB4L21zXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW4gLSBNaW5pbXVtIHBvc2l0aW9uIHZhbHVlLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gbWF4IC0gTWF4aW11bSBwb3NpdGlvbiB2YWx1ZS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0RnJhbWVUaW1lXSAtIFRpbWUgb2YgbGFzdCBmcmFtZS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtsYXN0VmFsdWVdIC0gU3RyaWN0IHZhbHVlIG9mIGxhc3QgZnJhbWUuXG4gICAqL1xuICB2YXIgY3VyWHlNb3ZlQXJncyA9IHt9LFxuICAgICAgY3VyRWxlbWVudCxcbiAgICAgIGN1clNjcm9sbFhZLFxuICAgICAgcmVxdWVzdElEO1xuXG4gIGZ1bmN0aW9uIGZyYW1lVXBkYXRlKCkge1xuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgIFsneCcsICd5J10uZm9yRWFjaChmdW5jdGlvbiAoeHkpIHtcbiAgICAgIHZhciBtb3ZlQXJncyA9IGN1clh5TW92ZUFyZ3NbeHldO1xuXG4gICAgICBpZiAobW92ZUFyZ3MpIHtcbiAgICAgICAgdmFyIHRpbWVMZW4gPSBub3cgLSBtb3ZlQXJncy5sYXN0RnJhbWVUaW1lLFxuICAgICAgICAgICAgYWJzVmFsdWUgPSBjdXJTY3JvbGxYWShjdXJFbGVtZW50LCB4eSksXG4gICAgICAgICAgICBjdXJWYWx1ZSA9IG1vdmVBcmdzLmxhc3RWYWx1ZSAhPSBudWxsICYmIE1hdGguYWJzKG1vdmVBcmdzLmxhc3RWYWx1ZSAtIGFic1ZhbHVlKSA8IDEwIC8vIEl0IHdhcyBub3QgbW92ZWQgbWFudWFsbHlcbiAgICAgICAgPyBtb3ZlQXJncy5sYXN0VmFsdWUgOiBhYnNWYWx1ZTtcblxuICAgICAgICBpZiAobW92ZUFyZ3MuZGlyID09PSAtMSA/IGN1clZhbHVlID4gbW92ZUFyZ3MubWluIDogY3VyVmFsdWUgPCBtb3ZlQXJncy5tYXgpIHtcbiAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXJWYWx1ZSArIG1vdmVBcmdzLnNwZWVkICogdGltZUxlbiAqIG1vdmVBcmdzLmRpcjtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA8IG1vdmVBcmdzLm1pbikge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBtb3ZlQXJncy5taW47XG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdWYWx1ZSA+IG1vdmVBcmdzLm1heCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBtb3ZlQXJncy5tYXg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3VyU2Nyb2xsWFkoY3VyRWxlbWVudCwgeHksIG5ld1ZhbHVlKTtcbiAgICAgICAgICBtb3ZlQXJncy5sYXN0VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vdmVBcmdzLmxhc3RGcmFtZVRpbWUgPSBub3c7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmcmFtZSgpIHtcbiAgICBjYW5jZWxBbmltLmNhbGwod2luZG93LCByZXF1ZXN0SUQpO1xuICAgIGZyYW1lVXBkYXRlKCk7XG4gICAgcmVxdWVzdElEID0gcmVxdWVzdEFuaW0uY2FsbCh3aW5kb3csIGZyYW1lKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHt7eDogP01vdmVBcmdzLCB5OiA/TW92ZUFyZ3N9fSB4eU1vdmVBcmdzIC0gTW92ZUFyZ3MgZm9yIHggYW5kIHlcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gc2Nyb2xsWFkgLSAoZWxlbWVudDogRWxlbWVudCwgeHk6IHN0cmluZywgdmFsdWU6IG51bWJlcikgPT4gbnVtYmVyXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIHNjcm9sbEZyYW1lLm1vdmUgPSBmdW5jdGlvbiAoZWxlbWVudCwgeHlNb3ZlQXJncywgc2Nyb2xsWFkpIHtcbiAgICBjYW5jZWxBbmltLmNhbGwod2luZG93LCByZXF1ZXN0SUQpO1xuICAgIGZyYW1lVXBkYXRlKCk7IC8vIFVwZGF0ZSBjdXJyZW50IGRhdGEgbm93IGJlY2F1c2UgaXQgbWlnaHQgYmUgbm90IGNvbnRpbnVhdGlvbi5cbiAgICAvLyBSZS11c2UgbGFzdFZhbHVlXG5cbiAgICBpZiAoY3VyRWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgaWYgKHh5TW92ZUFyZ3MueCAmJiBjdXJYeU1vdmVBcmdzLngpIHtcbiAgICAgICAgeHlNb3ZlQXJncy54Lmxhc3RWYWx1ZSA9IGN1clh5TW92ZUFyZ3MueC5sYXN0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh4eU1vdmVBcmdzLnkgJiYgY3VyWHlNb3ZlQXJncy55KSB7XG4gICAgICAgIHh5TW92ZUFyZ3MueS5sYXN0VmFsdWUgPSBjdXJYeU1vdmVBcmdzLnkubGFzdFZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGN1ckVsZW1lbnQgPSBlbGVtZW50O1xuICAgIGN1clh5TW92ZUFyZ3MgPSB4eU1vdmVBcmdzO1xuICAgIGN1clNjcm9sbFhZID0gc2Nyb2xsWFk7XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgWyd4JywgJ3knXS5mb3JFYWNoKGZ1bmN0aW9uICh4eSkge1xuICAgICAgdmFyIG1vdmVBcmdzID0gY3VyWHlNb3ZlQXJnc1t4eV07XG5cbiAgICAgIGlmIChtb3ZlQXJncykge1xuICAgICAgICBtb3ZlQXJncy5sYXN0RnJhbWVUaW1lID0gbm93O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJlcXVlc3RJRCA9IHJlcXVlc3RBbmltLmNhbGwod2luZG93LCBmcmFtZSk7XG4gIH07XG5cbiAgc2Nyb2xsRnJhbWUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjYW5jZWxBbmltLmNhbGwod2luZG93LCByZXF1ZXN0SUQpO1xuICAgIGZyYW1lVXBkYXRlKCk7XG4gICAgY3VyWHlNb3ZlQXJncyA9IHt9O1xuICAgIGN1ckVsZW1lbnQgPSBudWxsOyAvLyBSZW1vdmUgcmVmZXJlbmNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFhZV2luZG93KGVsZW1lbnQsIHh5LCB2YWx1ZSkge1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIGlmICh4eSA9PT0gJ3gnKSB7XG4gICAgICBlbGVtZW50LnNjcm9sbFRvKHZhbHVlLCBlbGVtZW50LnBhZ2VZT2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zY3JvbGxUbyhlbGVtZW50LnBhZ2VYT2Zmc2V0LCB2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHh5ID09PSAneCcgPyBlbGVtZW50LnBhZ2VYT2Zmc2V0IDogZWxlbWVudC5wYWdlWU9mZnNldDtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsIHh5LCB2YWx1ZSkge1xuICB2YXIgcHJvcCA9IHh5ID09PSAneCcgPyAnc2Nyb2xsTGVmdCcgOiAnc2Nyb2xsVG9wJztcblxuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIGVsZW1lbnRbcHJvcF0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50W3Byb3BdO1xufVxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTY3JvbGxhYmxlXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2xpZW50V2lkdGggLSB3aWR0aCBvZiBzY3JvbGxhYmxlIGFyZWEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2xpZW50SGVpZ2h0IC0gaGVpZ2h0IG9mIHNjcm9sbGFibGUgYXJlYS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzY3JvbGxXaWR0aCAtIHdpZHRoIG9mIGlubmVyIGNvbnRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2Nyb2xsSGVpZ2h0IC0gaGVpZ2h0IG9mIGlubmVyIGNvbnRlbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2xpZW50WCAtIFggb2Ygc2Nyb2xsYWJsZSBhcmVhLCBkb2N1bWVudCBjb29yZGluYXRlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNsaWVudFkgLSBUIG9mIHNjcm9sbGFibGUgYXJlYSwgZG9jdW1lbnQgY29vcmRpbmF0ZS5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1dpbmRvd10gLSBgdHJ1ZWAgaWYgZWxlbWVudCBpcyB3aW5kb3cuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkb250U2Nyb2xsXSAtIGB0cnVlYCBtYWtlcyBpdCBza2lwIHNjcm9sbCB0aGF0IGdldHMgc2Nyb2xsV2lkdGgvSGVpZ2h0LlxuICogQHJldHVybnMge1Njcm9sbGFibGV9IEluZm9ybWF0aW9uIGZvciBzY3JvbGwuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRTY3JvbGxhYmxlKGVsZW1lbnQsIGlzV2luZG93LCBkb250U2Nyb2xsKSB7XG4gIHZhciBzY3JvbGxhYmxlID0ge307XG4gIHZhciBjbXBTdHlsZUh0bWwsIGNtcFN0eWxlQm9keSwgY21wU3R5bGVFbGVtZW50OyAvLyBjbGllbnRXaWR0aC9IZWlnaHRcblxuICAoZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHNjcm9sbGFibGUuY2xpZW50V2lkdGggPSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgc2Nyb2xsYWJsZS5jbGllbnRIZWlnaHQgPSB0YXJnZXQuY2xpZW50SGVpZ2h0O1xuICB9KShpc1dpbmRvdyA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IGVsZW1lbnQpOyAvLyBzY3JvbGxXaWR0aC9IZWlnaHRcblxuICAvKlxuICAgIEdlY2tvIGJ1ZywgYm90dG9tLXBhZGRpbmcgb2YgZWxlbWVudCBpcyByZWR1Y2VkLlxuICAgIEJsaW5rIGZvciBBbmRyb2lkIGJ1ZywgYm9yZGVycyBvZiA8aHRtbD4gaXMgcmVuZGVyZWQgYnV0IHRob3NlIGFyZSBub3QgYWRkZWQgdG8gc2Nyb2xsVy9ILlxuICAgIFRoZW4sIG1vdmUgaXQgdG8gbWF4IHNjcm9sbCBwb3NpdGlvbiAoc3VmZmljaWVudGx5IGxhcmdlciB2YWx1ZXMpIGZvcmNpYmx5LCBhbmQgZ2V0IHNjcm9sbCBwb3NpdGlvbi5cbiAgKi9cblxuXG4gIHZhciBtYXhTY3JvbGxMZWZ0ID0gMCxcbiAgICAgIG1heFNjcm9sbFRvcCA9IDA7XG5cbiAgaWYgKCFkb250U2Nyb2xsKSB7XG4gICAgdmFyIGN1clNjcm9sbExlZnQsIGN1clNjcm9sbFRvcDtcblxuICAgIGlmIChpc1dpbmRvdykge1xuICAgICAgY3VyU2Nyb2xsTGVmdCA9IHNjcm9sbFhZV2luZG93KGVsZW1lbnQsICd4Jyk7XG4gICAgICBjdXJTY3JvbGxUb3AgPSBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCAneScpO1xuICAgICAgY21wU3R5bGVIdG1sID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsICcnKTtcbiAgICAgIGNtcFN0eWxlQm9keSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSwgJycpO1xuICAgICAgbWF4U2Nyb2xsTGVmdCA9IHNjcm9sbFhZV2luZG93KGVsZW1lbnQsICd4JywgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoICsgc2Nyb2xsYWJsZS5jbGllbnRXaWR0aCArIC8vIEJsaW5rIGZvciBBbmRyb2lkIGJ1Zywgc2Nyb2xsKiByZXR1cm5zIHNpemUgb2Ygc21hbGxlciBib2R5XG4gICAgICBbJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnLCAnYm9yZGVyTGVmdFdpZHRoJywgJ2JvcmRlclJpZ2h0V2lkdGgnLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1JpZ2h0J10ucmVkdWNlKGZ1bmN0aW9uIChsZW4sIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGxlbiArIChwYXJzZUZsb2F0KGNtcFN0eWxlSHRtbFtwcm9wXSkgfHwgMCkgKyAocGFyc2VGbG9hdChjbXBTdHlsZUJvZHlbcHJvcF0pIHx8IDApO1xuICAgICAgfSwgMCkpO1xuICAgICAgbWF4U2Nyb2xsVG9wID0gc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgJ3knLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0ICsgc2Nyb2xsYWJsZS5jbGllbnRIZWlnaHQgKyBbJ21hcmdpblRvcCcsICdtYXJnaW5Cb3R0b20nLCAnYm9yZGVyVG9wV2lkdGgnLCAnYm9yZGVyQm90dG9tV2lkdGgnLCAncGFkZGluZ1RvcCcsICdwYWRkaW5nQm90dG9tJ10ucmVkdWNlKGZ1bmN0aW9uIChsZW4sIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGxlbiArIChwYXJzZUZsb2F0KGNtcFN0eWxlSHRtbFtwcm9wXSkgfHwgMCkgKyAocGFyc2VGbG9hdChjbXBTdHlsZUJvZHlbcHJvcF0pIHx8IDApO1xuICAgICAgfSwgMCkpO1xuICAgICAgc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgJ3gnLCBjdXJTY3JvbGxMZWZ0KTtcbiAgICAgIHNjcm9sbFhZV2luZG93KGVsZW1lbnQsICd5JywgY3VyU2Nyb2xsVG9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyU2Nyb2xsTGVmdCA9IHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCAneCcpO1xuICAgICAgY3VyU2Nyb2xsVG9wID0gc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsICd5Jyk7XG4gICAgICBjbXBTdHlsZUVsZW1lbnQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKTtcbiAgICAgIG1heFNjcm9sbExlZnQgPSBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgJ3gnLCBlbGVtZW50LnNjcm9sbFdpZHRoICsgc2Nyb2xsYWJsZS5jbGllbnRXaWR0aCArIC8vIEJsaW5rIGZvciBBbmRyb2lkIGJ1Zywgc2Nyb2xsKiByZXR1cm5zIHNpemUgb2Ygc21hbGxlciBib2R5XG4gICAgICBbJ21hcmdpbkxlZnQnLCAnbWFyZ2luUmlnaHQnLCAnYm9yZGVyTGVmdFdpZHRoJywgJ2JvcmRlclJpZ2h0V2lkdGgnLCAncGFkZGluZ0xlZnQnLCAncGFkZGluZ1JpZ2h0J10ucmVkdWNlKGZ1bmN0aW9uIChsZW4sIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGxlbiArIChwYXJzZUZsb2F0KGNtcFN0eWxlRWxlbWVudFtwcm9wXSkgfHwgMCk7XG4gICAgICB9LCAwKSk7XG4gICAgICBtYXhTY3JvbGxUb3AgPSBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgJ3knLCBlbGVtZW50LnNjcm9sbEhlaWdodCArIHNjcm9sbGFibGUuY2xpZW50SGVpZ2h0ICsgWydtYXJnaW5Ub3AnLCAnbWFyZ2luQm90dG9tJywgJ2JvcmRlclRvcFdpZHRoJywgJ2JvcmRlckJvdHRvbVdpZHRoJywgJ3BhZGRpbmdUb3AnLCAncGFkZGluZ0JvdHRvbSddLnJlZHVjZShmdW5jdGlvbiAobGVuLCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBsZW4gKyAocGFyc2VGbG9hdChjbXBTdHlsZUVsZW1lbnRbcHJvcF0pIHx8IDApO1xuICAgICAgfSwgMCkpO1xuICAgICAgc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsICd4JywgY3VyU2Nyb2xsTGVmdCk7XG4gICAgICBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgJ3knLCBjdXJTY3JvbGxUb3ApO1xuICAgIH1cbiAgfVxuXG4gIHNjcm9sbGFibGUuc2Nyb2xsV2lkdGggPSBzY3JvbGxhYmxlLmNsaWVudFdpZHRoICsgbWF4U2Nyb2xsTGVmdDtcbiAgc2Nyb2xsYWJsZS5zY3JvbGxIZWlnaHQgPSBzY3JvbGxhYmxlLmNsaWVudEhlaWdodCArIG1heFNjcm9sbFRvcDsgLy8gY2xpZW50WC9ZXG5cbiAgdmFyIHJlY3Q7XG5cbiAgaWYgKGlzV2luZG93KSB7XG4gICAgc2Nyb2xsYWJsZS5jbGllbnRYID0gc2Nyb2xsYWJsZS5jbGllbnRZID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBwYWRkaW5nLWJveFxuICAgIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgaWYgKCFjbXBTdHlsZUVsZW1lbnQpIHtcbiAgICAgIGNtcFN0eWxlRWxlbWVudCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpO1xuICAgIH1cblxuICAgIHNjcm9sbGFibGUuY2xpZW50WCA9IHJlY3QubGVmdCArIChwYXJzZUZsb2F0KGNtcFN0eWxlRWxlbWVudC5ib3JkZXJMZWZ0V2lkdGgpIHx8IDApO1xuICAgIHNjcm9sbGFibGUuY2xpZW50WSA9IHJlY3QudG9wICsgKHBhcnNlRmxvYXQoY21wU3R5bGVFbGVtZW50LmJvcmRlclRvcFdpZHRoKSB8fCAwKTtcbiAgfVxuXG4gIHJldHVybiBzY3JvbGxhYmxlO1xufSAvLyBbL0FVVE8tU0NST0xMXVxuXG5cbmZ1bmN0aW9uIGNvcHlUcmVlKG9iaikge1xuICByZXR1cm4gIW9iaiA/IG9iaiA6IGlzT2JqZWN0KG9iaikgPyBPYmplY3Qua2V5cyhvYmopLnJlZHVjZShmdW5jdGlvbiAoY29weU9iaiwga2V5KSB7XG4gICAgY29weU9ialtrZXldID0gY29weVRyZWUob2JqW2tleV0pO1xuICAgIHJldHVybiBjb3B5T2JqO1xuICB9LCB7fSkgOiBBcnJheS5pc0FycmF5KG9iaikgPyBvYmoubWFwKGNvcHlUcmVlKSA6IG9iajtcbn1cblxuZnVuY3Rpb24gaGFzQ2hhbmdlZChhLCBiKSB7XG4gIHZhciB0eXBlQSwga2V5c0E7XG4gIHJldHVybiBfdHlwZW9mKGEpICE9PSBfdHlwZW9mKGIpIHx8ICh0eXBlQSA9IGlzT2JqZWN0KGEpID8gJ29iaicgOiBBcnJheS5pc0FycmF5KGEpID8gJ2FycmF5JyA6ICcnKSAhPT0gKGlzT2JqZWN0KGIpID8gJ29iaicgOiBBcnJheS5pc0FycmF5KGIpID8gJ2FycmF5JyA6ICcnKSB8fCAodHlwZUEgPT09ICdvYmonID8gaGFzQ2hhbmdlZChrZXlzQSA9IE9iamVjdC5rZXlzKGEpLnNvcnQoKSwgT2JqZWN0LmtleXMoYikuc29ydCgpKSB8fCBrZXlzQS5zb21lKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQoYVtwcm9wXSwgYltwcm9wXSk7XG4gIH0pIDogdHlwZUEgPT09ICdhcnJheScgPyBhLmxlbmd0aCAhPT0gYi5sZW5ndGggfHwgYS5zb21lKGZ1bmN0aW9uIChhVmFsLCBpKSB7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQoYVZhbCwgYltpXSk7XG4gIH0pIDogYSAhPT0gYik7XG59XG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGNvbm5lY3RlZCBlbGVtZW50LlxuICovXG5cblxuZnVuY3Rpb24gaXNFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICEhKGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgJiYgLy8gZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gIHR5cGVvZiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gJ2Z1bmN0aW9uJyAmJiAhKGVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZG9jdW1lbnQpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9ESVNDT05ORUNURUQpKTtcbn1cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgc2ltdWxhdGVzIGBET01SZWN0YCB0byBpbmRpY2F0ZSBhIGJvdW5kaW5nLWJveC5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJCb3hcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0gbGVmdCAtIGRvY3VtZW50IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0gdG9wIC0gZG9jdW1lbnQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSByaWdodCAtIGRvY3VtZW50IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0gYm90dG9tIC0gZG9jdW1lbnQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSB4IC0gU3Vic3RpdHV0ZXMgZm9yIGxlZnRcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0geSAtIFN1YnN0aXR1dGVzIGZvciB0b3BcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0gd2lkdGhcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0gaGVpZ2h0XG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gYkJveCAtIEEgdGFyZ2V0IG9iamVjdC5cbiAqIEByZXR1cm5zIHsoQkJveHxudWxsKX0gQSBub3JtYWxpemVkIGBCQm94YCwgb3IgbnVsbCBpZiBgYkJveGAgaXMgaW52YWxpZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkQkJveChiQm94KSB7XG4gIGlmICghaXNPYmplY3QoYkJveCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciB2YWx1ZTtcblxuICBpZiAoaXNGaW5pdGUodmFsdWUgPSBiQm94LmxlZnQpIHx8IGlzRmluaXRlKHZhbHVlID0gYkJveC54KSkge1xuICAgIGJCb3gubGVmdCA9IGJCb3gueCA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGlzRmluaXRlKHZhbHVlID0gYkJveC50b3ApIHx8IGlzRmluaXRlKHZhbHVlID0gYkJveC55KSkge1xuICAgIGJCb3gudG9wID0gYkJveC55ID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoaXNGaW5pdGUoYkJveC53aWR0aCkgJiYgYkJveC53aWR0aCA+PSAwKSB7XG4gICAgYkJveC5yaWdodCA9IGJCb3gubGVmdCArIGJCb3gud2lkdGg7XG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUoYkJveC5yaWdodCkgJiYgYkJveC5yaWdodCA+PSBiQm94LmxlZnQpIHtcbiAgICBiQm94LndpZHRoID0gYkJveC5yaWdodCAtIGJCb3gubGVmdDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZShiQm94LmhlaWdodCkgJiYgYkJveC5oZWlnaHQgPj0gMCkge1xuICAgIGJCb3guYm90dG9tID0gYkJveC50b3AgKyBiQm94LmhlaWdodDtcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShiQm94LmJvdHRvbSkgJiYgYkJveC5ib3R0b20gPj0gYkJveC50b3ApIHtcbiAgICBiQm94LmhlaWdodCA9IGJCb3guYm90dG9tIC0gYkJveC50b3A7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gYkJveDtcbn1cbi8qKlxuICogQSB2YWx1ZSB0aGF0IGlzIFBpeGVscyBvciBSYXRpb1xuICogQHR5cGVkZWYge3t2YWx1ZTogbnVtYmVyLCBpc1JhdGlvOiBib29sZWFufX0gUFBWYWx1ZVxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRQUFZhbHVlKHZhbHVlKSB7XG4gIC8vIEdldCBQUFZhbHVlIGZyb20gc3RyaW5nIChhbGwgYC9zYCB3ZXJlIGFscmVhZHkgcmVtb3ZlZClcbiAgZnVuY3Rpb24gc3RyaW5nMlBQVmFsdWUoaW5TdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IC9eKC4rPykoJSk/JC8uZXhlYyhpblN0cmluZyk7XG4gICAgdmFyIHZhbHVlLCBpc1JhdGlvO1xuICAgIHJldHVybiBtYXRjaGVzICYmIGlzRmluaXRlKHZhbHVlID0gcGFyc2VGbG9hdChtYXRjaGVzWzFdKSkgPyB7XG4gICAgICB2YWx1ZTogKGlzUmF0aW8gPSAhIShtYXRjaGVzWzJdICYmIHZhbHVlKSkgPyB2YWx1ZSAvIDEwMCA6IHZhbHVlLFxuICAgICAgaXNSYXRpbzogaXNSYXRpb1xuICAgIH0gOiBudWxsOyAvLyAwJSAtPiAwXG4gIH1cblxuICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBpc1JhdGlvOiBmYWxzZVxuICB9IDogdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHN0cmluZzJQUFZhbHVlKHZhbHVlLnJlcGxhY2UoL1xccy9nLCAnJykpIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcHBWYWx1ZTJPcHRpb25WYWx1ZShwcFZhbHVlKSB7XG4gIHJldHVybiBwcFZhbHVlLmlzUmF0aW8gPyBcIlwiLmNvbmNhdChwcFZhbHVlLnZhbHVlICogMTAwLCBcIiVcIikgOiBwcFZhbHVlLnZhbHVlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlUFBWYWx1ZShwcFZhbHVlLCBiYXNlT3JpZ2luLCBiYXNlU2l6ZSkge1xuICByZXR1cm4gdHlwZW9mIHBwVmFsdWUgPT09ICdudW1iZXInID8gcHBWYWx1ZSA6IGJhc2VPcmlnaW4gKyBwcFZhbHVlLnZhbHVlICogKHBwVmFsdWUuaXNSYXRpbyA/IGJhc2VTaXplIDogMSk7XG59XG4vKipcbiAqIEFuIG9iamVjdCB0aGF0IHNpbXVsYXRlcyBCQm94IGJ1dCBwcm9wZXJ0aWVzIGFyZSBQUFZhbHVlLlxuICogQHR5cGVkZWYge09iamVjdH0gUFBCQm94XG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gYkJveCAtIEEgdGFyZ2V0IG9iamVjdC5cbiAqIEByZXR1cm5zIHsoUFBCQm94fG51bGwpfSBBIG5vcm1hbGl6ZWQgYFBQQkJveGAsIG9yIG51bGwgaWYgYGJCb3hgIGlzIGludmFsaWQuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZFBQQkJveChiQm94KSB7XG4gIGlmICghaXNPYmplY3QoYkJveCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwcFZhbHVlO1xuXG4gIGlmICgocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LmxlZnQpKSB8fCAocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LngpKSkge1xuICAgIGJCb3gubGVmdCA9IGJCb3gueCA9IHBwVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC50b3ApKSB8fCAocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LnkpKSkge1xuICAgIGJCb3gudG9wID0gYkJveC55ID0gcHBWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICgocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LndpZHRoKSkgJiYgcHBWYWx1ZS52YWx1ZSA+PSAwKSB7XG4gICAgYkJveC53aWR0aCA9IHBwVmFsdWU7XG4gICAgZGVsZXRlIGJCb3gucmlnaHQ7XG4gIH0gZWxzZSBpZiAocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LnJpZ2h0KSkge1xuICAgIGJCb3gucmlnaHQgPSBwcFZhbHVlO1xuICAgIGRlbGV0ZSBiQm94LndpZHRoO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3guaGVpZ2h0KSkgJiYgcHBWYWx1ZS52YWx1ZSA+PSAwKSB7XG4gICAgYkJveC5oZWlnaHQgPSBwcFZhbHVlO1xuICAgIGRlbGV0ZSBiQm94LmJvdHRvbTtcbiAgfSBlbHNlIGlmIChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3guYm90dG9tKSkge1xuICAgIGJCb3guYm90dG9tID0gcHBWYWx1ZTtcbiAgICBkZWxldGUgYkJveC5oZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gYkJveDtcbn1cblxuZnVuY3Rpb24gcHBCQm94Mk9wdGlvbk9iamVjdChwcEJCb3gpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHBwQkJveCkucmVkdWNlKGZ1bmN0aW9uIChvYmosIHByb3ApIHtcbiAgICBvYmpbcHJvcF0gPSBwcFZhbHVlMk9wdGlvblZhbHVlKHBwQkJveFtwcm9wXSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufSAvLyBQUEJCb3ggLT4gQkJveFxuXG5cbmZ1bmN0aW9uIHJlc29sdmVQUEJCb3gocHBCQm94LCBiYXNlQkJveCkge1xuICB2YXIgcHJvcDJBeGlzID0ge1xuICAgIGxlZnQ6ICd4JyxcbiAgICByaWdodDogJ3gnLFxuICAgIHg6ICd4JyxcbiAgICB3aWR0aDogJ3gnLFxuICAgIHRvcDogJ3knLFxuICAgIGJvdHRvbTogJ3knLFxuICAgIHk6ICd5JyxcbiAgICBoZWlnaHQ6ICd5J1xuICB9LFxuICAgICAgYmFzZU9yaWdpblhZID0ge1xuICAgIHg6IGJhc2VCQm94LmxlZnQsXG4gICAgeTogYmFzZUJCb3gudG9wXG4gIH0sXG4gICAgICBiYXNlU2l6ZVhZID0ge1xuICAgIHg6IGJhc2VCQm94LndpZHRoLFxuICAgIHk6IGJhc2VCQm94LmhlaWdodFxuICB9O1xuICByZXR1cm4gdmFsaWRCQm94KE9iamVjdC5rZXlzKHBwQkJveCkucmVkdWNlKGZ1bmN0aW9uIChiQm94LCBwcm9wKSB7XG4gICAgYkJveFtwcm9wXSA9IHJlc29sdmVQUFZhbHVlKHBwQkJveFtwcm9wXSwgcHJvcCA9PT0gJ3dpZHRoJyB8fCBwcm9wID09PSAnaGVpZ2h0JyA/IDAgOiBiYXNlT3JpZ2luWFlbcHJvcDJBeGlzW3Byb3BdXSwgYmFzZVNpemVYWVtwcm9wMkF4aXNbcHJvcF1dKTtcbiAgICByZXR1cm4gYkJveDtcbiAgfSwge30pKTtcbn1cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7P2Jvb2xlYW59IGdldFBhZGRpbmdCb3ggLSBHZXQgcGFkZGluZy1ib3ggaW5zdGVhZCBvZiBib3JkZXItYm94IGFzIGJvdW5kaW5nLWJveC5cbiAqIEByZXR1cm5zIHtCQm94fSBBIGJvdW5kaW5nLWJveCBvZiBgZWxlbWVudGAuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRCQm94KGVsZW1lbnQsIGdldFBhZGRpbmdCb3gpIHtcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgYkJveCA9IHtcbiAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgdG9wOiByZWN0LnRvcCxcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gIH07XG4gIGJCb3gubGVmdCArPSB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gIGJCb3gudG9wICs9IHdpbmRvdy5wYWdlWU9mZnNldDtcblxuICBpZiAoZ2V0UGFkZGluZ0JveCkge1xuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKSxcbiAgICAgICAgYm9yZGVyVG9wID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJUb3BXaWR0aCkgfHwgMCxcbiAgICAgICAgYm9yZGVyUmlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpIHx8IDAsXG4gICAgICAgIGJvcmRlckJvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpIHx8IDAsXG4gICAgICAgIGJvcmRlckxlZnQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgfHwgMDtcbiAgICBiQm94LmxlZnQgKz0gYm9yZGVyTGVmdDtcbiAgICBiQm94LnRvcCArPSBib3JkZXJUb3A7XG4gICAgYkJveC53aWR0aCAtPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgYkJveC5oZWlnaHQgLT0gYm9yZGVyVG9wICsgYm9yZGVyQm90dG9tO1xuICB9XG5cbiAgcmV0dXJuIHZhbGlkQkJveChiQm94KTtcbn1cbi8qKlxuICogT3B0aW1pemUgYW4gZWxlbWVudCBmb3IgYW5pbWF0aW9uLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7P2Jvb2xlYW59IGdwdVRyaWdnZXIgLSBJbml0aWFsaXplIGZvciBTVkdFbGVtZW50IGlmIGB0cnVlYC5cbiAqIEByZXR1cm5zIHtFbGVtZW50fSBBIHRhcmdldCBlbGVtZW50LlxuICovXG5cblxuZnVuY3Rpb24gaW5pdEFuaW0oZWxlbWVudCwgZ3B1VHJpZ2dlcikge1xuICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICBzdHlsZS53ZWJraXRUYXBIaWdobGlnaHRDb2xvciA9ICd0cmFuc3BhcmVudCc7IC8vIE9ubHkgd2hlbiBpdCBoYXMgbm8gc2hhZG93XG5cbiAgdmFyIGNzc1Byb3BCb3hTaGFkb3cgPSBDU1NQcmVmaXguZ2V0TmFtZSgnYm94U2hhZG93JyksXG4gICAgICBib3hTaGFkb3cgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAnJylbY3NzUHJvcEJveFNoYWRvd107XG5cbiAgaWYgKCFib3hTaGFkb3cgfHwgYm94U2hhZG93ID09PSAnbm9uZScpIHtcbiAgICBzdHlsZVtjc3NQcm9wQm94U2hhZG93XSA9ICcwIDAgMXB4IHRyYW5zcGFyZW50JztcbiAgfVxuXG4gIGlmIChncHVUcmlnZ2VyICYmIGNzc1Byb3BUcmFuc2Zvcm0pIHtcbiAgICBzdHlsZVtjc3NQcm9wVHJhbnNmb3JtXSA9ICd0cmFuc2xhdGVaKDApJztcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBzZXREcmFnZ2FibGVDdXJzb3IoZWxlbWVudCwgb3JnQ3Vyc29yKSB7XG4gIGlmIChjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciA9PSBudWxsKSB7XG4gICAgaWYgKGNzc1dhbnRlZFZhbHVlRHJhZ2dhYmxlQ3Vyc29yICE9PSBmYWxzZSkge1xuICAgICAgY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgPSBDU1NQcmVmaXguZ2V0VmFsdWUoJ2N1cnNvcicsIGNzc1dhbnRlZFZhbHVlRHJhZ2dhYmxlQ3Vyc29yKTtcbiAgICB9IC8vIFRoZSB3YW50ZWQgdmFsdWUgd2FzIGRlbmllZCwgb3IgY2hhbmdpbmcgaXMgbm90IHdhbnRlZC5cblxuXG4gICAgaWYgKGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yID09IG51bGwpIHtcbiAgICAgIGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yID0gZmFsc2U7XG4gICAgfVxuICB9IC8vIFVwZGF0ZSBpdCB0byBjaGFuZ2UgYSBzdGF0ZSBldmVuIGlmIGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yIGlzIGZhbHNlLlxuXG5cbiAgZWxlbWVudC5zdHlsZS5jdXJzb3IgPSBjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciA9PT0gZmFsc2UgPyBvcmdDdXJzb3IgOiBjc3NWYWx1ZURyYWdnYWJsZUN1cnNvcjtcbn1cblxuZnVuY3Rpb24gc2V0RHJhZ2dpbmdDdXJzb3IoZWxlbWVudCkge1xuICBpZiAoY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciA9PSBudWxsKSB7XG4gICAgaWYgKGNzc1dhbnRlZFZhbHVlRHJhZ2dpbmdDdXJzb3IgIT09IGZhbHNlKSB7XG4gICAgICBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yID0gQ1NTUHJlZml4LmdldFZhbHVlKCdjdXJzb3InLCBjc3NXYW50ZWRWYWx1ZURyYWdnaW5nQ3Vyc29yKTtcbiAgICB9IC8vIFRoZSB3YW50ZWQgdmFsdWUgd2FzIGRlbmllZCwgb3IgY2hhbmdpbmcgaXMgbm90IHdhbnRlZC5cblxuXG4gICAgaWYgKGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgPT0gbnVsbCkge1xuICAgICAgY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yICE9PSBmYWxzZSkge1xuICAgIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3NzVmFsdWVEcmFnZ2luZ0N1cnNvcjtcbiAgfVxufSAvLyBbU1ZHXVxuXG4vKipcbiAqIEdldCBTVkcgY29vcmRpbmF0ZXMgZnJvbSB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRYIC0gdmlld3BvcnQgWC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjbGllbnRZIC0gdmlld3BvcnQgWS5cbiAqIEByZXR1cm5zIHtTVkdQb2ludH0gU1ZHIGNvb3JkaW5hdGVzLlxuICovXG5cblxuZnVuY3Rpb24gdmlld1BvaW50MlN2Z1BvaW50KHByb3BzLCBjbGllbnRYLCBjbGllbnRZKSB7XG4gIHZhciBzdmdQb2ludCA9IHByb3BzLnN2Z1BvaW50O1xuICBzdmdQb2ludC54ID0gY2xpZW50WDtcbiAgc3ZnUG9pbnQueSA9IGNsaWVudFk7XG4gIHJldHVybiBzdmdQb2ludC5tYXRyaXhUcmFuc2Zvcm0ocHJvcHMuc3ZnQ3RtRWxlbWVudC5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpO1xufSAvLyBbL1NWR11cblxuLyoqXG4gKiBNb3ZlIGJ5IGB0cmFuc2xhdGVgLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHt7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlcn19IHBvc2l0aW9uIC0gTmV3IHBvc2l0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpdCB3YXMgbW92ZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBtb3ZlVHJhbnNsYXRlKHByb3BzLCBwb3NpdGlvbikge1xuICB2YXIgZWxlbWVudEJCb3ggPSBwcm9wcy5lbGVtZW50QkJveDtcblxuICBpZiAocG9zaXRpb24ubGVmdCAhPT0gZWxlbWVudEJCb3gubGVmdCB8fCBwb3NpdGlvbi50b3AgIT09IGVsZW1lbnRCQm94LnRvcCkge1xuICAgIHZhciBvZmZzZXQgPSBwcm9wcy5odG1sT2Zmc2V0O1xuICAgIHByb3BzLmVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNmb3JtXSA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdChwb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnQsIFwicHgsIFwiKS5jb25jYXQocG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcCwgXCJweClcIik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59IC8vIFtMRUZUVE9QXVxuXG4vKipcbiAqIE1vdmUgYnkgYGxlZnRgIGFuZCBgdG9wYC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7e2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9fSBwb3NpdGlvbiAtIE5ldyBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaXQgd2FzIG1vdmVkLlxuICovXG5cblxuZnVuY3Rpb24gbW92ZUxlZnRUb3AocHJvcHMsIHBvc2l0aW9uKSB7XG4gIHZhciBlbGVtZW50QkJveCA9IHByb3BzLmVsZW1lbnRCQm94LFxuICAgICAgZWxlbWVudFN0eWxlID0gcHJvcHMuZWxlbWVudFN0eWxlLFxuICAgICAgb2Zmc2V0ID0gcHJvcHMuaHRtbE9mZnNldDtcbiAgdmFyIG1vdmVkID0gZmFsc2U7XG5cbiAgaWYgKHBvc2l0aW9uLmxlZnQgIT09IGVsZW1lbnRCQm94LmxlZnQpIHtcbiAgICBlbGVtZW50U3R5bGUubGVmdCA9IHBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdCArICdweCc7XG4gICAgbW92ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHBvc2l0aW9uLnRvcCAhPT0gZWxlbWVudEJCb3gudG9wKSB7XG4gICAgZWxlbWVudFN0eWxlLnRvcCA9IHBvc2l0aW9uLnRvcCArIG9mZnNldC50b3AgKyAncHgnO1xuICAgIG1vdmVkID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBtb3ZlZDtcbn0gLy8gWy9MRUZUVE9QXVxuLy8gW1NWR11cblxuLyoqXG4gKiBNb3ZlIFNWR0VsZW1lbnQuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3tsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyfX0gcG9zaXRpb24gLSBOZXcgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGl0IHdhcyBtb3ZlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vdmVTdmcocHJvcHMsIHBvc2l0aW9uKSB7XG4gIHZhciBlbGVtZW50QkJveCA9IHByb3BzLmVsZW1lbnRCQm94O1xuXG4gIGlmIChwb3NpdGlvbi5sZWZ0ICE9PSBlbGVtZW50QkJveC5sZWZ0IHx8IHBvc2l0aW9uLnRvcCAhPT0gZWxlbWVudEJCb3gudG9wKSB7XG4gICAgdmFyIG9mZnNldCA9IHByb3BzLnN2Z09mZnNldCxcbiAgICAgICAgb3JpZ2luQkJveCA9IHByb3BzLnN2Z09yaWdpbkJCb3gsXG4gICAgICAgIHBvaW50ID0gdmlld1BvaW50MlN2Z1BvaW50KHByb3BzLCBwb3NpdGlvbi5sZWZ0IC0gd2luZG93LnBhZ2VYT2Zmc2V0LCBwb3NpdGlvbi50b3AgLSB3aW5kb3cucGFnZVlPZmZzZXQpO1xuICAgIHByb3BzLnN2Z1RyYW5zZm9ybS5zZXRUcmFuc2xhdGUocG9pbnQueCArIG9mZnNldC54IC0gb3JpZ2luQkJveC54LCBwb2ludC55ICsgb2Zmc2V0LnkgLSBvcmlnaW5CQm94LnkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSAvLyBbL1NWR11cblxuLyoqXG4gKiBTZXQgYHByb3BzLmVsZW1lbnRgIHBvc2l0aW9uLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHt7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlcn19IHBvc2l0aW9uIC0gTmV3IHBvc2l0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiQ2hlY2tdIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2l0aCB2YWxpZCBwb3NpdGlvbiwgY2FuY2VsIG1vdmluZyBpZiBpdCByZXR1cm5zIGBmYWxzZWAuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGl0IHdhcyBtb3ZlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vdmUocHJvcHMsIHBvc2l0aW9uLCBjYkNoZWNrKSB7XG4gIHZhciBlbGVtZW50QkJveCA9IHByb3BzLmVsZW1lbnRCQm94O1xuXG4gIGZ1bmN0aW9uIGZpeCgpIHtcbiAgICBpZiAocHJvcHMubWluTGVmdCA+PSBwcm9wcy5tYXhMZWZ0KSB7XG4gICAgICAvLyBEaXNhYmxlZFxuICAgICAgcG9zaXRpb24ubGVmdCA9IGVsZW1lbnRCQm94LmxlZnQ7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbi5sZWZ0IDwgcHJvcHMubWluTGVmdCkge1xuICAgICAgcG9zaXRpb24ubGVmdCA9IHByb3BzLm1pbkxlZnQ7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbi5sZWZ0ID4gcHJvcHMubWF4TGVmdCkge1xuICAgICAgcG9zaXRpb24ubGVmdCA9IHByb3BzLm1heExlZnQ7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm1pblRvcCA+PSBwcm9wcy5tYXhUb3ApIHtcbiAgICAgIC8vIERpc2FibGVkXG4gICAgICBwb3NpdGlvbi50b3AgPSBlbGVtZW50QkJveC50b3A7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbi50b3AgPCBwcm9wcy5taW5Ub3ApIHtcbiAgICAgIHBvc2l0aW9uLnRvcCA9IHByb3BzLm1pblRvcDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLnRvcCA+IHByb3BzLm1heFRvcCkge1xuICAgICAgcG9zaXRpb24udG9wID0gcHJvcHMubWF4VG9wO1xuICAgIH1cbiAgfVxuXG4gIGZpeCgpO1xuXG4gIGlmIChjYkNoZWNrKSB7XG4gICAgaWYgKGNiQ2hlY2socG9zaXRpb24pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZpeCgpOyAvLyBBZ2FpblxuICB9XG5cbiAgdmFyIG1vdmVkID0gcHJvcHMubW92ZUVsbShwcm9wcywgcG9zaXRpb24pO1xuXG4gIGlmIChtb3ZlZCkge1xuICAgIC8vIFVwZGF0ZSBlbGVtZW50QkJveFxuICAgIHByb3BzLmVsZW1lbnRCQm94ID0gdmFsaWRCQm94KHtcbiAgICAgIGxlZnQ6IHBvc2l0aW9uLmxlZnQsXG4gICAgICB0b3A6IHBvc2l0aW9uLnRvcCxcbiAgICAgIHdpZHRoOiBlbGVtZW50QkJveC53aWR0aCxcbiAgICAgIGhlaWdodDogZWxlbWVudEJCb3guaGVpZ2h0XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbW92ZWQ7XG59XG4vKipcbiAqIEluaXRpYWxpemUgSFRNTEVsZW1lbnQgZm9yIGB0cmFuc2xhdGVgLCBhbmQgZ2V0IGBvZmZzZXRgIHRoYXQgaXMgdXNlZCBieSBgbW92ZVRyYW5zbGF0ZWAuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7QkJveH0gQ3VycmVudCBCQm94IHdpdGhvdXQgYW5pbWF0aW9uLCBpLmUuIGxlZnQvdG9wIHByb3BlcnRpZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBpbml0VHJhbnNsYXRlKHByb3BzKSB7XG4gIHZhciBlbGVtZW50ID0gcHJvcHMuZWxlbWVudCxcbiAgICAgIGVsZW1lbnRTdHlsZSA9IHByb3BzLmVsZW1lbnRTdHlsZSxcbiAgICAgIGN1clBvc2l0aW9uID0gZ2V0QkJveChlbGVtZW50KSxcbiAgICAgIC8vIEdldCBCQm94IGJlZm9yZSBjaGFuZ2Ugc3R5bGUuXG4gIFJFU1RPUkVfUFJPUFMgPSBbJ2Rpc3BsYXknLCAnbWFyZ2luVG9wJywgJ21hcmdpbkJvdHRvbScsICd3aWR0aCcsICdoZWlnaHQnXTtcbiAgUkVTVE9SRV9QUk9QUy51bnNoaWZ0KGNzc1Byb3BUcmFuc2Zvcm0pOyAvLyBSZXNldCBgdHJhbnNpdGlvbi1wcm9wZXJ0eWAgZXZlcnkgdGltZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGNoYW5nZWQgZnJlcXVlbnRseS5cblxuICB2YXIgb3JnVHJhbnNpdGlvblByb3BlcnR5ID0gZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHldO1xuICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eV0gPSAnbm9uZSc7IC8vIERpc2FibGUgYW5pbWF0aW9uXG5cbiAgdmFyIGZpeFBvc2l0aW9uID0gZ2V0QkJveChlbGVtZW50KTtcblxuICBpZiAoIXByb3BzLm9yZ1N0eWxlKSB7XG4gICAgcHJvcHMub3JnU3R5bGUgPSBSRVNUT1JFX1BST1BTLnJlZHVjZShmdW5jdGlvbiAob3JnU3R5bGUsIHByb3ApIHtcbiAgICAgIG9yZ1N0eWxlW3Byb3BdID0gZWxlbWVudFN0eWxlW3Byb3BdIHx8ICcnO1xuICAgICAgcmV0dXJuIG9yZ1N0eWxlO1xuICAgIH0sIHt9KTtcbiAgICBwcm9wcy5sYXN0U3R5bGUgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICBSRVNUT1JFX1BST1BTLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIC8vIFNraXAgdGhpcyBpZiBpdCBzZWVtcyB1c2VyIGNoYW5nZWQgaXQuIChpdCBjYW4ndCBjaGVjayBwZXJmZWN0bHkuKVxuICAgICAgaWYgKHByb3BzLmxhc3RTdHlsZVtwcm9wXSA9PSBudWxsIHx8IGVsZW1lbnRTdHlsZVtwcm9wXSA9PT0gcHJvcHMubGFzdFN0eWxlW3Byb3BdKSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wXSA9IHByb3BzLm9yZ1N0eWxlW3Byb3BdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG9yZ1NpemUgPSBnZXRCQm94KGVsZW1lbnQpLFxuICAgICAgY21wU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAnJyk7IC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtdHJhbnNmb3Jtcy0xLyN0cmFuc2Zvcm1hYmxlLWVsZW1lbnRcblxuICBpZiAoY21wU3R5bGUuZGlzcGxheSA9PT0gJ2lubGluZScpIHtcbiAgICBlbGVtZW50U3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgIFsnVG9wJywgJ0JvdHRvbSddLmZvckVhY2goZnVuY3Rpb24gKGRpclByb3ApIHtcbiAgICAgIHZhciBwYWRkaW5nID0gcGFyc2VGbG9hdChjbXBTdHlsZVtcInBhZGRpbmdcIi5jb25jYXQoZGlyUHJvcCldKTsgLy8gcGFkZGluZ1RvcC9Cb3R0b20gbWFrZSBwYWRkaW5nIGJ1dCBkb24ndCBtYWtlIHNwYWNlIC0+IG5lZ2F0aXZlIG1hcmdpbiBpbiBpbmxpbmUtYmxvY2tcbiAgICAgIC8vIG1hcmdpblRvcC9Cb3R0b20gZG9uJ3Qgd29yayBpbiBpbmxpbmUgZWxlbWVudCAtPiBgMGAgaW4gaW5saW5lLWJsb2NrXG5cbiAgICAgIGVsZW1lbnRTdHlsZVtcIm1hcmdpblwiLmNvbmNhdChkaXJQcm9wKV0gPSBwYWRkaW5nID8gXCItXCIuY29uY2F0KHBhZGRpbmcsIFwicHhcIikgOiAnMCc7XG4gICAgfSk7XG4gIH1cblxuICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zZm9ybV0gPSAndHJhbnNsYXRlKDAsIDApJzsgLy8gR2V0IGRvY3VtZW50IG9mZnNldC5cblxuICB2YXIgbmV3QkJveCA9IGdldEJCb3goZWxlbWVudCk7XG4gIHZhciBvZmZzZXQgPSBwcm9wcy5odG1sT2Zmc2V0ID0ge1xuICAgIGxlZnQ6IG5ld0JCb3gubGVmdCA/IC1uZXdCQm94LmxlZnQgOiAwLFxuICAgIHRvcDogbmV3QkJveC50b3AgPyAtbmV3QkJveC50b3AgOiAwXG4gIH07IC8vIGF2b2lkIGAtMGBcbiAgLy8gUmVzdG9yZSBwb3NpdGlvblxuXG4gIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNmb3JtXSA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdChjdXJQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnQsIFwicHgsIFwiKS5jb25jYXQoY3VyUG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcCwgXCJweClcIik7IC8vIFJlc3RvcmUgc2l6ZVxuXG4gIFsnd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmIChuZXdCQm94W3Byb3BdICE9PSBvcmdTaXplW3Byb3BdKSB7XG4gICAgICAvLyBJZ25vcmUgYGJveC1zaXppbmdgXG4gICAgICBlbGVtZW50U3R5bGVbcHJvcF0gPSBvcmdTaXplW3Byb3BdICsgJ3B4JztcbiAgICAgIG5ld0JCb3ggPSBnZXRCQm94KGVsZW1lbnQpO1xuXG4gICAgICBpZiAobmV3QkJveFtwcm9wXSAhPT0gb3JnU2l6ZVtwcm9wXSkge1xuICAgICAgICAvLyBSZXRyeVxuICAgICAgICBlbGVtZW50U3R5bGVbcHJvcF0gPSBvcmdTaXplW3Byb3BdIC0gKG5ld0JCb3hbcHJvcF0gLSBvcmdTaXplW3Byb3BdKSArICdweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvcHMubGFzdFN0eWxlW3Byb3BdID0gZWxlbWVudFN0eWxlW3Byb3BdO1xuICB9KTsgLy8gUmVzdG9yZSBgdHJhbnNpdGlvbi1wcm9wZXJ0eWBcblxuICBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAvKiBmb3JjZSByZWZsb3cgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblxuICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eV0gPSBvcmdUcmFuc2l0aW9uUHJvcGVydHk7XG5cbiAgaWYgKGZpeFBvc2l0aW9uLmxlZnQgIT09IGN1clBvc2l0aW9uLmxlZnQgfHwgZml4UG9zaXRpb24udG9wICE9PSBjdXJQb3NpdGlvbi50b3ApIHtcbiAgICAvLyBJdCBzZWVtcyB0aGF0IGl0IGlzIG1vdmluZy5cbiAgICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zZm9ybV0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQoZml4UG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0LCBcInB4LCBcIikuY29uY2F0KGZpeFBvc2l0aW9uLnRvcCArIG9mZnNldC50b3AsIFwicHgpXCIpO1xuICB9XG5cbiAgcmV0dXJuIGZpeFBvc2l0aW9uO1xufSAvLyBbTEVGVFRPUF1cblxuLyoqXG4gKiBJbml0aWFsaXplIEhUTUxFbGVtZW50IGZvciBgbGVmdGAgYW5kIGB0b3BgLCBhbmQgZ2V0IGBvZmZzZXRgIHRoYXQgaXMgdXNlZCBieSBgbW92ZUxlZnRUb3BgLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHJldHVybnMge0JCb3h9IEN1cnJlbnQgQkJveCB3aXRob3V0IGFuaW1hdGlvbiwgaS5lLiBsZWZ0L3RvcCBwcm9wZXJ0aWVzLlxuICovXG5cblxuZnVuY3Rpb24gaW5pdExlZnRUb3AocHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSBwcm9wcy5lbGVtZW50LFxuICAgICAgZWxlbWVudFN0eWxlID0gcHJvcHMuZWxlbWVudFN0eWxlLFxuICAgICAgY3VyUG9zaXRpb24gPSBnZXRCQm94KGVsZW1lbnQpLFxuICAgICAgLy8gR2V0IEJCb3ggYmVmb3JlIGNoYW5nZSBzdHlsZS5cbiAgUkVTVE9SRV9QUk9QUyA9IFsncG9zaXRpb24nLCAnbWFyZ2luVG9wJywgJ21hcmdpblJpZ2h0JywgJ21hcmdpbkJvdHRvbScsICdtYXJnaW5MZWZ0JywgJ3dpZHRoJywgJ2hlaWdodCddOyAvLyBSZXNldCBgdHJhbnNpdGlvbi1wcm9wZXJ0eWAgZXZlcnkgdGltZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGNoYW5nZWQgZnJlcXVlbnRseS5cblxuICB2YXIgb3JnVHJhbnNpdGlvblByb3BlcnR5ID0gZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHldO1xuICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eV0gPSAnbm9uZSc7IC8vIERpc2FibGUgYW5pbWF0aW9uXG5cbiAgdmFyIGZpeFBvc2l0aW9uID0gZ2V0QkJveChlbGVtZW50KTtcblxuICBpZiAoIXByb3BzLm9yZ1N0eWxlKSB7XG4gICAgcHJvcHMub3JnU3R5bGUgPSBSRVNUT1JFX1BST1BTLnJlZHVjZShmdW5jdGlvbiAob3JnU3R5bGUsIHByb3ApIHtcbiAgICAgIG9yZ1N0eWxlW3Byb3BdID0gZWxlbWVudFN0eWxlW3Byb3BdIHx8ICcnO1xuICAgICAgcmV0dXJuIG9yZ1N0eWxlO1xuICAgIH0sIHt9KTtcbiAgICBwcm9wcy5sYXN0U3R5bGUgPSB7fTtcbiAgfSBlbHNlIHtcbiAgICBSRVNUT1JFX1BST1BTLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgIC8vIFNraXAgdGhpcyBpZiBpdCBzZWVtcyB1c2VyIGNoYW5nZWQgaXQuIChpdCBjYW4ndCBjaGVjayBwZXJmZWN0bHkuKVxuICAgICAgaWYgKHByb3BzLmxhc3RTdHlsZVtwcm9wXSA9PSBudWxsIHx8IGVsZW1lbnRTdHlsZVtwcm9wXSA9PT0gcHJvcHMubGFzdFN0eWxlW3Byb3BdKSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wXSA9IHByb3BzLm9yZ1N0eWxlW3Byb3BdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG9yZ1NpemUgPSBnZXRCQm94KGVsZW1lbnQpO1xuICBlbGVtZW50U3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICBlbGVtZW50U3R5bGUubGVmdCA9IGVsZW1lbnRTdHlsZS50b3AgPSBlbGVtZW50U3R5bGUubWFyZ2luID0gJzAnOyAvLyBHZXQgZG9jdW1lbnQgb2Zmc2V0LlxuXG4gIHZhciBuZXdCQm94ID0gZ2V0QkJveChlbGVtZW50KTtcbiAgdmFyIG9mZnNldCA9IHByb3BzLmh0bWxPZmZzZXQgPSB7XG4gICAgbGVmdDogbmV3QkJveC5sZWZ0ID8gLW5ld0JCb3gubGVmdCA6IDAsXG4gICAgdG9wOiBuZXdCQm94LnRvcCA/IC1uZXdCQm94LnRvcCA6IDBcbiAgfTsgLy8gYXZvaWQgYC0wYFxuICAvLyBSZXN0b3JlIHBvc2l0aW9uXG5cbiAgZWxlbWVudFN0eWxlLmxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnQgKyAncHgnO1xuICBlbGVtZW50U3R5bGUudG9wID0gY3VyUG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcCArICdweCc7IC8vIFJlc3RvcmUgc2l6ZVxuXG4gIFsnd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIGlmIChuZXdCQm94W3Byb3BdICE9PSBvcmdTaXplW3Byb3BdKSB7XG4gICAgICAvLyBJZ25vcmUgYGJveC1zaXppbmdgXG4gICAgICBlbGVtZW50U3R5bGVbcHJvcF0gPSBvcmdTaXplW3Byb3BdICsgJ3B4JztcbiAgICAgIG5ld0JCb3ggPSBnZXRCQm94KGVsZW1lbnQpO1xuXG4gICAgICBpZiAobmV3QkJveFtwcm9wXSAhPT0gb3JnU2l6ZVtwcm9wXSkge1xuICAgICAgICAvLyBSZXRyeVxuICAgICAgICBlbGVtZW50U3R5bGVbcHJvcF0gPSBvcmdTaXplW3Byb3BdIC0gKG5ld0JCb3hbcHJvcF0gLSBvcmdTaXplW3Byb3BdKSArICdweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvcHMubGFzdFN0eWxlW3Byb3BdID0gZWxlbWVudFN0eWxlW3Byb3BdO1xuICB9KTsgLy8gUmVzdG9yZSBgdHJhbnNpdGlvbi1wcm9wZXJ0eWBcblxuICBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAvKiBmb3JjZSByZWZsb3cgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblxuICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eV0gPSBvcmdUcmFuc2l0aW9uUHJvcGVydHk7XG5cbiAgaWYgKGZpeFBvc2l0aW9uLmxlZnQgIT09IGN1clBvc2l0aW9uLmxlZnQgfHwgZml4UG9zaXRpb24udG9wICE9PSBjdXJQb3NpdGlvbi50b3ApIHtcbiAgICAvLyBJdCBzZWVtcyB0aGF0IGl0IGlzIG1vdmluZy5cbiAgICBlbGVtZW50U3R5bGUubGVmdCA9IGZpeFBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdCArICdweCc7XG4gICAgZWxlbWVudFN0eWxlLnRvcCA9IGZpeFBvc2l0aW9uLnRvcCArIG9mZnNldC50b3AgKyAncHgnO1xuICB9XG5cbiAgcmV0dXJuIGZpeFBvc2l0aW9uO1xufSAvLyBbL0xFRlRUT1BdXG4vLyBbU1ZHXVxuXG4vKipcbiAqIEluaXRpYWxpemUgU1ZHRWxlbWVudCwgYW5kIGdldCBgb2Zmc2V0YCB0aGF0IGlzIHVzZWQgYnkgYG1vdmVTdmdgLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHJldHVybnMge0JCb3h9IEN1cnJlbnQgQkJveCB3aXRob3V0IGFuaW1hdGlvbiwgaS5lLiBsZWZ0L3RvcCBwcm9wZXJ0aWVzLlxuICovXG5cblxuZnVuY3Rpb24gaW5pdFN2Zyhwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHByb3BzLmVsZW1lbnQsXG4gICAgICBzdmdUcmFuc2Zvcm0gPSBwcm9wcy5zdmdUcmFuc2Zvcm0sXG4gICAgICBjdXJSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIC8vIEdldCBSZWN0IGJlZm9yZSBjaGFuZ2UgcG9zaXRpb24uXG4gIGZpeFBvc2l0aW9uID0gZ2V0QkJveChlbGVtZW50KTtcbiAgc3ZnVHJhbnNmb3JtLnNldFRyYW5zbGF0ZSgwLCAwKTtcbiAgdmFyIG9yaWdpbkJCb3ggPSBwcm9wcy5zdmdPcmlnaW5CQm94ID0gZWxlbWVudC5nZXRCQm94KCksXG4gICAgICAvLyBUcnkgdG8gZ2V0IFNWRyBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvc2l0aW9uLlxuICBuZXdSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIG9yaWdpblBvaW50ID0gdmlld1BvaW50MlN2Z1BvaW50KHByb3BzLCBuZXdSZWN0LmxlZnQsIG5ld1JlY3QudG9wKSxcbiAgICAgIC8vIEdlY2tvIGJ1ZywgZ2V0U2NyZWVuQ1RNIHJldHVybnMgaW5jb3JyZWN0IENUTSwgYW5kIG9yaWdpblBvaW50IG1pZ2h0IG5vdCBiZSBjdXJyZW50IHBvc2l0aW9uLlxuICBvZmZzZXQgPSBwcm9wcy5zdmdPZmZzZXQgPSB7XG4gICAgeDogb3JpZ2luQkJveC54IC0gb3JpZ2luUG9pbnQueCxcbiAgICB5OiBvcmlnaW5CQm94LnkgLSBvcmlnaW5Qb2ludC55XG4gIH0sXG4gICAgICAvLyBSZXN0b3JlIHBvc2l0aW9uXG4gIGN1clBvaW50ID0gdmlld1BvaW50MlN2Z1BvaW50KHByb3BzLCBjdXJSZWN0LmxlZnQsIGN1clJlY3QudG9wKTtcbiAgc3ZnVHJhbnNmb3JtLnNldFRyYW5zbGF0ZShjdXJQb2ludC54ICsgb2Zmc2V0LnggLSBvcmlnaW5CQm94LngsIGN1clBvaW50LnkgKyBvZmZzZXQueSAtIG9yaWdpbkJCb3gueSk7XG4gIHJldHVybiBmaXhQb3NpdGlvbjtcbn0gLy8gWy9TVkddXG5cbi8qKlxuICogU2V0IGBlbGVtZW50QkJveGAsIGBjb250YWlubWVudEJCb3hgLCBgbWluL21heGBgTGVmdC9Ub3BgIGFuZCBgc25hcFRhcmdldHNgLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtldmVudFR5cGVdIC0gQSB0eXBlIG9mIGV2ZW50IHRoYXQga2lja2VkIHRoaXMgbWV0aG9kLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuXG5mdW5jdGlvbiBpbml0QkJveChwcm9wcywgZXZlbnRUeXBlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgdmFyIGRvY0JCb3ggPSBnZXRCQm94KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCksXG4gICAgICBlbGVtZW50QkJveCA9IHByb3BzLmVsZW1lbnRCQm94ID0gcHJvcHMuaW5pdEVsbShwcm9wcyksXG4gICAgICAvLyByZXNldCBvZmZzZXQgZXRjLlxuICBjb250YWlubWVudEJCb3ggPSBwcm9wcy5jb250YWlubWVudEJCb3ggPSBwcm9wcy5jb250YWlubWVudElzQkJveCA/IHJlc29sdmVQUEJCb3gocHJvcHMub3B0aW9ucy5jb250YWlubWVudCwgZG9jQkJveCkgfHwgZG9jQkJveCA6IGdldEJCb3gocHJvcHMub3B0aW9ucy5jb250YWlubWVudCwgdHJ1ZSk7XG4gIHByb3BzLm1pbkxlZnQgPSBjb250YWlubWVudEJCb3gubGVmdDtcbiAgcHJvcHMubWF4TGVmdCA9IGNvbnRhaW5tZW50QkJveC5yaWdodCAtIGVsZW1lbnRCQm94LndpZHRoO1xuICBwcm9wcy5taW5Ub3AgPSBjb250YWlubWVudEJCb3gudG9wO1xuICBwcm9wcy5tYXhUb3AgPSBjb250YWlubWVudEJCb3guYm90dG9tIC0gZWxlbWVudEJCb3guaGVpZ2h0OyAvLyBBZGp1c3QgcG9zaXRpb25cblxuICBtb3ZlKHByb3BzLCB7XG4gICAgbGVmdDogZWxlbWVudEJCb3gubGVmdCxcbiAgICB0b3A6IGVsZW1lbnRCQm94LnRvcFxuICB9KTsgLy8gW1NOQVBdXG4gIC8vIFNuYXAtdGFyZ2V0c1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBTbmFwVGFyZ2V0XG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbeF0gLSBBIGNvb3JkaW5hdGUgaXQgbW92ZXMgdG8uIEl0IGhhcyB4IG9yIHkgb3IgYm90aC5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt5XVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2dyYXZpdHlYU3RhcnRdIC0gR3Jhdml0eSB6b25lLiBJdCBoYXMgKlN0YXJ0IG9yICpFbmQgb3IgYm90aCwgYW5kICpYKiBvciAqWSogb3IgYm90aC5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtncmF2aXR5WEVuZF1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtncmF2aXR5WVN0YXJ0XVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2dyYXZpdHlZRW5kXVxuICAgKi9cblxuICBpZiAocHJvcHMucGFyc2VkU25hcFRhcmdldHMpIHtcbiAgICB2YXIgZWxlbWVudFNpemVYWSA9IHtcbiAgICAgIHg6IGVsZW1lbnRCQm94LndpZHRoLFxuICAgICAgeTogZWxlbWVudEJCb3guaGVpZ2h0XG4gICAgfSxcbiAgICAgICAgbWluWFkgPSB7XG4gICAgICB4OiBwcm9wcy5taW5MZWZ0LFxuICAgICAgeTogcHJvcHMubWluVG9wXG4gICAgfSxcbiAgICAgICAgbWF4WFkgPSB7XG4gICAgICB4OiBwcm9wcy5tYXhMZWZ0LFxuICAgICAgeTogcHJvcHMubWF4VG9wXG4gICAgfSxcbiAgICAgICAgcHJvcDJBeGlzID0ge1xuICAgICAgbGVmdDogJ3gnLFxuICAgICAgcmlnaHQ6ICd4JyxcbiAgICAgIHg6ICd4JyxcbiAgICAgIHdpZHRoOiAneCcsXG4gICAgICB4U3RhcnQ6ICd4JyxcbiAgICAgIHhFbmQ6ICd4JyxcbiAgICAgIHhTdGVwOiAneCcsXG4gICAgICB0b3A6ICd5JyxcbiAgICAgIGJvdHRvbTogJ3knLFxuICAgICAgeTogJ3knLFxuICAgICAgaGVpZ2h0OiAneScsXG4gICAgICB5U3RhcnQ6ICd5JyxcbiAgICAgIHlFbmQ6ICd5JyxcbiAgICAgIHlTdGVwOiAneSdcbiAgICB9LFxuICAgICAgICBzbmFwVGFyZ2V0cyA9IHByb3BzLnBhcnNlZFNuYXBUYXJnZXRzLnJlZHVjZShmdW5jdGlvbiAoc25hcFRhcmdldHMsIHBhcnNlZFNuYXBUYXJnZXQpIHtcbiAgICAgIHZhciBiYXNlUmVjdCA9IHBhcnNlZFNuYXBUYXJnZXQuYmFzZSA9PT0gJ2NvbnRhaW5tZW50JyA/IGNvbnRhaW5tZW50QkJveCA6IGRvY0JCb3gsXG4gICAgICAgICAgYmFzZU9yaWdpblhZID0ge1xuICAgICAgICB4OiBiYXNlUmVjdC5sZWZ0LFxuICAgICAgICB5OiBiYXNlUmVjdC50b3BcbiAgICAgIH0sXG4gICAgICAgICAgYmFzZVNpemVYWSA9IHtcbiAgICAgICAgeDogYmFzZVJlY3Qud2lkdGgsXG4gICAgICAgIHk6IGJhc2VSZWN0LmhlaWdodFxuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogQmFzaWNhbGx5LCBzaGFsbG93IGNvcHkgZnJvbSBwYXJzZWRTbmFwVGFyZ2V0LCBhbmQgaXQgY2FuIGhhdmUgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAgICogQHR5cGVkZWYge3t4OiAobnVtYmVyfFBQVmFsdWUpLCB5LCB4U3RhcnQsIHhFbmQsIHhTdGVwLCB5U3RhcnQsIHlFbmQsIHlTdGVwfX0gVGFyZ2V0WFlcbiAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IFtjb3JuZXJzXSAtIEFwcGxpZWQgdmFsdWUuXG4gICAgICAgKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbc2lkZXNdXG4gICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNlbnRlclxuICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt4R3Jhdml0eV0gLSBPdmVycmlkZSBwYXJzZWRTbmFwVGFyZ2V0LmdyYXZpdHkuXG4gICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3lHcmF2aXR5XVxuICAgICAgICovXG4gICAgICAvLyBBZGQgc2luZ2xlIFBvaW50IG9yIExpbmUgKGkuZS4gdGFyZ2V0WFkgaGFzIG5vICpTdGVwKVxuXG4gICAgICBmdW5jdGlvbiBhZGRTbmFwVGFyZ2V0KHRhcmdldFhZKSB7XG4gICAgICAgIGlmICh0YXJnZXRYWS5jZW50ZXIgPT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldFhZLmNlbnRlciA9IHBhcnNlZFNuYXBUYXJnZXQuY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldFhZLnhHcmF2aXR5ID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRYWS54R3Jhdml0eSA9IHBhcnNlZFNuYXBUYXJnZXQuZ3Jhdml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRYWS55R3Jhdml0eSA9PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0WFkueUdyYXZpdHkgPSBwYXJzZWRTbmFwVGFyZ2V0LmdyYXZpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0WFkueCAhPSBudWxsICYmIHRhcmdldFhZLnkgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFBvaW50XG4gICAgICAgICAgdGFyZ2V0WFkueCA9IHJlc29sdmVQUFZhbHVlKHRhcmdldFhZLngsIGJhc2VPcmlnaW5YWS54LCBiYXNlU2l6ZVhZLngpO1xuICAgICAgICAgIHRhcmdldFhZLnkgPSByZXNvbHZlUFBWYWx1ZSh0YXJnZXRYWS55LCBiYXNlT3JpZ2luWFkueSwgYmFzZVNpemVYWS55KTtcblxuICAgICAgICAgIGlmICh0YXJnZXRYWS5jZW50ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldFhZLnggLT0gZWxlbWVudFNpemVYWS54IC8gMjtcbiAgICAgICAgICAgIHRhcmdldFhZLnkgLT0gZWxlbWVudFNpemVYWS55IC8gMjtcbiAgICAgICAgICAgIHRhcmdldFhZLmNvcm5lcnMgPSBbJ3RsJ107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgKHRhcmdldFhZLmNvcm5lcnMgfHwgcGFyc2VkU25hcFRhcmdldC5jb3JuZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb3JuZXIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdGFyZ2V0WFkueCAtIChjb3JuZXIgPT09ICd0cicgfHwgY29ybmVyID09PSAnYnInID8gZWxlbWVudFNpemVYWS54IDogMCksXG4gICAgICAgICAgICAgICAgeSA9IHRhcmdldFhZLnkgLSAoY29ybmVyID09PSAnYmwnIHx8IGNvcm5lciA9PT0gJ2JyJyA/IGVsZW1lbnRTaXplWFkueSA6IDApO1xuXG4gICAgICAgICAgICBpZiAoeCA+PSBtaW5YWS54ICYmIHggPD0gbWF4WFkueCAmJiB5ID49IG1pblhZLnkgJiYgeSA8PSBtYXhYWS55KSB7XG4gICAgICAgICAgICAgIHZhciBzbmFwVGFyZ2V0ID0ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZ3Jhdml0eVhTdGFydCA9IHggLSB0YXJnZXRYWS54R3Jhdml0eSxcbiAgICAgICAgICAgICAgICAgIGdyYXZpdHlYRW5kID0geCArIHRhcmdldFhZLnhHcmF2aXR5LFxuICAgICAgICAgICAgICAgICAgZ3Jhdml0eVlTdGFydCA9IHkgLSB0YXJnZXRYWS55R3Jhdml0eSxcbiAgICAgICAgICAgICAgICAgIGdyYXZpdHlZRW5kID0geSArIHRhcmdldFhZLnlHcmF2aXR5O1xuXG4gICAgICAgICAgICAgIGlmIChncmF2aXR5WFN0YXJ0ID4gbWluWFkueCkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXQuZ3Jhdml0eVhTdGFydCA9IGdyYXZpdHlYU3RhcnQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZ3Jhdml0eVhFbmQgPCBtYXhYWS54KSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldC5ncmF2aXR5WEVuZCA9IGdyYXZpdHlYRW5kO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGdyYXZpdHlZU3RhcnQgPiBtaW5YWS55KSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldC5ncmF2aXR5WVN0YXJ0ID0gZ3Jhdml0eVlTdGFydDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChncmF2aXR5WUVuZCA8IG1heFhZLnkpIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0LmdyYXZpdHlZRW5kID0gZ3Jhdml0eVlFbmQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzbmFwVGFyZ2V0cy5wdXNoKHNuYXBUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIExpbmVcbiAgICAgICAgICB2YXIgc3BlY0F4aXMgPSB0YXJnZXRYWS54ICE9IG51bGwgPyAneCcgOiAneScsXG4gICAgICAgICAgICAgIHJhbmdlQXhpcyA9IHNwZWNBeGlzID09PSAneCcgPyAneScgOiAneCcsXG4gICAgICAgICAgICAgIHN0YXJ0UHJvcCA9IFwiXCIuY29uY2F0KHJhbmdlQXhpcywgXCJTdGFydFwiKSxcbiAgICAgICAgICAgICAgZW5kUHJvcCA9IFwiXCIuY29uY2F0KHJhbmdlQXhpcywgXCJFbmRcIiksXG4gICAgICAgICAgICAgIGdyYXZpdHlQcm9wID0gXCJcIi5jb25jYXQoc3BlY0F4aXMsIFwiR3Jhdml0eVwiKSxcbiAgICAgICAgICAgICAgc3BlY0F4aXNMID0gc3BlY0F4aXMudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgICAgcmFuZ2VBeGlzTCA9IHJhbmdlQXhpcy50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgICBncmF2aXR5U3BlY1N0YXJ0UHJvcCA9IFwiZ3Jhdml0eVwiLmNvbmNhdChzcGVjQXhpc0wsIFwiU3RhcnRcIiksXG4gICAgICAgICAgICAgIGdyYXZpdHlTcGVjRW5kUHJvcCA9IFwiZ3Jhdml0eVwiLmNvbmNhdChzcGVjQXhpc0wsIFwiRW5kXCIpLFxuICAgICAgICAgICAgICBncmF2aXR5UmFuZ2VTdGFydFByb3AgPSBcImdyYXZpdHlcIi5jb25jYXQocmFuZ2VBeGlzTCwgXCJTdGFydFwiKSxcbiAgICAgICAgICAgICAgZ3Jhdml0eVJhbmdlRW5kUHJvcCA9IFwiZ3Jhdml0eVwiLmNvbmNhdChyYW5nZUF4aXNMLCBcIkVuZFwiKTtcbiAgICAgICAgICB0YXJnZXRYWVtzcGVjQXhpc10gPSByZXNvbHZlUFBWYWx1ZSh0YXJnZXRYWVtzcGVjQXhpc10sIGJhc2VPcmlnaW5YWVtzcGVjQXhpc10sIGJhc2VTaXplWFlbc3BlY0F4aXNdKTtcbiAgICAgICAgICB0YXJnZXRYWVtzdGFydFByb3BdID0gcmVzb2x2ZVBQVmFsdWUodGFyZ2V0WFlbc3RhcnRQcm9wXSwgYmFzZU9yaWdpblhZW3JhbmdlQXhpc10sIGJhc2VTaXplWFlbcmFuZ2VBeGlzXSk7XG4gICAgICAgICAgdGFyZ2V0WFlbZW5kUHJvcF0gPSByZXNvbHZlUFBWYWx1ZSh0YXJnZXRYWVtlbmRQcm9wXSwgYmFzZU9yaWdpblhZW3JhbmdlQXhpc10sIGJhc2VTaXplWFlbcmFuZ2VBeGlzXSkgLSBlbGVtZW50U2l6ZVhZW3JhbmdlQXhpc107IC8vIFJlZHVjZSB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuXG4gICAgICAgICAgaWYgKHRhcmdldFhZW3N0YXJ0UHJvcF0gPiB0YXJnZXRYWVtlbmRQcm9wXSB8fCAvLyBTbWFsbGVyIHRoYW4gZWxlbWVudCBzaXplLlxuICAgICAgICAgIHRhcmdldFhZW3N0YXJ0UHJvcF0gPiBtYXhYWVtyYW5nZUF4aXNdIHx8IHRhcmdldFhZW2VuZFByb3BdIDwgbWluWFlbcmFuZ2VBeGlzXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0YXJnZXRYWS5jZW50ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldFhZW3NwZWNBeGlzXSAtPSBlbGVtZW50U2l6ZVhZW3NwZWNBeGlzXSAvIDI7XG4gICAgICAgICAgICB0YXJnZXRYWS5zaWRlcyA9IFsnc3RhcnQnXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAodGFyZ2V0WFkuc2lkZXMgfHwgcGFyc2VkU25hcFRhcmdldC5zaWRlcykuZm9yRWFjaChmdW5jdGlvbiAoc2lkZSkge1xuICAgICAgICAgICAgdmFyIHh5ID0gdGFyZ2V0WFlbc3BlY0F4aXNdIC0gKHNpZGUgPT09ICdlbmQnID8gZWxlbWVudFNpemVYWVtzcGVjQXhpc10gOiAwKTtcblxuICAgICAgICAgICAgaWYgKHh5ID49IG1pblhZW3NwZWNBeGlzXSAmJiB4eSA8PSBtYXhYWVtzcGVjQXhpc10pIHtcbiAgICAgICAgICAgICAgdmFyIHNuYXBUYXJnZXQgPSB7fSxcbiAgICAgICAgICAgICAgICAgIGdyYXZpdHlTcGVjU3RhcnQgPSB4eSAtIHRhcmdldFhZW2dyYXZpdHlQcm9wXSxcbiAgICAgICAgICAgICAgICAgIGdyYXZpdHlTcGVjRW5kID0geHkgKyB0YXJnZXRYWVtncmF2aXR5UHJvcF07XG4gICAgICAgICAgICAgIHNuYXBUYXJnZXRbc3BlY0F4aXNdID0geHk7XG5cbiAgICAgICAgICAgICAgaWYgKGdyYXZpdHlTcGVjU3RhcnQgPiBtaW5YWVtzcGVjQXhpc10pIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0W2dyYXZpdHlTcGVjU3RhcnRQcm9wXSA9IGdyYXZpdHlTcGVjU3RhcnQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZ3Jhdml0eVNwZWNFbmQgPCBtYXhYWVtzcGVjQXhpc10pIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0W2dyYXZpdHlTcGVjRW5kUHJvcF0gPSBncmF2aXR5U3BlY0VuZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0YXJnZXRYWVtzdGFydFByb3BdID4gbWluWFlbcmFuZ2VBeGlzXSkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXRbZ3Jhdml0eVJhbmdlU3RhcnRQcm9wXSA9IHRhcmdldFhZW3N0YXJ0UHJvcF07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodGFyZ2V0WFlbZW5kUHJvcF0gPCBtYXhYWVtyYW5nZUF4aXNdKSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldFtncmF2aXR5UmFuZ2VFbmRQcm9wXSA9IHRhcmdldFhZW2VuZFByb3BdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc25hcFRhcmdldHMucHVzaChzbmFwVGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgYkJveDtcblxuICAgICAgaWYgKChiQm94ID0gcGFyc2VkU25hcFRhcmdldC5lbGVtZW50ID8gZ2V0QkJveChwYXJzZWRTbmFwVGFyZ2V0LmVsZW1lbnQpIDogbnVsbCkgfHwgLy8gRWxlbWVudFxuICAgICAgcGFyc2VkU25hcFRhcmdldC5wcEJCb3gpIHtcbiAgICAgICAgaWYgKHBhcnNlZFNuYXBUYXJnZXQucHBCQm94KSB7XG4gICAgICAgICAgYkJveCA9IHJlc29sdmVQUEJCb3gocGFyc2VkU25hcFRhcmdldC5wcEJCb3gsIGJhc2VSZWN0KTtcbiAgICAgICAgfSAvLyBCQm94XG5cblxuICAgICAgICBpZiAoYkJveCkge1xuICAgICAgICAgIC8vIERyb3AgaW52YWxpZCBCQm94LlxuICAgICAgICAgIC8vIEV4cGFuZCBpbnRvIDQgbGluZXMuXG4gICAgICAgICAgcGFyc2VkU25hcFRhcmdldC5lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoZW5YID0gcGFyc2VkU25hcFRhcmdldC5ncmF2aXR5LFxuICAgICAgICAgICAgICAgIGxlbmd0aGVuWSA9IHBhcnNlZFNuYXBUYXJnZXQuZ3Jhdml0eTtcblxuICAgICAgICAgICAgaWYgKGVkZ2UgPT09ICdvdXRzaWRlJykge1xuICAgICAgICAgICAgICAvLyBTbmFwIGl0IHdoZW4gYSBwYXJ0IG9mIHRoZSBlbGVtZW50IGlzIHBhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAgICAgICAgICBsZW5ndGhlblggKz0gZWxlbWVudEJCb3gud2lkdGg7XG4gICAgICAgICAgICAgIGxlbmd0aGVuWSArPSBlbGVtZW50QkJveC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB4U3RhcnQgPSBiQm94LmxlZnQgLSBsZW5ndGhlblgsXG4gICAgICAgICAgICAgICAgeEVuZCA9IGJCb3gucmlnaHQgKyBsZW5ndGhlblgsXG4gICAgICAgICAgICAgICAgeVN0YXJ0ID0gYkJveC50b3AgLSBsZW5ndGhlblksXG4gICAgICAgICAgICAgICAgeUVuZCA9IGJCb3guYm90dG9tICsgbGVuZ3RoZW5ZO1xuICAgICAgICAgICAgdmFyIHNpZGUgPSBlZGdlID09PSAnaW5zaWRlJyA/ICdzdGFydCcgOiAnZW5kJztcbiAgICAgICAgICAgIGFkZFNuYXBUYXJnZXQoe1xuICAgICAgICAgICAgICB4U3RhcnQ6IHhTdGFydCxcbiAgICAgICAgICAgICAgeEVuZDogeEVuZCxcbiAgICAgICAgICAgICAgeTogYkJveC50b3AsXG4gICAgICAgICAgICAgIHNpZGVzOiBbc2lkZV0sXG4gICAgICAgICAgICAgIGNlbnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0pOyAvLyBUb3BcblxuICAgICAgICAgICAgYWRkU25hcFRhcmdldCh7XG4gICAgICAgICAgICAgIHg6IGJCb3gubGVmdCxcbiAgICAgICAgICAgICAgeVN0YXJ0OiB5U3RhcnQsXG4gICAgICAgICAgICAgIHlFbmQ6IHlFbmQsXG4gICAgICAgICAgICAgIHNpZGVzOiBbc2lkZV0sXG4gICAgICAgICAgICAgIGNlbnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0pOyAvLyBMZWZ0XG5cbiAgICAgICAgICAgIHNpZGUgPSBlZGdlID09PSAnaW5zaWRlJyA/ICdlbmQnIDogJ3N0YXJ0JztcbiAgICAgICAgICAgIGFkZFNuYXBUYXJnZXQoe1xuICAgICAgICAgICAgICB4U3RhcnQ6IHhTdGFydCxcbiAgICAgICAgICAgICAgeEVuZDogeEVuZCxcbiAgICAgICAgICAgICAgeTogYkJveC5ib3R0b20sXG4gICAgICAgICAgICAgIHNpZGVzOiBbc2lkZV0sXG4gICAgICAgICAgICAgIGNlbnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0pOyAvLyBCb3R0b21cblxuICAgICAgICAgICAgYWRkU25hcFRhcmdldCh7XG4gICAgICAgICAgICAgIHg6IGJCb3gucmlnaHQsXG4gICAgICAgICAgICAgIHlTdGFydDogeVN0YXJ0LFxuICAgICAgICAgICAgICB5RW5kOiB5RW5kLFxuICAgICAgICAgICAgICBzaWRlczogW3NpZGVdLFxuICAgICAgICAgICAgICBjZW50ZXI6IGZhbHNlXG4gICAgICAgICAgICB9KTsgLy8gUmlnaHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGV4cGFuZGVkID0gW1sneCcsICd5JywgJ3hTdGFydCcsICd4RW5kJywgJ3hTdGVwJywgJ3lTdGFydCcsICd5RW5kJywgJ3lTdGVwJ10ucmVkdWNlKGZ1bmN0aW9uICh0YXJnZXRYWSwgcHJvcCkge1xuICAgICAgICAgIGlmIChwYXJzZWRTbmFwVGFyZ2V0W3Byb3BdKSB7XG4gICAgICAgICAgICB0YXJnZXRYWVtwcm9wXSA9IHJlc29sdmVQUFZhbHVlKHBhcnNlZFNuYXBUYXJnZXRbcHJvcF0sIHByb3AgPT09ICd4U3RlcCcgfHwgcHJvcCA9PT0gJ3lTdGVwJyA/IDAgOiBiYXNlT3JpZ2luWFlbcHJvcDJBeGlzW3Byb3BdXSwgYmFzZVNpemVYWVtwcm9wMkF4aXNbcHJvcF1dKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdGFyZ2V0WFk7XG4gICAgICAgIH0sIHt9KV07XG4gICAgICAgIFsneCcsICd5J10uZm9yRWFjaChmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICAgIHZhciBzdGFydFByb3AgPSBcIlwiLmNvbmNhdChheGlzLCBcIlN0YXJ0XCIpLFxuICAgICAgICAgICAgICBlbmRQcm9wID0gXCJcIi5jb25jYXQoYXhpcywgXCJFbmRcIiksXG4gICAgICAgICAgICAgIHN0ZXBQcm9wID0gXCJcIi5jb25jYXQoYXhpcywgXCJTdGVwXCIpLFxuICAgICAgICAgICAgICBncmF2aXR5UHJvcCA9IFwiXCIuY29uY2F0KGF4aXMsIFwiR3Jhdml0eVwiKTtcbiAgICAgICAgICBleHBhbmRlZCA9IGV4cGFuZGVkLnJlZHVjZShmdW5jdGlvbiAoZXhwYW5kZWQsIHRhcmdldFhZKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSB0YXJnZXRYWVtzdGFydFByb3BdLFxuICAgICAgICAgICAgICAgIGVuZCA9IHRhcmdldFhZW2VuZFByb3BdLFxuICAgICAgICAgICAgICAgIHN0ZXAgPSB0YXJnZXRYWVtzdGVwUHJvcF07XG5cbiAgICAgICAgICAgIGlmIChzdGFydCAhPSBudWxsICYmIGVuZCAhPSBudWxsICYmIHN0YXJ0ID49IGVuZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZXhwYW5kZWQ7XG4gICAgICAgICAgICB9IC8vIHN0YXJ0ID49IGVuZFxuXG5cbiAgICAgICAgICAgIGlmIChzdGVwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKHN0ZXAgPCAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cGFuZGVkO1xuICAgICAgICAgICAgICB9IC8vIHN0ZXAgPj0gMnB4IC0+IEV4cGFuZCBieSBzdGVwXG5cblxuICAgICAgICAgICAgICB2YXIgZ3Jhdml0eSA9IHN0ZXAgLyAyOyAvLyBtYXhcblxuICAgICAgICAgICAgICBncmF2aXR5ID0gcGFyc2VkU25hcFRhcmdldC5ncmF2aXR5ID4gZ3Jhdml0eSA/IGdyYXZpdHkgOiBudWxsO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGN1clZhbHVlID0gc3RhcnQ7IGN1clZhbHVlIDw9IGVuZDsgY3VyVmFsdWUgKz0gc3RlcCkge1xuICAgICAgICAgICAgICAgIHZhciBleHBhbmRlZFhZID0gT2JqZWN0LmtleXModGFyZ2V0WFkpLnJlZHVjZShmdW5jdGlvbiAoZXhwYW5kZWRYWSwgcHJvcCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHByb3AgIT09IHN0YXJ0UHJvcCAmJiBwcm9wICE9PSBlbmRQcm9wICYmIHByb3AgIT09IHN0ZXBQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkWFlbcHJvcF0gPSB0YXJnZXRYWVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cGFuZGVkWFk7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkWFlbYXhpc10gPSBjdXJWYWx1ZTtcbiAgICAgICAgICAgICAgICBleHBhbmRlZFhZW2dyYXZpdHlQcm9wXSA9IGdyYXZpdHk7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWQucHVzaChleHBhbmRlZFhZKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhwYW5kZWQucHVzaCh0YXJnZXRYWSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBleHBhbmRlZDtcbiAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBleHBhbmRlZC5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXRYWSkge1xuICAgICAgICAgIGFkZFNuYXBUYXJnZXQodGFyZ2V0WFkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNuYXBUYXJnZXRzO1xuICAgIH0sIFtdKTtcbiAgICBwcm9wcy5zbmFwVGFyZ2V0cyA9IHNuYXBUYXJnZXRzLmxlbmd0aCA/IHNuYXBUYXJnZXRzIDogbnVsbDtcbiAgfSAvLyBbL1NOQVBdXG4gIC8vIFtBVVRPLVNDUk9MTF1cblxuXG4gIHZhciBhdXRvU2Nyb2xsID0ge30sXG4gICAgICBhdXRvU2Nyb2xsT3B0aW9ucyA9IHByb3BzLm9wdGlvbnMuYXV0b1Njcm9sbDtcblxuICBpZiAoYXV0b1Njcm9sbE9wdGlvbnMpIHtcbiAgICBhdXRvU2Nyb2xsLmlzV2luZG93ID0gYXV0b1Njcm9sbE9wdGlvbnMudGFyZ2V0ID09PSB3aW5kb3c7XG4gICAgYXV0b1Njcm9sbC50YXJnZXQgPSBhdXRvU2Nyb2xsT3B0aW9ucy50YXJnZXQ7XG4gICAgdmFyIGRvbnRTY3JvbGwgPSBldmVudFR5cGUgPT09ICdzY3JvbGwnLFxuICAgICAgICAvLyBBdm9pZCBkdXBsaWNhdGVkIGNhbGxpbmdcbiAgICBzY3JvbGxhYmxlID0gZ2V0U2Nyb2xsYWJsZShhdXRvU2Nyb2xsT3B0aW9ucy50YXJnZXQsIGF1dG9TY3JvbGwuaXNXaW5kb3csIGRvbnRTY3JvbGwpLFxuICAgICAgICBzY3JvbGxhYmxlQkJveCA9IHZhbGlkQkJveCh7XG4gICAgICBsZWZ0OiBzY3JvbGxhYmxlLmNsaWVudFgsXG4gICAgICB0b3A6IHNjcm9sbGFibGUuY2xpZW50WSxcbiAgICAgIHdpZHRoOiBzY3JvbGxhYmxlLmNsaWVudFdpZHRoLFxuICAgICAgaGVpZ2h0OiBzY3JvbGxhYmxlLmNsaWVudEhlaWdodFxuICAgIH0pO1xuXG4gICAgaWYgKCFkb250U2Nyb2xsKSB7XG4gICAgICBhdXRvU2Nyb2xsLnNjcm9sbFdpZHRoID0gc2Nyb2xsYWJsZS5zY3JvbGxXaWR0aDtcbiAgICAgIGF1dG9TY3JvbGwuc2Nyb2xsSGVpZ2h0ID0gc2Nyb2xsYWJsZS5zY3JvbGxIZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5hdXRvU2Nyb2xsKSB7XG4gICAgICBhdXRvU2Nyb2xsLnNjcm9sbFdpZHRoID0gcHJvcHMuYXV0b1Njcm9sbC5zY3JvbGxXaWR0aDtcbiAgICAgIGF1dG9TY3JvbGwuc2Nyb2xsSGVpZ2h0ID0gcHJvcHMuYXV0b1Njcm9sbC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuXG4gICAgW1snWCcsICdXaWR0aCcsICdsZWZ0JywgJ3JpZ2h0J10sIFsnWScsICdIZWlnaHQnLCAndG9wJywgJ2JvdHRvbSddXS5mb3JFYWNoKGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICB2YXIgeHkgPSBheGlzWzBdLFxuICAgICAgICAgIHdoID0gYXhpc1sxXSxcbiAgICAgICAgICBiYWNrID0gYXhpc1syXSxcbiAgICAgICAgICBmb3J3YXJkID0gYXhpc1szXSxcbiAgICAgICAgICBtYXhBYnMgPSAoYXV0b1Njcm9sbFtcInNjcm9sbFwiLmNvbmNhdCh3aCldIHx8IDApIC0gc2Nyb2xsYWJsZVtcImNsaWVudFwiLmNvbmNhdCh3aCldLFxuICAgICAgICAgIG1pbiA9IGF1dG9TY3JvbGxPcHRpb25zW1wibWluXCIuY29uY2F0KHh5KV0gfHwgMDtcbiAgICAgIHZhciBtYXggPSBpc0Zpbml0ZShhdXRvU2Nyb2xsT3B0aW9uc1tcIm1heFwiLmNvbmNhdCh4eSldKSA/IGF1dG9TY3JvbGxPcHRpb25zW1wibWF4XCIuY29uY2F0KHh5KV0gOiBtYXhBYnM7XG5cbiAgICAgIGlmIChtaW4gPCBtYXggJiYgbWluIDwgbWF4QWJzKSB7XG4gICAgICAgIGlmIChtYXggPiBtYXhBYnMpIHtcbiAgICAgICAgICBtYXggPSBtYXhBYnM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZXMgPSBbXSxcbiAgICAgICAgICAgIGVsZW1lbnRTaXplID0gZWxlbWVudEJCb3hbd2gudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGF1dG9TY3JvbGxPcHRpb25zLnNlbnNpdGl2aXR5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgLy8gbmVhciAtPiBmYXJcbiAgICAgICAgICB2YXIgc2Vuc2l0aXZpdHkgPSBhdXRvU2Nyb2xsT3B0aW9ucy5zZW5zaXRpdml0eVtpXSxcbiAgICAgICAgICAgICAgc3BlZWQgPSBhdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZFtpXTsgLy8gYmFja1xuXG4gICAgICAgICAgbGluZXMucHVzaCh7XG4gICAgICAgICAgICBkaXI6IC0xLFxuICAgICAgICAgICAgc3BlZWQ6IHNwZWVkLFxuICAgICAgICAgICAgcG9zaXRpb246IHNjcm9sbGFibGVCQm94W2JhY2tdICsgc2Vuc2l0aXZpdHlcbiAgICAgICAgICB9KTsgLy8gZm9yd2FyZFxuXG4gICAgICAgICAgbGluZXMucHVzaCh7XG4gICAgICAgICAgICBkaXI6IDEsXG4gICAgICAgICAgICBzcGVlZDogc3BlZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogc2Nyb2xsYWJsZUJCb3hbZm9yd2FyZF0gLSBzZW5zaXRpdml0eSAtIGVsZW1lbnRTaXplXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhdXRvU2Nyb2xsW3h5LnRvTG93ZXJDYXNlKCldID0ge1xuICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgIGxpbmVzOiBsaW5lc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJvcHMuYXV0b1Njcm9sbCA9IGF1dG9TY3JvbGwueCB8fCBhdXRvU2Nyb2xsLnkgPyBhdXRvU2Nyb2xsIDogbnVsbDsgLy8gWy9BVVRPLVNDUk9MTF1cbn1cbi8qKlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuXG5mdW5jdGlvbiBkcmFnRW5kKHByb3BzKSB7XG4gIHNjcm9sbEZyYW1lLnN0b3AoKTsgLy8gW0FVVE8tU0NST0xML11cblxuICBzZXREcmFnZ2FibGVDdXJzb3IocHJvcHMub3B0aW9ucy5oYW5kbGUsIHByb3BzLm9yZ0N1cnNvcik7XG4gIGJvZHkuc3R5bGUuY3Vyc29yID0gY3NzT3JnVmFsdWVCb2R5Q3Vyc29yO1xuXG4gIGlmIChwcm9wcy5vcHRpb25zLnpJbmRleCAhPT0gZmFsc2UpIHtcbiAgICBwcm9wcy5lbGVtZW50U3R5bGUuekluZGV4ID0gcHJvcHMub3JnWkluZGV4O1xuICB9XG5cbiAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0KSB7XG4gICAgYm9keS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF0gPSBjc3NPcmdWYWx1ZUJvZHlVc2VyU2VsZWN0O1xuICB9XG5cbiAgdmFyIGNsYXNzTGlzdCA9IG1DbGFzc0xpc3QocHJvcHMuZWxlbWVudCk7XG5cbiAgaWYgKG1vdmluZ0NsYXNzKSB7XG4gICAgY2xhc3NMaXN0LnJlbW92ZShtb3ZpbmdDbGFzcyk7XG4gIH1cblxuICBpZiAoZHJhZ2dpbmdDbGFzcykge1xuICAgIGNsYXNzTGlzdC5yZW1vdmUoZHJhZ2dpbmdDbGFzcyk7XG4gIH1cblxuICBhY3RpdmVQcm9wcyA9IG51bGw7XG4gIHBvaW50ZXJFdmVudC5jYW5jZWwoKTsgLy8gUmVzZXQgcG9pbnRlciAoYWN0aXZlUHJvcHMgbXVzdCBiZSBudWxsIGJlY2F1c2UgdGhpcyBjYWxscyBlbmRIYW5kbGVyKVxuXG4gIGlmIChwcm9wcy5vbkRyYWdFbmQpIHtcbiAgICBwcm9wcy5vbkRyYWdFbmQoe1xuICAgICAgbGVmdDogcHJvcHMuZWxlbWVudEJCb3gubGVmdCxcbiAgICAgIHRvcDogcHJvcHMuZWxlbWVudEJCb3gudG9wXG4gICAgfSk7XG4gIH1cbn1cbi8qKlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHt7Y2xpZW50WCwgY2xpZW50WX19IHBvaW50ZXJYWSAtIFRoaXMgbWlnaHQgYmUgTW91c2VFdmVudCwgVG91Y2ggb2YgVG91Y2hFdmVudCBvciBPYmplY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGl0IHN0YXJ0ZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBkcmFnU3RhcnQocHJvcHMsIHBvaW50ZXJYWSkge1xuICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocHJvcHMub25EcmFnU3RhcnQgJiYgcHJvcHMub25EcmFnU3RhcnQocG9pbnRlclhZKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYWN0aXZlUHJvcHMpIHtcbiAgICBkcmFnRW5kKGFjdGl2ZVByb3BzKTtcbiAgfSAvLyBhY3RpdmVJdGVtIGlzIG5vcm1hbGx5IG51bGwgYnkgcG9pbnRlckV2ZW50LmVuZC5cblxuXG4gIHNldERyYWdnaW5nQ3Vyc29yKHByb3BzLm9wdGlvbnMuaGFuZGxlKTtcbiAgYm9keS5zdHlsZS5jdXJzb3IgPSBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yIHx8IC8vIElmIGl0IGlzIGBmYWxzZWAgb3IgYCcnYFxuICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwcm9wcy5vcHRpb25zLmhhbmRsZSwgJycpLmN1cnNvcjtcblxuICBpZiAocHJvcHMub3B0aW9ucy56SW5kZXggIT09IGZhbHNlKSB7XG4gICAgcHJvcHMuZWxlbWVudFN0eWxlLnpJbmRleCA9IHByb3BzLm9wdGlvbnMuekluZGV4O1xuICB9XG5cbiAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0KSB7XG4gICAgYm9keS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF0gPSAnbm9uZSc7XG4gIH1cblxuICBpZiAoZHJhZ2dpbmdDbGFzcykge1xuICAgIG1DbGFzc0xpc3QocHJvcHMuZWxlbWVudCkuYWRkKGRyYWdnaW5nQ2xhc3MpO1xuICB9XG5cbiAgYWN0aXZlUHJvcHMgPSBwcm9wcztcbiAgaGFzTW92ZWQgPSBmYWxzZTtcbiAgcG9pbnRlck9mZnNldC5sZWZ0ID0gcHJvcHMuZWxlbWVudEJCb3gubGVmdCAtIChwb2ludGVyWFkuY2xpZW50WCArIHdpbmRvdy5wYWdlWE9mZnNldCk7XG4gIHBvaW50ZXJPZmZzZXQudG9wID0gcHJvcHMuZWxlbWVudEJCb3gudG9wIC0gKHBvaW50ZXJYWS5jbGllbnRZICsgd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdPcHRpb25zIC0gTmV3IG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5cbmZ1bmN0aW9uIF9zZXRPcHRpb25zKHByb3BzLCBuZXdPcHRpb25zKSB7XG4gIHZhciBvcHRpb25zID0gcHJvcHMub3B0aW9ucztcbiAgdmFyIG5lZWRzSW5pdEJCb3g7IC8vIGNvbnRhaW5tZW50XG5cbiAgaWYgKG5ld09wdGlvbnMuY29udGFpbm1lbnQpIHtcbiAgICB2YXIgYkJveDtcblxuICAgIGlmIChpc0VsZW1lbnQobmV3T3B0aW9ucy5jb250YWlubWVudCkpIHtcbiAgICAgIC8vIFNwZWNpZmljIGVsZW1lbnRcbiAgICAgIGlmIChuZXdPcHRpb25zLmNvbnRhaW5tZW50ICE9PSBvcHRpb25zLmNvbnRhaW5tZW50KSB7XG4gICAgICAgIG9wdGlvbnMuY29udGFpbm1lbnQgPSBuZXdPcHRpb25zLmNvbnRhaW5tZW50O1xuICAgICAgICBwcm9wcy5jb250YWlubWVudElzQkJveCA9IGZhbHNlO1xuICAgICAgICBuZWVkc0luaXRCQm94ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChiQm94ID0gdmFsaWRQUEJCb3goY29weVRyZWUobmV3T3B0aW9ucy5jb250YWlubWVudCkpKSAmJiAvLyBiQm94XG4gICAgaGFzQ2hhbmdlZChiQm94LCBvcHRpb25zLmNvbnRhaW5tZW50KSkge1xuICAgICAgb3B0aW9ucy5jb250YWlubWVudCA9IGJCb3g7XG4gICAgICBwcm9wcy5jb250YWlubWVudElzQkJveCA9IHRydWU7XG4gICAgICBuZWVkc0luaXRCQm94ID0gdHJ1ZTtcbiAgICB9XG4gIH0gLy8gW1NOQVBdXG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IFNuYXBPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7U25hcFRhcmdldE9wdGlvbnNbXX0gdGFyZ2V0c1xuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2dyYXZpdHldXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29ybmVyXVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3NpZGVdXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NlbnRlcl1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtlZGdlXVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Jhc2VdXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBTbmFwVGFyZ2V0T3B0aW9uc1xuICAgKiBAcHJvcGVydHkgeyhudW1iZXJ8c3RyaW5nKX0gW3hdIC0gcGl4ZWxzIHwgJzxuPiUnIHwge3N0YXJ0LCBlbmR9IHwge3N0ZXAsIHN0YXJ0LCBlbmR9XG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxzdHJpbmcpfSBbeV1cbiAgICogQHByb3BlcnR5IHsoRWxlbWVudHxPYmplY3QpfSBbYm91bmRpbmdCb3hdIC0gT2JqZWN0IGhhcyBwcm9wZXJ0aWVzIHRoYXQgYXJlIHN0cmluZyBvciBudW1iZXIgZnJvbSBQUEJCb3guXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3Jhdml0eV1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb3JuZXJdXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2lkZV1cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbY2VudGVyXVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2VkZ2VdXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYmFzZV1cbiAgICovXG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IFBhcnNlZFNuYXBUYXJnZXRcbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeF0gLSAoaW5wdXQ6IHBpeGVscyB8ICc8bj4lJylcbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeV1cbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeFN0YXJ0XSAtIChpbnB1dDoge3N0YXJ0LCBlbmR9IHwge3N0ZXAsIHN0YXJ0LCBlbmR9KVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt4RW5kXVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt4U3RlcF0gLSAoaW5wdXQ6IHtzdGVwLCBzdGFydCwgZW5kfSlcbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeVN0YXJ0XVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt5RW5kXVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt5U3RlcF1cbiAgICogQHByb3BlcnR5IHtFbGVtZW50fSBbZWxlbWVudF1cbiAgICogQHByb3BlcnR5IHtQUEJCb3h9IFtwcEJCb3hdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmF2aXR5XG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGNvcm5lcnNcbiAgICogQHByb3BlcnR5IHtzdHJpbmdbXX0gc2lkZXNcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBjZW50ZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmdbXX0gZWRnZXNcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IGJhc2VcbiAgICovXG4gIC8vIE5vcm1hbGl6ZSBgZ3Jhdml0eWAsIGBjb3JuZXJgLCBgc2lkZWAsIGBjZW50ZXJgLCBgZWRnZWAsIGBiYXNlYFxuXG5cbiAgZnVuY3Rpb24gY29tbW9uU25hcE9wdGlvbnMob3B0aW9ucywgbmV3T3B0aW9ucykge1xuICAgIGZ1bmN0aW9uIGNsZWFuU3RyaW5nKGluU3RyaW5nKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGluU3RyaW5nID09PSAnc3RyaW5nJyA/IGluU3RyaW5nLnJlcGxhY2UoL1ssIF0rL2csICcgJykudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuICAgIH0gLy8gZ3Jhdml0eVxuXG5cbiAgICBpZiAoaXNGaW5pdGUobmV3T3B0aW9ucy5ncmF2aXR5KSAmJiBuZXdPcHRpb25zLmdyYXZpdHkgPiAwKSB7XG4gICAgICBvcHRpb25zLmdyYXZpdHkgPSBuZXdPcHRpb25zLmdyYXZpdHk7XG4gICAgfSAvLyBjb3JuZXJcblxuXG4gICAgdmFyIGNvcm5lciA9IGNsZWFuU3RyaW5nKG5ld09wdGlvbnMuY29ybmVyKTtcblxuICAgIGlmIChjb3JuZXIpIHtcbiAgICAgIGlmIChjb3JuZXIgIT09ICdhbGwnKSB7XG4gICAgICAgIHZhciBhZGRlZCA9IHt9LFxuICAgICAgICAgICAgY29ybmVycyA9IGNvcm5lci5zcGxpdCgvXFxzLykucmVkdWNlKGZ1bmN0aW9uIChjb3JuZXJzLCBjb3JuZXIpIHtcbiAgICAgICAgICBjb3JuZXIgPSBjb3JuZXIudHJpbSgpLnJlcGxhY2UoL14oLikuKj8tKC4pLiokLywgJyQxJDInKTtcblxuICAgICAgICAgIGlmICgoY29ybmVyID0gY29ybmVyID09PSAndGwnIHx8IGNvcm5lciA9PT0gJ2x0JyA/ICd0bCcgOiBjb3JuZXIgPT09ICd0cicgfHwgY29ybmVyID09PSAncnQnID8gJ3RyJyA6IGNvcm5lciA9PT0gJ2JsJyB8fCBjb3JuZXIgPT09ICdsYicgPyAnYmwnIDogY29ybmVyID09PSAnYnInIHx8IGNvcm5lciA9PT0gJ3JiJyA/ICdicicgOiBudWxsKSAmJiAhYWRkZWRbY29ybmVyXSkge1xuICAgICAgICAgICAgY29ybmVycy5wdXNoKGNvcm5lcik7XG4gICAgICAgICAgICBhZGRlZFtjb3JuZXJdID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gY29ybmVycztcbiAgICAgICAgfSwgW10pLFxuICAgICAgICAgICAgY29ybmVyc0xlbiA9IGNvcm5lcnMubGVuZ3RoO1xuICAgICAgICBjb3JuZXIgPSAhY29ybmVyc0xlbiA/IG51bGwgOiBjb3JuZXJzTGVuID09PSA0ID8gJ2FsbCcgOiBjb3JuZXJzLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvcm5lcikge1xuICAgICAgICBvcHRpb25zLmNvcm5lciA9IGNvcm5lcjtcbiAgICAgIH1cbiAgICB9IC8vIHNpZGVcblxuXG4gICAgdmFyIHNpZGUgPSBjbGVhblN0cmluZyhuZXdPcHRpb25zLnNpZGUpO1xuXG4gICAgaWYgKHNpZGUpIHtcbiAgICAgIGlmIChzaWRlID09PSAnc3RhcnQnIHx8IHNpZGUgPT09ICdlbmQnIHx8IHNpZGUgPT09ICdib3RoJykge1xuICAgICAgICBvcHRpb25zLnNpZGUgPSBzaWRlO1xuICAgICAgfSBlbHNlIGlmIChzaWRlID09PSAnc3RhcnQgZW5kJyB8fCBzaWRlID09PSAnZW5kIHN0YXJ0Jykge1xuICAgICAgICBvcHRpb25zLnNpZGUgPSAnYm90aCc7XG4gICAgICB9XG4gICAgfSAvLyBjZW50ZXJcblxuXG4gICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLmNlbnRlciA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBvcHRpb25zLmNlbnRlciA9IG5ld09wdGlvbnMuY2VudGVyO1xuICAgIH0gLy8gZWRnZVxuXG5cbiAgICB2YXIgZWRnZSA9IGNsZWFuU3RyaW5nKG5ld09wdGlvbnMuZWRnZSk7XG5cbiAgICBpZiAoZWRnZSkge1xuICAgICAgaWYgKGVkZ2UgPT09ICdpbnNpZGUnIHx8IGVkZ2UgPT09ICdvdXRzaWRlJyB8fCBlZGdlID09PSAnYm90aCcpIHtcbiAgICAgICAgb3B0aW9ucy5lZGdlID0gZWRnZTtcbiAgICAgIH0gZWxzZSBpZiAoZWRnZSA9PT0gJ2luc2lkZSBvdXRzaWRlJyB8fCBlZGdlID09PSAnb3V0c2lkZSBpbnNpZGUnKSB7XG4gICAgICAgIG9wdGlvbnMuZWRnZSA9ICdib3RoJztcbiAgICAgIH1cbiAgICB9IC8vIGJhc2VcblxuXG4gICAgdmFyIGJhc2UgPSB0eXBlb2YgbmV3T3B0aW9ucy5iYXNlID09PSAnc3RyaW5nJyA/IG5ld09wdGlvbnMuYmFzZS50cmltKCkudG9Mb3dlckNhc2UoKSA6IG51bGw7XG5cbiAgICBpZiAoYmFzZSAmJiAoYmFzZSA9PT0gJ2NvbnRhaW5tZW50JyB8fCBiYXNlID09PSAnZG9jdW1lbnQnKSkge1xuICAgICAgb3B0aW9ucy5iYXNlID0gYmFzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfSAvLyBzbmFwXG5cblxuICBpZiAobmV3T3B0aW9ucy5zbmFwICE9IG51bGwpIHtcbiAgICB2YXIgbmV3U25hcE9wdGlvbnMgPSBpc09iamVjdChuZXdPcHRpb25zLnNuYXApICYmIG5ld09wdGlvbnMuc25hcC50YXJnZXRzICE9IG51bGwgPyBuZXdPcHRpb25zLnNuYXAgOiB7XG4gICAgICB0YXJnZXRzOiBuZXdPcHRpb25zLnNuYXBcbiAgICB9LFxuICAgICAgICBzbmFwVGFyZ2V0c09wdGlvbnMgPSBbXSxcbiAgICAgICAgc25hcE9wdGlvbnMgPSBjb21tb25TbmFwT3B0aW9ucyh7XG4gICAgICB0YXJnZXRzOiBzbmFwVGFyZ2V0c09wdGlvbnNcbiAgICB9LCBuZXdTbmFwT3B0aW9ucyk7IC8vIFNldCBkZWZhdWx0IG9wdGlvbnMgaW50byB0b3AgbGV2ZWwuXG5cbiAgICBpZiAoIXNuYXBPcHRpb25zLmdyYXZpdHkpIHtcbiAgICAgIHNuYXBPcHRpb25zLmdyYXZpdHkgPSBTTkFQX0dSQVZJVFk7XG4gICAgfVxuXG4gICAgaWYgKCFzbmFwT3B0aW9ucy5jb3JuZXIpIHtcbiAgICAgIHNuYXBPcHRpb25zLmNvcm5lciA9IFNOQVBfQ09STkVSO1xuICAgIH1cblxuICAgIGlmICghc25hcE9wdGlvbnMuc2lkZSkge1xuICAgICAgc25hcE9wdGlvbnMuc2lkZSA9IFNOQVBfU0lERTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNuYXBPcHRpb25zLmNlbnRlciAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBzbmFwT3B0aW9ucy5jZW50ZXIgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXNuYXBPcHRpb25zLmVkZ2UpIHtcbiAgICAgIHNuYXBPcHRpb25zLmVkZ2UgPSBTTkFQX0VER0U7XG4gICAgfVxuXG4gICAgaWYgKCFzbmFwT3B0aW9ucy5iYXNlKSB7XG4gICAgICBzbmFwT3B0aW9ucy5iYXNlID0gU05BUF9CQVNFO1xuICAgIH1cblxuICAgIHZhciBwYXJzZWRTbmFwVGFyZ2V0cyA9IChBcnJheS5pc0FycmF5KG5ld1NuYXBPcHRpb25zLnRhcmdldHMpID8gbmV3U25hcE9wdGlvbnMudGFyZ2V0cyA6IFtuZXdTbmFwT3B0aW9ucy50YXJnZXRzXSkucmVkdWNlKGZ1bmN0aW9uIChwYXJzZWRTbmFwVGFyZ2V0cywgdGFyZ2V0KSB7XG4gICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFNuYXBUYXJnZXRzO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFbGVtZW50UHJlID0gaXNFbGVtZW50KHRhcmdldCksXG4gICAgICAgICAgLy8gUHJlLWNoZWNrIGRpcmVjdCB2YWx1ZVxuICAgICAgcHBCQm94UHJlID0gdmFsaWRQUEJCb3goY29weVRyZWUodGFyZ2V0KSksXG4gICAgICAgICAgLy8gUHJlLWNoZWNrIGRpcmVjdCB2YWx1ZVxuICAgICAgbmV3U25hcFRhcmdldE9wdGlvbnMgPSBpc0VsZW1lbnRQcmUgfHwgcHBCQm94UHJlID8ge1xuICAgICAgICBib3VuZGluZ0JveDogdGFyZ2V0XG4gICAgICB9IDogLy8gRGlyZWN0IEVsZW1lbnQgfCBQUEJCb3hcbiAgICAgIGlzT2JqZWN0KHRhcmdldCkgJiYgdGFyZ2V0LnN0YXJ0ID09IG51bGwgJiYgdGFyZ2V0LmVuZCA9PSBudWxsICYmIHRhcmdldC5zdGVwID09IG51bGwgPyB0YXJnZXQgOiAvLyBTbmFwVGFyZ2V0T3B0aW9uc1xuICAgICAge1xuICAgICAgICB4OiB0YXJnZXQsXG4gICAgICAgIHk6IHRhcmdldFxuICAgICAgfSxcbiAgICAgICAgICAvLyBPdGhlcnMsIGl0IG1pZ2h0IGJlIHtzdGVwLCBzdGFydCwgZW5kfVxuICAgICAgZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cyA9IFtdLFxuICAgICAgICAgIHNuYXBUYXJnZXRPcHRpb25zID0ge30sXG4gICAgICAgICAgbmV3T3B0aW9uc0JCb3ggPSBuZXdTbmFwVGFyZ2V0T3B0aW9ucy5ib3VuZGluZ0JveDtcbiAgICAgIHZhciBwcEJCb3g7XG5cbiAgICAgIGlmIChpc0VsZW1lbnRQcmUgfHwgaXNFbGVtZW50KG5ld09wdGlvbnNCQm94KSkge1xuICAgICAgICAvLyBFbGVtZW50XG4gICAgICAgIGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogbmV3T3B0aW9uc0JCb3hcbiAgICAgICAgfSk7XG4gICAgICAgIHNuYXBUYXJnZXRPcHRpb25zLmJvdW5kaW5nQm94ID0gbmV3T3B0aW9uc0JCb3g7XG4gICAgICB9IGVsc2UgaWYgKHBwQkJveCA9IHBwQkJveFByZSB8fCB2YWxpZFBQQkJveChjb3B5VHJlZShuZXdPcHRpb25zQkJveCkpKSB7XG4gICAgICAgIC8vIE9iamVjdCAtPiBQUEJCb3hcbiAgICAgICAgZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cy5wdXNoKHtcbiAgICAgICAgICBwcEJCb3g6IHBwQkJveFxuICAgICAgICB9KTtcbiAgICAgICAgc25hcFRhcmdldE9wdGlvbnMuYm91bmRpbmdCb3ggPSBwcEJCb3gyT3B0aW9uT2JqZWN0KHBwQkJveCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaW52YWxpZDsgLy8gYHRydWVgIGlmIHZhbGlkIFBQVmFsdWUgd2FzIGdpdmVuIGJ1dCB0aGUgY29udGFpbmVkIHZhbHVlIGlzIGludmFsaWQuXG5cbiAgICAgICAgdmFyIHBhcnNlZFhZID0gWyd4JywgJ3knXS5yZWR1Y2UoZnVuY3Rpb24gKHBhcnNlZFhZLCBheGlzKSB7XG4gICAgICAgICAgdmFyIG5ld09wdGlvbnNYWSA9IG5ld1NuYXBUYXJnZXRPcHRpb25zW2F4aXNdO1xuICAgICAgICAgIHZhciBwcFZhbHVlO1xuXG4gICAgICAgICAgaWYgKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUobmV3T3B0aW9uc1hZKSkge1xuICAgICAgICAgICAgLy8gcGl4ZWxzIHwgJzxuPiUnXG4gICAgICAgICAgICBwYXJzZWRYWVtheGlzXSA9IHBwVmFsdWU7XG4gICAgICAgICAgICBzbmFwVGFyZ2V0T3B0aW9uc1theGlzXSA9IHBwVmFsdWUyT3B0aW9uVmFsdWUocHBWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHtzdGFydCwgZW5kfSB8IHtzdGVwLCBzdGFydCwgZW5kfVxuICAgICAgICAgICAgdmFyIHN0YXJ0LCBlbmQsIHN0ZXA7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChuZXdPcHRpb25zWFkpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0ID0gdmFsaWRQUFZhbHVlKG5ld09wdGlvbnNYWS5zdGFydCk7XG4gICAgICAgICAgICAgIGVuZCA9IHZhbGlkUFBWYWx1ZShuZXdPcHRpb25zWFkuZW5kKTtcbiAgICAgICAgICAgICAgc3RlcCA9IHZhbGlkUFBWYWx1ZShuZXdPcHRpb25zWFkuc3RlcCk7XG5cbiAgICAgICAgICAgICAgaWYgKHN0YXJ0ICYmIGVuZCAmJiBzdGFydC5pc1JhdGlvID09PSBlbmQuaXNSYXRpbyAmJiBzdGFydC52YWx1ZSA+PSBlbmQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCA+PSBlbmRcbiAgICAgICAgICAgICAgICBpbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdGFydCA9IHBhcnNlZFhZW1wiXCIuY29uY2F0KGF4aXMsIFwiU3RhcnRcIildID0gc3RhcnQgfHwge1xuICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgaXNSYXRpbzogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbmQgPSBwYXJzZWRYWVtcIlwiLmNvbmNhdChheGlzLCBcIkVuZFwiKV0gPSBlbmQgfHwge1xuICAgICAgICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgICAgICAgaXNSYXRpbzogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNuYXBUYXJnZXRPcHRpb25zW2F4aXNdID0ge1xuICAgICAgICAgICAgICBzdGFydDogcHBWYWx1ZTJPcHRpb25WYWx1ZShzdGFydCksXG4gICAgICAgICAgICAgIGVuZDogcHBWYWx1ZTJPcHRpb25WYWx1ZShlbmQpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgICAgICBpZiAoc3RlcC5pc1JhdGlvID8gc3RlcC52YWx1ZSA+IDAgOiBzdGVwLnZhbHVlID49IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGVwID4gMCUgfHwgc3RlcCA+PSAycHhcbiAgICAgICAgICAgICAgICBwYXJzZWRYWVtcIlwiLmNvbmNhdChheGlzLCBcIlN0ZXBcIildID0gc3RlcDtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0T3B0aW9uc1theGlzXS5zdGVwID0gcHBWYWx1ZTJPcHRpb25WYWx1ZShzdGVwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBwYXJzZWRYWTtcbiAgICAgICAgfSwge30pO1xuXG4gICAgICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlZFNuYXBUYXJnZXRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlZFhZLnhTdGFydCAmJiAhcGFyc2VkWFkueFN0ZXAgJiYgcGFyc2VkWFkueVN0YXJ0ICYmICFwYXJzZWRYWS55U3RlcCkge1xuICAgICAgICAgIC8vIEV4cGFuZCBpbnRvIDQgbGluZXMuIFRoaXMgaXMgbm90IEJCb3gsIGFuZCBgZWRnZWAgaXMgaWdub3JlZC5cbiAgICAgICAgICBleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzLnB1c2goe1xuICAgICAgICAgICAgeFN0YXJ0OiBwYXJzZWRYWS54U3RhcnQsXG4gICAgICAgICAgICB4RW5kOiBwYXJzZWRYWS54RW5kLFxuICAgICAgICAgICAgeTogcGFyc2VkWFkueVN0YXJ0XG4gICAgICAgICAgfSwgLy8gVG9wXG4gICAgICAgICAge1xuICAgICAgICAgICAgeFN0YXJ0OiBwYXJzZWRYWS54U3RhcnQsXG4gICAgICAgICAgICB4RW5kOiBwYXJzZWRYWS54RW5kLFxuICAgICAgICAgICAgeTogcGFyc2VkWFkueUVuZFxuICAgICAgICAgIH0sIC8vIEJvdHRvbVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IHBhcnNlZFhZLnhTdGFydCxcbiAgICAgICAgICAgIHlTdGFydDogcGFyc2VkWFkueVN0YXJ0LFxuICAgICAgICAgICAgeUVuZDogcGFyc2VkWFkueUVuZFxuICAgICAgICAgIH0sIC8vIExlZnRcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiBwYXJzZWRYWS54RW5kLFxuICAgICAgICAgICAgeVN0YXJ0OiBwYXJzZWRYWS55U3RhcnQsXG4gICAgICAgICAgICB5RW5kOiBwYXJzZWRYWS55RW5kXG4gICAgICAgICAgfSAvLyBSaWdodFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cy5wdXNoKHBhcnNlZFhZKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgICAgc25hcFRhcmdldHNPcHRpb25zLnB1c2goY29tbW9uU25hcE9wdGlvbnMoc25hcFRhcmdldE9wdGlvbnMsIG5ld1NuYXBUYXJnZXRPcHRpb25zKSk7IC8vIENvcHkgY29tbW9uIFNuYXBPcHRpb25zXG5cbiAgICAgICAgdmFyIGNvcm5lciA9IHNuYXBUYXJnZXRPcHRpb25zLmNvcm5lciB8fCBzbmFwT3B0aW9ucy5jb3JuZXIsXG4gICAgICAgICAgICBzaWRlID0gc25hcFRhcmdldE9wdGlvbnMuc2lkZSB8fCBzbmFwT3B0aW9ucy5zaWRlLFxuICAgICAgICAgICAgZWRnZSA9IHNuYXBUYXJnZXRPcHRpb25zLmVkZ2UgfHwgc25hcE9wdGlvbnMuZWRnZSxcbiAgICAgICAgICAgIGNvbW1vbk9wdGlvbnMgPSB7XG4gICAgICAgICAgZ3Jhdml0eTogc25hcFRhcmdldE9wdGlvbnMuZ3Jhdml0eSB8fCBzbmFwT3B0aW9ucy5ncmF2aXR5LFxuICAgICAgICAgIGJhc2U6IHNuYXBUYXJnZXRPcHRpb25zLmJhc2UgfHwgc25hcE9wdGlvbnMuYmFzZSxcbiAgICAgICAgICBjZW50ZXI6IHR5cGVvZiBzbmFwVGFyZ2V0T3B0aW9ucy5jZW50ZXIgPT09ICdib29sZWFuJyA/IHNuYXBUYXJnZXRPcHRpb25zLmNlbnRlciA6IHNuYXBPcHRpb25zLmNlbnRlcixcbiAgICAgICAgICBjb3JuZXJzOiBjb3JuZXIgPT09ICdhbGwnID8gU05BUF9BTExfQ09STkVSUyA6IGNvcm5lci5zcGxpdCgnICcpLFxuICAgICAgICAgIC8vIFNwbGl0XG4gICAgICAgICAgc2lkZXM6IHNpZGUgPT09ICdib3RoJyA/IFNOQVBfQUxMX1NJREVTIDogW3NpZGVdLFxuICAgICAgICAgIC8vIFNwbGl0XG4gICAgICAgICAgZWRnZXM6IGVkZ2UgPT09ICdib3RoJyA/IFNOQVBfQUxMX0VER0VTIDogW2VkZ2VdIC8vIFNwbGl0XG5cbiAgICAgICAgfTtcbiAgICAgICAgZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJzZWRTbmFwVGFyZ2V0KSB7XG4gICAgICAgICAgLy8gU2V0IGNvbW1vbiBTbmFwT3B0aW9uc1xuICAgICAgICAgIFsnZ3Jhdml0eScsICdjb3JuZXJzJywgJ3NpZGVzJywgJ2NlbnRlcicsICdlZGdlcycsICdiYXNlJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICBwYXJzZWRTbmFwVGFyZ2V0W29wdGlvbl0gPSBjb21tb25PcHRpb25zW29wdGlvbl07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcGFyc2VkU25hcFRhcmdldHMucHVzaChwYXJzZWRTbmFwVGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJzZWRTbmFwVGFyZ2V0cztcbiAgICB9LCBbXSk7XG5cbiAgICBpZiAocGFyc2VkU25hcFRhcmdldHMubGVuZ3RoKSB7XG4gICAgICBvcHRpb25zLnNuYXAgPSBzbmFwT3B0aW9uczsgLy8gVXBkYXRlIGFsd2F5c1xuXG4gICAgICBpZiAoaGFzQ2hhbmdlZChwYXJzZWRTbmFwVGFyZ2V0cywgcHJvcHMucGFyc2VkU25hcFRhcmdldHMpKSB7XG4gICAgICAgIHByb3BzLnBhcnNlZFNuYXBUYXJnZXRzID0gcGFyc2VkU25hcFRhcmdldHM7XG4gICAgICAgIG5lZWRzSW5pdEJCb3ggPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChuZXdPcHRpb25zLmhhc093blByb3BlcnR5KCdzbmFwJykgJiYgcHJvcHMucGFyc2VkU25hcFRhcmdldHMpIHtcbiAgICBvcHRpb25zLnNuYXAgPSBwcm9wcy5wYXJzZWRTbmFwVGFyZ2V0cyA9IHByb3BzLnNuYXBUYXJnZXRzID0gdm9pZCAwO1xuICB9IC8vIFsvU05BUF1cbiAgLy8gW0FVVE8tU0NST0xMXVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBBdXRvU2Nyb2xsT3B0aW9uc1xuICAgKiBAcHJvcGVydHkgeyhFbGVtZW50fFdpbmRvdyl9IHRhcmdldFxuICAgKiBAcHJvcGVydHkge0FycmF5fSBzcGVlZFxuICAgKiBAcHJvcGVydHkge0FycmF5fSBzZW5zaXRpdml0eVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW21pblhdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4WF1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5ZXVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW21heFldXG4gICAqL1xuICAvLyBhdXRvU2Nyb2xsXG5cblxuICBpZiAobmV3T3B0aW9ucy5hdXRvU2Nyb2xsKSB7XG4gICAgdmFyIG5ld0F1dG9TY3JvbGxPcHRpb25zID0gaXNPYmplY3QobmV3T3B0aW9ucy5hdXRvU2Nyb2xsKSA/IG5ld09wdGlvbnMuYXV0b1Njcm9sbCA6IHtcbiAgICAgIHRhcmdldDogbmV3T3B0aW9ucy5hdXRvU2Nyb2xsID09PSB0cnVlID8gd2luZG93IDogbmV3T3B0aW9ucy5hdXRvU2Nyb2xsXG4gICAgfSxcbiAgICAgICAgYXV0b1Njcm9sbE9wdGlvbnMgPSB7fTsgLy8gdGFyZ2V0XG5cbiAgICBhdXRvU2Nyb2xsT3B0aW9ucy50YXJnZXQgPSBpc0VsZW1lbnQobmV3QXV0b1Njcm9sbE9wdGlvbnMudGFyZ2V0KSA/IG5ld0F1dG9TY3JvbGxPcHRpb25zLnRhcmdldCA6IHdpbmRvdzsgLy8gc3BlZWRcblxuICAgIGF1dG9TY3JvbGxPcHRpb25zLnNwZWVkID0gW107XG4gICAgKEFycmF5LmlzQXJyYXkobmV3QXV0b1Njcm9sbE9wdGlvbnMuc3BlZWQpID8gbmV3QXV0b1Njcm9sbE9wdGlvbnMuc3BlZWQgOiBbbmV3QXV0b1Njcm9sbE9wdGlvbnMuc3BlZWRdKS5ldmVyeShmdW5jdGlvbiAoc3BlZWQsIGkpIHtcbiAgICAgIGlmIChpIDw9IDIgJiYgaXNGaW5pdGUoc3BlZWQpKSB7XG4gICAgICAgIGF1dG9TY3JvbGxPcHRpb25zLnNwZWVkW2ldID0gc3BlZWQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBpZiAoIWF1dG9TY3JvbGxPcHRpb25zLnNwZWVkLmxlbmd0aCkge1xuICAgICAgYXV0b1Njcm9sbE9wdGlvbnMuc3BlZWQgPSBBVVRPU0NST0xMX1NQRUVEO1xuICAgIH0gLy8gc2Vuc2l0aXZpdHlcblxuXG4gICAgdmFyIG5ld1NlbnNpdGl2aXR5ID0gQXJyYXkuaXNBcnJheShuZXdBdXRvU2Nyb2xsT3B0aW9ucy5zZW5zaXRpdml0eSkgPyBuZXdBdXRvU2Nyb2xsT3B0aW9ucy5zZW5zaXRpdml0eSA6IFtuZXdBdXRvU2Nyb2xsT3B0aW9ucy5zZW5zaXRpdml0eV07XG4gICAgYXV0b1Njcm9sbE9wdGlvbnMuc2Vuc2l0aXZpdHkgPSBhdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZC5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIHJldHVybiBpc0Zpbml0ZShuZXdTZW5zaXRpdml0eVtpXSkgPyBuZXdTZW5zaXRpdml0eVtpXSA6IEFVVE9TQ1JPTExfU0VOU0lUSVZJVFlbaV07XG4gICAgfSk7IC8vIG1pbiosIG1heCpcblxuICAgIFsnWCcsICdZJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICB2YXIgb3B0aW9uTWluID0gXCJtaW5cIi5jb25jYXQob3B0aW9uKSxcbiAgICAgICAgICBvcHRpb25NYXggPSBcIm1heFwiLmNvbmNhdChvcHRpb24pO1xuXG4gICAgICBpZiAoaXNGaW5pdGUobmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWluXSkgJiYgbmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWluXSA+PSAwKSB7XG4gICAgICAgIGF1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1pbl0gPSBuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NaW5dO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGaW5pdGUobmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWF4XSkgJiYgbmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWF4XSA+PSAwICYmICghYXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWluXSB8fCBuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NYXhdID49IGF1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1pbl0pKSB7XG4gICAgICAgIGF1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1heF0gPSBuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NYXhdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGhhc0NoYW5nZWQoYXV0b1Njcm9sbE9wdGlvbnMsIG9wdGlvbnMuYXV0b1Njcm9sbCkpIHtcbiAgICAgIG9wdGlvbnMuYXV0b1Njcm9sbCA9IGF1dG9TY3JvbGxPcHRpb25zO1xuICAgICAgbmVlZHNJbml0QkJveCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5ld09wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F1dG9TY3JvbGwnKSkge1xuICAgIGlmIChvcHRpb25zLmF1dG9TY3JvbGwpIHtcbiAgICAgIG5lZWRzSW5pdEJCb3ggPSB0cnVlO1xuICAgIH1cblxuICAgIG9wdGlvbnMuYXV0b1Njcm9sbCA9IHZvaWQgMDtcbiAgfSAvLyBbL0FVVE8tU0NST0xMXVxuXG5cbiAgaWYgKG5lZWRzSW5pdEJCb3gpIHtcbiAgICBpbml0QkJveChwcm9wcyk7XG4gIH0gLy8gaGFuZGxlXG5cblxuICBpZiAoaXNFbGVtZW50KG5ld09wdGlvbnMuaGFuZGxlKSAmJiBuZXdPcHRpb25zLmhhbmRsZSAhPT0gb3B0aW9ucy5oYW5kbGUpIHtcbiAgICBpZiAob3B0aW9ucy5oYW5kbGUpIHtcbiAgICAgIC8vIFJlc3RvcmVcbiAgICAgIG9wdGlvbnMuaGFuZGxlLnN0eWxlLmN1cnNvciA9IHByb3BzLm9yZ0N1cnNvcjtcblxuICAgICAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0KSB7XG4gICAgICAgIG9wdGlvbnMuaGFuZGxlLnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XSA9IHByb3BzLm9yZ1VzZXJTZWxlY3Q7XG4gICAgICB9XG5cbiAgICAgIHBvaW50ZXJFdmVudC5yZW1vdmVTdGFydEhhbmRsZXIob3B0aW9ucy5oYW5kbGUsIHByb3BzLnBvaW50ZXJFdmVudEhhbmRsZXJJZCk7XG4gICAgfVxuXG4gICAgdmFyIGhhbmRsZSA9IG9wdGlvbnMuaGFuZGxlID0gbmV3T3B0aW9ucy5oYW5kbGU7XG4gICAgcHJvcHMub3JnQ3Vyc29yID0gaGFuZGxlLnN0eWxlLmN1cnNvcjtcbiAgICBzZXREcmFnZ2FibGVDdXJzb3IoaGFuZGxlLCBwcm9wcy5vcmdDdXJzb3IpO1xuXG4gICAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0KSB7XG4gICAgICBwcm9wcy5vcmdVc2VyU2VsZWN0ID0gaGFuZGxlLnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XTtcbiAgICAgIGhhbmRsZS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF0gPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgcG9pbnRlckV2ZW50LmFkZFN0YXJ0SGFuZGxlcihoYW5kbGUsIHByb3BzLnBvaW50ZXJFdmVudEhhbmRsZXJJZCk7XG4gIH0gLy8gekluZGV4XG5cblxuICBpZiAoaXNGaW5pdGUobmV3T3B0aW9ucy56SW5kZXgpIHx8IG5ld09wdGlvbnMuekluZGV4ID09PSBmYWxzZSkge1xuICAgIG9wdGlvbnMuekluZGV4ID0gbmV3T3B0aW9ucy56SW5kZXg7XG5cbiAgICBpZiAocHJvcHMgPT09IGFjdGl2ZVByb3BzKSB7XG4gICAgICBwcm9wcy5lbGVtZW50U3R5bGUuekluZGV4ID0gb3B0aW9ucy56SW5kZXggPT09IGZhbHNlID8gcHJvcHMub3JnWkluZGV4IDogb3B0aW9ucy56SW5kZXg7XG4gICAgfVxuICB9IC8vIGxlZnQvdG9wXG5cblxuICB2YXIgcG9zaXRpb24gPSB7XG4gICAgbGVmdDogcHJvcHMuZWxlbWVudEJCb3gubGVmdCxcbiAgICB0b3A6IHByb3BzLmVsZW1lbnRCQm94LnRvcFxuICB9O1xuICB2YXIgbmVlZHNNb3ZlO1xuXG4gIGlmIChpc0Zpbml0ZShuZXdPcHRpb25zLmxlZnQpICYmIG5ld09wdGlvbnMubGVmdCAhPT0gcG9zaXRpb24ubGVmdCkge1xuICAgIHBvc2l0aW9uLmxlZnQgPSBuZXdPcHRpb25zLmxlZnQ7XG4gICAgbmVlZHNNb3ZlID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZShuZXdPcHRpb25zLnRvcCkgJiYgbmV3T3B0aW9ucy50b3AgIT09IHBvc2l0aW9uLnRvcCkge1xuICAgIHBvc2l0aW9uLnRvcCA9IG5ld09wdGlvbnMudG9wO1xuICAgIG5lZWRzTW92ZSA9IHRydWU7XG4gIH1cblxuICBpZiAobmVlZHNNb3ZlKSB7XG4gICAgbW92ZShwcm9wcywgcG9zaXRpb24pO1xuICB9IC8vIEV2ZW50IGxpc3RlbmVyc1xuXG5cbiAgWydvbkRyYWcnLCAnb25Nb3ZlJywgJ29uRHJhZ1N0YXJ0JywgJ29uTW92ZVN0YXJ0JywgJ29uRHJhZ0VuZCddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgIGlmICh0eXBlb2YgbmV3T3B0aW9uc1tvcHRpb25dID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvcHRpb25zW29wdGlvbl0gPSBuZXdPcHRpb25zW29wdGlvbl07XG4gICAgICBwcm9wc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dLmJpbmQocHJvcHMuaW5zKTtcbiAgICB9IGVsc2UgaWYgKG5ld09wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSAmJiBuZXdPcHRpb25zW29wdGlvbl0gPT0gbnVsbCkge1xuICAgICAgb3B0aW9uc1tvcHRpb25dID0gcHJvcHNbb3B0aW9uXSA9IHZvaWQgMDtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgUGxhaW5EcmFnZ2FibGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgYFBsYWluRHJhZ2dhYmxlYCBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gUGxhaW5EcmFnZ2FibGUoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGFpbkRyYWdnYWJsZSk7XG5cbiAgICB2YXIgcHJvcHMgPSB7XG4gICAgICBpbnM6IHRoaXMsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC8vIEluaXRpYWwgb3B0aW9ucyAobm90IGRlZmF1bHQpXG4gICAgICAgIHpJbmRleDogWklOREVYIC8vIEluaXRpYWwgc3RhdGUuXG5cbiAgICAgIH0sXG4gICAgICBkaXNhYmxlZDogZmFsc2VcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX2lkJywge1xuICAgICAgdmFsdWU6ICsraW5zSWRcbiAgICB9KTtcbiAgICBwcm9wcy5faWQgPSB0aGlzLl9pZDtcbiAgICBpbnNQcm9wc1t0aGlzLl9pZF0gPSBwcm9wcztcblxuICAgIGlmICghaXNFbGVtZW50KGVsZW1lbnQpIHx8IGVsZW1lbnQgPT09IGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBlbGVtZW50IGlzIG5vdCBhY2NlcHRlZC4nKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9IGVsc2UgaWYgKCFpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdmFyIGdwdVRyaWdnZXIgPSB0cnVlOyAvLyBbU1ZHXVxuXG4gICAgdmFyIG93bmVyU3ZnOyAvLyBTVkdFbGVtZW50IHdoaWNoIGlzIG5vdCByb290IHZpZXdcblxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiAob3duZXJTdmcgPSBlbGVtZW50Lm93bmVyU1ZHRWxlbWVudCkpIHtcbiAgICAgIC8vIEl0IG1lYW5zIGBpbnN0YW5jZW9mIFNWR0xvY2F0YWJsZWAgKG1hbnkgYnJvd3NlcnMgZG9uJ3QgaGF2ZSBTVkdMb2NhdGFibGUpXG4gICAgICBpZiAoIWVsZW1lbnQuZ2V0QkJveCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZWxlbWVudCBpcyBub3QgYWNjZXB0ZWQuIChTVkdMb2NhdGFibGUpJyk7XG4gICAgICB9IC8vIFRyaWRlbnQgYW5kIEVkZ2UgYnVnLCBTVkdTVkdFbGVtZW50IGRvZXNuJ3QgaGF2ZSBTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3Q/XG5cblxuICAgICAgaWYgKCFlbGVtZW50LnRyYW5zZm9ybSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZWxlbWVudCBpcyBub3QgYWNjZXB0ZWQuIChTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3QpJyk7XG4gICAgICB9IC8vIFRyaWRlbnQgYnVnLCByZXR1cm5lZCB2YWx1ZSBtdXN0IGJlIHVzZWQgKFRoYXQgaXMgbm90IGdpdmVuIHZhbHVlKS5cblxuXG4gICAgICBwcm9wcy5zdmdUcmFuc2Zvcm0gPSBlbGVtZW50LnRyYW5zZm9ybS5iYXNlVmFsLmFwcGVuZEl0ZW0ob3duZXJTdmcuY3JlYXRlU1ZHVHJhbnNmb3JtKCkpO1xuICAgICAgcHJvcHMuc3ZnUG9pbnQgPSBvd25lclN2Zy5jcmVhdGVTVkdQb2ludCgpOyAvLyBHZWNrbyBidWcsIHZpZXcuZ2V0U2NyZWVuQ1RNIHJldHVybnMgQ1RNIHdpdGggcm9vdCB2aWV3LlxuXG4gICAgICB2YXIgc3ZnVmlldyA9IGVsZW1lbnQubmVhcmVzdFZpZXdwb3J0RWxlbWVudDtcbiAgICAgIHByb3BzLnN2Z0N0bUVsZW1lbnQgPSAhSVNfR0VDS08gPyBzdmdWaWV3IDogc3ZnVmlldy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMob3duZXJTdmcubmFtZXNwYWNlVVJJLCAncmVjdCcpKTtcbiAgICAgIGdwdVRyaWdnZXIgPSBmYWxzZTtcbiAgICAgIHByb3BzLmluaXRFbG0gPSBpbml0U3ZnO1xuICAgICAgcHJvcHMubW92ZUVsbSA9IG1vdmVTdmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFsvU1ZHXVxuXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cblxuICAgICAgLyogW1NWRy9dICovXG4gICAgICB2YXIgY3NzUHJvcFdpbGxDaGFuZ2UgPSBDU1NQcmVmaXguZ2V0TmFtZSgnd2lsbENoYW5nZScpO1xuXG4gICAgICBpZiAoY3NzUHJvcFdpbGxDaGFuZ2UpIHtcbiAgICAgICAgZ3B1VHJpZ2dlciA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW9wdGlvbnMubGVmdFRvcCAmJiBjc3NQcm9wVHJhbnNmb3JtKSB7XG4gICAgICAgIC8vIHRyYW5zbGF0ZVxuICAgICAgICBpZiAoY3NzUHJvcFdpbGxDaGFuZ2UpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW2Nzc1Byb3BXaWxsQ2hhbmdlXSA9ICd0cmFuc2Zvcm0nO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcHMuaW5pdEVsbSA9IGluaXRUcmFuc2xhdGU7XG4gICAgICAgIHByb3BzLm1vdmVFbG0gPSBtb3ZlVHJhbnNsYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbGVmdCBhbmQgdG9wXG4gICAgICAgIC8vIFtMRUZUVE9QXVxuICAgICAgICBpZiAoY3NzUHJvcFdpbGxDaGFuZ2UpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlW2Nzc1Byb3BXaWxsQ2hhbmdlXSA9ICdsZWZ0LCB0b3AnO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcHMuaW5pdEVsbSA9IGluaXRMZWZ0VG9wO1xuICAgICAgICBwcm9wcy5tb3ZlRWxtID0gbW92ZUxlZnRUb3A7IC8vIFsvTEVGVFRPUF1cblxuICAgICAgICAvKiBbTEVGVFRPUC9dXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYHRyYW5zZm9ybWAgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgW0xFRlRUT1AvXSAqL1xuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBpbmRlbnQgKi9cblxuICAgICAgLyogW1NWRy9dICovXG5cbiAgICB9IC8vIFtTVkcvXVxuXG5cbiAgICBwcm9wcy5lbGVtZW50ID0gaW5pdEFuaW0oZWxlbWVudCwgZ3B1VHJpZ2dlcik7XG4gICAgcHJvcHMuZWxlbWVudFN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgICBwcm9wcy5vcmdaSW5kZXggPSBwcm9wcy5lbGVtZW50U3R5bGUuekluZGV4O1xuXG4gICAgaWYgKGRyYWdnYWJsZUNsYXNzKSB7XG4gICAgICBtQ2xhc3NMaXN0KGVsZW1lbnQpLmFkZChkcmFnZ2FibGVDbGFzcyk7XG4gICAgfVxuXG4gICAgcHJvcHMucG9pbnRlckV2ZW50SGFuZGxlcklkID0gcG9pbnRlckV2ZW50LnJlZ1N0YXJ0SGFuZGxlcihmdW5jdGlvbiAocG9pbnRlclhZKSB7XG4gICAgICByZXR1cm4gZHJhZ1N0YXJ0KHByb3BzLCBwb2ludGVyWFkpO1xuICAgIH0pOyAvLyBEZWZhdWx0IG9wdGlvbnNcblxuICAgIGlmICghb3B0aW9ucy5jb250YWlubWVudCkge1xuICAgICAgdmFyIHBhcmVudDtcbiAgICAgIG9wdGlvbnMuY29udGFpbm1lbnQgPSAocGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBpc0VsZW1lbnQocGFyZW50KSA/IHBhcmVudCA6IGJvZHk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLmhhbmRsZSkge1xuICAgICAgb3B0aW9ucy5oYW5kbGUgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIF9zZXRPcHRpb25zKHByb3BzLCBvcHRpb25zKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQbGFpbkRyYWdnYWJsZSwgW3tcbiAgICBrZXk6IFwicmVtb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHZhciBwcm9wcyA9IGluc1Byb3BzW3RoaXMuX2lkXTtcbiAgICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOyAvLyBUbyByZXN0b3JlIGVsZW1lbnQgYW5kIHJlc2V0IHBvaW50ZXJcblxuICAgICAgcG9pbnRlckV2ZW50LnVucmVnU3RhcnRIYW5kbGVyKHBvaW50ZXJFdmVudC5yZW1vdmVTdGFydEhhbmRsZXIocHJvcHMub3B0aW9ucy5oYW5kbGUsIHByb3BzLnBvaW50ZXJFdmVudEhhbmRsZXJJZCkpO1xuICAgICAgZGVsZXRlIGluc1Byb3BzW3RoaXMuX2lkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBOZXcgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7UGxhaW5EcmFnZ2FibGV9IEN1cnJlbnQgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0T3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicG9zaXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zaXRpb24oKSB7XG4gICAgICBpbml0QkJveChpbnNQcm9wc1t0aGlzLl9pZF0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpc2FibGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLmRpc2FibGVkO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHZhciBwcm9wcyA9IGluc1Byb3BzW3RoaXMuX2lkXTtcblxuICAgICAgaWYgKCh2YWx1ZSA9ICEhdmFsdWUpICE9PSBwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICBwcm9wcy5kaXNhYmxlZCA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICAgIGlmIChwcm9wcyA9PT0gYWN0aXZlUHJvcHMpIHtcbiAgICAgICAgICAgIGRyYWdFbmQocHJvcHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHByb3BzLm9wdGlvbnMuaGFuZGxlLnN0eWxlLmN1cnNvciA9IHByb3BzLm9yZ0N1cnNvcjtcblxuICAgICAgICAgIGlmIChjc3NQcm9wVXNlclNlbGVjdCkge1xuICAgICAgICAgICAgcHJvcHMub3B0aW9ucy5oYW5kbGUuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdID0gcHJvcHMub3JnVXNlclNlbGVjdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZHJhZ2dhYmxlQ2xhc3MpIHtcbiAgICAgICAgICAgIG1DbGFzc0xpc3QocHJvcHMuZWxlbWVudCkucmVtb3ZlKGRyYWdnYWJsZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0RHJhZ2dhYmxlQ3Vyc29yKHByb3BzLm9wdGlvbnMuaGFuZGxlLCBwcm9wcy5vcmdDdXJzb3IpO1xuXG4gICAgICAgICAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0KSB7XG4gICAgICAgICAgICBwcm9wcy5vcHRpb25zLmhhbmRsZS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF0gPSAnbm9uZSc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRyYWdnYWJsZUNsYXNzKSB7XG4gICAgICAgICAgICBtQ2xhc3NMaXN0KHByb3BzLmVsZW1lbnQpLmFkZChkcmFnZ2FibGVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVsZW1lbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0uZWxlbWVudDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVjdFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGNvcHlUcmVlKGluc1Byb3BzW3RoaXMuX2lkXS5lbGVtZW50QkJveCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxlZnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0uZWxlbWVudEJCb3gubGVmdDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgbGVmdDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b3BcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0uZWxlbWVudEJCb3gudG9wO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICB0b3A6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29udGFpbm1lbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBwcm9wcyA9IGluc1Byb3BzW3RoaXMuX2lkXTtcbiAgICAgIHJldHVybiBwcm9wcy5jb250YWlubWVudElzQkJveCA/IHBwQkJveDJPcHRpb25PYmplY3QocHJvcHMub3B0aW9ucy5jb250YWlubWVudCkgOiBwcm9wcy5vcHRpb25zLmNvbnRhaW5tZW50O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBjb250YWlubWVudDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gLy8gW1NOQVBdXG5cbiAgfSwge1xuICAgIGtleTogXCJzbmFwXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY29weVRyZWUoaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMuc25hcCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIHNuYXA6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9IC8vIFsvU05BUF1cbiAgICAvLyBbQVVUTy1TQ1JPTExdXG5cbiAgfSwge1xuICAgIGtleTogXCJhdXRvU2Nyb2xsXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY29weVRyZWUoaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMuYXV0b1Njcm9sbCk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIGF1dG9TY3JvbGw6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9IC8vIFsvQVVUTy1TQ1JPTExdXG5cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5oYW5kbGU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIGhhbmRsZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ6SW5kZXhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy56SW5kZXg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIHpJbmRleDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkRyYWdcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5vbkRyYWc7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIG9uRHJhZzogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5vbk1vdmU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIG9uTW92ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkRyYWdTdGFydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLm9uRHJhZ1N0YXJ0O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBvbkRyYWdTdGFydDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbk1vdmVTdGFydFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLm9uTW92ZVN0YXJ0O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBvbk1vdmVTdGFydDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkRyYWdFbmRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5vbkRyYWdFbmQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIG9uRHJhZ0VuZDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImRyYWdnYWJsZUN1cnNvclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGNzc1dhbnRlZFZhbHVlRHJhZ2dhYmxlQ3Vyc29yO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIGlmIChjc3NXYW50ZWRWYWx1ZURyYWdnYWJsZUN1cnNvciAhPT0gdmFsdWUpIHtcbiAgICAgICAgY3NzV2FudGVkVmFsdWVEcmFnZ2FibGVDdXJzb3IgPSB2YWx1ZTtcbiAgICAgICAgY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgPSBudWxsOyAvLyBSZXNldFxuXG4gICAgICAgIE9iamVjdC5rZXlzKGluc1Byb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIHZhciBwcm9wcyA9IGluc1Byb3BzW2lkXTtcblxuICAgICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcyA9PT0gYWN0aXZlUHJvcHMgJiYgY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXREcmFnZ2FibGVDdXJzb3IocHJvcHMub3B0aW9ucy5oYW5kbGUsIHByb3BzLm9yZ0N1cnNvcik7XG5cbiAgICAgICAgICBpZiAocHJvcHMgPT09IGFjdGl2ZVByb3BzKSB7XG4gICAgICAgICAgICAvLyBTaW5jZSBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yIGlzIGBmYWxzZWAsIGNvcHkgY3Vyc29yIGFnYWluLlxuICAgICAgICAgICAgYm9keS5zdHlsZS5jdXJzb3IgPSBjc3NPcmdWYWx1ZUJvZHlDdXJzb3I7XG4gICAgICAgICAgICBib2R5LnN0eWxlLmN1cnNvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHByb3BzLm9wdGlvbnMuaGFuZGxlLCAnJykuY3Vyc29yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYWdnaW5nQ3Vyc29yXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY3NzV2FudGVkVmFsdWVEcmFnZ2luZ0N1cnNvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBpZiAoY3NzV2FudGVkVmFsdWVEcmFnZ2luZ0N1cnNvciAhPT0gdmFsdWUpIHtcbiAgICAgICAgY3NzV2FudGVkVmFsdWVEcmFnZ2luZ0N1cnNvciA9IHZhbHVlO1xuICAgICAgICBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yID0gbnVsbDsgLy8gUmVzZXRcblxuICAgICAgICBpZiAoYWN0aXZlUHJvcHMpIHtcbiAgICAgICAgICBzZXREcmFnZ2luZ0N1cnNvcihhY3RpdmVQcm9wcy5vcHRpb25zLmhhbmRsZSk7XG5cbiAgICAgICAgICBpZiAoY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHNldERyYWdnYWJsZUN1cnNvcihhY3RpdmVQcm9wcy5vcHRpb25zLmhhbmRsZSwgYWN0aXZlUHJvcHMub3JnQ3Vyc29yKTsgLy8gZHJhZ2dhYmxlQ3Vyc29yXG5cbiAgICAgICAgICAgIGJvZHkuc3R5bGUuY3Vyc29yID0gY3NzT3JnVmFsdWVCb2R5Q3Vyc29yO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJvZHkuc3R5bGUuY3Vyc29yID0gY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciB8fCAvLyBJZiBpdCBpcyBgZmFsc2VgIG9yIGAnJ2BcbiAgICAgICAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhY3RpdmVQcm9wcy5vcHRpb25zLmhhbmRsZSwgJycpLmN1cnNvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmFnZ2FibGVDbGFzc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGRyYWdnYWJsZUNsYXNzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZSArICcnIDogdm9pZCAwO1xuXG4gICAgICBpZiAodmFsdWUgIT09IGRyYWdnYWJsZUNsYXNzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGluc1Byb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIHZhciBwcm9wcyA9IGluc1Byb3BzW2lkXTtcblxuICAgICAgICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHZhciBjbGFzc0xpc3QgPSBtQ2xhc3NMaXN0KHByb3BzLmVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAoZHJhZ2dhYmxlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShkcmFnZ2FibGVDbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkcmFnZ2FibGVDbGFzcyA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmFnZ2luZ0NsYXNzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZHJhZ2dpbmdDbGFzcztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyAnJyA6IHZvaWQgMDtcblxuICAgICAgaWYgKHZhbHVlICE9PSBkcmFnZ2luZ0NsYXNzKSB7XG4gICAgICAgIGlmIChhY3RpdmVQcm9wcykge1xuICAgICAgICAgIHZhciBjbGFzc0xpc3QgPSBtQ2xhc3NMaXN0KGFjdGl2ZVByb3BzLmVsZW1lbnQpO1xuXG4gICAgICAgICAgaWYgKGRyYWdnaW5nQ2xhc3MpIHtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHJhZ2dpbmdDbGFzcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkcmFnZ2luZ0NsYXNzID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1vdmluZ0NsYXNzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbW92aW5nQ2xhc3M7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgJycgOiB2b2lkIDA7XG5cbiAgICAgIGlmICh2YWx1ZSAhPT0gbW92aW5nQ2xhc3MpIHtcbiAgICAgICAgaWYgKGFjdGl2ZVByb3BzICYmIGhhc01vdmVkKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTGlzdCA9IG1DbGFzc0xpc3QoYWN0aXZlUHJvcHMuZWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAobW92aW5nQ2xhc3MpIHtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUobW92aW5nQ2xhc3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbW92aW5nQ2xhc3MgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGxhaW5EcmFnZ2FibGU7XG59KCk7XG5cbnBvaW50ZXJFdmVudC5hZGRNb3ZlSGFuZGxlcihkb2N1bWVudCwgZnVuY3Rpb24gKHBvaW50ZXJYWSkge1xuICBpZiAoIWFjdGl2ZVByb3BzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBvc2l0aW9uID0ge1xuICAgIGxlZnQ6IHBvaW50ZXJYWS5jbGllbnRYICsgd2luZG93LnBhZ2VYT2Zmc2V0ICsgcG9pbnRlck9mZnNldC5sZWZ0LFxuICAgIHRvcDogcG9pbnRlclhZLmNsaWVudFkgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyBwb2ludGVyT2Zmc2V0LnRvcFxuICB9O1xuXG4gIGlmIChtb3ZlKGFjdGl2ZVByb3BzLCBwb3NpdGlvbiwgLy8gW1NOQVBdXG4gIGFjdGl2ZVByb3BzLnNuYXBUYXJnZXRzID8gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgLy8gU25hcFxuICAgIHZhciBpTGVuID0gYWN0aXZlUHJvcHMuc25hcFRhcmdldHMubGVuZ3RoO1xuICAgIHZhciBzbmFwcGVkWCA9IGZhbHNlLFxuICAgICAgICBzbmFwcGVkWSA9IGZhbHNlLFxuICAgICAgICBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGlMZW4gJiYgKCFzbmFwcGVkWCB8fCAhc25hcHBlZFkpOyBpKyspIHtcbiAgICAgIHZhciBzbmFwVGFyZ2V0ID0gYWN0aXZlUHJvcHMuc25hcFRhcmdldHNbaV07XG5cbiAgICAgIGlmICgoc25hcFRhcmdldC5ncmF2aXR5WFN0YXJ0ID09IG51bGwgfHwgcG9zaXRpb24ubGVmdCA+PSBzbmFwVGFyZ2V0LmdyYXZpdHlYU3RhcnQpICYmIChzbmFwVGFyZ2V0LmdyYXZpdHlYRW5kID09IG51bGwgfHwgcG9zaXRpb24ubGVmdCA8PSBzbmFwVGFyZ2V0LmdyYXZpdHlYRW5kKSAmJiAoc25hcFRhcmdldC5ncmF2aXR5WVN0YXJ0ID09IG51bGwgfHwgcG9zaXRpb24udG9wID49IHNuYXBUYXJnZXQuZ3Jhdml0eVlTdGFydCkgJiYgKHNuYXBUYXJnZXQuZ3Jhdml0eVlFbmQgPT0gbnVsbCB8fCBwb3NpdGlvbi50b3AgPD0gc25hcFRhcmdldC5ncmF2aXR5WUVuZCkpIHtcbiAgICAgICAgaWYgKCFzbmFwcGVkWCAmJiBzbmFwVGFyZ2V0LnggIT0gbnVsbCkge1xuICAgICAgICAgIHBvc2l0aW9uLmxlZnQgPSBzbmFwVGFyZ2V0Lng7XG4gICAgICAgICAgc25hcHBlZFggPSB0cnVlO1xuICAgICAgICAgIGkgPSAtMTsgLy8gUmVzdGFydCBsb29wXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNuYXBwZWRZICYmIHNuYXBUYXJnZXQueSAhPSBudWxsKSB7XG4gICAgICAgICAgcG9zaXRpb24udG9wID0gc25hcFRhcmdldC55O1xuICAgICAgICAgIHNuYXBwZWRZID0gdHJ1ZTtcbiAgICAgICAgICBpID0gLTE7IC8vIFJlc3RhcnQgbG9vcFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9zaXRpb24uc25hcHBlZCA9IHNuYXBwZWRYIHx8IHNuYXBwZWRZO1xuICAgIHJldHVybiBhY3RpdmVQcm9wcy5vbkRyYWcgPyBhY3RpdmVQcm9wcy5vbkRyYWcocG9zaXRpb24pIDogdHJ1ZTtcbiAgfSA6IC8vIFsvU05BUF1cbiAgYWN0aXZlUHJvcHMub25EcmFnKSkge1xuICAgIC8vIFtBVVRPLVNDUk9MTF1cbiAgICB2YXIgeHlNb3ZlQXJncyA9IHt9LFxuICAgICAgICBhdXRvU2Nyb2xsID0gYWN0aXZlUHJvcHMuYXV0b1Njcm9sbDtcblxuICAgIGlmIChhdXRvU2Nyb2xsKSB7XG4gICAgICB2YXIgY2xpZW50WFkgPSB7XG4gICAgICAgIHg6IGFjdGl2ZVByb3BzLmVsZW1lbnRCQm94LmxlZnQgLSB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgIHk6IGFjdGl2ZVByb3BzLmVsZW1lbnRCQm94LnRvcCAtIHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgfTtcbiAgICAgIFsneCcsICd5J10uZm9yRWFjaChmdW5jdGlvbiAoYXhpcykge1xuICAgICAgICBpZiAoYXV0b1Njcm9sbFtheGlzXSkge1xuICAgICAgICAgIHZhciBtaW4gPSBhdXRvU2Nyb2xsW2F4aXNdLm1pbixcbiAgICAgICAgICAgICAgbWF4ID0gYXV0b1Njcm9sbFtheGlzXS5tYXg7XG4gICAgICAgICAgYXV0b1Njcm9sbFtheGlzXS5saW5lcy5zb21lKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICBpZiAobGluZS5kaXIgPT09IC0xID8gY2xpZW50WFlbYXhpc10gPD0gbGluZS5wb3NpdGlvbiA6IGNsaWVudFhZW2F4aXNdID49IGxpbmUucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgeHlNb3ZlQXJnc1theGlzXSA9IHtcbiAgICAgICAgICAgICAgICBkaXI6IGxpbmUuZGlyLFxuICAgICAgICAgICAgICAgIHNwZWVkOiBsaW5lLnNwZWVkIC8gMTAwMCxcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoeHlNb3ZlQXJncy54IHx8IHh5TW92ZUFyZ3MueSkge1xuICAgICAgc2Nyb2xsRnJhbWUubW92ZShhdXRvU2Nyb2xsLnRhcmdldCwgeHlNb3ZlQXJncywgYXV0b1Njcm9sbC5pc1dpbmRvdyA/IHNjcm9sbFhZV2luZG93IDogc2Nyb2xsWFlFbGVtZW50KTtcbiAgICAgIHBvc2l0aW9uLmF1dG9TY3JvbGwgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxGcmFtZS5zdG9wKCk7XG4gICAgfSAvLyBbL0FVVE8tU0NST0xMXVxuXG5cbiAgICBpZiAoIWhhc01vdmVkKSB7XG4gICAgICBoYXNNb3ZlZCA9IHRydWU7XG5cbiAgICAgIGlmIChtb3ZpbmdDbGFzcykge1xuICAgICAgICBtQ2xhc3NMaXN0KGFjdGl2ZVByb3BzLmVsZW1lbnQpLmFkZChtb3ZpbmdDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3RpdmVQcm9wcy5vbk1vdmVTdGFydCkge1xuICAgICAgICBhY3RpdmVQcm9wcy5vbk1vdmVTdGFydChwb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVByb3BzLm9uTW92ZSkge1xuICAgICAgYWN0aXZlUHJvcHMub25Nb3ZlKHBvc2l0aW9uKTtcbiAgICB9XG4gIH1cbn0pO1xue1xuICBmdW5jdGlvbiBlbmRIYW5kbGVyKCkge1xuICAgIGlmIChhY3RpdmVQcm9wcykge1xuICAgICAgZHJhZ0VuZChhY3RpdmVQcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgcG9pbnRlckV2ZW50LmFkZEVuZEhhbmRsZXIoZG9jdW1lbnQsIGVuZEhhbmRsZXIpO1xuICBwb2ludGVyRXZlbnQuYWRkQ2FuY2VsSGFuZGxlcihkb2N1bWVudCwgZW5kSGFuZGxlcik7XG59XG57XG4gIGZ1bmN0aW9uIGluaXREb2MoKSB7XG4gICAgY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eSA9IENTU1ByZWZpeC5nZXROYW1lKCd0cmFuc2l0aW9uUHJvcGVydHknKTtcbiAgICBjc3NQcm9wVHJhbnNmb3JtID0gQ1NTUHJlZml4LmdldE5hbWUoJ3RyYW5zZm9ybScpO1xuICAgIGNzc09yZ1ZhbHVlQm9keUN1cnNvciA9IGJvZHkuc3R5bGUuY3Vyc29yO1xuXG4gICAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0ID0gQ1NTUHJlZml4LmdldE5hbWUoJ3VzZXJTZWxlY3QnKSkge1xuICAgICAgY3NzT3JnVmFsdWVCb2R5VXNlclNlbGVjdCA9IGJvZHkuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdO1xuICAgIH0gLy8gSW5pdCBhY3RpdmUgaXRlbSB3aGVuIGxheW91dCBpcyBjaGFuZ2VkLCBhbmQgaW5pdCBvdGhlcnMgbGF0ZXIuXG5cblxuICAgIHZhciBMQVpZX0lOSVRfREVMQVkgPSAyMDA7XG4gICAgdmFyIGluaXREb25lSXRlbXMgPSB7fSxcbiAgICAgICAgbGF6eUluaXRUaW1lcjtcblxuICAgIGZ1bmN0aW9uIGNoZWNrSW5pdEJCb3gocHJvcHMsIGV2ZW50VHlwZSkge1xuICAgICAgaWYgKHByb3BzLmluaXRFbG0pIHtcbiAgICAgICAgLy8gRWFzeSBjaGVja2luZyBmb3IgaW5zdGFuY2Ugd2l0aG91dCBlcnJvcnMuXG4gICAgICAgIGluaXRCQm94KHByb3BzLCBldmVudFR5cGUpO1xuICAgICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJyYWNlLXN0eWxlXG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0QWxsKGV2ZW50VHlwZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KGxhenlJbml0VGltZXIpO1xuICAgICAgT2JqZWN0LmtleXMoaW5zUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmICghaW5pdERvbmVJdGVtc1tpZF0pIHtcbiAgICAgICAgICBjaGVja0luaXRCQm94KGluc1Byb3BzW2lkXSwgZXZlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpbml0RG9uZUl0ZW1zID0ge307XG4gICAgfVxuXG4gICAgdmFyIGxheW91dENoYW5naW5nID0gZmFsc2U7IC8vIEdlY2tvIGJ1ZywgbXVsdGlwbGUgY2FsbGluZyBieSBgcmVzaXplYC5cblxuICAgIHZhciBsYXlvdXRDaGFuZ2UgPSBBbmltRXZlbnQuYWRkKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGxheW91dENoYW5naW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGF5b3V0Q2hhbmdpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoYWN0aXZlUHJvcHMpIHtcbiAgICAgICAgY2hlY2tJbml0QkJveChhY3RpdmVQcm9wcywgZXZlbnQudHlwZSk7XG4gICAgICAgIHBvaW50ZXJFdmVudC5tb3ZlKCk7XG4gICAgICAgIGluaXREb25lSXRlbXNbYWN0aXZlUHJvcHMuX2lkXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNsZWFyVGltZW91dChsYXp5SW5pdFRpbWVyKTtcbiAgICAgIGxhenlJbml0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5pdEFsbChldmVudC50eXBlKTtcbiAgICAgIH0sIExBWllfSU5JVF9ERUxBWSk7XG4gICAgICBsYXlvdXRDaGFuZ2luZyA9IGZhbHNlO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBsYXlvdXRDaGFuZ2UsIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBsYXlvdXRDaGFuZ2UsIHRydWUpO1xuICB9XG5cbiAgaWYgKGJvZHkgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgaW5pdERvYygpO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgIGluaXREb2MoKTtcbiAgICB9LCB0cnVlKTtcbiAgfVxufVxuLyogW1NOQVAvXVxuUGxhaW5EcmFnZ2FibGUubGltaXQgPSB0cnVlO1xuW1NOQVAvXSAqL1xuXG5leHBvcnQgZGVmYXVsdCBQbGFpbkRyYWdnYWJsZTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vZmxvd2NoYXJ0U3ltYm9scy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2Zsb3djaGFydFN5bWJvbHMuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJjbGFzcyBQb2ludGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZVBvaW50ZXIpIHtcclxuICAgICAgICAvKiogVW5pcXVlIElEIGZvciB0aGlzIHBvaW50ZXIgKi9cclxuICAgICAgICB0aGlzLmlkID0gLTE7XHJcbiAgICAgICAgdGhpcy5uYXRpdmVQb2ludGVyID0gbmF0aXZlUG9pbnRlcjtcclxuICAgICAgICB0aGlzLnBhZ2VYID0gbmF0aXZlUG9pbnRlci5wYWdlWDtcclxuICAgICAgICB0aGlzLnBhZ2VZID0gbmF0aXZlUG9pbnRlci5wYWdlWTtcclxuICAgICAgICB0aGlzLmNsaWVudFggPSBuYXRpdmVQb2ludGVyLmNsaWVudFg7XHJcbiAgICAgICAgdGhpcy5jbGllbnRZID0gbmF0aXZlUG9pbnRlci5jbGllbnRZO1xyXG4gICAgICAgIGlmIChzZWxmLlRvdWNoICYmIG5hdGl2ZVBvaW50ZXIgaW5zdGFuY2VvZiBUb3VjaCkge1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gbmF0aXZlUG9pbnRlci5pZGVudGlmaWVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1BvaW50ZXJFdmVudChuYXRpdmVQb2ludGVyKSkge1xyXG4gICAgICAgICAgICAvLyBpcyBQb2ludGVyRXZlbnRcclxuICAgICAgICAgICAgdGhpcy5pZCA9IG5hdGl2ZVBvaW50ZXIucG9pbnRlcklkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbiBleHBhbmRlZCBzZXQgb2YgUG9pbnRlcnMgZm9yIGhpZ2gtcmVzb2x1dGlvbiBpbnB1dHMuXHJcbiAgICAgKi9cclxuICAgIGdldENvYWxlc2NlZCgpIHtcclxuICAgICAgICBpZiAoJ2dldENvYWxlc2NlZEV2ZW50cycgaW4gdGhpcy5uYXRpdmVQb2ludGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubmF0aXZlUG9pbnRlclxyXG4gICAgICAgICAgICAgICAgLmdldENvYWxlc2NlZEV2ZW50cygpXHJcbiAgICAgICAgICAgICAgICAubWFwKChwKSA9PiBuZXcgUG9pbnRlcihwKSk7XHJcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggc29tZXRpbWVzIHJldHVybnMgYW4gZW1wdHkgbGlzdCBoZXJlLiBJJ20gbm90IHN1cmUgaXQncyBkb2luZyB0aGUgcmlnaHQgdGhpbmcuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvcG9pbnRlcmV2ZW50cy9pc3N1ZXMvNDA5XHJcbiAgICAgICAgICAgIGlmIChldmVudHMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbdGhpc107XHJcbiAgICB9XHJcbn1cclxuY29uc3QgaXNQb2ludGVyRXZlbnQgPSAoZXZlbnQpID0+ICdwb2ludGVySWQnIGluIGV2ZW50O1xyXG5jb25zdCBpc1RvdWNoRXZlbnQgPSAoZXZlbnQpID0+ICdjaGFuZ2VkVG91Y2hlcycgaW4gZXZlbnQ7XHJcbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XHJcbi8qKlxyXG4gKiBUcmFjayBwb2ludGVycyBhY3Jvc3MgYSBwYXJ0aWN1bGFyIGVsZW1lbnRcclxuICovXHJcbmNsYXNzIFBvaW50ZXJUcmFja2VyIHtcclxuICAgIC8qKlxyXG4gICAgICogVHJhY2sgcG9pbnRlcnMgYWNyb3NzIGEgcGFydGljdWxhciBlbGVtZW50XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgRWxlbWVudCB0byBtb25pdG9yLlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoX2VsZW1lbnQsIHsgc3RhcnQgPSAoKSA9PiB0cnVlLCBtb3ZlID0gbm9vcCwgZW5kID0gbm9vcCwgcmF3VXBkYXRlcyA9IGZhbHNlLCBhdm9pZFBvaW50ZXJFdmVudHMgPSBmYWxzZSwgfSA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IF9lbGVtZW50O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFN0YXRlIG9mIHRoZSB0cmFja2VkIHBvaW50ZXJzIHdoZW4gdGhleSB3ZXJlIHByZXNzZWQvdG91Y2hlZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnN0YXJ0UG9pbnRlcnMgPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMYXRlc3Qgc3RhdGUgb2YgdGhlIHRyYWNrZWQgcG9pbnRlcnMuIENvbnRhaW5zIHRoZSBzYW1lIG51bWJlciBvZiBwb2ludGVycywgYW5kIGluIHRoZSBzYW1lXHJcbiAgICAgICAgICogb3JkZXIgYXMgdGhpcy5zdGFydFBvaW50ZXJzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50ZXJzID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZWZveCBoYXMgYSBidWcgd2hlcmUgdG91Y2gtYmFzZWQgcG9pbnRlciBldmVudHMgaGF2ZSBhIGBidXR0b25zYCBvZiAwLCB3aGVuIHRoaXMgc2hvdWxkbid0XHJcbiAgICAgICAgICogaGFwcGVuLiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzI5NDQwXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBVc3VhbGx5IHdlIHRyZWF0IGBidXR0b25zID09PSAwYCBhcyBuby1sb25nZXItcHJlc3NlZC4gVGhpcyBzZXQgYWxsb3dzIHVzIHRvIGV4Y2x1ZGUgdGhlc2VcclxuICAgICAgICAgKiBidWdneSBGaXJlZm94IGV2ZW50cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9leGNsdWRlRnJvbUJ1dHRvbnNDaGVjayA9IG5ldyBTZXQoKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0ZW5lciBmb3IgbW91c2UvcG9pbnRlciBzdGFydHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgVGhpcyB3aWxsIG9ubHkgYmUgYSBNb3VzZUV2ZW50IGlmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBwb2ludGVyIGV2ZW50cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wb2ludGVyU3RhcnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUG9pbnRlckV2ZW50KGV2ZW50KSAmJiBldmVudC5idXR0b25zID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBidWdneSBGaXJlZm94IGNhc2UuIFNlZSBfZXhjbHVkZUZyb21CdXR0b25zQ2hlY2suXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9leGNsdWRlRnJvbUJ1dHRvbnNDaGVjay5hZGQoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghKGV2ZW50LmJ1dHRvbnMgJiAxIC8qIExlZnRNb3VzZU9yVG91Y2hPclBlbkRvd24gKi8pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcG9pbnRlciA9IG5ldyBQb2ludGVyKGV2ZW50KTtcclxuICAgICAgICAgICAgLy8gSWYgd2UncmUgYWxyZWFkeSB0cmFja2luZyB0aGlzIHBvaW50ZXIsIGlnbm9yZSB0aGlzIGV2ZW50LlxyXG4gICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgd2l0aCBtb3VzZSBldmVudHMgd2hlbiBtdWx0aXBsZSBidXR0b25zIGFyZSBwcmVzc2VkLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UG9pbnRlcnMuc29tZSgocCkgPT4gcC5pZCA9PT0gcG9pbnRlci5pZCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fdHJpZ2dlclBvaW50ZXJTdGFydChwb2ludGVyLCBldmVudCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIC8vIEFkZCBsaXN0ZW5lcnMgZm9yIGFkZGl0aW9uYWwgZXZlbnRzLlxyXG4gICAgICAgICAgICAvLyBUaGUgbGlzdGVuZXJzIG1heSBhbHJlYWR5IGV4aXN0LCBidXQgbm8gaGFybSBpbiBhZGRpbmcgdGhlbSBhZ2Fpbi5cclxuICAgICAgICAgICAgaWYgKGlzUG9pbnRlckV2ZW50KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FwdHVyaW5nRWxlbWVudCA9IGV2ZW50LnRhcmdldCAmJiAnc2V0UG9pbnRlckNhcHR1cmUnIGluIGV2ZW50LnRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgID8gZXZlbnQudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9lbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgY2FwdHVyaW5nRWxlbWVudC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX3Jhd1VwZGF0ZXMgPyAncG9pbnRlcnJhd3VwZGF0ZScgOiAncG9pbnRlcm1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vdXNlRXZlbnRcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3RlbmVyIGZvciB0b3VjaHN0YXJ0LlxyXG4gICAgICAgICAqIE9ubHkgdXNlZCBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgcG9pbnRlciBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdG91Y2hTdGFydCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvdWNoIG9mIEFycmF5LmZyb20oZXZlbnQuY2hhbmdlZFRvdWNoZXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyUG9pbnRlclN0YXJ0KG5ldyBQb2ludGVyKHRvdWNoKSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0ZW5lciBmb3IgcG9pbnRlci9tb3VzZS90b3VjaCBtb3ZlIGV2ZW50cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9tb3ZlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXNUb3VjaEV2ZW50KGV2ZW50KSAmJlxyXG4gICAgICAgICAgICAgICAgKCFpc1BvaW50ZXJFdmVudChldmVudCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5fZXhjbHVkZUZyb21CdXR0b25zQ2hlY2suaGFzKGV2ZW50LnBvaW50ZXJJZCkpICYmXHJcbiAgICAgICAgICAgICAgICBldmVudC5idXR0b25zID09PSAwIC8qIE5vbmUgKi8pIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpbiBhIG51bWJlciBvZiBidWdneSBjYXNlcyB3aGVyZSB0aGUgYnJvd3NlciBmYWlsZWQgdG8gZGVsaXZlciBhIHBvaW50ZXJ1cFxyXG4gICAgICAgICAgICAgICAgLy8gb3IgcG9pbnRlcmNhbmNlbC4gSWYgd2Ugc2VlIHRoZSBwb2ludGVyIG1vdmluZyB3aXRob3V0IGFueSBidXR0b25zIGRvd24sIHN5bnRoZXNpemUgYW4gZW5kLlxyXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3czYy9wb2ludGVyZXZlbnRzL2lzc3Vlcy80MDdcclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvcG9pbnRlcmV2ZW50cy9pc3N1ZXMvNDA4XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludGVyRW5kKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1BvaW50ZXJzID0gdGhpcy5jdXJyZW50UG9pbnRlcnMuc2xpY2UoKTtcclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlZFBvaW50ZXJzID0gaXNUb3VjaEV2ZW50KGV2ZW50KVxyXG4gICAgICAgICAgICAgICAgPyBBcnJheS5mcm9tKGV2ZW50LmNoYW5nZWRUb3VjaGVzKS5tYXAoKHQpID0+IG5ldyBQb2ludGVyKHQpKVxyXG4gICAgICAgICAgICAgICAgOiBbbmV3IFBvaW50ZXIoZXZlbnQpXTtcclxuICAgICAgICAgICAgY29uc3QgdHJhY2tlZENoYW5nZWRQb2ludGVycyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBvaW50ZXIgb2YgY2hhbmdlZFBvaW50ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY3VycmVudFBvaW50ZXJzLmZpbmRJbmRleCgocCkgPT4gcC5pZCA9PT0gcG9pbnRlci5pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBOb3QgYSBwb2ludGVyIHdlJ3JlIHRyYWNraW5nXHJcbiAgICAgICAgICAgICAgICB0cmFja2VkQ2hhbmdlZFBvaW50ZXJzLnB1c2gocG9pbnRlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQb2ludGVyc1tpbmRleF0gPSBwb2ludGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmFja2VkQ2hhbmdlZFBvaW50ZXJzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5fbW92ZUNhbGxiYWNrKHByZXZpb3VzUG9pbnRlcnMsIHRyYWNrZWRDaGFuZ2VkUG9pbnRlcnMsIGV2ZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGwgdGhlIGVuZCBjYWxsYmFjayBmb3IgdGhpcyBwb2ludGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHBvaW50ZXIgUG9pbnRlclxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCBSZWxhdGVkIGV2ZW50XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdHJpZ2dlclBvaW50ZXJFbmQgPSAocG9pbnRlciwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgLy8gTWFpbiBidXR0b24gc3RpbGwgZG93bj9cclxuICAgICAgICAgICAgLy8gV2l0aCBtb3VzZSBldmVudHMsIHlvdSBnZXQgYSBtb3VzZXVwIHBlciBtb3VzZSBidXR0b24sIHNvIHRoZSBsZWZ0IGJ1dHRvbiBtaWdodCBzdGlsbCBiZSBkb3duLlxyXG4gICAgICAgICAgICBpZiAoIWlzVG91Y2hFdmVudChldmVudCkgJiZcclxuICAgICAgICAgICAgICAgIGV2ZW50LmJ1dHRvbnMgJiAxIC8qIExlZnRNb3VzZU9yVG91Y2hPclBlbkRvd24gKi8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY3VycmVudFBvaW50ZXJzLmZpbmRJbmRleCgocCkgPT4gcC5pZCA9PT0gcG9pbnRlci5pZCk7XHJcbiAgICAgICAgICAgIC8vIE5vdCBhIHBvaW50ZXIgd2UncmUgaW50ZXJlc3RlZCBpbj9cclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFBvaW50ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V4Y2x1ZGVGcm9tQnV0dG9uc0NoZWNrLmRlbGV0ZShwb2ludGVyLmlkKTtcclxuICAgICAgICAgICAgLy8gVGhlIGV2ZW50LnR5cGUgbWlnaHQgYmUgYSAnbW92ZScgZXZlbnQgZHVlIHRvIHdvcmthcm91bmRzIGZvciB3ZWlyZCBtb3VzZSBiZWhhdmlvdXIuXHJcbiAgICAgICAgICAgIC8vIFNlZSBfbW92ZSBmb3IgZGV0YWlscy5cclxuICAgICAgICAgICAgY29uc3QgY2FuY2VsbGVkID0gIShldmVudC50eXBlID09PSAnbW91c2V1cCcgfHxcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcgfHxcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPT09ICdwb2ludGVydXAnKTtcclxuICAgICAgICAgICAgdGhpcy5fZW5kQ2FsbGJhY2socG9pbnRlciwgZXZlbnQsIGNhbmNlbGxlZCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdGVuZXIgZm9yIG1vdXNlL3BvaW50ZXIgZW5kcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCBUaGlzIHdpbGwgb25seSBiZSBhIE1vdXNlRXZlbnQgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BvaW50ZXJFbmQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl90cmlnZ2VyUG9pbnRlckVuZChuZXcgUG9pbnRlcihldmVudCksIGV2ZW50KSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKGlzUG9pbnRlckV2ZW50KGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvaW50ZXJzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fcmF3VXBkYXRlcyA/ICdwb2ludGVycmF3dXBkYXRlJyA6ICdwb2ludGVybW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMuX3BvaW50ZXJFbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTW91c2VFdmVudFxyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdGVuZXIgZm9yIHRvdWNoZW5kLlxyXG4gICAgICAgICAqIE9ubHkgdXNlZCBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgcG9pbnRlciBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdG91Y2hFbmQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB0b3VjaCBvZiBBcnJheS5mcm9tKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlclBvaW50ZXJFbmQobmV3IFBvaW50ZXIodG91Y2gpLCBldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX3N0YXJ0Q2FsbGJhY2sgPSBzdGFydDtcclxuICAgICAgICB0aGlzLl9tb3ZlQ2FsbGJhY2sgPSBtb3ZlO1xyXG4gICAgICAgIHRoaXMuX2VuZENhbGxiYWNrID0gZW5kO1xyXG4gICAgICAgIHRoaXMuX3Jhd1VwZGF0ZXMgPSByYXdVcGRhdGVzICYmICdvbnBvaW50ZXJyYXd1cGRhdGUnIGluIHdpbmRvdztcclxuICAgICAgICAvLyBBZGQgbGlzdGVuZXJzXHJcbiAgICAgICAgaWYgKHNlbGYuUG9pbnRlckV2ZW50ICYmICFhdm9pZFBvaW50ZXJFdmVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuX3BvaW50ZXJTdGFydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX3BvaW50ZXJTdGFydCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX3RvdWNoU3RhcnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5fdG91Y2hFbmQpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5fdG91Y2hFbmQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMuXHJcbiAgICAgKi9cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuX3BvaW50ZXJTdGFydCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX3RvdWNoU3RhcnQpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5fdG91Y2hFbmQpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9yYXdVcGRhdGVzID8gJ3BvaW50ZXJyYXd1cGRhdGUnIDogJ3BvaW50ZXJtb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbCB0aGUgc3RhcnQgY2FsbGJhY2sgZm9yIHRoaXMgcG9pbnRlciwgYW5kIHRyYWNrIGl0IGlmIHRoZSB1c2VyIHdhbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwb2ludGVyIFBvaW50ZXJcclxuICAgICAqIEBwYXJhbSBldmVudCBSZWxhdGVkIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBwb2ludGVyIGlzIGJlaW5nIHRyYWNrZWQuXHJcbiAgICAgKi9cclxuICAgIF90cmlnZ2VyUG9pbnRlclN0YXJ0KHBvaW50ZXIsIGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdGFydENhbGxiYWNrKHBvaW50ZXIsIGV2ZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50ZXJzLnB1c2gocG9pbnRlcik7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ZXJzLnB1c2gocG9pbnRlcik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgUG9pbnRlclRyYWNrZXIgYXMgZGVmYXVsdCB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiaW1wb3J0IFBsYWluRHJhZ2dhYmxlIGZyb20gJ3BsYWluLWRyYWdnYWJsZSdcclxuaW1wb3J0IExlYWRlckxpbmUgZnJvbSAnbGVhZGVyLWxpbmUtbmV3J1xyXG5pbXBvcnQgUG9pbnRlclRyYWNrZXIgZnJvbSAncG9pbnRlci10cmFja2VyJ1xyXG5cclxuaW1wb3J0ICcuLi9jc3MvaW5kZXguY3NzJ1xyXG5pbXBvcnQgJy4uL2Nzcy9mbG93Y2hhcnRTeW1ib2xzLmNzcydcclxuXHJcbmltcG9ydCBmbG93Y2hhcnQgZnJvbSAnLi4vanNvbi9mbG93Y2hhcnQuanNvbidcclxuXHJcbmNvbnN0IGZsb3djaGFydEJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb3djaGFydC1ib2FyZCcpXHJcblxyXG4vLyB0ZW1wbGF0ZXNcclxuY29uc3QgdGVybWluYWxUZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXJtaW5hbC10ZW1wbGF0ZScpXHJcbmNvbnN0IHByb2Nlc3NUZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZXNzLXRlbXBsYXRlJylcclxuY29uc3QgZGVjaXNpb25UZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWNpc2lvbi10ZW1wbGF0ZScpXHJcbmNvbnN0IGlucHV0T3V0cHV0VGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtb3V0cHV0LXRlbXBsYXRlJylcclxuXHJcbi8vIHVuLW5lZWRlZFxyXG5jb25zdCBmbG93Y2hhcnRTeW1ib2xzID0gWyd0ZXJtaW5hbCcsICdwcm9jZXNzJywgJ2RlY2lzaW9uJywgJ2lucHV0T3V0cHV0J11cclxuY29uc3QgYWxsVG9vbHMgPSBbJ2hhbmQnLCAnZWRpdCcsICdjb25uZWN0JywgJ2VyYXNlJ11cclxuXHJcbi8vIGZsb3dCbG9ja1xyXG5mdW5jdGlvbiBjcmVhdGVMaW5lKHN0YXJ0LCBlbmQpIHtcclxuICAgIGNvbnN0IGxpbmUgPSBuZXcgTGVhZGVyTGluZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGFydCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVuZCksIHsgc3RhcnRQbHVnOiAnZGlzYycsIHNpemU6IDQsIHN0YXJ0UGx1Z1NpemU6IDEuNSwgc3RhcnRQbHVnT3V0bGluZVNpemU6IDIuNSwgY29sb3I6ICcjZjBmOGZmJywgcGF0aDogJ2ZsdWlkJyB9KVxyXG4gICAgcmV0dXJuIGxpbmVcclxufVxyXG5jbGFzcyBGbG93QmxvY2sge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIHR5cGUsIGNvbnRlbnQsIHBvcykge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgW3RoaXMucG9zeCwgdGhpcy5wb3N5XSA9IHBvcztcclxuICAgICAgICBbdGhpcy5lbGVtZW50LCB0aGlzLmRyYWdnYWJsZV0gPSB0aGlzLmNyZWF0ZUZsb3dCbG9jayh0eXBlLCBpZCwgY29udGVudCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlWydvbk1vdmUnXSA9ICgpID0+IHsgdGhpcy5jb25uZWN0aW9ucy5mb3JFYWNoKChjKSA9PiB7IGMucG9zaXRpb24oKSB9KSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUZsb3dCbG9jaygpIHtcclxuICAgICAgICBsZXQgZWxlbWVudFxyXG5cclxuICAgICAgICBpZiAodGhpcy50eXBlID09ICd0ZXJtaW5hbCcpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IHRlcm1pbmFsVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAncHJvY2VzcycpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IHByb2Nlc3NUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAnZGVjaXNpb24nKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkZWNpc2lvblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09ICdpbnB1dE91dHB1dCcpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGlucHV0T3V0cHV0VGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2staWRdJykuaWQgPSBgYmxvY2stJHt0aGlzLmlkfWBcclxuICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50XScpLnRleHRDb250ZW50ID0gdGhpcy5jb250ZW50XHJcblxyXG4gICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWlkXScpLmNsYXNzTGlzdC5hZGQoJ2RyYWdnYWJsZScpXHJcbiAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2staWRdJykuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3RoaXMucG9zeH1weCwke3RoaXMucG9zeX1weClgXHJcbiAgICAgICAgZmxvd2NoYXJ0Qm9hcmQuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICAgICAgICBjb25zdCBlbGVtZW50RHJhZ2dhYmxlID0gbmV3IFBsYWluRHJhZ2dhYmxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBibG9jay0ke3RoaXMuaWR9YCkpXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBibG9jay0ke3RoaXMuaWR9YCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VG9vbCA9PSAnZXJhc2UnKSB7XHJcbiAgICAgICAgICAgICAgICByZW1GbG93QmxvY2sodGhpcy5pZClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiBbZWxlbWVudCwgZWxlbWVudERyYWdnYWJsZV1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVGbG93QmxvY2soZnVuYywgd2hhdFRvVXBkYXRlKSB7XHJcbiAgICAgICAgdGhpcy5kcmFnZ2FibGVbZnVuY10gPSB3aGF0VG9VcGRhdGVcclxuICAgIH1cclxufVxyXG5cclxuLy8gY2hhcnRcclxubGV0IGNvbm5lY3Rpb25zID0ge31cclxubGV0IGZsb3dCbG9ja3MgPSB7fVxyXG5sZXQgZ2xvYmFsX2luZGV4ID0gLTFcclxuXHJcbmZ1bmN0aW9uIGFkZEZsb3dCbG9jayh0eXBlLCBjb250ZW50LCBwb3MgPSBbMCwgMF0pIHtcclxuICAgIGxldCBuZXdCbG9jayA9IG5ldyBGbG93QmxvY2soZ2xvYmFsX2luZGV4ICsgMSwgdHlwZSwgY29udGVudCwgcG9zKVxyXG4gICAgZmxvd0Jsb2Nrc1tnbG9iYWxfaW5kZXggKyAxXSA9IG5ld0Jsb2NrXHJcbiAgICBnbG9iYWxfaW5kZXgrK1xyXG59XHJcbmZ1bmN0aW9uIHJlbUZsb3dCbG9jayhpZCkge1xyXG4gICAgLy8gcmVtb3ZlIGF0dGFjaGVkIGNvbm5lY3Rpb25zIHRvIGZsb3dibG9ja1xyXG4gICAgbGV0IGN1cnJDb25uZWN0aW9ucyA9XHJcbiAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpLm1hcChzdHIgPT4gc3RyLnNwbGl0KCc6JykpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlbMF0gPT0gaWQgfHwga2V5WzFdID09IGlkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICBjdXJyQ29ubmVjdGlvbnMuZm9yRWFjaChrID0+IHsgcmVtQ29ubmVjdGlvbihrWzBdLCBrWzFdKSB9KVxyXG5cclxuICAgIC8vIHJlbW92ZSBmbG93YmxvY2tcclxuICAgIGZsb3dCbG9ja3NbU3RyaW5nKGlkKV0uZHJhZ2dhYmxlLnJlbW92ZSgpXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHtpZH1gKS5yZW1vdmUoKVxyXG4gICAgZGVsZXRlIGZsb3dCbG9ja3NbU3RyaW5nKGlkKV1cclxuXHJcbiAgICAvLyBkZWNyZW1lbnQgaWRzXHJcbiAgICBsZXQgZ2lkcyA9IE9iamVjdC5rZXlzKGZsb3dCbG9ja3MpLm1hcChzdHIgPT4gTnVtYmVyKHN0cikpXHJcbiAgICAgICAgLmZpbHRlcihrZXkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5ID4gTnVtYmVyKGlkKVxyXG4gICAgICAgIH0pXHJcbiAgICBnaWRzLmZvckVhY2goayA9PiB7XHJcbiAgICAgICAgZmxvd0Jsb2Nrc1trIC0gMV0gPSBmbG93QmxvY2tzW2tdXHJcbiAgICAgICAgZmxvd0Jsb2Nrc1trIC0gMV0uaWQtLVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBibG9jay0ke2t9YCkuaWQgPSBgYmxvY2stJHtrIC0gMX1gXHJcbiAgICB9KVxyXG4gICAgZGVsZXRlIGZsb3dCbG9ja3NbTWF0aC5tYXgoLi4uZ2lkcyldXHJcblxyXG4gICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBsZXQgcGFydHMgPSBrZXkuc3BsaXQoJzonKS5tYXAoc3RyID0+IE51bWJlcihzdHIpKVxyXG4gICAgICAgIGlmIChwYXJ0c1swXSA+IE51bWJlcihpZCkpIHBhcnRzWzBdLS1cclxuICAgICAgICBpZiAocGFydHNbMV0gPiBOdW1iZXIoaWQpKSBwYXJ0c1sxXS0tXHJcbiAgICAgICAgbGV0IHRtcCA9IGNvbm5lY3Rpb25zW2tleV1cclxuICAgICAgICBkZWxldGUgY29ubmVjdGlvbnNba2V5XVxyXG4gICAgICAgIGNvbm5lY3Rpb25zW3BhcnRzLmpvaW4oJzonKV0gPSB0bXBcclxuICAgIH0pXHJcblxyXG4gICAgZ2xvYmFsX2luZGV4LS1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQ29ubmVjdGlvbihmcm9tSWQsIHRvSWQpIHtcclxuICAgIGxldCBjaWQgPSBgJHtmcm9tSWR9OiR7dG9JZH1gXHJcbiAgICBsZXQgc3RhcnROb2RlID0gZmxvd0Jsb2Nrc1tmcm9tSWRdXHJcbiAgICBsZXQgZW5kTm9kZSA9IGZsb3dCbG9ja3NbdG9JZF1cclxuXHJcbiAgICBjb25uZWN0aW9uc1tjaWRdID0gY3JlYXRlTGluZShgYmxvY2stJHtmcm9tSWR9YCwgYGJsb2NrLSR7dG9JZH1gKVxyXG4gICAgc3RhcnROb2RlLmNvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbnNbY2lkXSlcclxuICAgIGVuZE5vZGUuY29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uc1tjaWRdKVxyXG59XHJcbmZ1bmN0aW9uIHJlbUNvbm5lY3Rpb24oZnJvbUlkLCB0b0lkKSB7XHJcbiAgICBsZXQgY2lkID0gYCR7ZnJvbUlkfToke3RvSWR9YFxyXG5cclxuICAgIGZsb3dCbG9ja3NbZnJvbUlkXS5jb25uZWN0aW9ucy5zcGxpY2UoZmxvd0Jsb2Nrc1tmcm9tSWRdLmNvbm5lY3Rpb25zLmluZGV4T2YoY29ubmVjdGlvbnNbY2lkXSksIDEpXHJcbiAgICBmbG93QmxvY2tzW3RvSWRdLmNvbm5lY3Rpb25zLnNwbGljZShmbG93QmxvY2tzW3RvSWRdLmNvbm5lY3Rpb25zLmluZGV4T2YoY29ubmVjdGlvbnNbY2lkXSksIDEpXHJcblxyXG4gICAgY29ubmVjdGlvbnNbY2lkXS5yZW1vdmUoKVxyXG5cclxuICAgIGRlbGV0ZSBjb25uZWN0aW9uc1tjaWRdXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9iamVjdGlmeUNoYXJ0KCkge1xyXG4gICAgbGV0IHJlcyA9IHsgJ3dpcmVzJzoge30sICdub2Rlcyc6IHt9IH1cclxuICAgIE9iamVjdC5rZXlzKGZsb3dCbG9ja3MpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBsZXQgZiA9IGZsb3dCbG9ja3Nba2V5XVxyXG4gICAgICAgIHJlc1snbm9kZXMnXVtrZXldID0ge1xyXG4gICAgICAgICAgICBcInBvc3hcIjogZi5wb3N4LFxyXG4gICAgICAgICAgICBcInBvc3lcIjogZi5wb3N5LFxyXG4gICAgICAgICAgICBcInR5cGVcIjogZi50eXBlLFxyXG4gICAgICAgICAgICBcImNvbnRlbnRcIjogZi5jb250ZW50XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBPYmplY3Qua2V5cyhjb25uZWN0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdCgnOicpXHJcbiAgICAgICAgcmVzWyd3aXJlcyddW3BhcnRzWzBdXSA9IHBhcnRzWzFdXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHJlc1xyXG59XHJcbmZ1bmN0aW9uIHBlcnNvbmFsaWZ5Q2hhcnQob2JqZWN0KSB7XHJcbiAgICBjb25uZWN0aW9ucyA9IHt9XHJcbiAgICBmbG93QmxvY2tzID0ge31cclxuICAgIGdsb2JhbF9pbmRleCA9IC0xXHJcbiAgICBPYmplY3Qua2V5cyhvYmplY3RbJ25vZGVzJ10pLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBhZGRGbG93QmxvY2sob2JqZWN0Wydub2RlcyddW2tleV1bJ3R5cGUnXSwgb2JqZWN0Wydub2RlcyddW2tleV1bJ2NvbnRlbnQnXSwgW29iamVjdFsnbm9kZXMnXVtrZXldWydwb3N4J10sIG9iamVjdFsnbm9kZXMnXVtrZXldWydwb3N5J11dKVxyXG4gICAgfSlcclxuXHJcbiAgICBPYmplY3Qua2V5cyhvYmplY3RbJ3dpcmVzJ10pLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBhZGRDb25uZWN0aW9uKGtleSwgb2JqZWN0Wyd3aXJlcyddW2tleV0pXHJcbiAgICB9KVxyXG59XHJcblxyXG4vLyB0b29sc1xyXG5sZXQgY3VycmVudFRvb2xcclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ1dHRvbicpXHJcbmNvbnN0IGNvbm5lY3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdC1idXR0b24nKVxyXG5jb25zdCBtb3ZlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmUtYnV0dG9uJylcclxuY29uc3QgZXJhc2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJhc2UtYnV0dG9uJylcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMCwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGN1cnJlbnRUb29sID0gJ2VkaXQnXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnQnKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0pXHJcbmNvbm5lY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMSwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGN1cnJlbnRUb29sID0gJ2Nvbm5lY3QnXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnQnKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0pXHJcbm1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMiwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKHRydWUpXHJcbiAgICAgICAgY3VycmVudFRvb2wgPSAnbW92ZSdcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuZXJhc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMywgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGN1cnJlbnRUb29sID0gJ2VyYXNlJ1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlU3dpdGNoKHRvZ2dsZVN3aXRjaGVzID0gW10sIGluZGV4LCBhY3RpdmVDbGFzcywgb25BY3RpdmF0ZUZ1bmMgPSAoKSA9PiB7IH0pIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9nZ2xlU3dpdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0b2dnbGVTd2l0Y2hlc1tpXS5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzKVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVN3aXRjaGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKVxyXG4gICAgb25BY3RpdmF0ZUZ1bmMoKVxyXG59XHJcbmZ1bmN0aW9uIHRvZ2dsZURyYWdnYWJsZXMoZW5hYmxlKSB7XHJcbiAgICBpZiAoZW5hYmxlKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBmbG93QmxvY2tzW2tleV0uZHJhZ2dhYmxlLmRpc2FibGVkID0gZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBmbG93QmxvY2tzW2tleV0uZHJhZ2dhYmxlLmRpc2FibGVkID0gdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIHNpZGUgUGFuZWxcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGbG93QmxvY2soJ3Rlcm1pbmFsJywgJ3N0YXJ0JywgWzAsIDBdKSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRmxvd0Jsb2NrKCd0ZXJtaW5hbCcsICdlbmQnLCBbMCwgMF0pKVxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvY2VzcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRmxvd0Jsb2NrKCd0ZXJtaW5hbCcsICdwcm9jZXNzJywgWzAsIDBdKSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlY2lzaW9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGbG93QmxvY2soJ3Rlcm1pbmFsJywgJ2RlY2lzaW9uJywgWzAsIDBdKSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBhZGRGbG93QmxvY2soJ3Rlcm1pbmFsJywgJ2lucHV0JywgWzAsIDBdKSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkRmxvd0Jsb2NrKCd0ZXJtaW5hbCcsICdvdXRwdXQnLCBbMCwgMF0pKVxyXG5cclxubGV0IGlzRHJhZ2dpbmdCbG9jayA9IGZhbHNlXHJcbmxldCBkcmFnZ2luZ0Jsb2NrXHJcbmxldCBsaW5lXHJcblxyXG4vLyBjb25uZWN0aW9ucyB0b29sXHJcbmNvbnN0IHBvaW50ZXJUcmFja2VyID0gbmV3IFBvaW50ZXJUcmFja2VyKGZsb3djaGFydEJvYXJkLCB7XHJcbiAgICBzdGFydChwb2ludGVyLCBldmVudCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gZXZlbnQudGFyZ2V0XHJcblxyXG4gICAgICAgIGlmICh0ZW1wLmNsYXNzTGlzdC5jb250YWlucygnZmxvd2NoYXJ0LWJsb2NrJykpIHtcclxuICAgICAgICAgICAgZHJhZ2dpbmdCbG9jayA9IHRlbXAucGFyZW50RWxlbWVudFxyXG4gICAgICAgICAgICBpc0RyYWdnaW5nQmxvY2sgPSB0cnVlXHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJhY2tlcicpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb2ludGVyLmNsaWVudFh9cHgsY2FsYygke3BvaW50ZXIuY2xpZW50WX1weCAtIDVyZW0pKWBcclxuICAgICAgICAgICAgbGluZSA9IGNyZWF0ZUxpbmUoZHJhZ2dpbmdCbG9jay5pZCwgJ3RyYWNrZXInKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlKHByZXZpb3VzUG9pbnRlcnMsIGNoYW5nZWRQb2ludGVycywgZXZlbnQpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IGV2ZW50LnRhcmdldFxyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJhY2tlcicpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtjaGFuZ2VkUG9pbnRlcnNbMF0uY2xpZW50WH1weCxjYWxjKCR7Y2hhbmdlZFBvaW50ZXJzWzBdLmNsaWVudFl9cHggLSA1cmVtKSlgXHJcbiAgICAgICAgbGluZS5wb3NpdGlvbigpXHJcbiAgICB9LFxyXG4gICAgZW5kKHBvaW50ZXIsIGV2ZW50LCBjYW5jZWxsZWQpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IGV2ZW50LnRhcmdldFxyXG5cclxuICAgICAgICBpZiAodGVtcC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zsb3djaGFydC1ibG9jaycpKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFydElkID0gZHJhZ2dpbmdCbG9jay5pZC5yZXBsYWNlKCdibG9jay0nLCAnJylcclxuICAgICAgICAgICAgbGV0IGVuZElkID0gdGVtcC5wYXJlbnRFbGVtZW50LmlkLnJlcGxhY2UoJ2Jsb2NrLScsICcnKVxyXG5cclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zcGxpdCgnOicpWzBdID09IHN0YXJ0SWRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbUNvbm5lY3Rpb24oc3RhcnRJZCwga2V5LnNwbGl0KCc6JylbMV0pXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBhZGRDb25uZWN0aW9uKHN0YXJ0SWQsIGVuZElkKVxyXG4gICAgICAgICAgICAvLyBjb25uZWN0aW9uIGJ1Z3M6XHJcbiAgICAgICAgICAgIC8vIC1jb25kaXRpb25zXHJcbiAgICAgICAgICAgIC8vIC1lbmRcclxuICAgICAgICAgICAgLy8gLXNlbGYgY29ubmVjdGlvblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluZS5yZW1vdmUoKVxyXG4gICAgICAgIGlzRHJhZ2dpbmdCbG9jayA9IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgYXZvaWRQb2ludGVyRXZlbnRzOiB0cnVlLFxyXG4gICAgcmF3VXBkYXRlczogZmFsc2UsXHJcbn0pXHJcblxyXG4vL0hBUkQgUiBDT0RFRFxyXG5hZGRGbG93QmxvY2soJ3Rlcm1pbmFsJywgJ3N0YXJ0JywgWzAsIDBdKVxyXG5hZGRGbG93QmxvY2soJ2lucHV0T3V0cHV0JywgJ0lOUFVUIFgnLCBbMTAwLCAxMDBdKVxyXG5hZGRGbG93QmxvY2soJ2RlY2lzaW9uJywgJ1ggPiA1JywgWzIwMCwgMzAwXSlcclxuYWRkRmxvd0Jsb2NrKCd0ZXJtaW5hbCcsICdlbmQnLCBbNTAwLCAzMDBdKVxyXG5cclxuYWRkQ29ubmVjdGlvbigwLCAxKVxyXG5hZGRDb25uZWN0aW9uKDEsIDIpXHJcbmFkZENvbm5lY3Rpb24oMiwgMylcclxuXHJcbi8vIHJlbUZsb3dCbG9jaygyKVxyXG5sZXQgeCA9IG9iamVjdGlmeUNoYXJ0KClcclxucGVyc29uYWxpZnlDaGFydCh4KVxyXG5jb25zb2xlLmxvZyh4LCBjb25uZWN0aW9ucywgZmxvd0Jsb2NrcykiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=