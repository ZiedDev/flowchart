/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/index.css":
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/index.css ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `:root {
    --shadow-color: 0deg 0% 0%;
    --shadow-down-low:
        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px 0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),
        0px 2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);
    --shadow-down-medium:
        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.11),
        0px 1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),
        0px 4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),
        0px 9.9px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);
    --shadow-down-high:
        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px 2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),
        0px 5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),
        0px 8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),
        -0.1px 14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),
        -0.1px 22.1px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),
        -0.1px 33.6px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),
        -0.2px 49.5px 55.7px -2.5px hsl(var(--shadow-color) / 0.1);

    --shadow-up-low:
        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px -0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),
        0px -2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);
    --shadow-up-medium:
        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.11),
        0px -1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),
        0px -4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),
        -0.1px -10px 11.3px -2.5px hsl(var(--shadow-color) / 0.11);
    --shadow-up-high:
        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px -2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),
        0px -5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),
        -0.1px -8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),
        -0.1px -14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),
        -0.2px -22.2px 25px -1.8px hsl(var(--shadow-color) / 0.1),
        -0.2px -33.8px 38px -2.1px hsl(var(--shadow-color) / 0.1),
        -0.4px -49.8px 56px -2.5px hsl(var(--shadow-color) / 0.1);

    --shadow-right-low:
        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),
        0.8px 0px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),
        2px 0px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);
    --shadow-right-medium:
        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.11),
        1.6px 0px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),
        4.1px 0.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),
        9.9px 0.1px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);
    --shadow-right-high:
        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),
        2.9px 0px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),
        5.4px 0.1px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),
        8.8px 0.1px 9.9px -1.1px hsl(var(--shadow-color) / 0.1),
        14.1px 0.2px 15.9px -1.4px hsl(var(--shadow-color) / 0.1),
        22.1px 0.3px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),
        33.6px 0.5px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),
        49.4px 0.7px 55.6px -2.5px hsl(var(--shadow-color) / 0.1);
}

html,
body {
    margin: 0;
    padding: 0;
    overflow: hidden;
}

body {
    color: #E6EDF3;
    background-color: #0D1117;
    min-height: 100dvh;
    position: relative;
}

body * {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

    margin: 0;
    padding: 0;
}

body *::-webkit-scrollbar {
    cursor: grab;
    width: 0.75rem;
    height: 0.75rem;
}

body *::-webkit-scrollbar-track {
    cursor: grab;
    background: #21262D;
}

body *::-webkit-scrollbar-thumb {
    cursor: grab;
    background: #454f5e;
    border-radius: 1rem;
}

a {
    text-decoration: none;
    color: #76a6d0;
}

a:hover {
    text-decoration: 2pt #93b8d9 underline;
}

.hide {
    display: none;
}

.noScroll {
    overflow: hidden !important;
}

#tracker {
    position: absolute;
    user-select: none;
    pointer-events: none;
}`, "",{"version":3,"sources":["webpack://./src/css/index.css"],"names":[],"mappings":"AAAA;IACI,0BAA0B;IAC1B;;;2DAGuD;IACvD;;;;+DAI2D;IAC3D;;;;;;;;kEAQ8D;;IAE9D;;;4DAGwD;IACxD;;;;kEAI8D;IAC9D;;;;;;;;iEAQ6D;;IAE7D;;;2DAGuD;IACvD;;;;iEAI6D;IAC7D;;;;;;;;iEAQ6D;AACjE;;AAEA;;IAEI,SAAS;IACT,UAAU;IACV,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,yBAAyB;IACzB,kBAAkB;IAClB,kBAAkB;AACtB;;AAEA;IACI,mJAAmJ;;IAEnJ,SAAS;IACT,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;IACrB,cAAc;AAClB;;AAEA;IACI,sCAAsC;AAC1C;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,2BAA2B;AAC/B;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,oBAAoB;AACxB","sourcesContent":[":root {\r\n    --shadow-color: 0deg 0% 0%;\r\n    --shadow-down-low:\r\n        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px 0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),\r\n        0px 2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);\r\n    --shadow-down-medium:\r\n        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.11),\r\n        0px 1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),\r\n        0px 4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),\r\n        0px 9.9px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);\r\n    --shadow-down-high:\r\n        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px 2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),\r\n        0px 5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),\r\n        0px 8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px 14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px 22.1px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px 33.6px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.2px 49.5px 55.7px -2.5px hsl(var(--shadow-color) / 0.1);\r\n\r\n    --shadow-up-low:\r\n        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px -0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),\r\n        0px -2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);\r\n    --shadow-up-medium:\r\n        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.11),\r\n        0px -1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),\r\n        0px -4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),\r\n        -0.1px -10px 11.3px -2.5px hsl(var(--shadow-color) / 0.11);\r\n    --shadow-up-high:\r\n        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px -2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),\r\n        0px -5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px -8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px -14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),\r\n        -0.2px -22.2px 25px -1.8px hsl(var(--shadow-color) / 0.1),\r\n        -0.2px -33.8px 38px -2.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.4px -49.8px 56px -2.5px hsl(var(--shadow-color) / 0.1);\r\n\r\n    --shadow-right-low:\r\n        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0.8px 0px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),\r\n        2px 0px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);\r\n    --shadow-right-medium:\r\n        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.11),\r\n        1.6px 0px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),\r\n        4.1px 0.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),\r\n        9.9px 0.1px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);\r\n    --shadow-right-high:\r\n        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        2.9px 0px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),\r\n        5.4px 0.1px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),\r\n        8.8px 0.1px 9.9px -1.1px hsl(var(--shadow-color) / 0.1),\r\n        14.1px 0.2px 15.9px -1.4px hsl(var(--shadow-color) / 0.1),\r\n        22.1px 0.3px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),\r\n        33.6px 0.5px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),\r\n        49.4px 0.7px 55.6px -2.5px hsl(var(--shadow-color) / 0.1);\r\n}\r\n\r\nhtml,\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow: hidden;\r\n}\r\n\r\nbody {\r\n    color: #E6EDF3;\r\n    background-color: #0D1117;\r\n    min-height: 100dvh;\r\n    position: relative;\r\n}\r\n\r\nbody * {\r\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nbody *::-webkit-scrollbar {\r\n    cursor: grab;\r\n    width: 0.75rem;\r\n    height: 0.75rem;\r\n}\r\n\r\nbody *::-webkit-scrollbar-track {\r\n    cursor: grab;\r\n    background: #21262D;\r\n}\r\n\r\nbody *::-webkit-scrollbar-thumb {\r\n    cursor: grab;\r\n    background: #454f5e;\r\n    border-radius: 1rem;\r\n}\r\n\r\na {\r\n    text-decoration: none;\r\n    color: #76a6d0;\r\n}\r\n\r\na:hover {\r\n    text-decoration: 2pt #93b8d9 underline;\r\n}\r\n\r\n.hide {\r\n    display: none;\r\n}\r\n\r\n.noScroll {\r\n    overflow: hidden !important;\r\n}\r\n\r\n#tracker {\r\n    position: absolute;\r\n    user-select: none;\r\n    pointer-events: none;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/main.css":
/*!****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/main.css ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.main-content {
    height: calc(100dvh - 5rem - 0.5pt);

    display: grid;
    grid-template-columns: max-content 7fr;

    overflow: hidden;
}

.title {
    display: flex;
    align-items: center;
    justify-content: space-around;

    width: 100%;
    height: 5rem;
    background-color: #010409;
    border-bottom: #21262D solid 0.5pt;

    box-shadow: var(--shadow-down-high);
}

.title h1 {
    width: 40%;
    padding-left: 5%;
    display: flex;
}

.title h2 {
    width: 40%;
    padding-right: 5%;
    display: flex;
    justify-content: end;
}

.title h2 a {
    color: aliceblue;
}

.title h2 a:hover {
    text-decoration: 2pt aliceblue underline;
}

.run-button {
    width: 10%;
    height: 100%;
    background-color: transparent;
    border: none;
    cursor: pointer;
}

.running-button {
    cursor: default;
    opacity: 0.5;
}

.add-blocks-panel-container {
    overflow: hidden;
    background-color: #010409;

    border-right: #21262D solid 0.5pt;
    box-shadow: var(--shadow-right-high);
}

.add-blocks-panel {
    height: calc(100% - 3rem);
    padding: 1.5rem;

    display: flex;
    flex-direction: column;
    justify-content: start;
    align-items: center;

    gap: 1rem;

    overflow-x: hidden;
    overflow-y: auto;
}

.add-blocks-panel-container * {
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.add-blocks-panel-container div {
    cursor: pointer;
}

.add-blocks-panel-container .building-mode {
    height: 3rem;
    width: 100%;

    display: flex;
    align-items: center;

    border-bottom: #21262D solid 0.5pt;
}

.add-blocks-panel-container .building-mode button {
    cursor: pointer;

    background: none;
    color: aliceblue;
    border: none;

    height: 100%;
    width: 100%;

    display: flex;
    justify-content: center;
    align-items: center;

    transition: background-color 250ms ease-in-out;
}

.add-blocks-panel-container .building-mode button>svg {
    height: 100%;
}

.add-blocks-panel-container .building-mode button .active {
    display: none;
}

.add-blocks-panel-container .building-mode>.active {
    background-color: #21262D;
}

.add-blocks-panel-container .building-mode .active .inactive {
    display: none;
}

.add-blocks-panel-container .building-mode .active .active {
    display: block;
}

.add-blocks-panel-container .building-mode button {
    border-left: #21262D solid 0.5pt;
}

.flowchart-board-container {
    overflow: scroll;
    height: 100%;
}

.flowchart-board {
    width: 150rem;
    height: 150rem;

    position: relative;
}

.block-container {
    width: fit-content;
    height: fit-content;
    transition: outline 100ms ease-in-out;
}

.sidebar-block-container {
    width: fit-content;
    height: fit-content;
}

.flowchart-block {
    padding: 1rem;
    min-width: 5rem;
    min-height: 2rem;
    border-radius: 0.5rem;

    width: fit-content;
    height: fit-content;

    background-color: aliceblue;
    color: #0D1117;

    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;

    position: relative;

    box-shadow: var(--shadow-down-medium);
    transition: outline 100ms ease-in-out;

    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.posAbs {
    position: absolute;
}

.flowchart-block input {
    width: 5rem;
    height: 2rem;
    border-radius: 0.5rem;
    border: #0D1117 solid 2pt;
    background-color: transparent;
    font-size: 1.5em;
    font-weight: bold;
}

.flowchart-block .active {
    pointer-events: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.terminal {
    border-radius: 3rem;
}

.process {
    /* nothing currently */
}

.decision {
    transform: rotate(45deg) scale(75%);

    aspect-ratio: 1/1;
}

.decision * {
    transform: rotate(-45deg) scale(125%);
}

.input-output {
    transform: skew(-15deg);
}

.input-output * {
    transform: skew(15deg);
}

[data-flowchart-block-input-output-label] {
    pointer-events: none;
}

.yes-no-container {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;

    display: grid;
    grid-template-columns: 1fr 1fr;

    transform: rotate(-45deg) scale(150%);

    height: 100;
}

.yes-no-container * {
    transform: rotate(180deg);
}

.circle {
    width: 1rem;
    height: 1rem;

    background-color: aliceblue;
    border: #0D1117 2pt solid;

    position: absolute;
    top: 90%;
    border-radius: 100%;
}

.draggable {
    position: absolute;
}

.outline {
    outline-offset: 0.25rem;
    outline: 0.35rem solid #1c98d2 !important;
}

.leader-line {
    z-index: -1;
}`, "",{"version":3,"sources":["webpack://./src/css/main.css"],"names":[],"mappings":"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","sourcesContent":[".main-content {\r\n    height: calc(100dvh - 5rem - 0.5pt);\r\n\r\n    display: grid;\r\n    grid-template-columns: max-content 7fr;\r\n\r\n    overflow: hidden;\r\n}\r\n\r\n.title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n\r\n    width: 100%;\r\n    height: 5rem;\r\n    background-color: #010409;\r\n    border-bottom: #21262D solid 0.5pt;\r\n\r\n    box-shadow: var(--shadow-down-high);\r\n}\r\n\r\n.title h1 {\r\n    width: 40%;\r\n    padding-left: 5%;\r\n    display: flex;\r\n}\r\n\r\n.title h2 {\r\n    width: 40%;\r\n    padding-right: 5%;\r\n    display: flex;\r\n    justify-content: end;\r\n}\r\n\r\n.title h2 a {\r\n    color: aliceblue;\r\n}\r\n\r\n.title h2 a:hover {\r\n    text-decoration: 2pt aliceblue underline;\r\n}\r\n\r\n.run-button {\r\n    width: 10%;\r\n    height: 100%;\r\n    background-color: transparent;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.running-button {\r\n    cursor: default;\r\n    opacity: 0.5;\r\n}\r\n\r\n.add-blocks-panel-container {\r\n    overflow: hidden;\r\n    background-color: #010409;\r\n\r\n    border-right: #21262D solid 0.5pt;\r\n    box-shadow: var(--shadow-right-high);\r\n}\r\n\r\n.add-blocks-panel {\r\n    height: calc(100% - 3rem);\r\n    padding: 1.5rem;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: start;\r\n    align-items: center;\r\n\r\n    gap: 1rem;\r\n\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.add-blocks-panel-container * {\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.add-blocks-panel-container div {\r\n    cursor: pointer;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode {\r\n    height: 3rem;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    border-bottom: #21262D solid 0.5pt;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    cursor: pointer;\r\n\r\n    background: none;\r\n    color: aliceblue;\r\n    border: none;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    transition: background-color 250ms ease-in-out;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button>svg {\r\n    height: 100%;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button .active {\r\n    display: none;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode>.active {\r\n    background-color: #21262D;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active .inactive {\r\n    display: none;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active .active {\r\n    display: block;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    border-left: #21262D solid 0.5pt;\r\n}\r\n\r\n.flowchart-board-container {\r\n    overflow: scroll;\r\n    height: 100%;\r\n}\r\n\r\n.flowchart-board {\r\n    width: 150rem;\r\n    height: 150rem;\r\n\r\n    position: relative;\r\n}\r\n\r\n.block-container {\r\n    width: fit-content;\r\n    height: fit-content;\r\n    transition: outline 100ms ease-in-out;\r\n}\r\n\r\n.sidebar-block-container {\r\n    width: fit-content;\r\n    height: fit-content;\r\n}\r\n\r\n.flowchart-block {\r\n    padding: 1rem;\r\n    min-width: 5rem;\r\n    min-height: 2rem;\r\n    border-radius: 0.5rem;\r\n\r\n    width: fit-content;\r\n    height: fit-content;\r\n\r\n    background-color: aliceblue;\r\n    color: #0D1117;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n\r\n    position: relative;\r\n\r\n    box-shadow: var(--shadow-down-medium);\r\n    transition: outline 100ms ease-in-out;\r\n\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.posAbs {\r\n    position: absolute;\r\n}\r\n\r\n.flowchart-block input {\r\n    width: 5rem;\r\n    height: 2rem;\r\n    border-radius: 0.5rem;\r\n    border: #0D1117 solid 2pt;\r\n    background-color: transparent;\r\n    font-size: 1.5em;\r\n    font-weight: bold;\r\n}\r\n\r\n.flowchart-block .active {\r\n    pointer-events: none;\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.terminal {\r\n    border-radius: 3rem;\r\n}\r\n\r\n.process {\r\n    /* nothing currently */\r\n}\r\n\r\n.decision {\r\n    transform: rotate(45deg) scale(75%);\r\n\r\n    aspect-ratio: 1/1;\r\n}\r\n\r\n.decision * {\r\n    transform: rotate(-45deg) scale(125%);\r\n}\r\n\r\n.input-output {\r\n    transform: skew(-15deg);\r\n}\r\n\r\n.input-output * {\r\n    transform: skew(15deg);\r\n}\r\n\r\n[data-flowchart-block-input-output-label] {\r\n    pointer-events: none;\r\n}\r\n\r\n.yes-no-container {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n\r\n    transform: rotate(-45deg) scale(150%);\r\n\r\n    height: 100;\r\n}\r\n\r\n.yes-no-container * {\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.circle {\r\n    width: 1rem;\r\n    height: 1rem;\r\n\r\n    background-color: aliceblue;\r\n    border: #0D1117 2pt solid;\r\n\r\n    position: absolute;\r\n    top: 90%;\r\n    border-radius: 100%;\r\n}\r\n\r\n.draggable {\r\n    position: absolute;\r\n}\r\n\r\n.outline {\r\n    outline-offset: 0.25rem;\r\n    outline: 0.35rem solid #1c98d2 !important;\r\n}\r\n\r\n.leader-line {\r\n    z-index: -1;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/mainMobile.css":
/*!**********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/mainMobile.css ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `@media screen and (orientation: portrait) {
    .main-content {
        display: flex;
        flex-direction: column-reverse;

        overflow: hidden;
    }

    .add-blocks-panel-container {
        border-top: #21262D solid 0.5pt;
        box-shadow: var(--shadow-deviation-high);
    }

    .add-blocks-panel {
        padding: 0;
        flex-direction: row;
        overflow-x: scroll;
        overflow-y: hidden;
    }
}`, "",{"version":3,"sources":["webpack://./src/css/mainMobile.css"],"names":[],"mappings":"AAAA;IACI;QACI,aAAa;QACb,8BAA8B;;QAE9B,gBAAgB;IACpB;;IAEA;QACI,+BAA+B;QAC/B,wCAAwC;IAC5C;;IAEA;QACI,UAAU;QACV,mBAAmB;QACnB,kBAAkB;QAClB,kBAAkB;IACtB;AACJ","sourcesContent":["@media screen and (orientation: portrait) {\r\n    .main-content {\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n\r\n        overflow: hidden;\r\n    }\r\n\r\n    .add-blocks-panel-container {\r\n        border-top: #21262D solid 0.5pt;\r\n        box-shadow: var(--shadow-deviation-high);\r\n    }\r\n\r\n    .add-blocks-panel {\r\n        padding: 0;\r\n        flex-direction: row;\r\n        overflow-x: scroll;\r\n        overflow-y: hidden;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/leader-line-new/leader-line.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/leader-line-new/leader-line.min.js ***!
  \*********************************************************/
/***/ (function(module) {

/*! LeaderLine v1.1.5 (c) anseki https://anseki.github.io/leader-line/ */
var LeaderLine=function(){"use strict";var te,M,I,C,L,o,t,h,f,p,n,a,e,x,b,l,r,i,k,w,s,u,c,A="leader-line",V=1,P=2,N=3,T=4,W={top:V,right:P,bottom:N,left:T},B=1,R=2,F=3,G=4,D=5,z={straight:B,arc:R,fluid:F,magnet:G,grid:D},ne="behind",d=A+"-defs",y='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',ae={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},j={behind:ne,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},ie={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},H=[V,P,N,T],U="auto",oe={x:"left",y:"top",width:"width",height:"height"},Z=80,Y=4,X=5,q=120,Q=8,K=3.75,J=10,$=30,ee=.5522847,le=.25*Math.PI,m=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,re="http://www.w3.org/2000/svg",S="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,se=!S&&!!document.uniqueID,ue="MozAppearance"in document.documentElement.style,he=!(S||ue||!window.chrome||!window.CSS),pe=!S&&!se&&!ue&&!he&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,ce=se||S?.2:.1,de={path:F,lineColor:"coral",lineSize:4,plugSE:[ne,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},fe=(s={}.toString,u={}.hasOwnProperty.toString,c=u.call(Object),function(e){var t,n;return e&&"[object Object]"===s.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&u.call(n)===c)}),ye=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},g=(x={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},b=1e3/60/2,l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,b)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},i=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},k=[],w=0,{add:function(n,e,t,a,i,o,l){var r,s,u,h,p,c,d,f,y,m,S,g,_,v=++w;function E(e,t){return{value:n(t),timeRatio:e,outputRatio:t}}if("string"==typeof i&&(i=x[i]),n=n||function(){},t<b)s=[E(0,0),E(1,1)];else{if(u=b/t,s=[E(0,0)],0===i[0]&&0===i[1]&&1===i[2]&&1===i[3])for(p=u;p<=1;p+=u)s.push(E(p,p));else for(c=h=(p=u)/10;c<=1;c+=h)_=g=S=m=y=void 0,m=(y=(f=c)*f)*f,_=3*(S=1-f)*y,p<=(d={x:(g=S*S*3*f)*i[0]+_*i[2]+m,y:g*i[1]+_*i[3]+m}).x&&(s.push(E(d.x,d.y)),p+=u);s.push(E(1,1))}return r={animId:v,frameCallback:e,duration:t,count:a,frames:s,reverse:!!o},k.push(r),!1!==l&&ke(r,l),v},remove:function(n){var a;k.some(function(e,t){return e.animId===n&&(a=t,!(e.framesStart=null))})&&k.splice(a,1)},start:function(t,n,a){k.some(function(e){return e.animId===t&&(e.reverse=!!n,ke(e,a),!0)})},stop:function(t,n){var a;return k.some(function(e){return e.animId===t&&(n?null!=e.lastFrame&&(a=e.frames[e.lastFrame].timeRatio):(a=(Date.now()-e.framesStart)/e.duration,e.reverse&&(a=1-a),a<0?a=0:1<a&&(a=1)),!(e.framesStart=null))}),a},validTiming:function(t){return"string"==typeof t?x[t]:Array.isArray(t)&&[0,1,2,3].every(function(e){return i(t[e])&&0<=t[e]&&t[e]<=1})?[t[0],t[1],t[2],t[3]]:null}}),_=function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function i(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var o={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},l=-1!==e.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=o[e]?o[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var n=null,a=(this._prevCommand=t).toUpperCase();return"H"===a||"V"===a?n=[this._parseNumber()]:"M"===a||"L"===a||"T"===a?n=[this._parseNumber(),this._parseNumber()]:"S"===a||"Q"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===a&&(this._skipOptionalSpaces(),n=[]),null===n||0<=n.indexOf(null)?null:{type:t,values:n}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return o[e]?o[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,a=0,i=1,o=1,l=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var r=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==r)for(var s=this._currentIndex-1,u=1;r<=s;)t+=u*(this._string[s]-"0"),--s,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,a+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==l&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,o=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var h=t+a;return h*=i,e&&(h*=Math.pow(10,o*e)),l===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),h)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};function a(e){if(!e||0===e.length)return[];var t=new i(e),n=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){var a=t.parseSegment();if(null===a)break;n.push(a)}return n}function r(e){return e.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})}function d(e){var m=[],S=null,g=null,_=null,v=null,E=null,x=null,b=null;return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p,c,d,f,y;"M"===e.type?(f=e.values[0],y=e.values[1],m.push({type:"M",values:[f,y]}),v=x=f,E=b=y):"C"===e.type?(a=e.values[0],i=e.values[1],t=e.values[2],n=e.values[3],f=e.values[4],y=e.values[5],m.push({type:"C",values:[a,i,t,n,f,y]}),g=t,_=n,v=f,E=y):"L"===e.type?(f=e.values[0],y=e.values[1],m.push({type:"L",values:[f,y]}),v=f,E=y):"H"===e.type?(f=e.values[0],m.push({type:"L",values:[f,E]}),v=f):"V"===e.type?(y=e.values[0],m.push({type:"L",values:[v,y]}),E=y):"S"===e.type?(t=e.values[0],n=e.values[1],f=e.values[2],y=e.values[3],l="C"===S||"S"===S?(o=v+(v-g),E+(E-_)):(o=v,E),m.push({type:"C",values:[o,l,t,n,f,y]}),g=t,_=n,v=f,E=y):"T"===e.type?(f=e.values[0],y=e.values[1],i="Q"===S||"T"===S?(a=v+(v-g),E+(E-_)):(a=v,E),o=v+2*(a-v)/3,l=E+2*(i-E)/3,r=f+2*(a-f)/3,s=y+2*(i-y)/3,m.push({type:"C",values:[o,l,r,s,f,y]}),g=a,_=i,v=f,E=y):"Q"===e.type?(a=e.values[0],i=e.values[1],f=e.values[2],y=e.values[3],o=v+2*(a-v)/3,l=E+2*(i-E)/3,r=f+2*(a-f)/3,s=y+2*(i-y)/3,m.push({type:"C",values:[o,l,r,s,f,y]}),g=a,_=i,v=f,E=y):"A"===e.type?(u=e.values[0],h=e.values[1],p=e.values[2],c=e.values[3],d=e.values[4],f=e.values[5],y=e.values[6],0===u||0===h?(m.push({type:"C",values:[v,E,f,y,f,y]}),v=f,E=y):v===f&&E===y||U(v,E,f,y,u,h,p,c,d).forEach(function(e){m.push({type:"C",values:e}),v=f,E=y})):"Z"===e.type&&(m.push(e),v=x,E=b),S=e.type}),m}var n=e.SVGPathElement.prototype.setAttribute,s=e.SVGPathElement.prototype.removeAttribute,f=e.Symbol?e.Symbol():"__cachedPathData",y=e.Symbol?e.Symbol():"__cachedNormalizedPathData",U=function(e,t,n,a,i,o,l,r,s,u){function h(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var p,c,d,f,y,m,S,g,_,v,E,x,b,k,w,O=(p=l,Math.PI*p/180),M=[];u?(k=u[0],w=u[1],x=u[2],b=u[3]):(e=(c=h(e,t,-O)).x,t=c.y,1<(m=(f=(e-(n=(d=h(n,a,-O)).x))/2)*f/(i*i)+(y=(t-(a=d.y))/2)*y/(o*o))&&(i*=m=Math.sqrt(m),o*=m),_=(S=i*i)*(g=o*o)-S*y*y-g*f*f,v=S*y*y+g*f*f,x=(E=(r===s?-1:1)*Math.sqrt(Math.abs(_/v)))*i*y/o+(e+n)/2,b=E*-o*f/i+(t+a)/2,k=Math.asin(parseFloat(((t-b)/o).toFixed(9))),w=Math.asin(parseFloat(((a-b)/o).toFixed(9))),e<x&&(k=Math.PI-k),n<x&&(w=Math.PI-w),k<0&&(k=2*Math.PI+k),w<0&&(w=2*Math.PI+w),s&&w<k&&(k-=2*Math.PI),!s&&k<w&&(w-=2*Math.PI));var I,C,L,A=w-k;Math.abs(A)>120*Math.PI/180&&(I=w,C=n,L=a,w=s&&k<w?k+120*Math.PI/180*1:k+120*Math.PI/180*-1,n=x+i*Math.cos(w),a=b+o*Math.sin(w),M=U(n,a,C,L,i,o,l,0,s,[w,I,x,b])),A=w-k;var V=Math.cos(k),P=Math.sin(k),N=Math.cos(w),T=Math.sin(w),W=Math.tan(A/4),B=4/3*i*W,R=4/3*o*W,F=[e,t],G=[e+B*P,t-R*V],D=[n+B*T,a-R*N],z=[n,a];if(G[0]=2*F[0]-G[0],G[1]=2*F[1]-G[1],u)return[G,D,z].concat(M);M=[G,D,z].concat(M).join().split(",");var j=[],H=[];return M.forEach(function(e,t){t%2?H.push(h(M[t-1],M[t],O).y):H.push(h(M[t],M[t+1],O).x),6===H.length&&(j.push(H),H=[])}),j};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[f]=null,this[y]=null),n.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[f]=null,this[y]=null),s.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[y])return r(this[y]);this[f]?n=r(this[f]):(n=a(this.getAttribute("d")||""),this[f]=r(n));var t=d((s=[],c=p=h=u=null,n.forEach(function(e){var t,n,a,i,o,l,r=e.type;"M"===r?(o=e.values[0],l=e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"m"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"L"===r?(o=e.values[0],l=e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"l"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"C"===r?(t=e.values[0],n=e.values[1],a=e.values[2],i=e.values[3],o=e.values[4],l=e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"c"===r?(t=u+e.values[0],n=h+e.values[1],a=u+e.values[2],i=h+e.values[3],o=u+e.values[4],l=h+e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"Q"===r?(t=e.values[0],n=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"q"===r?(t=u+e.values[0],n=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"A"===r?(o=e.values[5],l=e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"a"===r?(o=u+e.values[5],l=h+e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"H"===r?(o=e.values[0],s.push({type:"H",values:[o]}),u=o):"h"===r?(o=u+e.values[0],s.push({type:"H",values:[o]}),u=o):"V"===r?(l=e.values[0],s.push({type:"V",values:[l]}),h=l):"v"===r?(l=h+e.values[0],s.push({type:"V",values:[l]}),h=l):"S"===r?(a=e.values[0],i=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"s"===r?(a=u+e.values[0],i=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"T"===r?(o=e.values[0],l=e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"t"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"Z"!==r&&"z"!==r||(s.push({type:"Z",values:[]}),u=p,h=c)}),s));return this[y]=r(t),t}if(this[f])return r(this[f]);var s,u,h,p,c,n=a(this.getAttribute("d")||"");return this[f]=r(n),n},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)l?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,a=e.length;n<a;n+=1){var i=e[n];0<n&&(t+=" "),t+=i.type,i.values&&0<i.values.length&&(t+=" "+i.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,a=this.width.baseVal.value,i=this.height.baseVal.value,o=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,l=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;a/2<o&&(o=a/2),i/2<l&&(l=i/2);var r=(r=[{type:"M",values:[t+o,n]},{type:"H",values:[t+a-o]},{type:"A",values:[o,l,0,0,1,t+a,n+l]},{type:"V",values:[n+i-l]},{type:"A",values:[o,l,0,0,1,t+a-o,n+i]},{type:"H",values:[t+o]},{type:"A",values:[o,l,0,0,1,t,n+i-l]},{type:"V",values:[n+l]},{type:"A",values:[o,l,0,0,1,t+o,n]},{type:"Z",values:[]}]).filter(function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]});return e&&!0===e.normalize&&(r=d(r)),r},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.r.baseVal.value,i=[{type:"M",values:[t+a,n]},{type:"A",values:[a,a,0,0,1,t,n+a]},{type:"A",values:[a,a,0,0,1,t-a,n]},{type:"A",values:[a,a,0,0,1,t,n-a]},{type:"A",values:[a,a,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(i=d(i)),i},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.rx.baseVal.value,i=this.ry.baseVal.value,o=[{type:"M",values:[t+a,n]},{type:"A",values:[a,i,0,0,1,t,n+i]},{type:"A",values:[a,i,0,0,1,t-a,n]},{type:"A",values:[a,i,0,0,1,t,n-i]},{type:"A",values:[a,i,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(o=d(o)),o},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()},v=(a={},xe.m=n=[function(e,t,n){n.r(t);var a=500,i=[],o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},r=Date.now(),s=void 0;function u(){var n=void 0,e=void 0;s&&(l.call(window,s),s=null),i.forEach(function(e){var t;(t=e.event)&&(e.event=null,e.listener(t),n=!0)}),n?(r=Date.now(),e=!0):Date.now()-r<a&&(e=!0),e&&(s=o.call(window,u))}function h(n){var a=-1;return i.some(function(e,t){return e.listener===n&&(a=t,!0)}),a}var p={add:function(e){var t=void 0;return-1===h(e)?(i.push(t={listener:e}),function(e){t.event=e,s||u()}):null},remove:function(e){var t;-1<(t=h(e))&&(i.splice(t,1),!i.length&&s&&(l.call(window,s),s=null))}};t.default=p}],xe.c=a,xe.d=function(e,t,n){xe.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},xe.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},xe.t=function(t,e){if(1&e&&(t=xe(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(xe.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)xe.d(n,a,function(e){return t[e]}.bind(null,a));return n},xe.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return xe.d(t,"a",t),t},xe.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},xe.p="",xe(xe.s=0).default),me={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:ne},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:ne},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:ne},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},E={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},O="fade",Se=[],ge={},_e=0,ve={},Ee=0;function xe(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,xe),t.l=!0,t.exports}function be(){var i=Date.now(),o=!1;e&&(r.call(window,e),e=null),k.forEach(function(e){var t,n,a;if(e.framesStart){if((t=i-e.framesStart)>=e.duration&&e.count&&e.loopsLeft<=1)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);if(t>e.duration){if(n=Math.floor(t/e.duration),e.count){if(n>=e.loopsLeft)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);e.loopsLeft-=n}e.framesStart+=e.duration*n,t=i-e.framesStart}e.reverse&&(t=e.duration-t),a=e.frames[e.lastFrame=Math.round(t/b)],!1!==e.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?o=!0:e.framesStart=null}}),o&&(e=l.call(window,be))}function ke(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,be()}function we(t,n){var e,a;return typeof t!=typeof n||(e=fe(t)?"obj":Array.isArray(t)?"array":"")!=(fe(n)?"obj":Array.isArray(n)?"array":"")||("obj"===e?we(a=Object.keys(t).sort(),Object.keys(n).sort())||a.some(function(e){return we(t[e],n[e])}):"array"===e?t.length!==n.length||t.some(function(e,t){return we(e,n[t])}):t!==n)}function Oe(n){return n?fe(n)?Object.keys(n).reduce(function(e,t){return e[t]=Oe(n[t]),e},{}):Array.isArray(n)?n.map(Oe):n:n}function Me(e){var t,n,a,i=1,o=e=(e+"").trim();function l(e){var t=1,n=m.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),a=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===a.length?(i=l(a[3]),o="rgb("+a.slice(0,3).join(", ")+")"):"hsla"===n&&4===a.length?(i=l(a[3]),o="hsl("+a.slice(0,3).join(", ")+")"):"hwb"===n&&4===a.length?(i=l(a[3]),o="hwb("+a.slice(0,3).join(", ")+")"):"gray"===n&&2===a.length?(i=l(a[1]),o="gray("+a[0]+")"):"device-cmyk"===n&&5<=a.length&&(i=l(a[4]),o="device-cmyk("+a.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?o=t[1]?(i=parseInt(t[2],16)/255,"#"+t[1]):(i=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(i=0),[i,o]}function Ie(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function Ce(e,t){var n,a,i,o,l={};if(!(i=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(a in n=e.getBoundingClientRect())l[a]=n[a];if(!t){if(!(o=i.defaultView))return console.error("Cannot get window that contains the element."),null;l.left+=o.pageXOffset,l.right+=o.pageXOffset,l.top+=o.pageYOffset,l.bottom+=o.pageYOffset}return l}function Le(e,t){var n,a,i=[],o=e;for(t=t||window;;){if(!(n=o.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(a=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(a===t)break;if(!(o=a.frameElement))return console.error("`baseWindow` was not found."),null;i.unshift(o)}return i}function Ae(e,t){var n,a,o=0,l=0;return(a=Le(e,t=t||window))?a.length?(a.forEach(function(e,t){var n,a,i=Ce(e,0<t);o+=i.left,l+=i.top,a=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),i={left:n.clientLeft+parseFloat(a.paddingLeft),top:n.clientTop+parseFloat(a.paddingTop)},o+=i.left,l+=i.top}),(n=Ce(e,!0)).left+=o,n.right+=o,n.top+=l,n.bottom+=l,n):Ce(e):null}function Ve(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}function Pe(e,t,n){var a=t.x-e.x,i=t.y-e.y;return{x:e.x+a*n,y:e.y+i*n,angle:Math.atan2(i,a)/(Math.PI/180)}}function Ne(e,t,n){var a=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(a)*n,y:t.y+Math.sin(a)*n*-1}}function Te(e,t,n,a,i){var o=i*i,l=o*i,r=1-i,s=r*r,u=s*r,h=u*e.x+3*s*i*t.x+3*r*o*n.x+l*a.x,p=u*e.y+3*s*i*t.y+3*r*o*n.y+l*a.y,c=e.x+2*i*(t.x-e.x)+o*(n.x-2*t.x+e.x),d=e.y+2*i*(t.y-e.y)+o*(n.y-2*t.y+e.y),f=t.x+2*i*(n.x-t.x)+o*(a.x-2*n.x+t.x),y=t.y+2*i*(n.y-t.y)+o*(a.y-2*n.y+t.y),m=r*e.x+i*t.x,S=r*e.y+i*t.y,g=r*n.x+i*a.x,_=r*n.y+i*a.y,v=90-180*Math.atan2(c-f,d-y)/Math.PI;return{x:h,y:p,fromP2:{x:c,y:d},toP1:{x:f,y:y},fromP1:{x:m,y:S},toP2:{x:g,y:_},angle:v+=180<v?-180:180}}function We(n,a,i,o,e){function l(e,t,n,a,i){return e*(e*(-3*t+9*n-9*a+3*i)+6*t-12*n+6*a)-3*t+3*n}var r,s,u,h,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],c=0,d=(e=null==e||1<e?1:e<0?0:e)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(e,t){s=l(r=d*e+d,n.x,a.x,i.x,o.x),u=l(r,n.y,a.y,i.y,o.y),h=s*s+u*u,c+=p[t]*Math.sqrt(h)}),d*c}function Be(e,t,n,a,i){for(var o,l=.5,r=1-l;o=We(e,t,n,a,r),!(Math.abs(o-i)<=.01);)r+=(o<i?1:-1)*(l/=2);return r}function Re(e,n){var a;return e.forEach(function(e){var t=n?e.map(function(e){var t={x:e.x,y:e.y};return n(t),t}):e;(a=a||[{type:"M",values:[t[0].x,t[0].y]}]).push(t.length?2===t.length?{type:"L",values:[t[1].x,t[1].y]}:{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]}:{type:"Z",values:[]})}),a}function Fe(e){var n=[],a=0;return e.forEach(function(e){var t=(2===e.length?Ve:We).apply(null,e);n.push(t),a+=t}),{segsLen:n,lenAll:a}}function Ge(e,a){return null==e||null==a||e.length!==a.length||e.some(function(e,t){var n=a[t];return e.type!==n.type||e.values.some(function(e,t){return e!==n.values[t]})})}function De(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function ze(e,t,n){var a;e.events[t]&&-1<(a=e.events[t].indexOf(n))&&e.events[t].splice(a,1)}function je(e){t&&clearTimeout(t),Se.push(e),t=setTimeout(function(){Se.forEach(function(e){e()}),Se=[]},0)}function He(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Ue(e){e.reflowTargets.forEach(function(e){var n;n=e,setTimeout(function(){var e=n.parentNode,t=n.nextSibling;e.insertBefore(e.removeChild(n),t)},0)}),e.reflowTargets=[]}function Ze(e,t,n,a,i,o,l){var r,s,u;"auto-start-reverse"===n?("boolean"!=typeof h&&(t.setAttribute("orient","auto-start-reverse"),h=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),h?t.setAttribute("orient",n):((r=i.createSVGTransform()).setRotate(180,0,0),o.transform.baseVal.appendItem(r),t.setAttribute("orient","auto"),u=!0)):(t.setAttribute("orient",n),!1===h&&o.transform.baseVal.clear()),s=t.viewBox.baseVal,u?(s.x=-a.right,s.y=-a.bottom):(s.x=a.left,s.y=a.top),s.width=a.width,s.height=a.height,se&&He(e,l)}function Ye(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Xe(n,a){Object.keys(a).forEach(function(e){var t=a[e];n[e]=null!=t.iniValue?t.hasSE?[t.iniValue,t.iniValue]:t.iniValue:t.hasSE?t.hasProps?[{},{}]:[]:t.hasProps?{}:null})}function qe(t,e,n,a,i){return a!==e[n]&&(e[n]=a,i&&i.forEach(function(e){e(t,a,n)}),!0)}function Qe(e){function t(e,t){return e+parseFloat(t)}var n=e.document,a=e.getComputedStyle(n.documentElement,""),i=e.getComputedStyle(n.body,""),o={x:0,y:0};return"static"!==i.position?(o.x-=[a.marginLeft,a.borderLeftWidth,a.paddingLeft,i.marginLeft,i.borderLeftWidth].reduce(t,0),o.y-=[a.marginTop,a.borderTopWidth,a.paddingTop,i.marginTop,i.borderTopWidth].reduce(t,0)):"static"!==a.position&&(o.x-=[a.marginLeft,a.borderLeftWidth].reduce(t,0),o.y-=[a.marginTop,a.borderTopWidth].reduce(t,0)),o}function Ke(e){var t,n=e.document;n.getElementById(d)||(t=(new e.DOMParser).parseFromString(y,"image/svg+xml"),n.body.appendChild(t.documentElement),_(e))}function Je(u){var _,f,v,e,n,a,i,y,s,h,p,t,o,l,r,c,d,m,S,g=u.options,E=u.curStats,x=u.aplStats,b=E.position_socketXYSE,k=!1;function w(e,t){var n=t===V?{x:e.left+e.width/2,y:e.top}:t===P?{x:e.right,y:e.top+e.height/2}:t===N?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function O(e){return{x:e.x,y:e.y}}if(E.position_path=g.path,E.position_lineStrokeWidth=E.line_strokeWidth,E.position_socketGravitySE=_=Oe(g.socketGravitySE),f=[0,1].map(function(e){var t,n,a,i=g.anchorSE[e],o=u.optionIsAttach.anchorSE[e],l=!1!==o?ve[i._id]:null,r=!1!==o&&l.conf.getStrokeWidth?l.conf.getStrokeWidth(l,u):0,s=!1!==o&&l.conf.getBBoxNest?l.conf.getBBoxNest(l,u,r):Ae(i,u.baseWindow);return E.capsMaskAnchor_pathDataSE[e]=!1!==o&&l.conf.getPathData?l.conf.getPathData(l,u,r):(n=null!=(t=s).right?t.right:t.left+t.width,a=null!=t.bottom?t.bottom:t.top+t.height,[{type:"M",values:[t.left,t.top]},{type:"L",values:[n,t.top]},{type:"L",values:[n,a]},{type:"L",values:[t.left,a]},{type:"Z",values:[]}]),E.capsMaskAnchor_strokeWidthSE[e]=r,s}),i=-1,g.socketSE[0]&&g.socketSE[1]?(b[0]=w(f[0],g.socketSE[0]),b[1]=w(f[1],g.socketSE[1])):(g.socketSE[0]||g.socketSE[1]?(a=g.socketSE[0]?(n=0,1):(n=1,0),b[n]=w(f[n],g.socketSE[n]),(e=H.map(function(e){return w(f[a],e)})).forEach(function(e){var t=Ve(e,b[n]);(t<i||-1===i)&&(b[a]=e,i=t)})):(e=H.map(function(e){return w(f[1],e)}),H.map(function(e){return w(f[0],e)}).forEach(function(n){e.forEach(function(e){var t=Ve(n,e);(t<i||-1===i)&&(b[0]=n,b[1]=e,i=t)})})),[0,1].forEach(function(e){var t,n;g.socketSE[e]||(f[e].width||f[e].height?f[e].width||b[e].socketId!==T&&b[e].socketId!==P?f[e].height||b[e].socketId!==V&&b[e].socketId!==N||(b[e].socketId=0<=b[e?0:1].y-f[e].top?N:V):b[e].socketId=0<=b[e?0:1].x-f[e].left?P:T:(t=b[e?0:1].x-f[e].left,n=b[e?0:1].y-f[e].top,b[e].socketId=Math.abs(t)>=Math.abs(n)?0<=t?P:T:0<=n?N:V))})),E.position_path!==x.position_path||E.position_lineStrokeWidth!==x.position_lineStrokeWidth||[0,1].some(function(e){return E.position_plugOverheadSE[e]!==x.position_plugOverheadSE[e]||(i=b[e],o=x.position_socketXYSE[e],i.x!==o.x||i.y!==o.y||i.socketId!==o.socketId)||(t=_[e],n=x.position_socketGravitySE[e],(a=null==t?"auto":Array.isArray(t)?"array":"number")!=(null==n?"auto":Array.isArray(n)?"array":"number")||("array"==a?t[0]!==n[0]||t[1]!==n[1]:t!==n));var t,n,a,i,o})){switch(u.pathList.baseVal=v=[],u.pathList.animVal=null,E.position_path){case B:v.push([O(b[0]),O(b[1])]);break;case R:t="number"==typeof _[0]&&0<_[0]||"number"==typeof _[1]&&0<_[1],o=le*(t?-1:1),l=Math.atan2(b[1].y-b[0].y,b[1].x-b[0].x),r=o-l,c=Math.PI-l-o,d=Ve(b[0],b[1])/Math.sqrt(2)*ee,m={x:b[0].x+Math.cos(r)*d,y:b[0].y+Math.sin(r)*d*-1},S={x:b[1].x+Math.cos(c)*d,y:b[1].y+Math.sin(c)*d*-1},v.push([O(b[0]),m,S,O(b[1])]);break;case F:case G:s=[_[0],E.position_path===G?0:_[1]],h=[],p=[],b.forEach(function(e,t){var n,a,i,o,l=s[t],r=Array.isArray(l)?{x:l[0],y:l[1]}:"number"==typeof l?e.socketId===V?{x:0,y:-l}:e.socketId===P?{x:l,y:0}:e.socketId===N?{x:0,y:l}:{x:-l,y:0}:(n=b[t?0:1],i=0<(a=E.position_plugOverheadSE[t])?q+(Q<a?(a-Q)*K:0):Z+(E.position_lineStrokeWidth>Y?(E.position_lineStrokeWidth-Y)*X:0),e.socketId===V?((o=(e.y-n.y)/2)<i&&(o=i),{x:0,y:-o}):e.socketId===P?((o=(n.x-e.x)/2)<i&&(o=i),{x:o,y:0}):e.socketId===N?((o=(n.y-e.y)/2)<i&&(o=i),{x:0,y:o}):((o=(e.x-n.x)/2)<i&&(o=i),{x:-o,y:0}));h[t]=e.x+r.x,p[t]=e.y+r.y}),v.push([O(b[0]),{x:h[0],y:p[0]},{x:h[1],y:p[1]},O(b[1])]);break;case D:!function(){var a,o=1,l=2,r=3,s=4,u=[[],[]],h=[];function p(e){return e===o?r:e===l?s:e===r?o:l}function c(e){return e===l||e===s?"x":"y"}function d(e,t,n){var a={x:e.x,y:e.y};if(n){if(n===p(e.dirId))throw new Error("Invalid dirId: "+n);a.dirId=n}else a.dirId=e.dirId;return a.dirId===o?a.y-=t:a.dirId===l?a.x+=t:a.dirId===r?a.y+=t:a.x-=t,a}function f(e,t){return t.dirId===o?e.y<=t.y:t.dirId===l?e.x>=t.x:t.dirId===r?e.y>=t.y:e.x<=t.x}function y(e,t){return t.dirId===o||t.dirId===r?e.x===t.x:e.y===t.y}function m(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function S(e,t,n){return Math.abs(t[n]-e[n])}function g(e,t,n){return"x"===n?e.x<t.x?l:s:e.y<t.y?r:o}for(b.forEach(function(e,t){var n,a=O(e),i=_[t];n=Array.isArray(i)?i[0]<0?[s,-i[0]]:0<i[0]?[l,i[0]]:i[1]<0?[o,-i[1]]:0<i[1]?[r,i[1]]:[e.socketId,0]:"number"!=typeof i?[e.socketId,$]:0<=i?[e.socketId,i]:[p(e.socketId),-i],a.dirId=n[0],i=n[1],u[t].push(a),h[t]=d(a,i)});function(){var e,t,a,i,n=[f(h[1],h[0]),f(h[0],h[1])],o=[c(h[0].dirId),c(h[1].dirId)];if(o[0]===o[1]){if(n[0]&&n[1])return void(y(h[1],h[0])||(h[0][o[0]]===h[1][o[1]]?(u[0].push(h[0]),u[1].push(h[1])):(e=h[0][o[0]]+(h[1][o[1]]-h[0][o[0]])/2,u[0].push(d(h[0],Math.abs(e-h[0][o[0]]))),u[1].push(d(h[1],Math.abs(e-h[1][o[1]]))))));n[0]!==n[1]?(t=m(n),(a=S(h[t.notContain],h[t.contain],o[t.notContain]))<$&&(h[t.notContain]=d(h[t.notContain],$-a)),u[t.notContain].push(h[t.notContain]),h[t.notContain]=d(h[t.notContain],$,y(h[t.contain],h[t.notContain])?"x"===o[t.notContain]?r:l:g(h[t.notContain],h[t.contain],"x"===o[t.notContain]?"y":"x"))):(a=S(h[0],h[1],"x"===o[0]?"y":"x"),u.forEach(function(e,t){var n=0===t?1:0;e.push(h[t]),h[t]=d(h[t],$,2*$<=a?g(h[t],h[n],"x"===o[t]?"y":"x"):"x"===o[t]?r:l)}))}else{if(n[0]&&n[1])return void(y(h[1],h[0])?u[1].push(h[1]):y(h[0],h[1])?u[0].push(h[0]):u[0].push("x"===o[0]?{x:h[1].x,y:h[0].y}:{x:h[0].x,y:h[1].y}));n[0]!==n[1]?(t=m(n),u[t.notContain].push(h[t.notContain]),h[t.notContain]=d(h[t.notContain],$,S(h[t.notContain],h[t.contain],o[t.contain])>=$?g(h[t.notContain],h[t.contain],o[t.contain]):h[t.contain].dirId)):(i=[{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}],u.forEach(function(e,t){var n=0===t?1:0,a=S(i[t],i[n],o[t]);a<$&&(h[t]=d(h[t],$-a)),e.push(h[t]),h[t]=d(h[t],$,g(h[t],h[n],o[n]))}))}return 1}(););u[1].reverse(),u[0].concat(u[1]).forEach(function(e,t){var n={x:e.x,y:e.y};0<t&&v.push([a,n]),a=n})}()}y=[],E.position_plugOverheadSE.forEach(function(e,t){var n,a,i,o,l,r,s,u,h,p,c,d=!t;0<e?2===(n=v[a=d?0:v.length-1]).length?(y[a]=y[a]||Ve.apply(null,n),y[a]>J&&(y[a]-e<J&&(e=y[a]-J),i=Pe(n[0],n[1],(d?e:y[a]-e)/y[a]),v[a]=d?[i,n[1]]:[n[0],i],y[a]-=e)):(y[a]=y[a]||We.apply(null,n),y[a]>J&&(y[a]-e<J&&(e=y[a]-J),i=Te(n[0],n[1],n[2],n[3],Be(n[0],n[1],n[2],n[3],d?e:y[a]-e)),l=d?(o=n[0],i.toP1):(o=n[3],i.fromP2),r=Math.atan2(o.y-i.y,i.x-o.x),s=Ve(i,l),i.x=o.x+Math.cos(r)*e,i.y=o.y+Math.sin(r)*e*-1,l.x=i.x+Math.cos(r)*s,l.y=i.y+Math.sin(r)*s*-1,v[a]=d?[i,i.toP1,i.toP2,n[3]]:[n[0],i.fromP1,i.fromP2,i],y[a]=null)):e<0&&(n=v[a=d?0:v.length-1],u=b[t].socketId,h=u===T||u===P?"x":"y",e<(c=-f[t]["x"==h?"width":"height"])&&(e=c),p=e*(u===T||u===V?-1:1),2===n.length?n[d?0:n.length-1][h]+=p:(d?[0,1]:[n.length-2,n.length-1]).forEach(function(e){n[e][h]+=p}),y[a]=null)}),x.position_socketXYSE=Oe(b),x.position_plugOverheadSE=Oe(E.position_plugOverheadSE),x.position_path=E.position_path,x.position_lineStrokeWidth=E.position_lineStrokeWidth,x.position_socketGravitySE=Oe(_),k=!0,u.events.apl_position&&u.events.apl_position.forEach(function(e){e(u,v)})}return k}function $e(t,n){n!==t.isShown&&(!!n!=!!t.isShown&&(t.svg.style.visibility=n?"":"hidden"),t.isShown=n,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(e){e(t,n)}))}function et(e,t){var n,a,i,o,l,h,p,c,d,f,r,s,u,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P,N,T,W,B,R,F,G,D,z,j,H,U,Z,Y,X,q,Q,K,J,$,ee={};t.line&&(ee.line=(a=(n=e).options,i=n.curStats,o=n.events,l=!1,l=qe(n,i,"line_color",a.lineColor,o.cur_line_color)||l,l=qe(n,i,"line_colorTra",Me(i.line_color)[0]<1)||l,l=qe(n,i,"line_strokeWidth",a.lineSize,o.cur_line_strokeWidth)||l)),(t.plug||ee.line)&&(ee.plug=(p=(h=e).options,c=h.curStats,d=h.events,f=!1,[0,1].forEach(function(e){var t,n,a,i,o,l,r,s,u=p.plugSE[e];f=qe(h,c.plug_enabledSE,e,u!==ne)||f,f=qe(h,c.plug_plugSE,e,u)||f,f=qe(h,c.plug_colorSE,e,s=p.plugColorSE[e]||c.line_color,d.cur_plug_colorSE)||f,f=qe(h,c.plug_colorTraSE,e,Me(s)[0]<1)||f,u!==ne&&(i=n=(t=ae[ie[u]]).widthR*p.plugSizeSE[e],o=a=t.heightR*p.plugSizeSE[e],pe&&(i*=c.line_strokeWidth,o*=c.line_strokeWidth),f=qe(h,c.plug_markerWidthSE,e,i)||f,f=qe(h,c.plug_markerHeightSE,e,o)||f,c.capsMaskMarker_markerWidthSE[e]=n,c.capsMaskMarker_markerHeightSE[e]=a),c.plugOutline_plugSE[e]=c.capsMaskMarker_plugSE[e]=u,c.plug_enabledSE[e]?(s=c.line_strokeWidth/de.lineSize*p.plugSizeSE[e],c.position_plugOverheadSE[e]=t.overhead*s,c.viewBox_plugBCircleSE[e]=t.bCircle*s,l=t.sideLen*s,r=t.backLen*s):(c.position_plugOverheadSE[e]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[e]=l=r=0),qe(h,c.attach_plugSideLenSE,e,l,d.cur_attach_plugSideLenSE),qe(h,c.attach_plugBackLenSE,e,r,d.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[e]=!c.plug_enabledSE[e]}),f=qe(h,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||f)),(t.lineOutline||ee.line)&&(ee.lineOutline=(u=(r=e).options,y=r.curStats,m=!1,m=qe(r,y,"lineOutline_enabled",u.lineOutlineEnabled)||m,m=qe(r,y,"lineOutline_color",u.lineOutlineColor)||m,m=qe(r,y,"lineOutline_colorTra",Me(y.lineOutline_color)[0]<1)||m,s=y.line_strokeWidth*u.lineOutlineSize,m=qe(r,y,"lineOutline_strokeWidth",y.line_strokeWidth-2*s)||m,m=qe(r,y,"lineOutline_inStrokeWidth",y.lineOutline_colorTra?y.lineOutline_strokeWidth+2*ce:y.line_strokeWidth-s)||m)),(t.plugOutline||ee.line||ee.plug||ee.lineOutline)&&(ee.plugOutline=(g=(S=e).options,_=S.curStats,v=!1,[0,1].forEach(function(e){var t,n=_.plugOutline_plugSE[e],a=n!==ne?ae[ie[n]]:null;v=qe(S,_.plugOutline_enabledSE,e,g.plugOutlineEnabledSE[e]&&_.plug_enabled&&_.plug_enabledSE[e]&&!!a&&!!a.outlineBase)||v,v=qe(S,_.plugOutline_colorSE,e,t=g.plugOutlineColorSE[e]||_.lineOutline_color)||v,v=qe(S,_.plugOutline_colorTraSE,e,Me(t)[0]<1)||v,a&&a.outlineBase&&((t=g.plugOutlineSizeSE[e])>a.outlineMax&&(t=a.outlineMax),t*=2*a.outlineBase,v=qe(S,_.plugOutline_strokeWidthSE,e,t)||v,v=qe(S,_.plugOutline_inStrokeWidthSE,e,_.plugOutline_colorTraSE[e]?t-ce/(_.line_strokeWidth/de.lineSize)/g.plugSizeSE[e]*2:t/2)||v)}),v)),(t.faces||ee.line||ee.plug||ee.lineOutline||ee.plugOutline)&&(ee.faces=(b=(E=e).curStats,k=E.aplStats,w=E.events,O=!1,!b.line_altColor&&qe(E,k,"line_color",x=b.line_color,w.apl_line_color)&&(E.lineFace.style.stroke=x,O=!0),qe(E,k,"line_strokeWidth",x=b.line_strokeWidth,w.apl_line_strokeWidth)&&(E.lineShape.style.strokeWidth=x+"px",O=!0,(ue||se)&&(He(E,E.lineShape),se&&(He(E,E.lineFace),He(E,E.lineMaskCaps)))),qe(E,k,"lineOutline_enabled",x=b.lineOutline_enabled,w.apl_lineOutline_enabled)&&(E.lineOutlineFace.style.display=x?"inline":"none",O=!0),b.lineOutline_enabled&&(qe(E,k,"lineOutline_color",x=b.lineOutline_color,w.apl_lineOutline_color)&&(E.lineOutlineFace.style.stroke=x,O=!0),qe(E,k,"lineOutline_strokeWidth",x=b.lineOutline_strokeWidth,w.apl_lineOutline_strokeWidth)&&(E.lineOutlineMaskShape.style.strokeWidth=x+"px",O=!0,se&&(He(E,E.lineOutlineMaskCaps),He(E,E.lineOutlineFace))),qe(E,k,"lineOutline_inStrokeWidth",x=b.lineOutline_inStrokeWidth,w.apl_lineOutline_inStrokeWidth)&&(E.lineMaskShape.style.strokeWidth=x+"px",O=!0,se&&(He(E,E.lineOutlineMaskCaps),He(E,E.lineOutlineFace)))),qe(E,k,"plug_enabled",x=b.plug_enabled,w.apl_plug_enabled)&&(E.plugsFace.style.display=x?"inline":"none",O=!0),b.plug_enabled&&[0,1].forEach(function(n){var e=b.plug_plugSE[n],t=e!==ne?ae[ie[e]]:null,a=Ye(n,t);qe(E,k.plug_enabledSE,n,x=b.plug_enabledSE[n],w.apl_plug_enabledSE)&&(E.plugsFace.style[a.prop]=x?"url(#"+E.plugMarkerIdSE[n]+")":"none",O=!0),b.plug_enabledSE[n]&&(qe(E,k.plug_plugSE,n,e,w.apl_plug_plugSE)&&(E.plugFaceSE[n].href.baseVal="#"+t.elmId,Ze(E,E.plugMarkerSE[n],a.orient,t.bBox,E.svg,E.plugMarkerShapeSE[n],E.plugsFace),O=!0,ue&&He(E,E.plugsFace)),qe(E,k.plug_colorSE,n,x=b.plug_colorSE[n],w.apl_plug_colorSE)&&(E.plugFaceSE[n].style.fill=x,O=!0,(he||pe||se)&&!b.line_colorTra&&He(E,se?E.lineMaskCaps:E.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(e){var t="plug_"+e+"SE";qe(E,k[t],n,x=b[t][n],w["apl_"+t])&&(E.plugMarkerSE[n][e].baseVal.value=x,O=!0)}),qe(E,k.plugOutline_enabledSE,n,x=b.plugOutline_enabledSE[n],w.apl_plugOutline_enabledSE)&&(x?(E.plugFaceSE[n].style.mask="url(#"+E.plugMaskIdSE[n]+")",E.plugOutlineFaceSE[n].style.display="inline"):(E.plugFaceSE[n].style.mask="none",E.plugOutlineFaceSE[n].style.display="none"),O=!0),b.plugOutline_enabledSE[n]&&(qe(E,k.plugOutline_plugSE,n,e,w.apl_plugOutline_plugSE)&&(E.plugOutlineFaceSE[n].href.baseVal=E.plugMaskShapeSE[n].href.baseVal=E.plugOutlineMaskShapeSE[n].href.baseVal="#"+t.elmId,[E.plugMaskSE[n],E.plugOutlineMaskSE[n]].forEach(function(e){e.x.baseVal.value=t.bBox.left,e.y.baseVal.value=t.bBox.top,e.width.baseVal.value=t.bBox.width,e.height.baseVal.value=t.bBox.height}),O=!0),qe(E,k.plugOutline_colorSE,n,x=b.plugOutline_colorSE[n],w.apl_plugOutline_colorSE)&&(E.plugOutlineFaceSE[n].style.fill=x,O=!0,se&&(He(E,E.lineMaskCaps),He(E,E.lineOutlineMaskCaps))),qe(E,k.plugOutline_strokeWidthSE,n,x=b.plugOutline_strokeWidthSE[n],w.apl_plugOutline_strokeWidthSE)&&(E.plugOutlineMaskShapeSE[n].style.strokeWidth=x+"px",O=!0),qe(E,k.plugOutline_inStrokeWidthSE,n,x=b.plugOutline_inStrokeWidthSE[n],w.apl_plugOutline_inStrokeWidthSE)&&(E.plugMaskShapeSE[n].style.strokeWidth=x+"px",O=!0)))}),O)),(t.position||ee.line||ee.plug)&&(ee.position=Je(e)),(t.path||ee.position)&&(ee.path=(C=(M=e).curStats,L=M.aplStats,A=M.pathList.animVal||M.pathList.baseVal,V=C.path_edge,P=!1,A&&(V.x1=V.x2=A[0][0].x,V.y1=V.y2=A[0][0].y,C.path_pathData=I=Re(A,function(e){e.x<V.x1&&(V.x1=e.x),e.y<V.y1&&(V.y1=e.y),e.x>V.x2&&(V.x2=e.x),e.y>V.y2&&(V.y2=e.y)}),Ge(I,L.path_pathData)&&(M.linePath.setPathData(I),L.path_pathData=I,P=!0,se?(He(M,M.plugsFace),He(M,M.lineMaskCaps)):ue&&He(M,M.linePath),M.events.apl_path&&M.events.apl_path.forEach(function(e){e(M,I)}))),P)),ee.viewBox=(T=(N=e).curStats,W=N.aplStats,B=T.path_edge,R=T.viewBox_bBox,F=W.viewBox_bBox,G=N.svg.viewBox.baseVal,D=N.svg.style,z=!1,j=Math.max(T.line_strokeWidth/2,T.viewBox_plugBCircleSE[0]||0,T.viewBox_plugBCircleSE[1]||0),H={x1:B.x1-j,y1:B.y1-j,x2:B.x2+j,y2:B.y2+j},N.events.new_edge4viewBox&&N.events.new_edge4viewBox.forEach(function(e){e(N,H)}),R.x=T.lineMask_x=T.lineOutlineMask_x=T.maskBGRect_x=H.x1,R.y=T.lineMask_y=T.lineOutlineMask_y=T.maskBGRect_y=H.y1,R.width=H.x2-H.x1,R.height=H.y2-H.y1,["x","y","width","height"].forEach(function(e){var t;(t=R[e])!==F[e]&&(G[e]=F[e]=t,D[oe[e]]=t+("x"===e||"y"===e?N.bodyOffset[e]:0)+"px",z=!0)}),z),ee.mask=(Y=(U=e).curStats,X=U.aplStats,q=!1,Y.plug_enabled?[0,1].forEach(function(e){Y.capsMaskMarker_enabledSE[e]=Y.plug_enabledSE[e]&&Y.plug_colorTraSE[e]||Y.plugOutline_enabledSE[e]&&Y.plugOutline_colorTraSE[e]}):Y.capsMaskMarker_enabledSE[0]=Y.capsMaskMarker_enabledSE[1]=!1,Y.capsMaskMarker_enabled=Y.capsMaskMarker_enabledSE[0]||Y.capsMaskMarker_enabledSE[1],Y.lineMask_outlineMode=Y.lineOutline_enabled,Y.caps_enabled=Y.capsMaskMarker_enabled||Y.capsMaskAnchor_enabledSE[0]||Y.capsMaskAnchor_enabledSE[1],Y.lineMask_enabled=Y.caps_enabled||Y.lineMask_outlineMode,(Y.lineMask_enabled&&!Y.lineMask_outlineMode||Y.lineOutline_enabled)&&["x","y"].forEach(function(e){var t="maskBGRect_"+e;qe(U,X,t,Z=Y[t])&&(U.maskBGRect[e].baseVal.value=Z,q=!0)}),qe(U,X,"lineMask_enabled",Z=Y.lineMask_enabled)&&(U.lineFace.style.mask=Z?"url(#"+U.lineMaskId+")":"none",q=!0,pe&&He(U,U.lineMask)),Y.lineMask_enabled&&(qe(U,X,"lineMask_outlineMode",Z=Y.lineMask_outlineMode)&&(Z?(U.lineMaskBG.style.display="none",U.lineMaskShape.style.display="inline"):(U.lineMaskBG.style.display="inline",U.lineMaskShape.style.display="none"),q=!0),["x","y"].forEach(function(e){var t="lineMask_"+e;qe(U,X,t,Z=Y[t])&&(U.lineMask[e].baseVal.value=Z,q=!0)}),qe(U,X,"caps_enabled",Z=Y.caps_enabled)&&(U.lineMaskCaps.style.display=U.lineOutlineMaskCaps.style.display=Z?"inline":"none",q=!0,pe&&He(U,U.capsMaskLine)),Y.caps_enabled&&([0,1].forEach(function(e){var t;qe(U,X.capsMaskAnchor_enabledSE,e,Z=Y.capsMaskAnchor_enabledSE[e])&&(U.capsMaskAnchorSE[e].style.display=Z?"inline":"none",q=!0,pe&&He(U,U.lineMask)),Y.capsMaskAnchor_enabledSE[e]&&(Ge(t=Y.capsMaskAnchor_pathDataSE[e],X.capsMaskAnchor_pathDataSE[e])&&(U.capsMaskAnchorSE[e].setPathData(t),X.capsMaskAnchor_pathDataSE[e]=t,q=!0),qe(U,X.capsMaskAnchor_strokeWidthSE,e,Z=Y.capsMaskAnchor_strokeWidthSE[e])&&(U.capsMaskAnchorSE[e].style.strokeWidth=Z+"px",q=!0))}),qe(U,X,"capsMaskMarker_enabled",Z=Y.capsMaskMarker_enabled)&&(U.capsMaskLine.style.display=Z?"inline":"none",q=!0),Y.capsMaskMarker_enabled&&[0,1].forEach(function(n){var e=Y.capsMaskMarker_plugSE[n],t=e!==ne?ae[ie[e]]:null,a=Ye(n,t);qe(U,X.capsMaskMarker_enabledSE,n,Z=Y.capsMaskMarker_enabledSE[n])&&(U.capsMaskLine.style[a.prop]=Z?"url(#"+U.lineMaskMarkerIdSE[n]+")":"none",q=!0),Y.capsMaskMarker_enabledSE[n]&&(qe(U,X.capsMaskMarker_plugSE,n,e)&&(U.capsMaskMarkerShapeSE[n].href.baseVal="#"+t.elmId,Ze(U,U.capsMaskMarkerSE[n],a.orient,t.bBox,U.svg,U.capsMaskMarkerShapeSE[n],U.capsMaskLine),q=!0,ue&&(He(U,U.capsMaskLine),He(U,U.lineFace))),["markerWidth","markerHeight"].forEach(function(e){var t="capsMaskMarker_"+e+"SE";qe(U,X[t],n,Z=Y[t][n])&&(U.capsMaskMarkerSE[n][e].baseVal.value=Z,q=!0)}))}))),Y.lineOutline_enabled&&["x","y"].forEach(function(e){var t="lineOutlineMask_"+e;qe(U,X,t,Z=Y[t])&&(U.lineOutlineMask[e].baseVal.value=Z,q=!0)}),q),t.effect&&(J=(Q=e).curStats,$=Q.aplStats,Object.keys(te).forEach(function(e){var t=te[e],n=e+"_enabled",a=e+"_options",i=J[a];qe(Q,$,n,K=J[n])?(K&&($[a]=Oe(i)),t[K?"init":"remove"](Q)):K&&we(i,$[a])&&(t.remove(Q),$[n]=!0,$[a]=Oe(i),t.init(Q))})),(he||pe)&&ee.line&&!ee.path&&He(e,e.lineShape),he&&ee.plug&&!ee.line&&He(e,e.plugsFace),Ue(e)}function tt(e,t){return{duration:ye(e.duration)&&0<e.duration?e.duration:t.duration,timing:g.validTiming(e.timing)?e.timing:Oe(t.timing)}}function nt(e,t,n,a){var i,o=e.curStats,l=e.aplStats,r={};function s(){["show_on","show_effect","show_animOptions"].forEach(function(e){l[e]=o[e]})}o.show_on=t,n&&M[n]&&(o.show_effect=n,o.show_animOptions=tt(fe(a)?a:{},M[n].defaultAnimOptions)),r.show_on=o.show_on!==l.show_on,r.show_effect=o.show_effect!==l.show_effect,r.show_animOptions=we(o.show_animOptions,l.show_animOptions),r.show_effect||r.show_animOptions?o.show_inAnim?(i=r.show_effect?M[l.show_effect].stop(e,!0,!0):M[l.show_effect].stop(e),s(),M[l.show_effect].init(e,i)):r.show_on&&(l.show_effect&&r.show_effect&&M[l.show_effect].stop(e,!0,!0),s(),M[l.show_effect].init(e)):r.show_on&&(s(),M[l.show_effect].start(e))}function at(e,t,n){var a={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,a))&&(e.attachments.push(t),t.boundTargets.push(a),1)}function it(n,a,e){var i=n.attachments.indexOf(a);-1<i&&n.attachments.splice(i,1),a.boundTargets.some(function(e,t){return e.props===n&&(a.conf.unbind&&a.conf.unbind(a,e),i=t,!0)})&&(a.boundTargets.splice(i,1),e||je(function(){a.boundTargets.length||o(a)}))}function ot(s,u){var e,i,a,t,n,o,l,r,h,p,c,d,f,y,m,S,g,_=s.options,v={};function E(e,t,n,a,i){var o={};return n?null!=a?(o.container=e[n],o.key=a):(o.container=e,o.key=n):(o.container=e,o.key=t),o.default=i,o.acceptsAuto=null==o.default,o}function x(e,t,n,a,i,o,l){var r,s,u,h=E(e,n,i,o,l);return null!=t[n]&&(s=(t[n]+"").toLowerCase())&&(h.acceptsAuto&&s===U||(u=a[s]))&&u!==h.container[h.key]&&(h.container[h.key]=u,r=!0),null!=h.container[h.key]||h.acceptsAuto||(h.container[h.key]=h.default,r=!0),r}function b(e,t,n,a,i,o,l,r,s){var u,h,p,c,d=E(e,n,i,o,l);if(!a){if(null==d.default)throw new Error("Invalid `type`: "+n);a=typeof d.default}return null!=t[n]&&(d.acceptsAuto&&(t[n]+"").toLowerCase()===U||(p=h=t[n],("number"===(c=a)?ye(p):typeof p===c)&&(h=s&&"string"===a&&h?h.trim():h,1)&&(!r||r(h))))&&h!==d.container[d.key]&&(d.container[d.key]=h,u=!0),null!=d.container[d.key]||d.acceptsAuto||(d.container[d.key]=d.default,u=!0),u}if(u=u||{},["start","end"].forEach(function(e,t){var n=u[e],a=!1;if(n&&(Ie(n)||(a=L(n,"anchor")))&&n!==_.anchorSE[t]){if(!1!==s.optionIsAttach.anchorSE[t]&&it(s,ve[_.anchorSE[t]._id]),a&&!at(s,ve[n._id],e))throw new Error("Can't bind attachment");_.anchorSE[t]=n,s.optionIsAttach.anchorSE[t]=a,i=v.position=!0}}),!_.anchorSE[0]||!_.anchorSE[1]||_.anchorSE[0]===_.anchorSE[1])throw new Error("`start` and `end` are required.");function k(e){var t=o.appendChild(S.createElementNS(re,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t}function w(e){var t=o.appendChild(S.createElementNS(re,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function O(e){return[e.width,e.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),e}i&&(e=function(e,t){var n,a,i;if(!(n=Le(e))||!(a=Le(t)))throw new Error("Cannot get frames.");return n.length&&a.length&&(n.reverse(),a.reverse(),n.some(function(t){return a.some(function(e){return e===t&&(i=e.contentWindow,!0)})})),i||window}(!1!==s.optionIsAttach.anchorSE[0]?ve[_.anchorSE[0]._id].element:_.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?ve[_.anchorSE[1]._id].element:_.anchorSE[1]))!==s.baseWindow&&(t=e,m=(a=s).aplStats,S=t.document,g=A+"-"+a._id,a.pathList={},Xe(m,me),Object.keys(te).forEach(function(e){var t=e+"_enabled";m[t]&&(te[e].remove(a),m[t]=!1)}),a.baseWindow&&a.svg&&a.baseWindow.document.body.removeChild(a.svg),Ke(a.baseWindow=t),a.bodyOffset=Qe(t),a.svg=n=S.createElementNS(re,"svg"),n.className.baseVal=A,n.viewBox.baseVal||n.setAttribute("viewBox","0 0 0 0"),a.defs=o=n.appendChild(S.createElementNS(re,"defs")),a.linePath=r=o.appendChild(S.createElementNS(re,"path")),r.id=h=g+"-line-path",r.className.baseVal=A+"-line-path",pe&&(r.style.fill="none"),a.lineShape=r=o.appendChild(S.createElementNS(re,"use")),r.id=p=g+"-line-shape",r.href.baseVal="#"+h,(l=o.appendChild(S.createElementNS(re,"g"))).id=c=g+"-caps",a.capsMaskAnchorSE=[0,1].map(function(){var e=l.appendChild(S.createElementNS(re,"path"));return e.className.baseVal=A+"-caps-mask-anchor",e}),a.lineMaskMarkerIdSE=[g+"-caps-mask-marker-0",g+"-caps-mask-marker-1"],a.capsMaskMarkerSE=[0,1].map(function(e){return w(a.lineMaskMarkerIdSE[e])}),a.capsMaskMarkerShapeSE=[0,1].map(function(e){var t=a.capsMaskMarkerSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-caps-mask-marker-shape",t}),a.capsMaskLine=r=l.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-caps-mask-line",r.href.baseVal="#"+p,a.maskBGRect=r=O(o.appendChild(S.createElementNS(re,"rect"))),r.id=d=g+"-mask-bg-rect",r.className.baseVal=A+"-mask-bg-rect",pe&&(r.style.fill="white"),a.lineMask=O(k(a.lineMaskId=g+"-line-mask")),a.lineMaskBG=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+d,a.lineMaskShape=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-line-mask-shape",r.href.baseVal="#"+h,r.style.display="none",a.lineMaskCaps=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+c,a.lineOutlineMask=O(k(f=g+"-line-outline-mask")),(r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use"))).href.baseVal="#"+d,a.lineOutlineMaskShape=r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-line-outline-mask-shape",r.href.baseVal="#"+h,a.lineOutlineMaskCaps=r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+c,a.face=n.appendChild(S.createElementNS(re,"g")),a.lineFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+p,a.lineOutlineFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+p,r.style.mask="url(#"+f+")",r.style.display="none",a.plugMaskIdSE=[g+"-plug-mask-0",g+"-plug-mask-1"],a.plugMaskSE=[0,1].map(function(e){return k(a.plugMaskIdSE[e])}),a.plugMaskShapeSE=[0,1].map(function(e){var t=a.plugMaskSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-plug-mask-shape",t}),y=[],a.plugOutlineMaskSE=[0,1].map(function(e){return k(y[e]=g+"-plug-outline-mask-"+e)}),a.plugOutlineMaskShapeSE=[0,1].map(function(e){var t=a.plugOutlineMaskSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-plug-outline-mask-shape",t}),a.plugMarkerIdSE=[g+"-plug-marker-0",g+"-plug-marker-1"],a.plugMarkerSE=[0,1].map(function(e){var t=w(a.plugMarkerIdSE[e]);return pe&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t}),a.plugMarkerShapeSE=[0,1].map(function(e){return a.plugMarkerSE[e].appendChild(S.createElementNS(re,"g"))}),a.plugFaceSE=[0,1].map(function(e){return a.plugMarkerShapeSE[e].appendChild(S.createElementNS(re,"use"))}),a.plugOutlineFaceSE=[0,1].map(function(e){var t=a.plugMarkerShapeSE[e].appendChild(S.createElementNS(re,"use"));return t.style.mask="url(#"+y[e]+")",t.style.display="none",t}),a.plugsFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-plugs-face",r.href.baseVal="#"+p,r.style.display="none",a.curStats.show_inAnim?(a.isShown=1,M[m.show_effect].stop(a,!0)):a.isShown||(n.style.visibility="hidden"),S.body.appendChild(n),[0,1,2].forEach(function(e){var t,n=a.options.labelSEM[e];n&&L(n,"label")&&(t=ve[n._id]).conf.initSvg&&t.conf.initSvg(t,a)}),v.line=v.plug=v.lineOutline=v.plugOutline=v.faces=v.effect=!0),v.position=x(_,u,"path",z,null,null,de.path)||v.position,v.position=x(_,u,"startSocket",W,"socketSE",0)||v.position,v.position=x(_,u,"endSocket",W,"socketSE",1)||v.position,[u.startSocketGravity,u.endSocketGravity].forEach(function(e,t){var n,a,i=!1;null!=e&&(Array.isArray(e)?ye(e[0])&&ye(e[1])&&(i=[e[0],e[1]],Array.isArray(_.socketGravitySE[t])&&(n=i,a=_.socketGravitySE[t],n.length===a.length&&n.every(function(e,t){return e===a[t]}))&&(i=!1)):((e+"").toLowerCase()===U?i=null:ye(e)&&0<=e&&(i=e),i===_.socketGravitySE[t]&&(i=!1)),!1!==i&&(_.socketGravitySE[t]=i,v.position=!0))}),v.line=b(_,u,"color",null,"lineColor",null,de.lineColor,null,!0)||v.line,v.line=b(_,u,"size",null,"lineSize",null,de.lineSize,function(e){return 0<e})||v.line,["startPlug","endPlug"].forEach(function(e,t){v.plug=x(_,u,e,j,"plugSE",t,de.plugSE[t])||v.plug,v.plug=b(_,u,e+"Color","string","plugColorSE",t,null,null,!0)||v.plug,v.plug=b(_,u,e+"Size",null,"plugSizeSE",t,de.plugSizeSE[t],function(e){return 0<e})||v.plug}),v.lineOutline=b(_,u,"outline",null,"lineOutlineEnabled",null,de.lineOutlineEnabled)||v.lineOutline,v.lineOutline=b(_,u,"outlineColor",null,"lineOutlineColor",null,de.lineOutlineColor,null,!0)||v.lineOutline,v.lineOutline=b(_,u,"outlineSize",null,"lineOutlineSize",null,de.lineOutlineSize,function(e){return 0<e&&e<=.48})||v.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(e,t){v.plugOutline=b(_,u,e,null,"plugOutlineEnabledSE",t,de.plugOutlineEnabledSE[t])||v.plugOutline,v.plugOutline=b(_,u,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||v.plugOutline,v.plugOutline=b(_,u,e+"Size",null,"plugOutlineSizeSE",t,de.plugOutlineSizeSE[t],function(e){return 1<=e})||v.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(e,t){var n,a,i,o=u[e],l=_.labelSEM[t]&&!s.optionIsAttach.labelSEM[t]?ve[_.labelSEM[t]._id].text:_.labelSEM[t],r=!1;if((n="string"==typeof o)&&(o=o.trim()),(n||o&&(r=L(o,"label")))&&o!==l){if(_.labelSEM[t]&&(it(s,ve[_.labelSEM[t]._id]),_.labelSEM[t]=""),o){if(r?(a=ve[(i=o)._id]).boundTargets.slice().forEach(function(e){a.conf.removeOption(a,e)}):i=new C(I.captionLabel,[o]),!at(s,ve[i._id],e))throw new Error("Can't bind attachment");_.labelSEM[t]=i}s.optionIsAttach.labelSEM[t]=r}}),Object.keys(te).forEach(function(a){var e,t,o=te[a],n=a+"_enabled",i=a+"_options";function l(a){var i={};return o.optionsConf.forEach(function(e){var t=e[0],n=e[3];null==e[4]||i[n]||(i[n]=[]),("function"==typeof t?t:"id"===t?x:b).apply(null,[i,a].concat(e.slice(1)))}),i}function r(e){var t,n=a+"_animOptions";return e.hasOwnProperty("animation")?fe(e.animation)?t=s.curStats[n]=tt(e.animation,o.defaultAnimOptions):(t=!!e.animation,s.curStats[n]=t?tt({},o.defaultAnimOptions):null):(t=!!o.defaultEnabled,s.curStats[n]=t?tt({},o.defaultAnimOptions):null),t}u.hasOwnProperty(a)&&(e=u[a],fe(e)?(s.curStats[n]=!0,t=s.curStats[i]=l(e),o.anim&&(s.curStats[i].animation=r(e))):(t=s.curStats[n]=!!e)&&(s.curStats[i]=l({}),o.anim&&(s.curStats[i].animation=r({}))),we(t,_[a])&&(_[a]=t,v.effect=!0))}),et(s,v)}function lt(e,t,n){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Xe(a.curStats,me),Xe(a.aplStats,me),Object.keys(te).forEach(function(e){var t=te[e].stats;Xe(a.curStats,t),Xe(a.aplStats,t),a.options[e]=!1}),Xe(a.curStats,E),Xe(a.aplStats,E),a.curStats.show_effect=O,a.curStats.show_animOptions=Oe(M[O].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++_e}),a._id=this._id,ge[this._id]=a,1===arguments.length&&(n=e,e=null),n=n||{},(e||t)&&(n=Oe(n),e&&(n.start=e),t&&(n.end=t)),a.isShown=a.aplStats.show_on=!n.hide,this.setOptions(n)}function rt(n){return function(e){var t={};t[n]=e,this.setOptions(t)}}function st(e,t){var n,a={conf:e,curStats:{},aplStats:{},boundTargets:[]},i={};e.argOptions.every(function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0])))&&(i[e.optionName]=t.shift(),!0)}),n=t.length&&fe(t[0])?Oe(t[0]):{},Object.keys(i).forEach(function(e){n[e]=i[e]}),e.stats&&(Xe(a.curStats,e.stats),Xe(a.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++Ee}),Object.defineProperty(this,"isRemoved",{get:function(){return!ve[this._id]}}),a._id=this._id,e.init&&!e.init(a,n)||(ve[this._id]=a)}return te={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){De(e,"apl_line_strokeWidth",te.dash.update),e.lineFace.style.strokeDashoffset=0,te.dash.update(e)},remove:function(e){var t=e.curStats;ze(e,"apl_line_strokeWidth",te.dash.update),t.dash_animId&&(g.remove(t.dash_animId),t.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Xe(e.aplStats,te.dash.stats)},update:function(t){var e,n=t.curStats,a=t.aplStats,i=a.dash_options,o=!1;n.dash_len=i.len||2*a.line_strokeWidth,n.dash_gap=i.gap||a.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,o=qe(t,a,"dash_len",n.dash_len)||o,(o=qe(t,a,"dash_gap",n.dash_gap)||o)&&(t.lineFace.style.strokeDasharray=a.dash_len+","+a.dash_gap),n.dash_animOptions?(o=qe(t,a,"dash_maxOffset",n.dash_maxOffset),a.dash_animOptions&&(o||we(n.dash_animOptions,a.dash_animOptions))&&(n.dash_animId&&(e=g.stop(n.dash_animId),g.remove(n.dash_animId)),a.dash_animOptions=null),a.dash_animOptions||(n.dash_animId=g.add(function(e){return(1-e)*a.dash_maxOffset+"px"},function(e){t.lineFace.style.strokeDashoffset=e},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),a.dash_animOptions=Oe(n.dash_animOptions))):a.dash_animOptions&&(n.dash_animId&&(g.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,a.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var t,a=e.baseWindow.document,n=e.defs,i=A+"-"+e._id+"-gradient";e.efc_gradient_gradient=t=n.appendChild(a.createElementNS(re,"linearGradient")),t.id=i,t.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x1,t.y1,t.x2,t.y2].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(t){var n=e.efc_gradient_gradient.appendChild(a.createElementNS(re,"stop"));try{n.offset.baseVal=t}catch(e){if(e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw e;n.setAttribute("offset",t)}return n}),De(e,"cur_plug_colorSE",te.gradient.update),De(e,"apl_path",te.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+i+")",te.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),ze(e,"cur_plug_colorSE",te.gradient.update),ze(e,"apl_path",te.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Xe(e.aplStats,te.gradient.stats)},update:function(a){var e,t,i=a.curStats,o=a.aplStats,n=o.gradient_options,l=a.pathList.animVal||a.pathList.baseVal;[0,1].forEach(function(e){i.gradient_colorSE[e]=n.colorSE[e]||i.plug_colorSE[e]}),t=l[0][0],i.gradient_pointSE[0]={x:t.x,y:t.y},t=(e=l[l.length-1])[e.length-1],i.gradient_pointSE[1]={x:t.x,y:t.y},[0,1].forEach(function(t){var n;qe(a,o.gradient_colorSE,t,n=i.gradient_colorSE[t])&&(pe?(n=Me(n),a.efc_gradient_stopSE[t].style.stopColor=n[1],a.efc_gradient_stopSE[t].style.stopOpacity=n[0]):a.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach(function(e){(n=i.gradient_pointSE[t][e])!==o.gradient_pointSE[t][e]&&(a.efc_gradient_gradient[e+(t+1)].baseVal.value=o.gradient_pointSE[t][e]=n)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var e,n,a,i,o,l=t.baseWindow.document,r=t.defs,s=A+"-"+t._id+"-dropShadow",u=(e=l,n=s,o={},"boolean"!=typeof p&&(p=!!window.SVGFEDropShadowElement&&!pe),o.elmsAppend=[o.elmFilter=a=e.createElementNS(re,"filter")],a.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,a.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.id=n,p?(o.elmOffset=o.elmBlur=i=a.appendChild(e.createElementNS(re,"feDropShadow")),o.styleFlood=i.style):(o.elmBlur=a.appendChild(e.createElementNS(re,"feGaussianBlur")),o.elmOffset=i=a.appendChild(e.createElementNS(re,"feOffset")),i.result.baseVal="offsetblur",i=a.appendChild(e.createElementNS(re,"feFlood")),o.styleFlood=i.style,(i=a.appendChild(e.createElementNS(re,"feComposite"))).in2.baseVal="offsetblur",i.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(i=a.appendChild(e.createElementNS(re,"feMerge"))).appendChild(e.createElementNS(re,"feMergeNode")),i.appendChild(e.createElementNS(re,"feMergeNode")).in1.baseVal="SourceGraphic"),o);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(e){t["efc_dropShadow_"+e]=u[e]}),u.elmsAppend.forEach(function(e){r.appendChild(e)}),t.face.setAttribute("filter","url(#"+s+")"),De(t,"new_edge4viewBox",te.dropShadow.adjustEdge),te.dropShadow.update(t)},remove:function(e){var t=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(e){t.removeChild(e)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),ze(e,"new_edge4viewBox",te.dropShadow.adjustEdge),et(e,{}),e.face.removeAttribute("filter"),Xe(e.aplStats,te.dropShadow.stats)},update:function(e){var t,n,a=e.curStats,i=e.aplStats,o=i.dropShadow_options;a.dropShadow_dx=t=o.dx,qe(e,i,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),a.dropShadow_dy=t=o.dy,qe(e,i,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),a.dropShadow_blur=t=o.blur,qe(e,i,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&et(e,{}),a.dropShadow_color=t=o.color,qe(e,i,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),a.dropShadow_opacity=t=o.opacity,qe(e,i,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(a,i){var e,t,o=a.curStats,l=a.aplStats;null!=o.dropShadow_dx&&(e=3*o.dropShadow_blur,(t={x1:i.x1-e+o.dropShadow_dx,y1:i.y1-e+o.dropShadow_dy,x2:i.x2+e+o.dropShadow_dx,y2:i.y2+e+o.dropShadow_dy}).x1<i.x1&&(i.x1=t.x1),t.y1<i.y1&&(i.y1=t.y1),t.x2>i.x2&&(i.x2=t.x2),t.y2>i.y2&&(i.y2=t.y2),["x","y"].forEach(function(e){var t,n="dropShadow_"+e;o[n]=t=i[e+"1"],qe(a,l,n,t)&&(a.efc_dropShadow_elmFilter[e].baseVal.value=t)}))}}},Object.keys(te).forEach(function(e){var t=te[e],n=t.stats;n[e+"_enabled"]={iniValue:!1},n[e+"_options"]={hasProps:!0},t.anim&&(n[e+"_animOptions"]={},n[e+"_animId"]={})}),M={none:{defaultAnimOptions:{},init:function(e,t){var n=e.curStats;n.show_animId&&(g.remove(n.show_animId),n.show_animId=null),M.none.start(e,t)},start:function(e,t){M.none.stop(e,!0)},stop:function(e,t,n){var a=e.curStats;return n=null!=n?n:e.aplStats.show_on,a.show_inAnim=!1,t&&$e(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(n,e){var t=n.curStats,a=n.aplStats;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){return e},function(e,t){t?M.fade.stop(n,!0):(n.svg.style.opacity=e+"",se&&(He(n,n.svg),Ue(n)))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),M.fade.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),$e(e,1),a.show_inAnim=!0,g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",$e(e,n)),a}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(n,e){var t=n.curStats,a=n.aplStats,l=n.pathList.baseVal,i=Fe(l),r=i.segsLen,s=i.lenAll;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){var t,n,a,i,o=-1;if(0===e)n=[[l[0][0],l[0][0]]];else if(1===e)n=l;else{for(t=s*e,n=[];t>=r[++o];)n.push(l[o]),t-=r[o];t&&(2===(a=l[o]).length?n.push([a[0],Pe(a[0],a[1],t/r[o])]):(i=Te(a[0],a[1],a[2],a[3],Be(a[0],a[1],a[2],a[3],t)),n.push([a[0],i.fromP1,i.fromP2,i])))}return n},function(e,t){t?M.draw.stop(n,!0):(n.pathList.animVal=e,et(n,{path:!0}))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),M.draw.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),$e(e,1),a.show_inAnim=!0,De(e,"apl_position",M.draw.update),g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],et(e,{path:!0}),$e(e,n)),a},update:function(e){ze(e,"apl_position",M.draw.update),e.curStats.show_inAnim?M.draw.init(e,M.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(e){var t=e[0],n=e[1],a=e[2];Object.defineProperty(lt.prototype,t,{get:function(){var e=null!=a?ge[this._id].options[n][a]:n?ge[this._id].options[n]:ge[this._id].options[t];return null==e?U:Oe(e)},set:rt(t),enumerable:!0})}),[["path",z],["startSocket",W,"socketSE",0],["endSocket",W,"socketSE",1],["startPlug",j,"plugSE",0],["endPlug",j,"plugSE",1]].forEach(function(e){var a=e[0],i=e[1],o=e[2],l=e[3];Object.defineProperty(lt.prototype,a,{get:function(){var t,n=null!=l?ge[this._id].options[o][l]:o?ge[this._id].options[o]:ge[this._id].options[a];return n?Object.keys(i).some(function(e){return i[e]===n&&(t=e,!0)})?t:new Error("It's broken"):U},set:rt(a),enumerable:!0})}),Object.keys(te).forEach(function(n){var a=te[n];Object.defineProperty(lt.prototype,n,{get:function(){var u,e,t=ge[this._id].options[n];return fe(t)?(u=t,e=a.optionsConf.reduce(function(e,t){var n,a=t[0],i=t[1],o=t[2],l=t[3],r=t[4],s=null!=r?u[l][r]:l?u[l]:u[i];return e[i]="id"===a?s?Object.keys(o).some(function(e){return o[e]===s&&(n=e,!0)})?n:new Error("It's broken"):U:null==s?U:Oe(s),e},{}),a.anim&&(e.animation=Oe(u.animation)),e):t},set:rt(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(e,n){Object.defineProperty(lt.prototype,e,{get:function(){var e=ge[this._id],t=e.options;return t.labelSEM[n]&&!e.optionIsAttach.labelSEM[n]?ve[t.labelSEM[n]._id].text:t.labelSEM[n]||""},set:rt(e),enumerable:!0})}),lt.prototype.setOptions=function(e){return ot(ge[this._id],e),this},lt.prototype.position=function(){return et(ge[this._id],{position:!0}),this},lt.prototype.remove=function(){var t=ge[this._id],n=t.curStats;Object.keys(te).forEach(function(e){var t=e+"_animId";n[t]&&g.remove(n[t])}),n.show_animId&&g.remove(n.show_animId),t.attachments.slice().forEach(function(e){it(t,e)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete ge[this._id]},lt.prototype.show=function(e,t){return nt(ge[this._id],!0,e,t),this},lt.prototype.hide=function(e,t){return nt(ge[this._id],!1,e,t),this},o=function(t){t&&ve[t._id]&&(t.boundTargets.slice().forEach(function(e){it(e.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete ve[t._id])},st.prototype.remove=function(){var t=this,n=ve[t._id];n&&(n.boundTargets.slice().forEach(function(e){n.conf.removeOption(n,e)}),je(function(){var e=ve[t._id];e&&(console.error("LeaderLineAttachment was not removed by removeOption"),o(e))}))},C=st,window.LeaderLineAttachment=C,L=function(e,t){return e instanceof C&&(!(e.isRemoved||t&&ve[e._id].conf.type!==t)||null)},I={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie}],init:function(e,t){return e.element=I.pointAnchor.checkElement(t.element),e.x=I.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=I.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var n=t.props,a={},i=e.element,o=n.options.anchorSE["start"===t.optionName?1:0];i===o&&(i=o===document.body?new C(I.pointAnchor,[i]):document.body),a[t.optionName]=i,ot(n,a)},getBBoxNest:function(e,t){var n=Ae(e.element,t.baseWindow),a=n.width,i=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?a:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?i:1),n},parsePercent:function(e,t){var n,a,i=!1;return ye(e)?a=e:"string"==typeof e&&(n=m.exec(e))&&n[2]&&(i=0!==(a=parseFloat(n[1])/100)),null!=a&&(t||0<=a)?[a,i]:null},checkElement:function(e){if(null==e)e=document.body;else if(!Ie(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(i,e){var t,n,a,o=[];return i.element=I.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(i.color=e.color.trim()),"string"==typeof e.fillColor&&(i.fill=e.fillColor.trim()),ye(e.size)&&0<=e.size&&(i.size=e.size),e.dash&&(i.dash=!0,ye(e.dash.len)&&0<e.dash.len&&(i.dashLen=e.dash.len),ye(e.dash.gap)&&0<e.dash.gap&&(i.dashGap=e.dash.gap)),"circle"===e.shape?i.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every(function(e){var t={};return!(!(t.x=I.pointAnchor.parsePercent(e[0],!0))||!(t.y=I.pointAnchor.parsePercent(e[1],!0)))&&(o.push(t),(t.x[1]||t.y[1])&&(i.hasRatio=!0),!0)})?(i.shape=e.shape,i.points=o):(i.shape="rect",i.radius=ye(e.radius)&&0<=e.radius?e.radius:0),"rect"!==i.shape&&"circle"!==i.shape||(i.x=I.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],i.y=I.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],i.width=I.pointAnchor.parsePercent(e.width)||[1.1,!0],i.height=I.pointAnchor.parsePercent(e.height)||[1.1,!0],(i.x[1]||i.y[1]||i.width[1]||i.height[1])&&(i.hasRatio=!0)),t=i.element.ownerDocument,i.svg=n=t.createElementNS(re,"svg"),n.className.baseVal=A+"-areaAnchor",n.viewBox.baseVal||n.setAttribute("viewBox","0 0 0 0"),i.path=n.appendChild(t.createElementNS(re,"path")),i.path.style.fill=i.fill||"none",i.isShown=!1,n.style.visibility="hidden",t.body.appendChild(n),Ke(a=t.defaultView),i.bodyOffset=Qe(a),i.updateColor=function(){var e,t=i.curStats,n=i.aplStats,a=i.boundTargets.length?i.boundTargets[0].props.curStats:null;t.color=e=i.color||(a?a.line_color:de.lineColor),qe(i,n,"color",e)&&(i.path.style.stroke=e)},i.updateShow=function(){$e(i,i.boundTargets.some(function(e){return!0===e.props.isShown}))},!0},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),De(n,"svgShow",e.updateShow),je(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){var n=t.props;e.color||ze(n,"cur_line_color",e.updateColor),ze(n,"svgShow",e.updateShow),1<e.boundTargets.length&&je(function(){e.updateColor(),e.updateShow(),I.areaAnchor.update(e)&&e.boundTargets.forEach(function(e){et(e.props,{position:!0})})})},removeOption:function(e,t){I.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.areaAnchor.unbind(t,e)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(e,t){return I.areaAnchor.update(e)&&1<e.boundTargets.length&&je(function(){e.boundTargets.forEach(function(e){e.props!==t&&et(e.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=Ae(e.element,t.baseWindow);return Re(e.curStats.pathListRel,function(e){e.x+=n.left,e.y+=n.top})},getBBoxNest:function(e,t){var n=Ae(e.element,t.baseWindow),a=e.curStats.bBoxRel;return{left:a.left+n.left,top:a.top+n.top,right:a.right+n.left,bottom:a.bottom+n.top,width:a.width,height:a.height}},update:function(t){var a,n,i,o,e,l,r,s,u,h,p,c,d,f,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P=t.curStats,N=t.aplStats,T=t.boundTargets.length?t.boundTargets[0].props.curStats:null,W={};if(W.strokeWidth=qe(t,P,"strokeWidth",null!=t.size?t.size:T?T.line_strokeWidth:de.lineSize),a=Ce(t.element),W.elementWidth=qe(t,P,"elementWidth",a.width),W.elementHeight=qe(t,P,"elementHeight",a.height),W.elementLeft=qe(t,P,"elementLeft",a.left),W.elementTop=qe(t,P,"elementTop",a.top),W.strokeWidth||t.hasRatio&&(W.elementWidth||W.elementHeight)){switch(t.shape){case"rect":(I={left:t.x[0]*(t.x[1]?a.width:1),top:t.y[0]*(t.y[1]?a.height:1),width:t.width[0]*(t.width[1]?a.width:1),height:t.height[0]*(t.height[1]?a.height:1)}).right=I.left+I.width,I.bottom=I.top+I.height,b=P.strokeWidth/2,E=(x=Math.min(I.width,I.height))?x/2*Math.SQRT2+b:0,O=(v=t.radius?t.radius<=E?t.radius:E:0)?(w=v-(k=(v-b)/Math.SQRT2),M=v*ee,O=[{x:I.left-w,y:I.top+k},{x:I.left+k,y:I.top-w},{x:I.right-k,y:I.top-w},{x:I.right+w,y:I.top+k},{x:I.right+w,y:I.bottom-k},{x:I.right-k,y:I.bottom+w},{x:I.left+k,y:I.bottom+w},{x:I.left-w,y:I.bottom-k}],P.pathListRel=[[O[0],{x:O[0].x,y:O[0].y-M},{x:O[1].x-M,y:O[1].y},O[1]]],O[1].x!==O[2].x&&P.pathListRel.push([O[1],O[2]]),P.pathListRel.push([O[2],{x:O[2].x+M,y:O[2].y},{x:O[3].x,y:O[3].y-M},O[3]]),O[3].y!==O[4].y&&P.pathListRel.push([O[3],O[4]]),P.pathListRel.push([O[4],{x:O[4].x,y:O[4].y+M},{x:O[5].x+M,y:O[5].y},O[5]]),O[5].x!==O[6].x&&P.pathListRel.push([O[5],O[6]]),P.pathListRel.push([O[6],{x:O[6].x-M,y:O[6].y},{x:O[7].x,y:O[7].y+M},O[7]]),O[7].y!==O[0].y&&P.pathListRel.push([O[7],O[0]]),P.pathListRel.push([]),w=v-k+P.strokeWidth/2,[{x:I.left-w,y:I.top-w},{x:I.right+w,y:I.bottom+w}]):(w=P.strokeWidth/2,O=[{x:I.left-w,y:I.top-w},{x:I.right+w,y:I.bottom+w}],P.pathListRel=[[O[0],{x:O[1].x,y:O[0].y}],[{x:O[1].x,y:O[0].y},O[1]],[O[1],{x:O[0].x,y:O[1].y}],[]],[{x:I.left-P.strokeWidth,y:I.top-P.strokeWidth},{x:I.right+P.strokeWidth,y:I.bottom+P.strokeWidth}]),P.bBoxRel={left:O[0].x,top:O[0].y,right:O[1].x,bottom:O[1].y,width:O[1].x-O[0].x,height:O[1].y-O[0].y};break;case"circle":(_={left:t.x[0]*(t.x[1]?a.width:1),top:t.y[0]*(t.y[1]?a.height:1),width:t.width[0]*(t.width[1]?a.width:1),height:t.height[0]*(t.height[1]?a.height:1)}).width||_.height||(_.width=_.height=10),_.width||(_.width=_.height),_.height||(_.height=_.width),_.right=_.left+_.width,_.bottom=_.top+_.height,r=_.left+_.width/2,s=_.top+_.height/2,d=P.strokeWidth/2,f=_.width/2,y=_.height/2,u=f*Math.SQRT2+d,h=y*Math.SQRT2+d,p=u*ee,c=h*ee,g=[{x:r-u,y:s},{x:r,y:s-h},{x:r+u,y:s},{x:r,y:s+h}],P.pathListRel=[[g[0],{x:g[0].x,y:g[0].y-c},{x:g[1].x-p,y:g[1].y},g[1]],[g[1],{x:g[1].x+p,y:g[1].y},{x:g[2].x,y:g[2].y-c},g[2]],[g[2],{x:g[2].x,y:g[2].y+c},{x:g[3].x+p,y:g[3].y},g[3]],[g[3],{x:g[3].x-p,y:g[3].y},{x:g[0].x,y:g[0].y+c},g[0]],[]],m=u-f+P.strokeWidth/2,S=h-y+P.strokeWidth/2,g=[{x:_.left-m,y:_.top-S},{x:_.right+m,y:_.bottom+S}],P.bBoxRel={left:g[0].x,top:g[0].y,right:g[1].x,bottom:g[1].y,width:g[1].x-g[0].x,height:g[1].y-g[0].y};break;case"polygon":t.points.forEach(function(e){var t=e.x[0]*(e.x[1]?a.width:1),n=e.y[0]*(e.y[1]?a.height:1);i?(t<i.left&&(i.left=t),t>i.right&&(i.right=t),n<i.top&&(i.top=n),n>i.bottom&&(i.bottom=n)):i={left:t,right:t,top:n,bottom:n},o?P.pathListRel.push([o,{x:t,y:n}]):P.pathListRel=[],o={x:t,y:n}}),P.pathListRel.push([]),e=P.strokeWidth/2,l=[{x:i.left-e,y:i.top-e},{x:i.right+e,y:i.bottom+e}],P.bBoxRel={left:l[0].x,top:l[0].y,right:l[1].x,bottom:l[1].y,width:l[1].x-l[0].x,height:l[1].y-l[0].y}}W.pathListRel=W.bBoxRel=!0}return(W.pathListRel||W.elementLeft||W.elementTop)&&(P.pathData=Re(P.pathListRel,function(e){e.x+=a.left,e.y+=a.top})),qe(t,N,"strokeWidth",n=P.strokeWidth)&&(t.path.style.strokeWidth=n+"px"),Ge(n=P.pathData,N.pathData)&&(t.path.setPathData(n),N.pathData=n,W.pathData=!0),t.dash&&(!W.pathData&&(!W.strokeWidth||t.dashLen&&t.dashGap)||(P.dashLen=t.dashLen||2*P.strokeWidth,P.dashGap=t.dashGap||P.strokeWidth),W.dash=qe(t,N,"dashLen",P.dashLen)||W.dash,W.dash=qe(t,N,"dashGap",P.dashGap)||W.dash,W.dash&&(t.path.style.strokeDasharray=N.dashLen+","+N.dashGap)),C=P.viewBoxBBox,L=N.viewBoxBBox,A=t.svg.viewBox.baseVal,V=t.svg.style,C.x=P.bBoxRel.left+a.left,C.y=P.bBoxRel.top+a.top,C.width=P.bBoxRel.width,C.height=P.bBoxRel.height,["x","y","width","height"].forEach(function(e){(n=C[e])!==L[e]&&(A[e]=L[e]=n,V[oe[e]]=n+("x"===e||"y"===e?t.bodyOffset[e]:0)+"px")}),W.strokeWidth||W.pathListRel||W.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(a,i){var o,t,e,n,l,r,s,u,h,p,c,d=I.mouseHoverAnchor,f={};if(a.element=I.pointAnchor.checkElement(i.element),u=a.element,!((p=u.ownerDocument)&&(h=p.defaultView)&&h.HTMLElement&&u instanceof h.HTMLElement))throw new Error("`element` must be HTML element");return d.style.backgroundSize=d.backgroundSize.width+"px "+d.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(e){var n=d[e];a[e]=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},{})}),"inline"===(o=a.element.ownerDocument.defaultView.getComputedStyle(a.element,"")).display?a.style.display="inline-block":"none"===o.display&&(a.style.display="block"),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t=e[0],n="padding"+e[1];parseFloat(o[n])<d.padding[t]&&(a.style[n]=d.padding[t]+"px")}),a.style.display&&(n=a.element.style.display,a.element.style.display=a.style.display),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t="padding"+e[1];a.style[t]&&(f[t]=a.element.style[t],a.element.style[t]=a.style[t])}),(e=a.element.getBoundingClientRect()).height<d.minHeight&&(se?(c=d.minHeight,"content-box"===o.boxSizing?c-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+parseFloat(o.paddingTop)+parseFloat(o.paddingBottom):"padding-box"===o.boxSizing&&(c-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),a.style.height=c+"px"):a.style.height=parseFloat(o.height)+(d.minHeight-e.height)+"px"),a.style.backgroundPosition=pe?e.width-d.backgroundSize.width-d.backgroundPosition.right+"px "+d.backgroundPosition.top+"px":"right "+d.backgroundPosition.right+"px top "+d.backgroundPosition.top+"px",a.style.display&&(a.element.style.display=n),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t="padding"+e[1];a.style[t]&&(a.element.style[t]=f[t])}),["style","hoverStyle"].forEach(function(e){var t=a[e],n=i[e];fe(n)&&Object.keys(n).forEach(function(e){"string"==typeof n[e]||ye(n[e])?t[e]=n[e]:null==n[e]&&delete t[e]})}),"function"==typeof i.onSwitch&&(s=i.onSwitch),i.showEffectName&&M[i.showEffectName]&&(a.showEffectName=l=i.showEffectName),r=i.animOptions,a.elmStyle=t=a.element.style,a.mouseenter=function(e){a.hoverStyleSave=d.getStyles(t,Object.keys(a.hoverStyle)),d.setStyles(t,a.hoverStyle),a.boundTargets.forEach(function(e){nt(e.props,!0,l,r)}),s&&s(e)},a.mouseleave=function(e){d.setStyles(t,a.hoverStyleSave),a.boundTargets.forEach(function(e){nt(e.props,!1,l,r)}),s&&s(e)},!0},bind:function(e,t){var n,a,i,o,l;return t.props.svg?I.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):je(function(){I.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=I.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),I.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(n=e.element,a=e.mouseenter,i=e.mouseleave,"onmouseenter"in n&&"onmouseleave"in n?(n.addEventListener("mouseenter",a,!1),n.addEventListener("mouseleave",i,!1),function(){n.removeEventListener("mouseenter",a,!1),n.removeEventListener("mouseleave",i,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)},n.addEventListener("mouseover",o),l=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)},n.addEventListener("mouseout",l),function(){n.removeEventListener("mouseover",o,!1),n.removeEventListener("mouseout",l,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),I.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),I.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){I.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.mouseHoverAnchor.unbind(t,e)}))},getBBoxNest:function(e,t){return Ae(e.element,t.baseWindow)},llShow:function(e,t,n){M[n||e.curStats.show_effect].stop(e,!0,t),e.aplStats.show_on=t},getStyles:function(n,e){return e.reduce(function(e,t){return e[t]=n[t],e},{})},setStyles:function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(u,t){return"string"==typeof t.text&&(u.text=t.text.trim()),!!u.text&&("string"==typeof t.color&&(u.color=t.color.trim()),u.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&ye(t.offset[0])&&ye(t.offset[1])&&(u.offset={x:t.offset[0],y:t.offset[1]}),ye(t.lineOffset)&&(u.lineOffset=t.lineOffset),I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(u[e]=t[e])}),u.updateColor=function(e){I.captionLabel.updateColor(u,e)},u.updateSocketXY=function(e){var t,n,a,i,o=u.curStats,l=u.aplStats,r=e.curStats,s=r.position_socketXYSE[u.socketIndex];null!=s.x&&(u.offset?(o.x=s.x+u.offset.x,o.y=s.y+u.offset.y):(t=u.height/2,n=Math.max(r.attach_plugSideLenSE[u.socketIndex]||0,r.line_strokeWidth/2),a=r.position_socketXYSE[u.socketIndex?0:1],s.socketId===T||s.socketId===P?(o.x=s.socketId===T?s.x-t-u.width:s.x+t,o.y=a.y<s.y?s.y+n+t:s.y-n-t-u.height):(o.x=a.x<s.x?s.x+n+t:s.x-n-t-u.width,o.y=s.socketId===V?s.y-t-u.height:s.y+t)),qe(u,l,"x",i=o.x)&&(u.elmPosition.x.baseVal.getItem(0).value=i),qe(u,l,"y",i=o.y)&&(u.elmPosition.y.baseVal.getItem(0).value=i+u.height))},u.updatePath=function(e){var t,n,a=u.curStats,i=u.aplStats,o=e.pathList.animVal||e.pathList.baseVal;o&&(t=I.captionLabel.getMidPoint(o,u.lineOffset),a.x=t.x-u.width/2,a.y=t.y-u.height/2,qe(u,i,"x",n=a.x)&&(u.elmPosition.x.baseVal.getItem(0).value=n),qe(u,i,"y",n=a.y)&&(u.elmPosition.y.baseVal.getItem(0).value=n+u.height))},u.updateShow=function(e){I.captionLabel.updateShow(u,e)},pe&&(u.adjustEdge=function(e,t){var n=u.curStats;null!=n.x&&I.captionLabel.adjustEdge(t,{x:n.x,y:n.y,width:u.width,height:u.height},u.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,a=e.curStats,i=e.aplStats,o=t.curStats;a.color=n=e.color||o.line_color,qe(e,i,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var a={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};a.x1<e.x1&&(e.x1=a.x1),a.y1<e.y1&&(e.y1=a.y1),a.x2>e.x2&&(e.x2=a.x2),a.y2>e.y2&&(e.y2=a.y2)},newText:function(e,t,n,a,i){var o,l,r,s,u,h=t.createElementNS(re,"text");return h.textContent=e,[h.x,h.y].forEach(function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)}),"boolean"!=typeof f&&(f="paintOrder"in h.style),i&&!f?(l=t.createElementNS(re,"defs"),h.id=a,l.appendChild(h),(s=(o=t.createElementNS(re,"g")).appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+a,(r=o.appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+a,(u=s.style).strokeLinejoin="round",{elmPosition:h,styleText:h.style,styleFill:r.style,styleStroke:u,styleShow:o.style,elmsAppend:[l,o]}):(u=h.style,i&&(u.strokeLinejoin="round",u.paintOrder="stroke"),{elmPosition:h,styleText:u,styleFill:u,styleStroke:i?u:null,styleShow:u,elmsAppend:[h]})},getMidPoint:function(e,t){var n,a,i=Fe(e),o=i.segsLen,l=i.lenAll,r=-1,s=l/2+(t||0);if(s<=0)return 2===(n=e[0]).length?Pe(n[0],n[1],0):Te(n[0],n[1],n[2],n[3],0);if(l<=s)return 2===(n=e[e.length-1]).length?Pe(n[0],n[1],1):Te(n[0],n[1],n[2],n[3],1);for(a=[];s>o[++r];)a.push(e[r]),s-=o[r];return 2===(n=e[r]).length?Pe(n[0],n[1],s/o[r]):Te(n[0],n[1],n[2],n[3],Be(n[0],n[1],n[2],n[3],s))},initSvg:function(t,n){var e,a,i=I.captionLabel.newText(t.text,n.baseWindow.document,n.svg,A+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),e=i.elmPosition.getBBox(),t.width=e.width,t.height=e.height,t.outlineColor&&(a=10<(a=e.height/9)?10:a<2?2:a,i.styleStroke.strokeWidth=a+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Xe(t.aplStats,I.captionLabel.stats),t.updateColor(n),t.refSocketXY?t.updateSocketXY(n):t.updatePath(n),pe&&et(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,De(n,"apl_position",e.updateSocketXY),e.offset||(De(n,"cur_attach_plugSideLenSE",e.updateSocketXY),De(n,"cur_line_strokeWidth",e.updateSocketXY))):De(n,"apl_path",e.updatePath),De(n,"svgShow",e.updateShow),pe&&De(n,"new_edge4viewBox",e.adjustEdge),I.captionLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Xe(e.curStats,I.captionLabel.stats),Xe(e.aplStats,I.captionLabel.stats),e.color||ze(n,"cur_line_color",e.updateColor),e.refSocketXY?(ze(n,"apl_position",e.updateSocketXY),e.offset||(ze(n,"cur_attach_plugSideLenSE",e.updateSocketXY),ze(n,"cur_line_strokeWidth",e.updateSocketXY))):ze(n,"apl_path",e.updatePath),ze(n,"svgShow",e.updateShow),pe&&(ze(n,"new_edge4viewBox",e.adjustEdge),et(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",ot(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.captionLabel.unbind(t,e)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(s,t){return"string"==typeof t.text&&(s.text=t.text.trim()),!!s.text&&("string"==typeof t.color&&(s.color=t.color.trim()),s.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",ye(t.lineOffset)&&(s.lineOffset=t.lineOffset),I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(s[e]=t[e])}),s.updateColor=function(e){I.captionLabel.updateColor(s,e)},s.updatePath=function(e){var t,n=s.curStats,a=s.aplStats,i=e.curStats,o=e.pathList.animVal||e.pathList.baseVal;o&&(n.pathData=t=I.pathLabel.getOffsetPathData(o,i.line_strokeWidth/2+s.strokeWidth/2+s.height/4,1.25*s.height),Ge(t,a.pathData)&&(s.elmPath.setPathData(t),a.pathData=t,s.bBox=s.elmPosition.getBBox(),s.updateStartOffset(e)))},s.updateStartOffset=function(e){var t,i,n,a,o=s.curStats,l=s.aplStats,r=e.curStats;o.pathData&&(2===s.semIndex&&!s.lineOffset||(n=o.pathData.reduce(function(e,t){var n,a=t.values;switch(t.type){case"M":i={x:a[0],y:a[1]};break;case"L":n={x:a[0],y:a[1]},i&&(e+=Ve(i,n)),i=n;break;case"C":n={x:a[4],y:a[5]},i&&(e+=We(i,{x:a[0],y:a[1]},{x:a[2],y:a[3]},n)),i=n}return e},0),a=0===s.semIndex?0:1===s.semIndex?n:n/2,2!==s.semIndex&&(t=Math.max(r.attach_plugBackLenSE[s.semIndex]||0,r.line_strokeWidth/2)+s.strokeWidth/2+s.height/4,a=(a+=0===s.semIndex?t:-t)<0?0:n<a?n:a),s.lineOffset&&(a=(a+=s.lineOffset)<0?0:n<a?n:a),o.startOffset=a,qe(s,l,"startOffset",a)&&(s.elmOffset.startOffset.baseVal.value=a)))},s.updateShow=function(e){I.captionLabel.updateShow(s,e)},pe&&(s.adjustEdge=function(e,t){s.bBox&&I.captionLabel.adjustEdge(t,s.bBox,s.strokeWidth/2)}),!0)},getOffsetPathData:function(e,x,n){var b,a,k=[];function w(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p,c,d,f,y,m,S,g,_,v,E;2===e.length?(g=e[0],_=e[1],v=x,E=Math.atan2(g.y-_.y,_.x-g.x)+.5*Math.PI,t=[{x:g.x+Math.cos(E)*v,y:g.y+Math.sin(E)*v*-1},{x:_.x+Math.cos(E)*v,y:_.y+Math.sin(E)*v*-1}],b?(a=b.points,0<=(i=Math.atan2(a[1].y-a[0].y,a[0].x-a[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&i<=Math.PI?n={type:"line",points:t,inside:!0}:(l=Ne(a[0],a[1],x),o=Ne(t[1],t[0],x),s=a[0],h=o,p=t[1],c=(u=l).x-s.x,d=u.y-s.y,f=p.x-h.x,y=p.y-h.y,m=(-d*(s.x-h.x)+c*(s.y-h.y))/(-f*d+c*y),S=(f*(s.y-h.y)-y*(s.x-h.x))/(-f*d+c*y),n=(r=0<=m&&m<=1&&0<=S&&S<=1?{x:s.x+S*c,y:s.y+S*d}:null)?{type:"line",points:[a[1]=r,t[1]]}:(a[1]=w(o,l)?o:l,{type:"line",points:[o,t[1]]}),b.len=Ve(a[0],a[1]))):n={type:"line",points:t},n.len=Ve(n.points[0],n.points[1]),k.push(b=n)):(k.push({type:"cubic",points:function(e,t,n,a,i,o){for(var l,r,s=We(e,t,n,a)/o,u=1/(o<i?i/o*s:s),h=[],p=0;r=(90-(l=Te(e,t,n,a,p)).angle)*(Math.PI/180),h.push({x:l.x+Math.cos(r)*i,y:l.y+Math.sin(r)*i*-1}),!(1<=p);)1<(p+=u)&&(p=1);return h}(e[0],e[1],e[2],e[3],x,16)}),b=null)}),b=null,k.forEach(function(e){var t;b="line"===e.type?(e.inside&&(b.len>x?((t=b.points)[1]=Ne(t[0],t[1],-x),b.len=Ve(t[0],t[1])):(b.points=null,b.len=0),e.len>x+n?((t=e.points)[0]=Ne(t[1],t[0],-(x+n)),e.len=Ve(t[0],t[1])):(e.points=null,e.len=0)),e):null}),k.reduce(function(t,e){var n=e.points;return n&&(a&&w(n[0],a)||t.push({type:"M",values:[n[0].x,n[0].y]}),"line"===e.type?t.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach(function(e){t.push({type:"L",values:[e.x,e.y]})})),a=n[n.length-1]),t},[])},newText:function(e,t,n,a){var i,o,l,r,s,u,h,p,c=t.createElementNS(re,"defs"),d=c.appendChild(t.createElementNS(re,"path"));return d.id=i=n+"-path",(r=(l=t.createElementNS(re,"text")).appendChild(t.createElementNS(re,"textPath"))).href.baseVal="#"+i,r.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),r.textContent=e,"boolean"!=typeof f&&(f="paintOrder"in l.style),a&&!f?(l.id=o=n+"-text",c.appendChild(l),(h=(s=t.createElementNS(re,"g")).appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+o,(u=s.appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+o,(p=h.style).strokeLinejoin="round",{elmPosition:l,elmPath:d,elmOffset:r,styleText:l.style,styleFill:u.style,styleStroke:p,styleShow:s.style,elmsAppend:[c,s]}):(p=l.style,a&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:l,elmPath:d,elmOffset:r,styleText:p,styleFill:p,styleStroke:a?p:null,styleShow:p,elmsAppend:[c,l]})},initSvg:function(t,n){var e,a,i=I.pathLabel.newText(t.text,n.baseWindow.document,A+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),i.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),e=i.elmPosition.getBBox(),i.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||i.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=e.height,t.outlineColor&&(a=10<(a=e.height/9)?10:a<2?2:a,i.styleStroke.strokeWidth=a+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Xe(t.aplStats,I.pathLabel.stats),t.updateColor(n),t.updatePath(n),t.updateStartOffset(n),pe&&et(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),De(n,"cur_line_strokeWidth",e.updatePath),De(n,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||De(n,"cur_attach_plugBackLenSE",e.updateStartOffset),De(n,"svgShow",e.updateShow),pe&&De(n,"new_edge4viewBox",e.adjustEdge),I.pathLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Xe(e.curStats,I.pathLabel.stats),Xe(e.aplStats,I.pathLabel.stats),e.color||ze(n,"cur_line_color",e.updateColor),ze(n,"cur_line_strokeWidth",e.updatePath),ze(n,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||ze(n,"cur_attach_plugBackLenSE",e.updateStartOffset),ze(n,"svgShow",e.updateShow),pe&&(ze(n,"new_edge4viewBox",e.adjustEdge),et(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",ot(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.pathLabel.unbind(t,e)}))}}},Object.keys(I).forEach(function(e){lt[e]=function(){return new C(I[e],Array.prototype.slice.call(arguments))}}),lt.positionByWindowResize=!0,window.addEventListener("resize",v.add(function(){lt.positionByWindowResize&&Object.keys(ge).forEach(function(e){et(ge[e],{position:!0})})}),!1),lt}();!function(e,t){ true?module.exports=t():0}(this,function(){return LeaderLine});

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * AnimEvent
 * https://github.com/anseki/anim-event
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
var MSPF = 1000 / 60,
    // ms/frame (FPS: 60)
KEEP_LOOP = 500,

/**
 * @typedef {Object} task
 * @property {Event} event
 * @property {function} listener
 */

/** @type {task[]} */
tasks = [];

var requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
  return setTimeout(callback, MSPF);
},
    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {
  return clearTimeout(requestID);
};

var lastFrameTime = Date.now(),
    requestID;

function step() {
  var called, next;

  if (requestID) {
    cancelAnim.call(window, requestID);
    requestID = null;
  }

  tasks.forEach(function (task) {
    var event;

    if (event = task.event) {
      task.event = null; // Clear it before `task.listener()` because that might fire another event.

      task.listener(event);
      called = true;
    }
  });

  if (called) {
    lastFrameTime = Date.now();
    next = true;
  } else if (Date.now() - lastFrameTime < KEEP_LOOP) {
    // Go on for a while
    next = true;
  }

  if (next) {
    requestID = requestAnim.call(window, step);
  }
}

function indexOfTasks(listener) {
  var index = -1;
  tasks.some(function (task, i) {
    if (task.listener === listener) {
      index = i;
      return true;
    }

    return false;
  });
  return index;
}

var AnimEvent = {
  /**
   * @param {function} listener - An event listener.
   * @returns {(function|null)} A wrapped event listener.
   */
  add: function add(listener) {
    var task;

    if (indexOfTasks(listener) === -1) {
      tasks.push(task = {
        listener: listener
      });
      return function (event) {
        task.event = event;

        if (!requestID) {
          step();
        }
      };
    }

    return null;
  },
  remove: function remove(listener) {
    var iRemove;

    if ((iRemove = indexOfTasks(listener)) > -1) {
      tasks.splice(iRemove, 1);

      if (!tasks.length && requestID) {
        cancelAnim.call(window, requestID);
        requestID = null;
      }
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnimEvent);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * CSSPrefix
 * https://github.com/anseki/cssprefix
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
function ucf(text) {
  return text.substr(0, 1).toUpperCase() + text.substr(1);
}

var PREFIXES = ['webkit', 'moz', 'ms', 'o'],
    NAME_PREFIXES = PREFIXES.reduce(function (prefixes, prefix) {
  prefixes.push(prefix);
  prefixes.push(ucf(prefix));
  return prefixes;
}, []),
    VALUE_PREFIXES = PREFIXES.map(function (prefix) {
  return "-".concat(prefix, "-");
}),

/**
 * Get sample CSSStyleDeclaration.
 * @returns {CSSStyleDeclaration}
 */
getDeclaration = function () {
  var declaration;
  return function () {
    return declaration = declaration || document.createElement('div').style;
  };
}(),

/**
 * Normalize name.
 * @param {} propName - A name that is normalized.
 * @returns {string} A normalized name.
 */
normalizeName = function () {
  var rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),
      reUc = /[A-Z]/;
  return function (propName) {
    return (propName = (propName + '').replace(/\s/g, '').replace(/-([\da-z])/gi, function (str, p1) {
      return p1.toUpperCase();
    }) // camelCase
    // 'ms' and 'Ms' are found by rePrefixedName 'i' option
    .replace(rePrefixedName, function (str, p1) {
      return reUc.test(p1) ? p1.toLowerCase() : str;
    }) // Remove prefix
    ).toLowerCase() === 'float' ? 'cssFloat' : propName;
  }; // For old CSSOM
}(),

/**
 * Normalize value.
 * @param {} propValue - A value that is normalized.
 * @returns {string} A normalized value.
 */
normalizeValue = function () {
  var rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');
  return function (propValue) {
    return (propValue != null ? propValue + '' : '').replace(/\s/g, '').replace(rePrefixedValue, '');
  };
}(),

/**
 * Polyfill for `CSS.supports`.
 * @param {string} propName - A name.
 * @param {string} propValue - A value.
 *     Since `CSSStyleDeclaration.setProperty` might return unexpected result,
 *     the `propValue` should be checked before the `cssSupports` is called.
 * @returns {boolean} `true` if given pair is accepted.
 */
cssSupports = function () {
  return (// return window.CSS && window.CSS.supports || ((propName, propValue) => {
    // `CSS.supports` doesn't find prefixed property.
    function (propName, propValue) {
      var declaration = getDeclaration(); // In some browsers, `declaration[prop] = value` updates any property.

      propName = propName.replace(/[A-Z]/g, function (str) {
        return "-".concat(str.toLowerCase());
      }); // kebab-case

      declaration.setProperty(propName, propValue);
      return declaration[propName] != null && // Because getPropertyValue returns '' if it is unsupported
      declaration.getPropertyValue(propName) === propValue;
    }
  );
}(),
    // Cache
propNames = {},
    propValues = {};

function getName(propName) {
  propName = normalizeName(propName);

  if (propName && propNames[propName] == null) {
    var declaration = getDeclaration();

    if (declaration[propName] != null) {
      // Original
      propNames[propName] = propName;
    } else {
      // Try with prefixes
      var ucfName = ucf(propName);

      if (!NAME_PREFIXES.some(function (prefix) {
        var prefixed = prefix + ucfName;

        if (declaration[prefixed] != null) {
          propNames[propName] = prefixed;
          return true;
        }

        return false;
      })) {
        propNames[propName] = false;
      }
    }
  }

  return propNames[propName] || void 0;
}

function getValue(propName, propValue) {
  var res;

  if (!(propName = getName(propName))) {
    return res;
  } // Invalid property


  propValues[propName] = propValues[propName] || {};
  (Array.isArray(propValue) ? propValue : [propValue]).some(function (propValue) {
    propValue = normalizeValue(propValue);

    if (propValues[propName][propValue] != null) {
      // Cache
      if (propValues[propName][propValue] !== false) {
        res = propValues[propName][propValue];
        return true;
      }

      return false; // Continue to next value
    }

    if (cssSupports(propName, propValue)) {
      // Original
      res = propValues[propName][propValue] = propValue;
      return true;
    }

    if (VALUE_PREFIXES.some(function (prefix) {
      // Try with prefixes
      var prefixed = prefix + propValue;

      if (cssSupports(propName, prefixed)) {
        res = propValues[propName][propValue] = prefixed;
        return true;
      }

      return false;
    })) {
      return true;
    }

    propValues[propName][propValue] = false;
    return false; // Continue to next value
  });
  return typeof res === 'string' ? res : void 0; // It might be empty string.
}

var CSSPrefix = {
  getName: getName,
  getValue: getValue
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CSSPrefix);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js":
/*!************************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * mClassList
 * https://github.com/anseki/m-class-list
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
function normalize(token) {
  return (token + '').trim();
} // Not `||`


function applyList(list, element) {
  element.setAttribute('class', list.join(' '));
}

function _add(list, element, tokens) {
  if (tokens.filter(function (token) {
    if (!(token = normalize(token)) || list.indexOf(token) !== -1) {
      return false;
    }

    list.push(token);
    return true;
  }).length) {
    applyList(list, element);
  }
}

function _remove(list, element, tokens) {
  if (tokens.filter(function (token) {
    var i;

    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) {
      return false;
    }

    list.splice(i, 1);
    return true;
  }).length) {
    applyList(list, element);
  }
}

function _toggle(list, element, token, force) {
  var i = list.indexOf(token = normalize(token));

  if (i !== -1) {
    if (force) {
      return true;
    }

    list.splice(i, 1);
    applyList(list, element);
    return false;
  }

  if (force === false) {
    return false;
  }

  list.push(token);
  applyList(list, element);
  return true;
}

function _replace(list, element, token, newToken) {
  var i;

  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) || token === newToken || (i = list.indexOf(token)) === -1) {
    return;
  }

  list.splice(i, 1);

  if (list.indexOf(newToken) === -1) {
    list.push(newToken);
  }

  applyList(list, element);
}

function mClassList(element) {
  return !mClassList.ignoreNative && element.classList || function () {
    var list = (element.getAttribute('class') || '').trim().split(/\s+/).filter(function (token) {
      return !!token;
    }),
        ins = {
      length: list.length,
      item: function item(i) {
        return list[i];
      },
      contains: function contains(token) {
        return list.indexOf(normalize(token)) !== -1;
      },
      add: function add() {
        _add(list, element, Array.prototype.slice.call(arguments));

        return mClassList.methodChain ? ins : void 0;
      },
      remove: function remove() {
        _remove(list, element, Array.prototype.slice.call(arguments));

        return mClassList.methodChain ? ins : void 0;
      },
      toggle: function toggle(token, force) {
        return _toggle(list, element, token, force);
      },
      replace: function replace(token, newToken) {
        _replace(list, element, token, newToken);

        return mClassList.methodChain ? ins : void 0;
      }
    };
    return ins;
  }();
}

mClassList.methodChain = true;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mClassList);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var anim_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! anim-event */ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js");
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/*
 * PointerEvent
 * https://github.com/anseki/pointer-event
 *
 * Copyright (c) 2022 anseki
 * Licensed under the MIT license.
 */

var MOUSE_EMU_INTERVAL = 400,
    // Avoid mouse events emulation
CLICK_EMULATOR_ELEMENTS = [],
    DBLCLICK_EMULATOR_ELEMENTS = []; // Support options for addEventListener

var passiveSupported = false;

try {
  window.addEventListener('test', null, Object.defineProperty({}, 'passive', {
    get: function get() {
      passiveSupported = true;
    }
  }));
} catch (error) {
  /* ignore */
}
/**
 * addEventListener with specific option.
 * @param {Element} target - An event-target element.
 * @param {string} type - The event type to listen for.
 * @param {function} listener - The EventListener.
 * @param {Object} options - An options object.
 * @returns {void}
 */


function addEventListenerWithOptions(target, type, listener, options) {
  // When `passive` is not supported, consider that the `useCapture` is supported instead of
  // `options` (i.e. options other than the `passive` also are not supported).
  target.addEventListener(type, listener, passiveSupported ? options : options.capture);
}

function getPointsLength(p0, p1) {
  var lx = p0.x - p1.x,
      ly = p0.y - p1.y;
  return Math.sqrt(lx * lx + ly * ly);
}
/**
 * Get Touch instance in list.
 * @param {Touch[]} touches - An Array or TouchList instance.
 * @param {number} id - Touch#identifier
 * @returns {(Touch|null)} - A found Touch instance.
 */


function getTouchById(touches, id) {
  if (touches != null && id != null) {
    for (var i = 0; i < touches.length; i++) {
      if (touches[i].identifier === id) {
        return touches[i];
      }
    }
  }

  return null;
}
/**
 * @param {Object} xy - Something that might have clientX and clientY.
 * @returns {boolean} - `true` if it has valid clientX and clientY.
 */


function hasXY(xy) {
  return xy && typeof xy.clientX === 'number' && typeof xy.clientY === 'number';
} // Gecko, Trident pick drag-event of some elements such as img, a, etc.


function dragstart(event) {
  event.preventDefault();
}

var PointerEvent = /*#__PURE__*/function () {
  /**
   * Create a `PointerEvent` instance.
   * @param {Object} [options] - Options
   */
  function PointerEvent(options) {
    var _this = this;

    _classCallCheck(this, PointerEvent);

    this.startHandlers = {};
    this.lastHandlerId = 0;
    this.curPointerClass = null;
    this.curTouchId = null;
    this.lastPointerXY = {
      clientX: 0,
      clientY: 0
    };
    this.lastTouchTime = 0; // Options

    this.options = {
      // Default
      preventDefault: true,
      stopPropagation: true
    };

    if (options) {
      ['preventDefault', 'stopPropagation'].forEach(function (option) {
        if (typeof options[option] === 'boolean') {
          _this.options[option] = options[option];
        }
      });
    }
  }
  /**
   * @param {function} startHandler - This is called with pointerXY when it starts. This returns boolean.
   * @returns {number} handlerId which is used for adding/removing to element.
   */


  _createClass(PointerEvent, [{
    key: "regStartHandler",
    value: function regStartHandler(startHandler) {
      var that = this;

      that.startHandlers[++that.lastHandlerId] = function (event) {
        var pointerClass = event.type === 'mousedown' ? 'mouse' : 'touch',
            now = Date.now();
        var pointerXY, touchId;

        if (pointerClass === 'touch') {
          that.lastTouchTime = now; // Avoid mouse events emulation

          pointerXY = event.changedTouches[0];
          touchId = event.changedTouches[0].identifier;
        } else {
          // Avoid mouse events emulation
          if (now - that.lastTouchTime < MOUSE_EMU_INTERVAL) {
            return;
          }

          pointerXY = event;
        }

        if (!hasXY(pointerXY)) {
          throw new Error('No clientX/clientY');
        } // It is new one even if those are 'mouse' or ID is same, then cancel current one.


        if (that.curPointerClass) {
          that.cancel();
        }

        if (startHandler.call(that, pointerXY)) {
          that.curPointerClass = pointerClass;
          that.curTouchId = pointerClass === 'touch' ? touchId : null;
          that.lastPointerXY.clientX = pointerXY.clientX;
          that.lastPointerXY.clientY = pointerXY.clientY;

          if (that.options.preventDefault) {
            event.preventDefault();
          }

          if (that.options.stopPropagation) {
            event.stopPropagation();
          }
        }
      };

      return that.lastHandlerId;
    }
    /**
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {void}
     */

  }, {
    key: "unregStartHandler",
    value: function unregStartHandler(handlerId) {
      delete this.startHandlers[handlerId];
    }
    /**
     * @param {Element} element - A target element.
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {number} handlerId which was passed.
     */

  }, {
    key: "addStartHandler",
    value: function addStartHandler(element, handlerId) {
      if (!this.startHandlers[handlerId]) {
        throw new Error("Invalid handlerId: ".concat(handlerId));
      }

      addEventListenerWithOptions(element, 'mousedown', this.startHandlers[handlerId], {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchstart', this.startHandlers[handlerId], {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'dragstart', dragstart, {
        capture: false,
        passive: false
      });
      return handlerId;
    }
    /**
     * @param {Element} element - A target element.
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {number} handlerId which was passed.
     */

  }, {
    key: "removeStartHandler",
    value: function removeStartHandler(element, handlerId) {
      if (!this.startHandlers[handlerId]) {
        throw new Error("Invalid handlerId: ".concat(handlerId));
      }

      element.removeEventListener('mousedown', this.startHandlers[handlerId], false);
      element.removeEventListener('touchstart', this.startHandlers[handlerId], false);
      element.removeEventListener('dragstart', dragstart, false);
      return handlerId;
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} moveHandler - This is called with pointerXY when it moves.
     * @param {?boolean} rawEvent - Capture events without `requestAnimationFrame`.
     * @returns {void}
     */

  }, {
    key: "addMoveHandler",
    value: function addMoveHandler(element, moveHandler, rawEvent) {
      var that = this;

      function handler(event) {
        var pointerClass = event.type === 'mousemove' ? 'mouse' : 'touch'; // Avoid mouse events emulation

        if (pointerClass === 'touch') {
          that.lastTouchTime = Date.now();
        }

        if (pointerClass === that.curPointerClass) {
          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) : event;

          if (hasXY(pointerXY)) {
            if (pointerXY.clientX !== that.lastPointerXY.clientX || pointerXY.clientY !== that.lastPointerXY.clientY) {
              that.move(pointerXY);
            }

            if (that.options.preventDefault) {
              event.preventDefault();
            }

            if (that.options.stopPropagation) {
              event.stopPropagation();
            }
          }
        }
      }

      var wrappedHandler = rawEvent ? handler : anim_event__WEBPACK_IMPORTED_MODULE_0__["default"].add(handler);
      addEventListenerWithOptions(element, 'mousemove', wrappedHandler, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchmove', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curMoveHandler = moveHandler;
    }
    /**
     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.
     * @returns {void}
     */

  }, {
    key: "move",
    value: function move(pointerXY) {
      if (hasXY(pointerXY)) {
        this.lastPointerXY.clientX = pointerXY.clientX;
        this.lastPointerXY.clientY = pointerXY.clientY;
      }

      if (this.curMoveHandler) {
        this.curMoveHandler(this.lastPointerXY);
      }
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} endHandler - This is called with pointerXY when it ends.
     * @returns {void}
     */

  }, {
    key: "addEndHandler",
    value: function addEndHandler(element, endHandler) {
      var that = this;

      function wrappedHandler(event) {
        var pointerClass = event.type === 'mouseup' ? 'mouse' : 'touch'; // Avoid mouse events emulation

        if (pointerClass === 'touch') {
          that.lastTouchTime = Date.now();
        }

        if (pointerClass === that.curPointerClass) {
          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.
          getTouchById(event.touches, that.curTouchId) ? null : {}) : // `{}` means matching
          event;

          if (pointerXY) {
            that.end(pointerXY);

            if (that.options.preventDefault) {
              event.preventDefault();
            }

            if (that.options.stopPropagation) {
              event.stopPropagation();
            }
          }
        }
      }

      addEventListenerWithOptions(element, 'mouseup', wrappedHandler, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchend', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curEndHandler = endHandler;
    }
    /**
     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.
     * @returns {void}
     */

  }, {
    key: "end",
    value: function end(pointerXY) {
      if (hasXY(pointerXY)) {
        this.lastPointerXY.clientX = pointerXY.clientX;
        this.lastPointerXY.clientY = pointerXY.clientY;
      }

      if (this.curEndHandler) {
        this.curEndHandler(this.lastPointerXY);
      }

      this.curPointerClass = this.curTouchId = null;
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} cancelHandler - This is called when it cancels.
     * @returns {void}
     */

  }, {
    key: "addCancelHandler",
    value: function addCancelHandler(element, cancelHandler) {
      var that = this;

      function wrappedHandler(event) {
        /*
          Now, this is fired by touchcancel only, but it might be fired even if curPointerClass is mouse.
        */
        // const pointerClass = 'touch';
        that.lastTouchTime = Date.now(); // Avoid mouse events emulation

        if (that.curPointerClass != null) {
          var pointerXY = getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.
          getTouchById(event.touches, that.curTouchId) ? null : {}); // `{}` means matching

          if (pointerXY) {
            that.cancel();
          }
        }
      }

      addEventListenerWithOptions(element, 'touchcancel', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curCancelHandler = cancelHandler;
    }
    /**
     * @returns {void}
     */

  }, {
    key: "cancel",
    value: function cancel() {
      if (this.curCancelHandler) {
        this.curCancelHandler();
      }

      this.curPointerClass = this.curTouchId = null;
    }
  }], [{
    key: "addEventListenerWithOptions",
    get: function get() {
      return addEventListenerWithOptions;
    }
    /**
     * Emulate `click` event via `touchend` event.
     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.
     * @param {?number} moveTolerance - Move tolerance.
     * @param {?number} timeTolerance - Time tolerance.
     * @returns {Element} The passed `element`.
     */

  }, {
    key: "initClickEmulator",
    value: function initClickEmulator(element, moveTolerance, timeTolerance) {
      if (CLICK_EMULATOR_ELEMENTS.includes(element)) {
        return element;
      }

      CLICK_EMULATOR_ELEMENTS.push(element);
      var DEFAULT_MOVE_TOLERANCE = 16,
          // px
      DEFAULT_TIME_TOLERANCE = 400; // ms

      var startX, startY, touchId, startMs;

      if (moveTolerance == null) {
        moveTolerance = DEFAULT_MOVE_TOLERANCE;
      }

      if (timeTolerance == null) {
        timeTolerance = DEFAULT_TIME_TOLERANCE;
      }

      addEventListenerWithOptions(element, 'touchstart', function (event) {
        var touch = event.changedTouches[0];
        startX = touch.clientX;
        startY = touch.clientY;
        touchId = touch.identifier;
        startMs = performance.now();
      }, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchend', function (event) {
        var touch = getTouchById(event.changedTouches, touchId);

        if (typeof startX === 'number' && typeof startY === 'number' && typeof startMs === 'number' && touch && typeof touch.clientX === 'number' && typeof touch.clientY === 'number' && getPointsLength({
          x: startX,
          y: startY
        }, {
          x: touch.clientX,
          y: touch.clientY
        }) <= moveTolerance && performance.now() - startMs <= timeTolerance) {
          // FIRE
          setTimeout(function () {
            var newEvent = new MouseEvent('click', {
              clientX: touch.clientX,
              clientY: touch.clientY
            });
            newEvent.emulated = true;
            element.dispatchEvent(newEvent);
          }, 0);
        }

        startX = startY = touchId = startMs = null;
      }, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchcancel', function () {
        startX = startY = touchId = startMs = null;
      }, {
        capture: false,
        passive: false
      });
      return element;
    }
    /**
     * Emulate `dblclick` event via `touchend` event.
     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.
     * @param {?number} moveTolerance - Move tolerance.
     * @param {?number} timeTolerance - Time tolerance.
     * @returns {Element} The passed `element`.
     */

  }, {
    key: "initDblClickEmulator",
    value: function initDblClickEmulator(element, moveTolerance, timeTolerance) {
      if (DBLCLICK_EMULATOR_ELEMENTS.includes(element)) {
        return element;
      }

      DBLCLICK_EMULATOR_ELEMENTS.push(element);
      var DEFAULT_MOVE_TOLERANCE = 16,
          // px
      DEFAULT_TIME_TOLERANCE = 400; // ms

      var startX, startY, startMs;

      if (moveTolerance == null) {
        moveTolerance = DEFAULT_MOVE_TOLERANCE;
      }

      if (timeTolerance == null) {
        timeTolerance = DEFAULT_TIME_TOLERANCE;
      }

      PointerEvent.initClickEmulator(element, moveTolerance, timeTolerance);
      addEventListenerWithOptions(element, 'click', function (event) {
        if (!event.emulated || // Ignore events that are not from `touchend`.
        typeof event.clientX !== 'number' || typeof event.clientY !== 'number') {
          return;
        }

        if (typeof startX === 'number' && getPointsLength({
          x: startX,
          y: startY
        }, {
          x: event.clientX,
          y: event.clientY
        }) <= moveTolerance && performance.now() - startMs <= timeTolerance * 2) {
          // up (tolerance) down (tolerance) up
          setTimeout(function () {
            // FIRE
            var newEvent = new MouseEvent('dblclick', {
              clientX: event.clientX,
              clientY: event.clientY
            });
            newEvent.emulated = true;
            element.dispatchEvent(newEvent);
          }, 0);
          startX = startY = startMs = null;
        } else {
          // 1st
          startX = event.clientX;
          startY = event.clientY;
          startMs = performance.now();
        }
      }, {
        capture: false,
        passive: false
      });
      return element;
    }
  }]);

  return PointerEvent;
}();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PointerEvent);

/***/ }),

/***/ "./node_modules/plain-draggable/plain-draggable.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/plain-draggable/plain-draggable.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pointer_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pointer-event */ "./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js");
/* harmony import */ var cssprefix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cssprefix */ "./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js");
/* harmony import */ var anim_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! anim-event */ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js");
/* harmony import */ var m_class_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! m-class-list */ "./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js");
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/*
 * PlainDraggable
 * https://anseki.github.io/plain-draggable/
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */




m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"].ignoreNative = true;

var ZINDEX = 9000,
    // [SNAP]
SNAP_GRAVITY = 20,
    SNAP_CORNER = 'tl',
    SNAP_SIDE = 'both',
    SNAP_EDGE = 'both',
    SNAP_BASE = 'containment',
    SNAP_ALL_CORNERS = ['tl', 'tr', 'bl', 'br'],
    SNAP_ALL_SIDES = ['start', 'end'],
    SNAP_ALL_EDGES = ['inside', 'outside'],
    // [/SNAP]
// [AUTO-SCROLL]
AUTOSCROLL_SPEED = [40, 200, 1000],
    AUTOSCROLL_SENSITIVITY = [100, 40, 0],
    // [/AUTO-SCROLL]
IS_EDGE = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,
    IS_TRIDENT = !IS_EDGE && !!document.uniqueID,
    // Future Edge might support `document.uniqueID`.
IS_GECKO = ('MozAppearance' in document.documentElement.style),
    IS_BLINK = !IS_EDGE && !IS_GECKO && // Edge has `window.chrome`, and future Gecko might have that.
!!window.chrome && !!window.CSS,
    IS_WEBKIT = !IS_EDGE && !IS_TRIDENT && !IS_GECKO && !IS_BLINK && // Some engines support `webkit-*` properties.
!window.chrome && 'WebkitAppearance' in document.documentElement.style,
    isObject = function () {
  var toString = {}.toString,
      fnToString = {}.hasOwnProperty.toString,
      objFnString = fnToString.call(Object);
  return function (obj) {
    var proto, constr;
    return obj && toString.call(obj) === '[object Object]' && (!(proto = Object.getPrototypeOf(obj)) || (constr = proto.hasOwnProperty('constructor') && proto.constructor) && typeof constr === 'function' && fnToString.call(constr) === objFnString);
  };
}(),
    isFinite = Number.isFinite || function (value) {
  return typeof value === 'number' && window.isFinite(value);
},

/** @type {Object.<_id: number, props>} */
insProps = {},
    pointerOffset = {},
    pointerEvent = new pointer_event__WEBPACK_IMPORTED_MODULE_0__["default"]();

var insId = 0,
    activeProps,
    hasMoved,
    body,
    // CSS property/value
cssValueDraggableCursor,
    cssValueDraggingCursor,
    cssOrgValueBodyCursor,
    cssPropTransitionProperty,
    cssPropTransform,
    cssPropUserSelect,
    cssOrgValueBodyUserSelect,
    // Try to set `cursor` property.
cssWantedValueDraggableCursor = IS_WEBKIT ? ['all-scroll', 'move'] : ['grab', 'all-scroll', 'move'],
    cssWantedValueDraggingCursor = IS_WEBKIT ? 'move' : ['grabbing', 'move'],
    // class
draggableClass = 'plain-draggable',
    draggingClass = 'plain-draggable-dragging',
    movingClass = 'plain-draggable-moving'; // [AUTO-SCROLL]
// Scroll Animation Controller

var scrollFrame = {},
    MSPF = 1000 / 60,
    // ms/frame (FPS: 60)
requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
  return setTimeout(callback, MSPF);
},
    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {
  return clearTimeout(requestID);
};

{
  /**
   * @typedef {Object} MoveArgs
   * @property {number} dir - [-1 | 1] minus or plus to position value.
   * @property {number} speed - px/ms
   * @property {number} min - Minimum position value.
   * @property {number} max - Maximum position value.
   * @property {number} [lastFrameTime] - Time of last frame.
   * @property {number} [lastValue] - Strict value of last frame.
   */
  var curXyMoveArgs = {},
      curElement,
      curScrollXY,
      requestID;

  function frameUpdate() {
    var now = Date.now();
    ['x', 'y'].forEach(function (xy) {
      var moveArgs = curXyMoveArgs[xy];

      if (moveArgs) {
        var timeLen = now - moveArgs.lastFrameTime,
            absValue = curScrollXY(curElement, xy),
            curValue = moveArgs.lastValue != null && Math.abs(moveArgs.lastValue - absValue) < 10 // It was not moved manually
        ? moveArgs.lastValue : absValue;

        if (moveArgs.dir === -1 ? curValue > moveArgs.min : curValue < moveArgs.max) {
          var newValue = curValue + moveArgs.speed * timeLen * moveArgs.dir;

          if (newValue < moveArgs.min) {
            newValue = moveArgs.min;
          } else if (newValue > moveArgs.max) {
            newValue = moveArgs.max;
          }

          curScrollXY(curElement, xy, newValue);
          moveArgs.lastValue = newValue;
        }

        moveArgs.lastFrameTime = now;
      }
    });
  }

  function frame() {
    cancelAnim.call(window, requestID);
    frameUpdate();
    requestID = requestAnim.call(window, frame);
  }
  /**
   * @param {Element} element - A target element.
   * @param {{x: ?MoveArgs, y: ?MoveArgs}} xyMoveArgs - MoveArgs for x and y
   * @param {function} scrollXY - (element: Element, xy: string, value: number) => number
   * @returns {void}
   */


  scrollFrame.move = function (element, xyMoveArgs, scrollXY) {
    cancelAnim.call(window, requestID);
    frameUpdate(); // Update current data now because it might be not continuation.
    // Re-use lastValue

    if (curElement === element) {
      if (xyMoveArgs.x && curXyMoveArgs.x) {
        xyMoveArgs.x.lastValue = curXyMoveArgs.x.lastValue;
      }

      if (xyMoveArgs.y && curXyMoveArgs.y) {
        xyMoveArgs.y.lastValue = curXyMoveArgs.y.lastValue;
      }
    }

    curElement = element;
    curXyMoveArgs = xyMoveArgs;
    curScrollXY = scrollXY;
    var now = Date.now();
    ['x', 'y'].forEach(function (xy) {
      var moveArgs = curXyMoveArgs[xy];

      if (moveArgs) {
        moveArgs.lastFrameTime = now;
      }
    });
    requestID = requestAnim.call(window, frame);
  };

  scrollFrame.stop = function () {
    cancelAnim.call(window, requestID);
    frameUpdate();
    curXyMoveArgs = {};
    curElement = null; // Remove reference
  };
}

function scrollXYWindow(element, xy, value) {
  if (value != null) {
    if (xy === 'x') {
      element.scrollTo(value, element.pageYOffset);
    } else {
      element.scrollTo(element.pageXOffset, value);
    }
  }

  return xy === 'x' ? element.pageXOffset : element.pageYOffset;
}

function scrollXYElement(element, xy, value) {
  var prop = xy === 'x' ? 'scrollLeft' : 'scrollTop';

  if (value != null) {
    element[prop] = value;
  }

  return element[prop];
}
/**
 * @typedef {Object} Scrollable
 * @property {number} clientWidth - width of scrollable area.
 * @property {number} clientHeight - height of scrollable area.
 * @property {number} scrollWidth - width of inner content.
 * @property {number} scrollHeight - height of inner content.
 * @property {number} clientX - X of scrollable area, document coordinate.
 * @property {number} clientY - T of scrollable area, document coordinate.
 */

/**
 * @param {Element} element - A target element.
 * @param {boolean} [isWindow] - `true` if element is window.
 * @param {boolean} [dontScroll] - `true` makes it skip scroll that gets scrollWidth/Height.
 * @returns {Scrollable} Information for scroll.
 */


function getScrollable(element, isWindow, dontScroll) {
  var scrollable = {};
  var cmpStyleHtml, cmpStyleBody, cmpStyleElement; // clientWidth/Height

  (function (target) {
    scrollable.clientWidth = target.clientWidth;
    scrollable.clientHeight = target.clientHeight;
  })(isWindow ? document.documentElement : element); // scrollWidth/Height

  /*
    Gecko bug, bottom-padding of element is reduced.
    Blink for Android bug, borders of <html> is rendered but those are not added to scrollW/H.
    Then, move it to max scroll position (sufficiently larger values) forcibly, and get scroll position.
  */


  var maxScrollLeft = 0,
      maxScrollTop = 0;

  if (!dontScroll) {
    var curScrollLeft, curScrollTop;

    if (isWindow) {
      curScrollLeft = scrollXYWindow(element, 'x');
      curScrollTop = scrollXYWindow(element, 'y');
      cmpStyleHtml = getComputedStyle(document.documentElement, '');
      cmpStyleBody = getComputedStyle(document.body, '');
      maxScrollLeft = scrollXYWindow(element, 'x', document.documentElement.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body
      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);
      }, 0));
      maxScrollTop = scrollXYWindow(element, 'y', document.documentElement.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);
      }, 0));
      scrollXYWindow(element, 'x', curScrollLeft);
      scrollXYWindow(element, 'y', curScrollTop);
    } else {
      curScrollLeft = scrollXYElement(element, 'x');
      curScrollTop = scrollXYElement(element, 'y');
      cmpStyleElement = getComputedStyle(element, '');
      maxScrollLeft = scrollXYElement(element, 'x', element.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body
      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleElement[prop]) || 0);
      }, 0));
      maxScrollTop = scrollXYElement(element, 'y', element.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleElement[prop]) || 0);
      }, 0));
      scrollXYElement(element, 'x', curScrollLeft);
      scrollXYElement(element, 'y', curScrollTop);
    }
  }

  scrollable.scrollWidth = scrollable.clientWidth + maxScrollLeft;
  scrollable.scrollHeight = scrollable.clientHeight + maxScrollTop; // clientX/Y

  var rect;

  if (isWindow) {
    scrollable.clientX = scrollable.clientY = 0;
  } else {
    // padding-box
    rect = element.getBoundingClientRect();

    if (!cmpStyleElement) {
      cmpStyleElement = getComputedStyle(element, '');
    }

    scrollable.clientX = rect.left + (parseFloat(cmpStyleElement.borderLeftWidth) || 0);
    scrollable.clientY = rect.top + (parseFloat(cmpStyleElement.borderTopWidth) || 0);
  }

  return scrollable;
} // [/AUTO-SCROLL]


function copyTree(obj) {
  return !obj ? obj : isObject(obj) ? Object.keys(obj).reduce(function (copyObj, key) {
    copyObj[key] = copyTree(obj[key]);
    return copyObj;
  }, {}) : Array.isArray(obj) ? obj.map(copyTree) : obj;
}

function hasChanged(a, b) {
  var typeA, keysA;
  return _typeof(a) !== _typeof(b) || (typeA = isObject(a) ? 'obj' : Array.isArray(a) ? 'array' : '') !== (isObject(b) ? 'obj' : Array.isArray(b) ? 'array' : '') || (typeA === 'obj' ? hasChanged(keysA = Object.keys(a).sort(), Object.keys(b).sort()) || keysA.some(function (prop) {
    return hasChanged(a[prop], b[prop]);
  }) : typeA === 'array' ? a.length !== b.length || a.some(function (aVal, i) {
    return hasChanged(aVal, b[i]);
  }) : a !== b);
}
/**
 * @param {Element} element - A target element.
 * @returns {boolean} `true` if connected element.
 */


function isElement(element) {
  return !!(element && element.nodeType === Node.ELEMENT_NODE && // element instanceof HTMLElement &&
  typeof element.getBoundingClientRect === 'function' && !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));
}
/**
 * An object that simulates `DOMRect` to indicate a bounding-box.
 * @typedef {Object} BBox
 * @property {(number|null)} left - document coordinate
 * @property {(number|null)} top - document coordinate
 * @property {(number|null)} right - document coordinate
 * @property {(number|null)} bottom - document coordinate
 * @property {(number|null)} x - Substitutes for left
 * @property {(number|null)} y - Substitutes for top
 * @property {(number|null)} width
 * @property {(number|null)} height
 */

/**
 * @param {Object} bBox - A target object.
 * @returns {(BBox|null)} A normalized `BBox`, or null if `bBox` is invalid.
 */


function validBBox(bBox) {
  if (!isObject(bBox)) {
    return null;
  }

  var value;

  if (isFinite(value = bBox.left) || isFinite(value = bBox.x)) {
    bBox.left = bBox.x = value;
  } else {
    return null;
  }

  if (isFinite(value = bBox.top) || isFinite(value = bBox.y)) {
    bBox.top = bBox.y = value;
  } else {
    return null;
  }

  if (isFinite(bBox.width) && bBox.width >= 0) {
    bBox.right = bBox.left + bBox.width;
  } else if (isFinite(bBox.right) && bBox.right >= bBox.left) {
    bBox.width = bBox.right - bBox.left;
  } else {
    return null;
  }

  if (isFinite(bBox.height) && bBox.height >= 0) {
    bBox.bottom = bBox.top + bBox.height;
  } else if (isFinite(bBox.bottom) && bBox.bottom >= bBox.top) {
    bBox.height = bBox.bottom - bBox.top;
  } else {
    return null;
  }

  return bBox;
}
/**
 * A value that is Pixels or Ratio
 * @typedef {{value: number, isRatio: boolean}} PPValue
 */


function validPPValue(value) {
  // Get PPValue from string (all `/s` were already removed)
  function string2PPValue(inString) {
    var matches = /^(.+?)(%)?$/.exec(inString);
    var value, isRatio;
    return matches && isFinite(value = parseFloat(matches[1])) ? {
      value: (isRatio = !!(matches[2] && value)) ? value / 100 : value,
      isRatio: isRatio
    } : null; // 0% -> 0
  }

  return isFinite(value) ? {
    value: value,
    isRatio: false
  } : typeof value === 'string' ? string2PPValue(value.replace(/\s/g, '')) : null;
}

function ppValue2OptionValue(ppValue) {
  return ppValue.isRatio ? "".concat(ppValue.value * 100, "%") : ppValue.value;
}

function resolvePPValue(ppValue, baseOrigin, baseSize) {
  return typeof ppValue === 'number' ? ppValue : baseOrigin + ppValue.value * (ppValue.isRatio ? baseSize : 1);
}
/**
 * An object that simulates BBox but properties are PPValue.
 * @typedef {Object} PPBBox
 */

/**
 * @param {Object} bBox - A target object.
 * @returns {(PPBBox|null)} A normalized `PPBBox`, or null if `bBox` is invalid.
 */


function validPPBBox(bBox) {
  if (!isObject(bBox)) {
    return null;
  }

  var ppValue;

  if ((ppValue = validPPValue(bBox.left)) || (ppValue = validPPValue(bBox.x))) {
    bBox.left = bBox.x = ppValue;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.top)) || (ppValue = validPPValue(bBox.y))) {
    bBox.top = bBox.y = ppValue;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.width)) && ppValue.value >= 0) {
    bBox.width = ppValue;
    delete bBox.right;
  } else if (ppValue = validPPValue(bBox.right)) {
    bBox.right = ppValue;
    delete bBox.width;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.height)) && ppValue.value >= 0) {
    bBox.height = ppValue;
    delete bBox.bottom;
  } else if (ppValue = validPPValue(bBox.bottom)) {
    bBox.bottom = ppValue;
    delete bBox.height;
  } else {
    return null;
  }

  return bBox;
}

function ppBBox2OptionObject(ppBBox) {
  return Object.keys(ppBBox).reduce(function (obj, prop) {
    obj[prop] = ppValue2OptionValue(ppBBox[prop]);
    return obj;
  }, {});
} // PPBBox -> BBox


function resolvePPBBox(ppBBox, baseBBox) {
  var prop2Axis = {
    left: 'x',
    right: 'x',
    x: 'x',
    width: 'x',
    top: 'y',
    bottom: 'y',
    y: 'y',
    height: 'y'
  },
      baseOriginXY = {
    x: baseBBox.left,
    y: baseBBox.top
  },
      baseSizeXY = {
    x: baseBBox.width,
    y: baseBBox.height
  };
  return validBBox(Object.keys(ppBBox).reduce(function (bBox, prop) {
    bBox[prop] = resolvePPValue(ppBBox[prop], prop === 'width' || prop === 'height' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);
    return bBox;
  }, {}));
}
/**
 * @param {Element} element - A target element.
 * @param {?boolean} getPaddingBox - Get padding-box instead of border-box as bounding-box.
 * @returns {BBox} A bounding-box of `element`.
 */


function getBBox(element, getPaddingBox) {
  var rect = element.getBoundingClientRect(),
      bBox = {
    left: rect.left,
    top: rect.top,
    width: rect.width,
    height: rect.height
  };
  bBox.left += window.pageXOffset;
  bBox.top += window.pageYOffset;

  if (getPaddingBox) {
    var style = window.getComputedStyle(element, ''),
        borderTop = parseFloat(style.borderTopWidth) || 0,
        borderRight = parseFloat(style.borderRightWidth) || 0,
        borderBottom = parseFloat(style.borderBottomWidth) || 0,
        borderLeft = parseFloat(style.borderLeftWidth) || 0;
    bBox.left += borderLeft;
    bBox.top += borderTop;
    bBox.width -= borderLeft + borderRight;
    bBox.height -= borderTop + borderBottom;
  }

  return validBBox(bBox);
}
/**
 * Optimize an element for animation.
 * @param {Element} element - A target element.
 * @param {?boolean} gpuTrigger - Initialize for SVGElement if `true`.
 * @returns {Element} A target element.
 */


function initAnim(element, gpuTrigger) {
  var style = element.style;
  style.webkitTapHighlightColor = 'transparent'; // Only when it has no shadow

  var cssPropBoxShadow = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('boxShadow'),
      boxShadow = window.getComputedStyle(element, '')[cssPropBoxShadow];

  if (!boxShadow || boxShadow === 'none') {
    style[cssPropBoxShadow] = '0 0 1px transparent';
  }

  if (gpuTrigger && cssPropTransform) {
    style[cssPropTransform] = 'translateZ(0)';
  }

  return element;
}

function setDraggableCursor(element, orgCursor) {
  if (cssValueDraggableCursor == null) {
    if (cssWantedValueDraggableCursor !== false) {
      cssValueDraggableCursor = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getValue('cursor', cssWantedValueDraggableCursor);
    } // The wanted value was denied, or changing is not wanted.


    if (cssValueDraggableCursor == null) {
      cssValueDraggableCursor = false;
    }
  } // Update it to change a state even if cssValueDraggableCursor is false.


  element.style.cursor = cssValueDraggableCursor === false ? orgCursor : cssValueDraggableCursor;
}

function setDraggingCursor(element) {
  if (cssValueDraggingCursor == null) {
    if (cssWantedValueDraggingCursor !== false) {
      cssValueDraggingCursor = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getValue('cursor', cssWantedValueDraggingCursor);
    } // The wanted value was denied, or changing is not wanted.


    if (cssValueDraggingCursor == null) {
      cssValueDraggingCursor = false;
    }
  }

  if (cssValueDraggingCursor !== false) {
    element.style.cursor = cssValueDraggingCursor;
  }
} // [SVG]

/**
 * Get SVG coordinates from viewport coordinates.
 * @param {props} props - `props` of instance.
 * @param {number} clientX - viewport X.
 * @param {number} clientY - viewport Y.
 * @returns {SVGPoint} SVG coordinates.
 */


function viewPoint2SvgPoint(props, clientX, clientY) {
  var svgPoint = props.svgPoint;
  svgPoint.x = clientX;
  svgPoint.y = clientY;
  return svgPoint.matrixTransform(props.svgCtmElement.getScreenCTM().inverse());
} // [/SVG]

/**
 * Move by `translate`.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveTranslate(props, position) {
  var elementBBox = props.elementBBox;

  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {
    var offset = props.htmlOffset;
    props.elementStyle[cssPropTransform] = "translate(".concat(position.left + offset.left, "px, ").concat(position.top + offset.top, "px)");
    return true;
  }

  return false;
} // [LEFTTOP]

/**
 * Move by `left` and `top`.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveLeftTop(props, position) {
  var elementBBox = props.elementBBox,
      elementStyle = props.elementStyle,
      offset = props.htmlOffset;
  var moved = false;

  if (position.left !== elementBBox.left) {
    elementStyle.left = position.left + offset.left + 'px';
    moved = true;
  }

  if (position.top !== elementBBox.top) {
    elementStyle.top = position.top + offset.top + 'px';
    moved = true;
  }

  return moved;
} // [/LEFTTOP]
// [SVG]

/**
 * Move SVGElement.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveSvg(props, position) {
  var elementBBox = props.elementBBox;

  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {
    var offset = props.svgOffset,
        originBBox = props.svgOriginBBox,
        point = viewPoint2SvgPoint(props, position.left - window.pageXOffset, position.top - window.pageYOffset);
    props.svgTransform.setTranslate(point.x + offset.x - originBBox.x, point.y + offset.y - originBBox.y);
    return true;
  }

  return false;
} // [/SVG]

/**
 * Set `props.element` position.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @param {function} [cbCheck] - Callback that is called with valid position, cancel moving if it returns `false`.
 * @returns {boolean} `true` if it was moved.
 */


function move(props, position, cbCheck) {
  var elementBBox = props.elementBBox;

  function fix() {
    if (props.minLeft >= props.maxLeft) {
      // Disabled
      position.left = elementBBox.left;
    } else if (position.left < props.minLeft) {
      position.left = props.minLeft;
    } else if (position.left > props.maxLeft) {
      position.left = props.maxLeft;
    }

    if (props.minTop >= props.maxTop) {
      // Disabled
      position.top = elementBBox.top;
    } else if (position.top < props.minTop) {
      position.top = props.minTop;
    } else if (position.top > props.maxTop) {
      position.top = props.maxTop;
    }
  }

  fix();

  if (cbCheck) {
    if (cbCheck(position) === false) {
      return false;
    }

    fix(); // Again
  }

  var moved = props.moveElm(props, position);

  if (moved) {
    // Update elementBBox
    props.elementBBox = validBBox({
      left: position.left,
      top: position.top,
      width: elementBBox.width,
      height: elementBBox.height
    });
  }

  return moved;
}
/**
 * Initialize HTMLElement for `translate`, and get `offset` that is used by `moveTranslate`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initTranslate(props) {
  var element = props.element,
      elementStyle = props.elementStyle,
      curPosition = getBBox(element),
      // Get BBox before change style.
  RESTORE_PROPS = ['display', 'marginTop', 'marginBottom', 'width', 'height'];
  RESTORE_PROPS.unshift(cssPropTransform); // Reset `transition-property` every time because it might be changed frequently.

  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];
  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation

  var fixPosition = getBBox(element);

  if (!props.orgStyle) {
    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {
      orgStyle[prop] = elementStyle[prop] || '';
      return orgStyle;
    }, {});
    props.lastStyle = {};
  } else {
    RESTORE_PROPS.forEach(function (prop) {
      // Skip this if it seems user changed it. (it can't check perfectly.)
      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {
        elementStyle[prop] = props.orgStyle[prop];
      }
    });
  }

  var orgSize = getBBox(element),
      cmpStyle = window.getComputedStyle(element, ''); // https://www.w3.org/TR/css-transforms-1/#transformable-element

  if (cmpStyle.display === 'inline') {
    elementStyle.display = 'inline-block';
    ['Top', 'Bottom'].forEach(function (dirProp) {
      var padding = parseFloat(cmpStyle["padding".concat(dirProp)]); // paddingTop/Bottom make padding but don't make space -> negative margin in inline-block
      // marginTop/Bottom don't work in inline element -> `0` in inline-block

      elementStyle["margin".concat(dirProp)] = padding ? "-".concat(padding, "px") : '0';
    });
  }

  elementStyle[cssPropTransform] = 'translate(0, 0)'; // Get document offset.

  var newBBox = getBBox(element);
  var offset = props.htmlOffset = {
    left: newBBox.left ? -newBBox.left : 0,
    top: newBBox.top ? -newBBox.top : 0
  }; // avoid `-0`
  // Restore position

  elementStyle[cssPropTransform] = "translate(".concat(curPosition.left + offset.left, "px, ").concat(curPosition.top + offset.top, "px)"); // Restore size

  ['width', 'height'].forEach(function (prop) {
    if (newBBox[prop] !== orgSize[prop]) {
      // Ignore `box-sizing`
      elementStyle[prop] = orgSize[prop] + 'px';
      newBBox = getBBox(element);

      if (newBBox[prop] !== orgSize[prop]) {
        // Retry
        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';
      }
    }

    props.lastStyle[prop] = elementStyle[prop];
  }); // Restore `transition-property`

  element.offsetWidth;
  /* force reflow */
  // eslint-disable-line no-unused-expressions

  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;

  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {
    // It seems that it is moving.
    elementStyle[cssPropTransform] = "translate(".concat(fixPosition.left + offset.left, "px, ").concat(fixPosition.top + offset.top, "px)");
  }

  return fixPosition;
} // [LEFTTOP]

/**
 * Initialize HTMLElement for `left` and `top`, and get `offset` that is used by `moveLeftTop`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initLeftTop(props) {
  var element = props.element,
      elementStyle = props.elementStyle,
      curPosition = getBBox(element),
      // Get BBox before change style.
  RESTORE_PROPS = ['position', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'width', 'height']; // Reset `transition-property` every time because it might be changed frequently.

  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];
  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation

  var fixPosition = getBBox(element);

  if (!props.orgStyle) {
    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {
      orgStyle[prop] = elementStyle[prop] || '';
      return orgStyle;
    }, {});
    props.lastStyle = {};
  } else {
    RESTORE_PROPS.forEach(function (prop) {
      // Skip this if it seems user changed it. (it can't check perfectly.)
      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {
        elementStyle[prop] = props.orgStyle[prop];
      }
    });
  }

  var orgSize = getBBox(element);
  elementStyle.position = 'absolute';
  elementStyle.left = elementStyle.top = elementStyle.margin = '0'; // Get document offset.

  var newBBox = getBBox(element);
  var offset = props.htmlOffset = {
    left: newBBox.left ? -newBBox.left : 0,
    top: newBBox.top ? -newBBox.top : 0
  }; // avoid `-0`
  // Restore position

  elementStyle.left = curPosition.left + offset.left + 'px';
  elementStyle.top = curPosition.top + offset.top + 'px'; // Restore size

  ['width', 'height'].forEach(function (prop) {
    if (newBBox[prop] !== orgSize[prop]) {
      // Ignore `box-sizing`
      elementStyle[prop] = orgSize[prop] + 'px';
      newBBox = getBBox(element);

      if (newBBox[prop] !== orgSize[prop]) {
        // Retry
        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';
      }
    }

    props.lastStyle[prop] = elementStyle[prop];
  }); // Restore `transition-property`

  element.offsetWidth;
  /* force reflow */
  // eslint-disable-line no-unused-expressions

  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;

  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {
    // It seems that it is moving.
    elementStyle.left = fixPosition.left + offset.left + 'px';
    elementStyle.top = fixPosition.top + offset.top + 'px';
  }

  return fixPosition;
} // [/LEFTTOP]
// [SVG]

/**
 * Initialize SVGElement, and get `offset` that is used by `moveSvg`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initSvg(props) {
  var element = props.element,
      svgTransform = props.svgTransform,
      curRect = element.getBoundingClientRect(),
      // Get Rect before change position.
  fixPosition = getBBox(element);
  svgTransform.setTranslate(0, 0);
  var originBBox = props.svgOriginBBox = element.getBBox(),
      // Try to get SVG coordinates of current position.
  newRect = element.getBoundingClientRect(),
      originPoint = viewPoint2SvgPoint(props, newRect.left, newRect.top),
      // Gecko bug, getScreenCTM returns incorrect CTM, and originPoint might not be current position.
  offset = props.svgOffset = {
    x: originBBox.x - originPoint.x,
    y: originBBox.y - originPoint.y
  },
      // Restore position
  curPoint = viewPoint2SvgPoint(props, curRect.left, curRect.top);
  svgTransform.setTranslate(curPoint.x + offset.x - originBBox.x, curPoint.y + offset.y - originBBox.y);
  return fixPosition;
} // [/SVG]

/**
 * Set `elementBBox`, `containmentBBox`, `min/max``Left/Top` and `snapTargets`.
 * @param {props} props - `props` of instance.
 * @param {string} [eventType] - A type of event that kicked this method.
 * @returns {void}
 */


function initBBox(props, eventType) {
  // eslint-disable-line no-unused-vars
  var docBBox = getBBox(document.documentElement),
      elementBBox = props.elementBBox = props.initElm(props),
      // reset offset etc.
  containmentBBox = props.containmentBBox = props.containmentIsBBox ? resolvePPBBox(props.options.containment, docBBox) || docBBox : getBBox(props.options.containment, true);
  props.minLeft = containmentBBox.left;
  props.maxLeft = containmentBBox.right - elementBBox.width;
  props.minTop = containmentBBox.top;
  props.maxTop = containmentBBox.bottom - elementBBox.height; // Adjust position

  move(props, {
    left: elementBBox.left,
    top: elementBBox.top
  }); // [SNAP]
  // Snap-targets

  /**
   * @typedef {Object} SnapTarget
   * @property {number} [x] - A coordinate it moves to. It has x or y or both.
   * @property {number} [y]
   * @property {number} [gravityXStart] - Gravity zone. It has *Start or *End or both, and *X* or *Y* or both.
   * @property {number} [gravityXEnd]
   * @property {number} [gravityYStart]
   * @property {number} [gravityYEnd]
   */

  if (props.parsedSnapTargets) {
    var elementSizeXY = {
      x: elementBBox.width,
      y: elementBBox.height
    },
        minXY = {
      x: props.minLeft,
      y: props.minTop
    },
        maxXY = {
      x: props.maxLeft,
      y: props.maxTop
    },
        prop2Axis = {
      left: 'x',
      right: 'x',
      x: 'x',
      width: 'x',
      xStart: 'x',
      xEnd: 'x',
      xStep: 'x',
      top: 'y',
      bottom: 'y',
      y: 'y',
      height: 'y',
      yStart: 'y',
      yEnd: 'y',
      yStep: 'y'
    },
        snapTargets = props.parsedSnapTargets.reduce(function (snapTargets, parsedSnapTarget) {
      var baseRect = parsedSnapTarget.base === 'containment' ? containmentBBox : docBBox,
          baseOriginXY = {
        x: baseRect.left,
        y: baseRect.top
      },
          baseSizeXY = {
        x: baseRect.width,
        y: baseRect.height
      };
      /**
       * Basically, shallow copy from parsedSnapTarget, and it can have resolved values.
       * @typedef {{x: (number|PPValue), y, xStart, xEnd, xStep, yStart, yEnd, yStep}} TargetXY
       * @property {string[]} [corners] - Applied value.
       * @property {string[]} [sides]
       * @property {boolean} center
       * @property {number} [xGravity] - Override parsedSnapTarget.gravity.
       * @property {number} [yGravity]
       */
      // Add single Point or Line (i.e. targetXY has no *Step)

      function addSnapTarget(targetXY) {
        if (targetXY.center == null) {
          targetXY.center = parsedSnapTarget.center;
        }

        if (targetXY.xGravity == null) {
          targetXY.xGravity = parsedSnapTarget.gravity;
        }

        if (targetXY.yGravity == null) {
          targetXY.yGravity = parsedSnapTarget.gravity;
        }

        if (targetXY.x != null && targetXY.y != null) {
          // Point
          targetXY.x = resolvePPValue(targetXY.x, baseOriginXY.x, baseSizeXY.x);
          targetXY.y = resolvePPValue(targetXY.y, baseOriginXY.y, baseSizeXY.y);

          if (targetXY.center) {
            targetXY.x -= elementSizeXY.x / 2;
            targetXY.y -= elementSizeXY.y / 2;
            targetXY.corners = ['tl'];
          }

          (targetXY.corners || parsedSnapTarget.corners).forEach(function (corner) {
            var x = targetXY.x - (corner === 'tr' || corner === 'br' ? elementSizeXY.x : 0),
                y = targetXY.y - (corner === 'bl' || corner === 'br' ? elementSizeXY.y : 0);

            if (x >= minXY.x && x <= maxXY.x && y >= minXY.y && y <= maxXY.y) {
              var snapTarget = {
                x: x,
                y: y
              },
                  gravityXStart = x - targetXY.xGravity,
                  gravityXEnd = x + targetXY.xGravity,
                  gravityYStart = y - targetXY.yGravity,
                  gravityYEnd = y + targetXY.yGravity;

              if (gravityXStart > minXY.x) {
                snapTarget.gravityXStart = gravityXStart;
              }

              if (gravityXEnd < maxXY.x) {
                snapTarget.gravityXEnd = gravityXEnd;
              }

              if (gravityYStart > minXY.y) {
                snapTarget.gravityYStart = gravityYStart;
              }

              if (gravityYEnd < maxXY.y) {
                snapTarget.gravityYEnd = gravityYEnd;
              }

              snapTargets.push(snapTarget);
            }
          });
        } else {
          // Line
          var specAxis = targetXY.x != null ? 'x' : 'y',
              rangeAxis = specAxis === 'x' ? 'y' : 'x',
              startProp = "".concat(rangeAxis, "Start"),
              endProp = "".concat(rangeAxis, "End"),
              gravityProp = "".concat(specAxis, "Gravity"),
              specAxisL = specAxis.toUpperCase(),
              rangeAxisL = rangeAxis.toUpperCase(),
              gravitySpecStartProp = "gravity".concat(specAxisL, "Start"),
              gravitySpecEndProp = "gravity".concat(specAxisL, "End"),
              gravityRangeStartProp = "gravity".concat(rangeAxisL, "Start"),
              gravityRangeEndProp = "gravity".concat(rangeAxisL, "End");
          targetXY[specAxis] = resolvePPValue(targetXY[specAxis], baseOriginXY[specAxis], baseSizeXY[specAxis]);
          targetXY[startProp] = resolvePPValue(targetXY[startProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]);
          targetXY[endProp] = resolvePPValue(targetXY[endProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]) - elementSizeXY[rangeAxis]; // Reduce the end of the line.

          if (targetXY[startProp] > targetXY[endProp] || // Smaller than element size.
          targetXY[startProp] > maxXY[rangeAxis] || targetXY[endProp] < minXY[rangeAxis]) {
            return;
          }

          if (targetXY.center) {
            targetXY[specAxis] -= elementSizeXY[specAxis] / 2;
            targetXY.sides = ['start'];
          }

          (targetXY.sides || parsedSnapTarget.sides).forEach(function (side) {
            var xy = targetXY[specAxis] - (side === 'end' ? elementSizeXY[specAxis] : 0);

            if (xy >= minXY[specAxis] && xy <= maxXY[specAxis]) {
              var snapTarget = {},
                  gravitySpecStart = xy - targetXY[gravityProp],
                  gravitySpecEnd = xy + targetXY[gravityProp];
              snapTarget[specAxis] = xy;

              if (gravitySpecStart > minXY[specAxis]) {
                snapTarget[gravitySpecStartProp] = gravitySpecStart;
              }

              if (gravitySpecEnd < maxXY[specAxis]) {
                snapTarget[gravitySpecEndProp] = gravitySpecEnd;
              }

              if (targetXY[startProp] > minXY[rangeAxis]) {
                snapTarget[gravityRangeStartProp] = targetXY[startProp];
              }

              if (targetXY[endProp] < maxXY[rangeAxis]) {
                snapTarget[gravityRangeEndProp] = targetXY[endProp];
              }

              snapTargets.push(snapTarget);
            }
          });
        }
      }

      var bBox;

      if ((bBox = parsedSnapTarget.element ? getBBox(parsedSnapTarget.element) : null) || // Element
      parsedSnapTarget.ppBBox) {
        if (parsedSnapTarget.ppBBox) {
          bBox = resolvePPBBox(parsedSnapTarget.ppBBox, baseRect);
        } // BBox


        if (bBox) {
          // Drop invalid BBox.
          // Expand into 4 lines.
          parsedSnapTarget.edges.forEach(function (edge) {
            var lengthenX = parsedSnapTarget.gravity,
                lengthenY = parsedSnapTarget.gravity;

            if (edge === 'outside') {
              // Snap it when a part of the element is part of the range.
              lengthenX += elementBBox.width;
              lengthenY += elementBBox.height;
            }

            var xStart = bBox.left - lengthenX,
                xEnd = bBox.right + lengthenX,
                yStart = bBox.top - lengthenY,
                yEnd = bBox.bottom + lengthenY;
            var side = edge === 'inside' ? 'start' : 'end';
            addSnapTarget({
              xStart: xStart,
              xEnd: xEnd,
              y: bBox.top,
              sides: [side],
              center: false
            }); // Top

            addSnapTarget({
              x: bBox.left,
              yStart: yStart,
              yEnd: yEnd,
              sides: [side],
              center: false
            }); // Left

            side = edge === 'inside' ? 'end' : 'start';
            addSnapTarget({
              xStart: xStart,
              xEnd: xEnd,
              y: bBox.bottom,
              sides: [side],
              center: false
            }); // Bottom

            addSnapTarget({
              x: bBox.right,
              yStart: yStart,
              yEnd: yEnd,
              sides: [side],
              center: false
            }); // Right
          });
        }
      } else {
        var expanded = [['x', 'y', 'xStart', 'xEnd', 'xStep', 'yStart', 'yEnd', 'yStep'].reduce(function (targetXY, prop) {
          if (parsedSnapTarget[prop]) {
            targetXY[prop] = resolvePPValue(parsedSnapTarget[prop], prop === 'xStep' || prop === 'yStep' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);
          }

          return targetXY;
        }, {})];
        ['x', 'y'].forEach(function (axis) {
          var startProp = "".concat(axis, "Start"),
              endProp = "".concat(axis, "End"),
              stepProp = "".concat(axis, "Step"),
              gravityProp = "".concat(axis, "Gravity");
          expanded = expanded.reduce(function (expanded, targetXY) {
            var start = targetXY[startProp],
                end = targetXY[endProp],
                step = targetXY[stepProp];

            if (start != null && end != null && start >= end) {
              return expanded;
            } // start >= end


            if (step != null) {
              if (step < 2) {
                return expanded;
              } // step >= 2px -> Expand by step


              var gravity = step / 2; // max

              gravity = parsedSnapTarget.gravity > gravity ? gravity : null;

              for (var curValue = start; curValue <= end; curValue += step) {
                var expandedXY = Object.keys(targetXY).reduce(function (expandedXY, prop) {
                  if (prop !== startProp && prop !== endProp && prop !== stepProp) {
                    expandedXY[prop] = targetXY[prop];
                  }

                  return expandedXY;
                }, {});
                expandedXY[axis] = curValue;
                expandedXY[gravityProp] = gravity;
                expanded.push(expandedXY);
              }
            } else {
              expanded.push(targetXY);
            }

            return expanded;
          }, []);
        });
        expanded.forEach(function (targetXY) {
          addSnapTarget(targetXY);
        });
      }

      return snapTargets;
    }, []);
    props.snapTargets = snapTargets.length ? snapTargets : null;
  } // [/SNAP]
  // [AUTO-SCROLL]


  var autoScroll = {},
      autoScrollOptions = props.options.autoScroll;

  if (autoScrollOptions) {
    autoScroll.isWindow = autoScrollOptions.target === window;
    autoScroll.target = autoScrollOptions.target;
    var dontScroll = eventType === 'scroll',
        // Avoid duplicated calling
    scrollable = getScrollable(autoScrollOptions.target, autoScroll.isWindow, dontScroll),
        scrollableBBox = validBBox({
      left: scrollable.clientX,
      top: scrollable.clientY,
      width: scrollable.clientWidth,
      height: scrollable.clientHeight
    });

    if (!dontScroll) {
      autoScroll.scrollWidth = scrollable.scrollWidth;
      autoScroll.scrollHeight = scrollable.scrollHeight;
    } else if (props.autoScroll) {
      autoScroll.scrollWidth = props.autoScroll.scrollWidth;
      autoScroll.scrollHeight = props.autoScroll.scrollHeight;
    }

    [['X', 'Width', 'left', 'right'], ['Y', 'Height', 'top', 'bottom']].forEach(function (axis) {
      var xy = axis[0],
          wh = axis[1],
          back = axis[2],
          forward = axis[3],
          maxAbs = (autoScroll["scroll".concat(wh)] || 0) - scrollable["client".concat(wh)],
          min = autoScrollOptions["min".concat(xy)] || 0;
      var max = isFinite(autoScrollOptions["max".concat(xy)]) ? autoScrollOptions["max".concat(xy)] : maxAbs;

      if (min < max && min < maxAbs) {
        if (max > maxAbs) {
          max = maxAbs;
        }

        var lines = [],
            elementSize = elementBBox[wh.toLowerCase()];

        for (var i = autoScrollOptions.sensitivity.length - 1; i >= 0; i--) {
          // near -> far
          var sensitivity = autoScrollOptions.sensitivity[i],
              speed = autoScrollOptions.speed[i]; // back

          lines.push({
            dir: -1,
            speed: speed,
            position: scrollableBBox[back] + sensitivity
          }); // forward

          lines.push({
            dir: 1,
            speed: speed,
            position: scrollableBBox[forward] - sensitivity - elementSize
          });
        }

        autoScroll[xy.toLowerCase()] = {
          min: min,
          max: max,
          lines: lines
        };
      }
    });
  }

  props.autoScroll = autoScroll.x || autoScroll.y ? autoScroll : null; // [/AUTO-SCROLL]
}
/**
 * @param {props} props - `props` of instance.
 * @returns {void}
 */


function dragEnd(props) {
  scrollFrame.stop(); // [AUTO-SCROLL/]

  setDraggableCursor(props.options.handle, props.orgCursor);
  body.style.cursor = cssOrgValueBodyCursor;

  if (props.options.zIndex !== false) {
    props.elementStyle.zIndex = props.orgZIndex;
  }

  if (cssPropUserSelect) {
    body.style[cssPropUserSelect] = cssOrgValueBodyUserSelect;
  }

  var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element);

  if (movingClass) {
    classList.remove(movingClass);
  }

  if (draggingClass) {
    classList.remove(draggingClass);
  }

  activeProps = null;
  pointerEvent.cancel(); // Reset pointer (activeProps must be null because this calls endHandler)

  if (props.onDragEnd) {
    props.onDragEnd({
      left: props.elementBBox.left,
      top: props.elementBBox.top
    });
  }
}
/**
 * @param {props} props - `props` of instance.
 * @param {{clientX, clientY}} pointerXY - This might be MouseEvent, Touch of TouchEvent or Object.
 * @returns {boolean} `true` if it started.
 */


function dragStart(props, pointerXY) {
  if (props.disabled) {
    return false;
  }

  if (props.onDragStart && props.onDragStart(pointerXY) === false) {
    return false;
  }

  if (activeProps) {
    dragEnd(activeProps);
  } // activeItem is normally null by pointerEvent.end.


  setDraggingCursor(props.options.handle);
  body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`
  window.getComputedStyle(props.options.handle, '').cursor;

  if (props.options.zIndex !== false) {
    props.elementStyle.zIndex = props.options.zIndex;
  }

  if (cssPropUserSelect) {
    body.style[cssPropUserSelect] = 'none';
  }

  if (draggingClass) {
    (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).add(draggingClass);
  }

  activeProps = props;
  hasMoved = false;
  pointerOffset.left = props.elementBBox.left - (pointerXY.clientX + window.pageXOffset);
  pointerOffset.top = props.elementBBox.top - (pointerXY.clientY + window.pageYOffset);
  return true;
}
/**
 * @param {props} props - `props` of instance.
 * @param {Object} newOptions - New options.
 * @returns {void}
 */


function _setOptions(props, newOptions) {
  var options = props.options;
  var needsInitBBox; // containment

  if (newOptions.containment) {
    var bBox;

    if (isElement(newOptions.containment)) {
      // Specific element
      if (newOptions.containment !== options.containment) {
        options.containment = newOptions.containment;
        props.containmentIsBBox = false;
        needsInitBBox = true;
      }
    } else if ((bBox = validPPBBox(copyTree(newOptions.containment))) && // bBox
    hasChanged(bBox, options.containment)) {
      options.containment = bBox;
      props.containmentIsBBox = true;
      needsInitBBox = true;
    }
  } // [SNAP]

  /**
   * @typedef {Object} SnapOptions
   * @property {SnapTargetOptions[]} targets
   * @property {number} [gravity]
   * @property {string} [corner]
   * @property {string} [side]
   * @property {boolean} [center]
   * @property {string} [edge]
   * @property {string} [base]
   */

  /**
   * @typedef {Object} SnapTargetOptions
   * @property {(number|string)} [x] - pixels | '<n>%' | {start, end} | {step, start, end}
   * @property {(number|string)} [y]
   * @property {(Element|Object)} [boundingBox] - Object has properties that are string or number from PPBBox.
   * @property {number} [gravity]
   * @property {string} [corner]
   * @property {string} [side]
   * @property {boolean} [center]
   * @property {string} [edge]
   * @property {string} [base]
   */

  /**
   * @typedef {Object} ParsedSnapTarget
   * @property {PPValue} [x] - (input: pixels | '<n>%')
   * @property {PPValue} [y]
   * @property {PPValue} [xStart] - (input: {start, end} | {step, start, end})
   * @property {PPValue} [xEnd]
   * @property {PPValue} [xStep] - (input: {step, start, end})
   * @property {PPValue} [yStart]
   * @property {PPValue} [yEnd]
   * @property {PPValue} [yStep]
   * @property {Element} [element]
   * @property {PPBBox} [ppBBox]
   * @property {number} gravity
   * @property {string[]} corners
   * @property {string[]} sides
   * @property {boolean} center
   * @property {string[]} edges
   * @property {string} base
   */
  // Normalize `gravity`, `corner`, `side`, `center`, `edge`, `base`


  function commonSnapOptions(options, newOptions) {
    function cleanString(inString) {
      return typeof inString === 'string' ? inString.replace(/[, ]+/g, ' ').trim().toLowerCase() : null;
    } // gravity


    if (isFinite(newOptions.gravity) && newOptions.gravity > 0) {
      options.gravity = newOptions.gravity;
    } // corner


    var corner = cleanString(newOptions.corner);

    if (corner) {
      if (corner !== 'all') {
        var added = {},
            corners = corner.split(/\s/).reduce(function (corners, corner) {
          corner = corner.trim().replace(/^(.).*?-(.).*$/, '$1$2');

          if ((corner = corner === 'tl' || corner === 'lt' ? 'tl' : corner === 'tr' || corner === 'rt' ? 'tr' : corner === 'bl' || corner === 'lb' ? 'bl' : corner === 'br' || corner === 'rb' ? 'br' : null) && !added[corner]) {
            corners.push(corner);
            added[corner] = true;
          }

          return corners;
        }, []),
            cornersLen = corners.length;
        corner = !cornersLen ? null : cornersLen === 4 ? 'all' : corners.join(' ');
      }

      if (corner) {
        options.corner = corner;
      }
    } // side


    var side = cleanString(newOptions.side);

    if (side) {
      if (side === 'start' || side === 'end' || side === 'both') {
        options.side = side;
      } else if (side === 'start end' || side === 'end start') {
        options.side = 'both';
      }
    } // center


    if (typeof newOptions.center === 'boolean') {
      options.center = newOptions.center;
    } // edge


    var edge = cleanString(newOptions.edge);

    if (edge) {
      if (edge === 'inside' || edge === 'outside' || edge === 'both') {
        options.edge = edge;
      } else if (edge === 'inside outside' || edge === 'outside inside') {
        options.edge = 'both';
      }
    } // base


    var base = typeof newOptions.base === 'string' ? newOptions.base.trim().toLowerCase() : null;

    if (base && (base === 'containment' || base === 'document')) {
      options.base = base;
    }

    return options;
  } // snap


  if (newOptions.snap != null) {
    var newSnapOptions = isObject(newOptions.snap) && newOptions.snap.targets != null ? newOptions.snap : {
      targets: newOptions.snap
    },
        snapTargetsOptions = [],
        snapOptions = commonSnapOptions({
      targets: snapTargetsOptions
    }, newSnapOptions); // Set default options into top level.

    if (!snapOptions.gravity) {
      snapOptions.gravity = SNAP_GRAVITY;
    }

    if (!snapOptions.corner) {
      snapOptions.corner = SNAP_CORNER;
    }

    if (!snapOptions.side) {
      snapOptions.side = SNAP_SIDE;
    }

    if (typeof snapOptions.center !== 'boolean') {
      snapOptions.center = false;
    }

    if (!snapOptions.edge) {
      snapOptions.edge = SNAP_EDGE;
    }

    if (!snapOptions.base) {
      snapOptions.base = SNAP_BASE;
    }

    var parsedSnapTargets = (Array.isArray(newSnapOptions.targets) ? newSnapOptions.targets : [newSnapOptions.targets]).reduce(function (parsedSnapTargets, target) {
      if (target == null) {
        return parsedSnapTargets;
      }

      var isElementPre = isElement(target),
          // Pre-check direct value
      ppBBoxPre = validPPBBox(copyTree(target)),
          // Pre-check direct value
      newSnapTargetOptions = isElementPre || ppBBoxPre ? {
        boundingBox: target
      } : // Direct Element | PPBBox
      isObject(target) && target.start == null && target.end == null && target.step == null ? target : // SnapTargetOptions
      {
        x: target,
        y: target
      },
          // Others, it might be {step, start, end}
      expandedParsedSnapTargets = [],
          snapTargetOptions = {},
          newOptionsBBox = newSnapTargetOptions.boundingBox;
      var ppBBox;

      if (isElementPre || isElement(newOptionsBBox)) {
        // Element
        expandedParsedSnapTargets.push({
          element: newOptionsBBox
        });
        snapTargetOptions.boundingBox = newOptionsBBox;
      } else if (ppBBox = ppBBoxPre || validPPBBox(copyTree(newOptionsBBox))) {
        // Object -> PPBBox
        expandedParsedSnapTargets.push({
          ppBBox: ppBBox
        });
        snapTargetOptions.boundingBox = ppBBox2OptionObject(ppBBox);
      } else {
        var invalid; // `true` if valid PPValue was given but the contained value is invalid.

        var parsedXY = ['x', 'y'].reduce(function (parsedXY, axis) {
          var newOptionsXY = newSnapTargetOptions[axis];
          var ppValue;

          if (ppValue = validPPValue(newOptionsXY)) {
            // pixels | '<n>%'
            parsedXY[axis] = ppValue;
            snapTargetOptions[axis] = ppValue2OptionValue(ppValue);
          } else {
            // {start, end} | {step, start, end}
            var start, end, step;

            if (isObject(newOptionsXY)) {
              start = validPPValue(newOptionsXY.start);
              end = validPPValue(newOptionsXY.end);
              step = validPPValue(newOptionsXY.step);

              if (start && end && start.isRatio === end.isRatio && start.value >= end.value) {
                // start >= end
                invalid = true;
              }
            }

            start = parsedXY["".concat(axis, "Start")] = start || {
              value: 0,
              isRatio: false
            };
            end = parsedXY["".concat(axis, "End")] = end || {
              value: 1,
              isRatio: true
            };
            snapTargetOptions[axis] = {
              start: ppValue2OptionValue(start),
              end: ppValue2OptionValue(end)
            };

            if (step) {
              if (step.isRatio ? step.value > 0 : step.value >= 2) {
                // step > 0% || step >= 2px
                parsedXY["".concat(axis, "Step")] = step;
                snapTargetOptions[axis].step = ppValue2OptionValue(step);
              } else {
                invalid = true;
              }
            }
          }

          return parsedXY;
        }, {});

        if (invalid) {
          return parsedSnapTargets;
        }

        if (parsedXY.xStart && !parsedXY.xStep && parsedXY.yStart && !parsedXY.yStep) {
          // Expand into 4 lines. This is not BBox, and `edge` is ignored.
          expandedParsedSnapTargets.push({
            xStart: parsedXY.xStart,
            xEnd: parsedXY.xEnd,
            y: parsedXY.yStart
          }, // Top
          {
            xStart: parsedXY.xStart,
            xEnd: parsedXY.xEnd,
            y: parsedXY.yEnd
          }, // Bottom
          {
            x: parsedXY.xStart,
            yStart: parsedXY.yStart,
            yEnd: parsedXY.yEnd
          }, // Left
          {
            x: parsedXY.xEnd,
            yStart: parsedXY.yStart,
            yEnd: parsedXY.yEnd
          } // Right
          );
        } else {
          expandedParsedSnapTargets.push(parsedXY);
        }
      }

      if (expandedParsedSnapTargets.length) {
        snapTargetsOptions.push(commonSnapOptions(snapTargetOptions, newSnapTargetOptions)); // Copy common SnapOptions

        var corner = snapTargetOptions.corner || snapOptions.corner,
            side = snapTargetOptions.side || snapOptions.side,
            edge = snapTargetOptions.edge || snapOptions.edge,
            commonOptions = {
          gravity: snapTargetOptions.gravity || snapOptions.gravity,
          base: snapTargetOptions.base || snapOptions.base,
          center: typeof snapTargetOptions.center === 'boolean' ? snapTargetOptions.center : snapOptions.center,
          corners: corner === 'all' ? SNAP_ALL_CORNERS : corner.split(' '),
          // Split
          sides: side === 'both' ? SNAP_ALL_SIDES : [side],
          // Split
          edges: edge === 'both' ? SNAP_ALL_EDGES : [edge] // Split

        };
        expandedParsedSnapTargets.forEach(function (parsedSnapTarget) {
          // Set common SnapOptions
          ['gravity', 'corners', 'sides', 'center', 'edges', 'base'].forEach(function (option) {
            parsedSnapTarget[option] = commonOptions[option];
          });
          parsedSnapTargets.push(parsedSnapTarget);
        });
      }

      return parsedSnapTargets;
    }, []);

    if (parsedSnapTargets.length) {
      options.snap = snapOptions; // Update always

      if (hasChanged(parsedSnapTargets, props.parsedSnapTargets)) {
        props.parsedSnapTargets = parsedSnapTargets;
        needsInitBBox = true;
      }
    }
  } else if (newOptions.hasOwnProperty('snap') && props.parsedSnapTargets) {
    options.snap = props.parsedSnapTargets = props.snapTargets = void 0;
  } // [/SNAP]
  // [AUTO-SCROLL]

  /**
   * @typedef {Object} AutoScrollOptions
   * @property {(Element|Window)} target
   * @property {Array} speed
   * @property {Array} sensitivity
   * @property {number} [minX]
   * @property {number} [maxX]
   * @property {number} [minY]
   * @property {number} [maxY]
   */
  // autoScroll


  if (newOptions.autoScroll) {
    var newAutoScrollOptions = isObject(newOptions.autoScroll) ? newOptions.autoScroll : {
      target: newOptions.autoScroll === true ? window : newOptions.autoScroll
    },
        autoScrollOptions = {}; // target

    autoScrollOptions.target = isElement(newAutoScrollOptions.target) ? newAutoScrollOptions.target : window; // speed

    autoScrollOptions.speed = [];
    (Array.isArray(newAutoScrollOptions.speed) ? newAutoScrollOptions.speed : [newAutoScrollOptions.speed]).every(function (speed, i) {
      if (i <= 2 && isFinite(speed)) {
        autoScrollOptions.speed[i] = speed;
        return true;
      }

      return false;
    });

    if (!autoScrollOptions.speed.length) {
      autoScrollOptions.speed = AUTOSCROLL_SPEED;
    } // sensitivity


    var newSensitivity = Array.isArray(newAutoScrollOptions.sensitivity) ? newAutoScrollOptions.sensitivity : [newAutoScrollOptions.sensitivity];
    autoScrollOptions.sensitivity = autoScrollOptions.speed.map(function (v, i) {
      return isFinite(newSensitivity[i]) ? newSensitivity[i] : AUTOSCROLL_SENSITIVITY[i];
    }); // min*, max*

    ['X', 'Y'].forEach(function (option) {
      var optionMin = "min".concat(option),
          optionMax = "max".concat(option);

      if (isFinite(newAutoScrollOptions[optionMin]) && newAutoScrollOptions[optionMin] >= 0) {
        autoScrollOptions[optionMin] = newAutoScrollOptions[optionMin];
      }

      if (isFinite(newAutoScrollOptions[optionMax]) && newAutoScrollOptions[optionMax] >= 0 && (!autoScrollOptions[optionMin] || newAutoScrollOptions[optionMax] >= autoScrollOptions[optionMin])) {
        autoScrollOptions[optionMax] = newAutoScrollOptions[optionMax];
      }
    });

    if (hasChanged(autoScrollOptions, options.autoScroll)) {
      options.autoScroll = autoScrollOptions;
      needsInitBBox = true;
    }
  } else if (newOptions.hasOwnProperty('autoScroll')) {
    if (options.autoScroll) {
      needsInitBBox = true;
    }

    options.autoScroll = void 0;
  } // [/AUTO-SCROLL]


  if (needsInitBBox) {
    initBBox(props);
  } // handle


  if (isElement(newOptions.handle) && newOptions.handle !== options.handle) {
    if (options.handle) {
      // Restore
      options.handle.style.cursor = props.orgCursor;

      if (cssPropUserSelect) {
        options.handle.style[cssPropUserSelect] = props.orgUserSelect;
      }

      pointerEvent.removeStartHandler(options.handle, props.pointerEventHandlerId);
    }

    var handle = options.handle = newOptions.handle;
    props.orgCursor = handle.style.cursor;
    setDraggableCursor(handle, props.orgCursor);

    if (cssPropUserSelect) {
      props.orgUserSelect = handle.style[cssPropUserSelect];
      handle.style[cssPropUserSelect] = 'none';
    }

    pointerEvent.addStartHandler(handle, props.pointerEventHandlerId);
  } // zIndex


  if (isFinite(newOptions.zIndex) || newOptions.zIndex === false) {
    options.zIndex = newOptions.zIndex;

    if (props === activeProps) {
      props.elementStyle.zIndex = options.zIndex === false ? props.orgZIndex : options.zIndex;
    }
  } // left/top


  var position = {
    left: props.elementBBox.left,
    top: props.elementBBox.top
  };
  var needsMove;

  if (isFinite(newOptions.left) && newOptions.left !== position.left) {
    position.left = newOptions.left;
    needsMove = true;
  }

  if (isFinite(newOptions.top) && newOptions.top !== position.top) {
    position.top = newOptions.top;
    needsMove = true;
  }

  if (needsMove) {
    move(props, position);
  } // Event listeners


  ['onDrag', 'onMove', 'onDragStart', 'onMoveStart', 'onDragEnd'].forEach(function (option) {
    if (typeof newOptions[option] === 'function') {
      options[option] = newOptions[option];
      props[option] = options[option].bind(props.ins);
    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {
      options[option] = props[option] = void 0;
    }
  });
}

var PlainDraggable = /*#__PURE__*/function () {
  /**
   * Create a `PlainDraggable` instance.
   * @param {Element} element - Target element.
   * @param {Object} [options] - Options.
   */
  function PlainDraggable(element, options) {
    _classCallCheck(this, PlainDraggable);

    var props = {
      ins: this,
      options: {
        // Initial options (not default)
        zIndex: ZINDEX // Initial state.

      },
      disabled: false
    };
    Object.defineProperty(this, '_id', {
      value: ++insId
    });
    props._id = this._id;
    insProps[this._id] = props;

    if (!isElement(element) || element === body) {
      throw new Error('This element is not accepted.');
    }

    if (!options) {
      options = {};
    } else if (!isObject(options)) {
      throw new Error('Invalid options.');
    }

    var gpuTrigger = true; // [SVG]

    var ownerSvg; // SVGElement which is not root view

    if (element instanceof SVGElement && (ownerSvg = element.ownerSVGElement)) {
      // It means `instanceof SVGLocatable` (many browsers don't have SVGLocatable)
      if (!element.getBBox) {
        throw new Error('This element is not accepted. (SVGLocatable)');
      } // Trident and Edge bug, SVGSVGElement doesn't have SVGAnimatedTransformList?


      if (!element.transform) {
        throw new Error('This element is not accepted. (SVGAnimatedTransformList)');
      } // Trident bug, returned value must be used (That is not given value).


      props.svgTransform = element.transform.baseVal.appendItem(ownerSvg.createSVGTransform());
      props.svgPoint = ownerSvg.createSVGPoint(); // Gecko bug, view.getScreenCTM returns CTM with root view.

      var svgView = element.nearestViewportElement;
      props.svgCtmElement = !IS_GECKO ? svgView : svgView.appendChild(document.createElementNS(ownerSvg.namespaceURI, 'rect'));
      gpuTrigger = false;
      props.initElm = initSvg;
      props.moveElm = moveSvg;
    } else {
      // [/SVG]

      /* eslint-disable indent */

      /* [SVG/] */
      var cssPropWillChange = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('willChange');

      if (cssPropWillChange) {
        gpuTrigger = false;
      }

      if (!options.leftTop && cssPropTransform) {
        // translate
        if (cssPropWillChange) {
          element.style[cssPropWillChange] = 'transform';
        }

        props.initElm = initTranslate;
        props.moveElm = moveTranslate;
      } else {
        // left and top
        // [LEFTTOP]
        if (cssPropWillChange) {
          element.style[cssPropWillChange] = 'left, top';
        }

        props.initElm = initLeftTop;
        props.moveElm = moveLeftTop; // [/LEFTTOP]

        /* [LEFTTOP/]
        throw new Error('`transform` is not supported.');
        [LEFTTOP/] */
      }
      /* eslint-enable indent */

      /* [SVG/] */

    } // [SVG/]


    props.element = initAnim(element, gpuTrigger);
    props.elementStyle = element.style;
    props.orgZIndex = props.elementStyle.zIndex;

    if (draggableClass) {
      (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(element).add(draggableClass);
    }

    props.pointerEventHandlerId = pointerEvent.regStartHandler(function (pointerXY) {
      return dragStart(props, pointerXY);
    }); // Default options

    if (!options.containment) {
      var parent;
      options.containment = (parent = element.parentNode) && isElement(parent) ? parent : body;
    }

    if (!options.handle) {
      options.handle = element;
    }

    _setOptions(props, options);
  }

  _createClass(PlainDraggable, [{
    key: "remove",
    value: function remove() {
      var props = insProps[this._id];
      this.disabled = true; // To restore element and reset pointer

      pointerEvent.unregStartHandler(pointerEvent.removeStartHandler(props.options.handle, props.pointerEventHandlerId));
      delete insProps[this._id];
    }
    /**
     * @param {Object} options - New options.
     * @returns {PlainDraggable} Current instance itself.
     */

  }, {
    key: "setOptions",
    value: function setOptions(options) {
      if (isObject(options)) {
        _setOptions(insProps[this._id], options);
      }

      return this;
    }
  }, {
    key: "position",
    value: function position() {
      initBBox(insProps[this._id]);
      return this;
    }
  }, {
    key: "disabled",
    get: function get() {
      return insProps[this._id].disabled;
    },
    set: function set(value) {
      var props = insProps[this._id];

      if ((value = !!value) !== props.disabled) {
        props.disabled = value;

        if (props.disabled) {
          if (props === activeProps) {
            dragEnd(props);
          }

          props.options.handle.style.cursor = props.orgCursor;

          if (cssPropUserSelect) {
            props.options.handle.style[cssPropUserSelect] = props.orgUserSelect;
          }

          if (draggableClass) {
            (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).remove(draggableClass);
          }
        } else {
          setDraggableCursor(props.options.handle, props.orgCursor);

          if (cssPropUserSelect) {
            props.options.handle.style[cssPropUserSelect] = 'none';
          }

          if (draggableClass) {
            (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).add(draggableClass);
          }
        }
      }
    }
  }, {
    key: "element",
    get: function get() {
      return insProps[this._id].element;
    }
  }, {
    key: "rect",
    get: function get() {
      return copyTree(insProps[this._id].elementBBox);
    }
  }, {
    key: "left",
    get: function get() {
      return insProps[this._id].elementBBox.left;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        left: value
      });
    }
  }, {
    key: "top",
    get: function get() {
      return insProps[this._id].elementBBox.top;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        top: value
      });
    }
  }, {
    key: "containment",
    get: function get() {
      var props = insProps[this._id];
      return props.containmentIsBBox ? ppBBox2OptionObject(props.options.containment) : props.options.containment;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        containment: value
      });
    } // [SNAP]

  }, {
    key: "snap",
    get: function get() {
      return copyTree(insProps[this._id].options.snap);
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        snap: value
      });
    } // [/SNAP]
    // [AUTO-SCROLL]

  }, {
    key: "autoScroll",
    get: function get() {
      return copyTree(insProps[this._id].options.autoScroll);
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        autoScroll: value
      });
    } // [/AUTO-SCROLL]

  }, {
    key: "handle",
    get: function get() {
      return insProps[this._id].options.handle;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        handle: value
      });
    }
  }, {
    key: "zIndex",
    get: function get() {
      return insProps[this._id].options.zIndex;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        zIndex: value
      });
    }
  }, {
    key: "onDrag",
    get: function get() {
      return insProps[this._id].options.onDrag;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDrag: value
      });
    }
  }, {
    key: "onMove",
    get: function get() {
      return insProps[this._id].options.onMove;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onMove: value
      });
    }
  }, {
    key: "onDragStart",
    get: function get() {
      return insProps[this._id].options.onDragStart;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDragStart: value
      });
    }
  }, {
    key: "onMoveStart",
    get: function get() {
      return insProps[this._id].options.onMoveStart;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onMoveStart: value
      });
    }
  }, {
    key: "onDragEnd",
    get: function get() {
      return insProps[this._id].options.onDragEnd;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDragEnd: value
      });
    }
  }], [{
    key: "draggableCursor",
    get: function get() {
      return cssWantedValueDraggableCursor;
    },
    set: function set(value) {
      if (cssWantedValueDraggableCursor !== value) {
        cssWantedValueDraggableCursor = value;
        cssValueDraggableCursor = null; // Reset

        Object.keys(insProps).forEach(function (id) {
          var props = insProps[id];

          if (props.disabled || props === activeProps && cssValueDraggingCursor !== false) {
            return;
          }

          setDraggableCursor(props.options.handle, props.orgCursor);

          if (props === activeProps) {
            // Since cssValueDraggingCursor is `false`, copy cursor again.
            body.style.cursor = cssOrgValueBodyCursor;
            body.style.cursor = window.getComputedStyle(props.options.handle, '').cursor;
          }
        });
      }
    }
  }, {
    key: "draggingCursor",
    get: function get() {
      return cssWantedValueDraggingCursor;
    },
    set: function set(value) {
      if (cssWantedValueDraggingCursor !== value) {
        cssWantedValueDraggingCursor = value;
        cssValueDraggingCursor = null; // Reset

        if (activeProps) {
          setDraggingCursor(activeProps.options.handle);

          if (cssValueDraggingCursor === false) {
            setDraggableCursor(activeProps.options.handle, activeProps.orgCursor); // draggableCursor

            body.style.cursor = cssOrgValueBodyCursor;
          }

          body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`
          window.getComputedStyle(activeProps.options.handle, '').cursor;
        }
      }
    }
  }, {
    key: "draggableClass",
    get: function get() {
      return draggableClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== draggableClass) {
        Object.keys(insProps).forEach(function (id) {
          var props = insProps[id];

          if (!props.disabled) {
            var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element);

            if (draggableClass) {
              classList.remove(draggableClass);
            }

            if (value) {
              classList.add(value);
            }
          }
        });
        draggableClass = value;
      }
    }
  }, {
    key: "draggingClass",
    get: function get() {
      return draggingClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== draggingClass) {
        if (activeProps) {
          var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element);

          if (draggingClass) {
            classList.remove(draggingClass);
          }

          if (value) {
            classList.add(value);
          }
        }

        draggingClass = value;
      }
    }
  }, {
    key: "movingClass",
    get: function get() {
      return movingClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== movingClass) {
        if (activeProps && hasMoved) {
          var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element);

          if (movingClass) {
            classList.remove(movingClass);
          }

          if (value) {
            classList.add(value);
          }
        }

        movingClass = value;
      }
    }
  }]);

  return PlainDraggable;
}();

pointerEvent.addMoveHandler(document, function (pointerXY) {
  if (!activeProps) {
    return;
  }

  var position = {
    left: pointerXY.clientX + window.pageXOffset + pointerOffset.left,
    top: pointerXY.clientY + window.pageYOffset + pointerOffset.top
  };

  if (move(activeProps, position, // [SNAP]
  activeProps.snapTargets ? function (position) {
    // Snap
    var iLen = activeProps.snapTargets.length;
    var snappedX = false,
        snappedY = false,
        i;

    for (i = 0; i < iLen && (!snappedX || !snappedY); i++) {
      var snapTarget = activeProps.snapTargets[i];

      if ((snapTarget.gravityXStart == null || position.left >= snapTarget.gravityXStart) && (snapTarget.gravityXEnd == null || position.left <= snapTarget.gravityXEnd) && (snapTarget.gravityYStart == null || position.top >= snapTarget.gravityYStart) && (snapTarget.gravityYEnd == null || position.top <= snapTarget.gravityYEnd)) {
        if (!snappedX && snapTarget.x != null) {
          position.left = snapTarget.x;
          snappedX = true;
          i = -1; // Restart loop
        }

        if (!snappedY && snapTarget.y != null) {
          position.top = snapTarget.y;
          snappedY = true;
          i = -1; // Restart loop
        }
      }
    }

    position.snapped = snappedX || snappedY;
    return activeProps.onDrag ? activeProps.onDrag(position) : true;
  } : // [/SNAP]
  activeProps.onDrag)) {
    // [AUTO-SCROLL]
    var xyMoveArgs = {},
        autoScroll = activeProps.autoScroll;

    if (autoScroll) {
      var clientXY = {
        x: activeProps.elementBBox.left - window.pageXOffset,
        y: activeProps.elementBBox.top - window.pageYOffset
      };
      ['x', 'y'].forEach(function (axis) {
        if (autoScroll[axis]) {
          var min = autoScroll[axis].min,
              max = autoScroll[axis].max;
          autoScroll[axis].lines.some(function (line) {
            if (line.dir === -1 ? clientXY[axis] <= line.position : clientXY[axis] >= line.position) {
              xyMoveArgs[axis] = {
                dir: line.dir,
                speed: line.speed / 1000,
                min: min,
                max: max
              };
              return true;
            }

            return false;
          });
        }
      });
    }

    if (xyMoveArgs.x || xyMoveArgs.y) {
      scrollFrame.move(autoScroll.target, xyMoveArgs, autoScroll.isWindow ? scrollXYWindow : scrollXYElement);
      position.autoScroll = true;
    } else {
      scrollFrame.stop();
    } // [/AUTO-SCROLL]


    if (!hasMoved) {
      hasMoved = true;

      if (movingClass) {
        (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element).add(movingClass);
      }

      if (activeProps.onMoveStart) {
        activeProps.onMoveStart(position);
      }
    }

    if (activeProps.onMove) {
      activeProps.onMove(position);
    }
  }
});
{
  function endHandler() {
    if (activeProps) {
      dragEnd(activeProps);
    }
  }

  pointerEvent.addEndHandler(document, endHandler);
  pointerEvent.addCancelHandler(document, endHandler);
}
{
  function initDoc() {
    cssPropTransitionProperty = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('transitionProperty');
    cssPropTransform = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('transform');
    cssOrgValueBodyCursor = body.style.cursor;

    if (cssPropUserSelect = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('userSelect')) {
      cssOrgValueBodyUserSelect = body.style[cssPropUserSelect];
    } // Init active item when layout is changed, and init others later.


    var LAZY_INIT_DELAY = 200;
    var initDoneItems = {},
        lazyInitTimer;

    function checkInitBBox(props, eventType) {
      if (props.initElm) {
        // Easy checking for instance without errors.
        initBBox(props, eventType);
      } // eslint-disable-line brace-style

    }

    function initAll(eventType) {
      clearTimeout(lazyInitTimer);
      Object.keys(insProps).forEach(function (id) {
        if (!initDoneItems[id]) {
          checkInitBBox(insProps[id], eventType);
        }
      });
      initDoneItems = {};
    }

    var layoutChanging = false; // Gecko bug, multiple calling by `resize`.

    var layoutChange = anim_event__WEBPACK_IMPORTED_MODULE_2__["default"].add(function (event) {
      if (layoutChanging) {
        return;
      }

      layoutChanging = true;

      if (activeProps) {
        checkInitBBox(activeProps, event.type);
        pointerEvent.move();
        initDoneItems[activeProps._id] = true;
      }

      clearTimeout(lazyInitTimer);
      lazyInitTimer = setTimeout(function () {
        initAll(event.type);
      }, LAZY_INIT_DELAY);
      layoutChanging = false;
    });
    window.addEventListener('resize', layoutChange, true);
    window.addEventListener('scroll', layoutChange, true);
  }

  if (body = document.body) {
    initDoc();
  } else {
    document.addEventListener('DOMContentLoaded', function () {
      body = document.body;
      initDoc();
    }, true);
  }
}
/* [SNAP/]
PlainDraggable.limit = true;
[SNAP/] */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlainDraggable);

/***/ }),

/***/ "./src/css/index.css":
/*!***************************!*\
  !*** ./src/css/index.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/index.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/css/main.css":
/*!**************************!*\
  !*** ./src/css/main.css ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./main.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/main.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/css/mainMobile.css":
/*!********************************!*\
  !*** ./src/css/mainMobile.css ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./mainMobile.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/mainMobile.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/js/runChart.js":
/*!****************************!*\
  !*** ./src/js/runChart.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const conditions = {
    '=': '==',
    '<>': '!=',
    '>': '>',
    '>=': '>=',
    '<': '<',
    '<=': '<=',
    'AND': '&&',
    'OR': '||',
    'NOT': '!',
};
const operations = {
    '<-': (x, y) => { return y },
    '+=': (x, y) => { return x + y },
    '-=': (x, y) => { return x - y },
    '*=': (x, y) => { return x * y },
    '/=': (x, y) => { return x / y },
    '%=': (x, y) => { return x % y },
    '**=': (x, y) => { return x ** y },
    '<<=': (x, y) => { return x << y },
    '>>=': (x, y) => { return x >> y },
    '>>>=': (x, y) => { return x >>> y },
    '&=': (x, y) => { return x & y },
    '^=': (x, y) => { return x ^ y },
    '|=': (x, y) => { return x | y },
};
function DIV(x, y) {
    return Math.floor(x / y)
}
function MOD(x, y) {
    return x % y
}
function INT(x) {
    return Math.floor(x)
}
const allowedFunctions = [
    'Math.abs', 'Math.acos', 'Math.asin', 'Math.atan', 'Math.atan2', 'Math.ceil',
    'Math.cos', 'Math.exp', 'Math.floor', 'Math.log', 'Math.max', 'Math.min',
    'Math.pow', 'Math.random', 'Math.round', 'Math.sin', 'Math.sqrt', 'Math.tan',
    'DIV', 'MOD', 'INT',
];
const timeout = 1000;
// Globals

const operationPattern = Object.keys(operations).map(escapeRegExp).join('|');
const regexPattern = new RegExp(`([^=<>]+)\\s*(${operationPattern})\\s*([^=<>]+)`);

function safeEval(expression) {
    const allowedFunctionNames = allowedFunctions.map(func => func.split('.')[1] || func);
    const sanitizedExpression = expression.replace(/([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g, (match, p1) => {
        if (!allowedFunctionNames.includes(p1)) {
            return 'function ' + p1 + '() { return 0; }(';
        }
        return match;
    });
    try {
        const result = Function('"use strict"; return (' + sanitizedExpression + ')')();
        return result;
    } catch (error) {
        console.error('Error evaluating expression:', error.message);
        return 0;
    }
}
function isQuotedString(str) {
    return str.length > 1 && (str[0] === str[str.length - 1]) && (str[0] === '"' || str[0] === "'");
}
function escapeRegExp(str) {
    return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}

function onNodeStart(id) {
    document.getElementById('block-' + id).childNodes[1].classList.add('outline');
}
function onNodeEnd(id) {
    document.getElementById('block-' + id).childNodes[1].classList.remove('outline');
}

function onChartFinish() {
    document.getElementById('run-button').disabled = false
    document.getElementById('run-button').classList.remove('running-button')

    document.getElementById('play-icon').classList.remove('hide')
    document.getElementById('pause-icon').classList.add('hide')
}

// ASSUME start is at id 0 ----> runNode(chart_json, "0") to start the run
function runNode(chart, id, vars = {}) {
    let type = chart['nodes'][id]['type'];
    let content = chart['nodes'][id]['content'];
    let connection = chart['wires'][id];

    console.log(content + ',', 'variables: ', JSON.parse(JSON.stringify(vars)));
    onNodeStart(id);

    if (type == 'decision') {
        Object.keys(conditions).forEach((condition) => {
            const regex = new RegExp(condition, 'g');
            content = content.replace(regex, conditions[condition]);
        });
        Object.keys(vars).forEach((variable) => {
            const regex = new RegExp(variable, 'g');
            content = content.replace(regex, vars[variable]);
        });

        let truthy = safeEval(content);
        if (truthy) {
            setTimeout(() => { runNode(chart, connection[0], vars); onNodeEnd(id); }, timeout);
        } else {
            setTimeout(() => { runNode(chart, connection[1], vars); onNodeEnd(id); }, timeout)
        }
    } else if (type != 'terminal') {
        if (type == 'process') {
            content.split('\n').forEach((line) => {
                const [, leftOperand, operation, rightOperand] = line.match(regexPattern);
                let [leftrep, rightrep] = [leftOperand, rightOperand];
                Object.keys(vars).forEach((variable) => {
                    const regex = new RegExp(variable, 'g');
                    leftrep = leftrep.replace(regex, vars[variable]);
                    rightrep = rightrep.replace(regex, vars[variable]);
                });
                if (Object.keys(vars).includes(leftOperand)) {
                    vars[leftOperand] = operations[operation](safeEval(leftrep), safeEval(rightrep));
                } else {
                    vars[leftOperand] = operations[operation](0, safeEval(rightrep));
                }
            })
        }
        if (type == 'inputOutput') {
            if (content.startsWith('input')) {
                let varNames = content.replace("input ", "").split(',');
                for (let i = 0; i < varNames.length; i++) {
                    let inputValue = parseFloat(prompt("Enter value for " + varNames[i]));
                    vars[varNames[i]] = inputValue;
                }
            } else if (content.startsWith('output') || content.startsWith('print')) {
                let outputs = content.replace("output ", "").replace("print ", "").split(',');
                let evaluatedValues = [];

                for (let i = 0; i < outputs.length; i++) {
                    let varName = outputs[i].trim();
                    if (vars.hasOwnProperty(varName)) {
                        evaluatedValues.push(vars[varName]);
                    } else {
                        if (isQuotedString(varName)) {
                            varName = varName.substring(1, varName.length - 1);
                        }
                        evaluatedValues.push(varName);
                    }
                }
                alert(evaluatedValues.join(' '));
            }
        }
        setTimeout(() => { runNode(chart, connection, vars); onNodeEnd(id); }, timeout)
    } else {
        if (content == 'start') {
            // START
            setTimeout(() => { runNode(chart, connection, vars); onNodeEnd(id); }, timeout)
        } else {
            // END
            setTimeout(() => { onNodeEnd(id); onChartFinish(); }, timeout)
        }
    }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (runNode); 

/***/ }),

/***/ "./node_modules/pointer-tracker/dist/PointerTracker.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/pointer-tracker/dist/PointerTracker.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PointerTracker)
/* harmony export */ });
class Pointer {
    constructor(nativePointer) {
        /** Unique ID for this pointer */
        this.id = -1;
        this.nativePointer = nativePointer;
        this.pageX = nativePointer.pageX;
        this.pageY = nativePointer.pageY;
        this.clientX = nativePointer.clientX;
        this.clientY = nativePointer.clientY;
        if (self.Touch && nativePointer instanceof Touch) {
            this.id = nativePointer.identifier;
        }
        else if (isPointerEvent(nativePointer)) {
            // is PointerEvent
            this.id = nativePointer.pointerId;
        }
    }
    /**
     * Returns an expanded set of Pointers for high-resolution inputs.
     */
    getCoalesced() {
        if ('getCoalescedEvents' in this.nativePointer) {
            const events = this.nativePointer
                .getCoalescedEvents()
                .map((p) => new Pointer(p));
            // Firefox sometimes returns an empty list here. I'm not sure it's doing the right thing.
            // https://github.com/w3c/pointerevents/issues/409
            if (events.length > 0)
                return events;
        }
        return [this];
    }
}
const isPointerEvent = (event) => 'pointerId' in event;
const isTouchEvent = (event) => 'changedTouches' in event;
const noop = () => { };
/**
 * Track pointers across a particular element
 */
class PointerTracker {
    /**
     * Track pointers across a particular element
     *
     * @param element Element to monitor.
     * @param options
     */
    constructor(_element, { start = () => true, move = noop, end = noop, rawUpdates = false, avoidPointerEvents = false, } = {}) {
        this._element = _element;
        /**
         * State of the tracked pointers when they were pressed/touched.
         */
        this.startPointers = [];
        /**
         * Latest state of the tracked pointers. Contains the same number of pointers, and in the same
         * order as this.startPointers.
         */
        this.currentPointers = [];
        /**
         * Firefox has a bug where touch-based pointer events have a `buttons` of 0, when this shouldn't
         * happen. https://bugzilla.mozilla.org/show_bug.cgi?id=1729440
         *
         * Usually we treat `buttons === 0` as no-longer-pressed. This set allows us to exclude these
         * buggy Firefox events.
         */
        this._excludeFromButtonsCheck = new Set();
        /**
         * Listener for mouse/pointer starts.
         *
         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.
         */
        this._pointerStart = (event) => {
            if (isPointerEvent(event) && event.buttons === 0) {
                // This is the buggy Firefox case. See _excludeFromButtonsCheck.
                this._excludeFromButtonsCheck.add(event.pointerId);
            }
            else if (!(event.buttons & 1 /* LeftMouseOrTouchOrPenDown */)) {
                return;
            }
            const pointer = new Pointer(event);
            // If we're already tracking this pointer, ignore this event.
            // This happens with mouse events when multiple buttons are pressed.
            if (this.currentPointers.some((p) => p.id === pointer.id))
                return;
            if (!this._triggerPointerStart(pointer, event))
                return;
            // Add listeners for additional events.
            // The listeners may already exist, but no harm in adding them again.
            if (isPointerEvent(event)) {
                const capturingElement = event.target && 'setPointerCapture' in event.target
                    ? event.target
                    : this._element;
                capturingElement.setPointerCapture(event.pointerId);
                this._element.addEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
                this._element.addEventListener('pointerup', this._pointerEnd);
                this._element.addEventListener('pointercancel', this._pointerEnd);
            }
            else {
                // MouseEvent
                window.addEventListener('mousemove', this._move);
                window.addEventListener('mouseup', this._pointerEnd);
            }
        };
        /**
         * Listener for touchstart.
         * Only used if the browser doesn't support pointer events.
         */
        this._touchStart = (event) => {
            for (const touch of Array.from(event.changedTouches)) {
                this._triggerPointerStart(new Pointer(touch), event);
            }
        };
        /**
         * Listener for pointer/mouse/touch move events.
         */
        this._move = (event) => {
            if (!isTouchEvent(event) &&
                (!isPointerEvent(event) ||
                    !this._excludeFromButtonsCheck.has(event.pointerId)) &&
                event.buttons === 0 /* None */) {
                // This happens in a number of buggy cases where the browser failed to deliver a pointerup
                // or pointercancel. If we see the pointer moving without any buttons down, synthesize an end.
                // https://github.com/w3c/pointerevents/issues/407
                // https://github.com/w3c/pointerevents/issues/408
                this._pointerEnd(event);
                return;
            }
            const previousPointers = this.currentPointers.slice();
            const changedPointers = isTouchEvent(event)
                ? Array.from(event.changedTouches).map((t) => new Pointer(t))
                : [new Pointer(event)];
            const trackedChangedPointers = [];
            for (const pointer of changedPointers) {
                const index = this.currentPointers.findIndex((p) => p.id === pointer.id);
                if (index === -1)
                    continue; // Not a pointer we're tracking
                trackedChangedPointers.push(pointer);
                this.currentPointers[index] = pointer;
            }
            if (trackedChangedPointers.length === 0)
                return;
            this._moveCallback(previousPointers, trackedChangedPointers, event);
        };
        /**
         * Call the end callback for this pointer.
         *
         * @param pointer Pointer
         * @param event Related event
         */
        this._triggerPointerEnd = (pointer, event) => {
            // Main button still down?
            // With mouse events, you get a mouseup per mouse button, so the left button might still be down.
            if (!isTouchEvent(event) &&
                event.buttons & 1 /* LeftMouseOrTouchOrPenDown */) {
                return false;
            }
            const index = this.currentPointers.findIndex((p) => p.id === pointer.id);
            // Not a pointer we're interested in?
            if (index === -1)
                return false;
            this.currentPointers.splice(index, 1);
            this.startPointers.splice(index, 1);
            this._excludeFromButtonsCheck.delete(pointer.id);
            // The event.type might be a 'move' event due to workarounds for weird mouse behaviour.
            // See _move for details.
            const cancelled = !(event.type === 'mouseup' ||
                event.type === 'touchend' ||
                event.type === 'pointerup');
            this._endCallback(pointer, event, cancelled);
            return true;
        };
        /**
         * Listener for mouse/pointer ends.
         *
         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.
         */
        this._pointerEnd = (event) => {
            if (!this._triggerPointerEnd(new Pointer(event), event))
                return;
            if (isPointerEvent(event)) {
                if (this.currentPointers.length)
                    return;
                this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
                this._element.removeEventListener('pointerup', this._pointerEnd);
                this._element.removeEventListener('pointercancel', this._pointerEnd);
            }
            else {
                // MouseEvent
                window.removeEventListener('mousemove', this._move);
                window.removeEventListener('mouseup', this._pointerEnd);
            }
        };
        /**
         * Listener for touchend.
         * Only used if the browser doesn't support pointer events.
         */
        this._touchEnd = (event) => {
            for (const touch of Array.from(event.changedTouches)) {
                this._triggerPointerEnd(new Pointer(touch), event);
            }
        };
        this._startCallback = start;
        this._moveCallback = move;
        this._endCallback = end;
        this._rawUpdates = rawUpdates && 'onpointerrawupdate' in window;
        // Add listeners
        if (self.PointerEvent && !avoidPointerEvents) {
            this._element.addEventListener('pointerdown', this._pointerStart);
        }
        else {
            this._element.addEventListener('mousedown', this._pointerStart);
            this._element.addEventListener('touchstart', this._touchStart);
            this._element.addEventListener('touchmove', this._move);
            this._element.addEventListener('touchend', this._touchEnd);
            this._element.addEventListener('touchcancel', this._touchEnd);
        }
    }
    /**
     * Remove all listeners.
     */
    stop() {
        this._element.removeEventListener('pointerdown', this._pointerStart);
        this._element.removeEventListener('mousedown', this._pointerStart);
        this._element.removeEventListener('touchstart', this._touchStart);
        this._element.removeEventListener('touchmove', this._move);
        this._element.removeEventListener('touchend', this._touchEnd);
        this._element.removeEventListener('touchcancel', this._touchEnd);
        this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
        this._element.removeEventListener('pointerup', this._pointerEnd);
        this._element.removeEventListener('pointercancel', this._pointerEnd);
        window.removeEventListener('mousemove', this._move);
        window.removeEventListener('mouseup', this._pointerEnd);
    }
    /**
     * Call the start callback for this pointer, and track it if the user wants.
     *
     * @param pointer Pointer
     * @param event Related event
     * @returns Whether the pointer is being tracked.
     */
    _triggerPointerStart(pointer, event) {
        if (!this._startCallback(pointer, event))
            return false;
        this.currentPointers.push(pointer);
        this.startPointers.push(pointer);
        return true;
    }
}




/***/ }),

/***/ "./src/json/flowchart.json":
/*!*********************************!*\
  !*** ./src/json/flowchart.json ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"wires":{"0":"1","1":"2","2":["3","4"],"3":"4"},"nodes":{"0":{"posx":500,"posy":0,"type":"terminal","content":"start"},"1":{"posx":100,"posy":100,"type":"inputOutput","content":"input X"},"2":{"posx":500,"posy":200,"type":"decision","content":"X > 5"},"3":{"posx":800,"posy":400,"type":"inputOutput","content":"output X"},"4":{"posx":500,"posy":400,"type":"terminal","content":"end"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var plain_draggable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plain-draggable */ "./node_modules/plain-draggable/plain-draggable.esm.js");
/* harmony import */ var leader_line_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leader-line-new */ "./node_modules/leader-line-new/leader-line.min.js");
/* harmony import */ var leader_line_new__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leader_line_new__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var pointer_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pointer-tracker */ "./node_modules/pointer-tracker/dist/PointerTracker.mjs");
/* harmony import */ var _css_index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../css/index.css */ "./src/css/index.css");
/* harmony import */ var _css_main_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../css/main.css */ "./src/css/main.css");
/* harmony import */ var _css_mainMobile_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../css/mainMobile.css */ "./src/css/mainMobile.css");
/* harmony import */ var _runChart_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./runChart.js */ "./src/js/runChart.js");
/* harmony import */ var _json_flowchart_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../json/flowchart.json */ "./src/json/flowchart.json");











const flowchartBoard = document.getElementById('flowchart-board')
const flowchartBoardContainer = document.getElementById('flowchart-board-container')

// templates
const terminalTemplate = document.getElementById('terminal-template')
const processTemplate = document.getElementById('process-template')
const decisionTemplate = document.getElementById('decision-template')
const inputOutputTemplate = document.getElementById('input-output-template')

// un-needed
const flowchartSymbols = ['terminal', 'process', 'decision', 'inputOutput']
const allTools = ['hand', 'edit', 'connect', 'erase']

// test button
document.getElementById('test-button').addEventListener('click', () => {
    // test button code here
    console.log('test button')
})

// flowBlock
function createLine(start, end, label = undefined, lineColor = undefined, dashed = false) {
    const labelObj = {
        text: label,
        color: 'aliceblue',
        outlineColor: '',
        fontWeight: 'bold',
    }
    return new (leader_line_new__WEBPACK_IMPORTED_MODULE_1___default())(document.getElementById(start), document.getElementById(end),
        {
            startPlug: 'disc',
            size: 4, startPlugSize: 1.5, startPlugOutlineSize: 2.5,
            color: lineColor == undefined ? '#f0f8ff' : lineColor, path: 'fluid',
            dropShadow: true,
            middleLabel: leader_line_new__WEBPACK_IMPORTED_MODULE_1___default().captionLabel(labelObj),
            dash: dashed ? { animation: dashed } : false,
        })
}
class FlowBlock {
    constructor(id, type, content, pos) {
        this.id = id;
        this.type = type;
        this.content = content;
        [this.posx, this.posy] = pos;
        [this.element, this.draggable] = this.createFlowBlock(type, id, content)
        this.connections = [];
        this.draggable['onMove'] = () => {
            this.connections.forEach((c) => {
                c.position()
            })

            const match = document.getElementById(`block-${this.id}`).style.transform.match(/[-+]?\d+(.\d+)?/g).map(Number)
            this.posx = match[0]
            this.posy = match[1]
        }
    }

    createFlowBlock() {
        let element

        if (this.type == 'terminal') {
            element = terminalTemplate.content.cloneNode(true)
        } else if (this.type == 'process') {
            element = processTemplate.content.cloneNode(true)

        } else if (this.type == 'decision') {
            element = decisionTemplate.content.cloneNode(true)

        } else if (this.type == 'inputOutput') {
            element = inputOutputTemplate.content.cloneNode(true)
        }
        const elementId = element.querySelector('[data-flowchart-block-id]')
        const elementContent = element.querySelector('[data-flowchart-block-content]')
        const elementEdit = element.querySelector('[data-flowchart-block-edit]')
        const elementEditLabel = element.querySelector('[data-flowchart-block-input-output-label]')

        elementId.id = `block-${this.id}`
        elementContent.textContent = this.content

        elementId.classList.add('draggable')
        elementId.style.transform = `translate(${this.posx}px,${this.posy}px)`
        if (elementEdit != undefined) {
            if (elementEditLabel != undefined) {
                elementContent.textContent = this.content.split(' ').slice(1).join(' ')

                elementEditLabel.textContent = this.content.split(' ')[0]
                elementEdit.value = this.content.split(' ').slice(1).join(' ')
                elementEdit.oninput = () => {
                    this.content = this.content.split(' ')[0] + ' ' + elementEdit.value
                    elementContent.textContent = elementEdit.value
                }
            } else {
                elementContent.textContent = this.content

                elementEdit.value = this.content
                elementEdit.oninput = () => {
                    this.content = elementEdit.value
                    elementContent.textContent = elementEdit.value
                }
            }
        }

        flowchartBoard.appendChild(element)

        const elementDraggable = new plain_draggable__WEBPACK_IMPORTED_MODULE_0__["default"](document.getElementById(`block-${this.id}`))

        document.getElementById(`block-${this.id}`).addEventListener('click', () => {
            if (currentTool == 'erase') {
                if (this.type != 'terminal') {
                    remFlowBlock(this.id)
                }
            }
        })

        // allow autoScroll only when a mouse exist
        if ("ontouchstart" in document.documentElement) {

        }
        else {
            elementDraggable.autoScroll = flowchartBoardContainer
        }

        return [element, elementDraggable]
    }

    updateFlowBlock(func, whatToUpdate) {
        this.draggable[func] = whatToUpdate
    }
}

// chart
let connections = {}
let flowBlocks = {}
let connectionAttrs = {}
let global_index = -1

function addFlowBlock(type, content, pos = [0, 0]) {
    let newBlock = new FlowBlock(global_index + 1, type, content, pos)
    flowBlocks[String(global_index + 1)] = newBlock
    global_index++
}
function remFlowBlock(id) {
    // remove attached connections to flowblock
    let currConnections =
        Object.keys(connections).map(str => str.split(':'))
            .filter(key => {
                return key[0] == id || key[1] == id
            })
    currConnections.forEach(k => { remConnection(k[0], k[1]) })

    // remove flowblock
    flowBlocks[String(id)].draggable.remove()
    document.getElementById(`block-${id}`).remove()
    delete flowBlocks[String(id)]

    // decrement flowblock ids
    let gids = Object.keys(flowBlocks).map(str => Number(str))
        .filter(key => {
            return key > Number(id)
        })
    gids.forEach(k => {
        flowBlocks[String(k - 1)] = flowBlocks[String(k)]
        flowBlocks[String(k - 1)].id--
        document.getElementById(`block-${k}`).id = `block-${k - 1}`
    })
    delete flowBlocks[String(Math.max(...gids))]

    // decrement connection ids
    Object.keys(connections).forEach(key => {
        let parts = key.split(':').map(str => Number(str))
        if (parts[0] > Number(id)) parts[0]--
        if (parts[1] > Number(id)) parts[1]--
        let tmp = connections[key]
        delete connections[key]
        connections[parts.join(':')] = tmp
    })

    // decrement connectionAttrs ids
    Object.keys(connectionAttrs).forEach(key => {
        let parts = key.split(':').map(str => Number(str))
        if (parts[0] > Number(id)) parts[0]--
        if (parts[1] > Number(id)) parts[1]--
        let tmp = connectionAttrs[key]
        delete connectionAttrs[key]
        connectionAttrs[parts.join(':')] = tmp
    })


    global_index--
}

function addConnection(fromId, toId, attr = null) {
    let cid = `${fromId}:${toId}`
    let startNode = flowBlocks[fromId]
    let endNode = flowBlocks[toId]

    if (attr) connectionAttrs[cid] = attr
    if (attr == 'y') {
        connections[cid] = createLine(`block-${fromId}`, `block-${toId}`, 'Yes', '#29964a')
    } else if (attr == 'n') {
        connections[cid] = createLine(`block-${fromId}`, `block-${toId}`, 'No', '#ba2b2b')
    } else {
        connections[cid] = createLine(`block-${fromId}`, `block-${toId}`)
    }
    startNode.connections.push(connections[cid])
    endNode.connections.push(connections[cid])
}
function remConnection(fromId, toId) {
    let cid = `${fromId}:${toId}`

    flowBlocks[fromId].connections.splice(flowBlocks[fromId].connections.indexOf(connections[cid]), 1)
    flowBlocks[toId].connections.splice(flowBlocks[toId].connections.indexOf(connections[cid]), 1)

    connections[cid].remove()

    delete connections[cid]
    delete connectionAttrs[cid]
}

function objectifyChart() {
    let res = { 'wires': {}, 'nodes': {} }
    // add nodes
    Object.keys(flowBlocks).forEach(key => {
        let f = flowBlocks[key]
        res['nodes'][key] = {
            "posx": f.posx,
            "posy": f.posy,
            "type": f.type,
            "content": f.content
        }
    })

    // add connections
    Object.keys(connections).forEach(key => {
        let parts = key.split(':')
        if (key in connectionAttrs) {
            if (parts[0] in res['wires']) {

                if (connectionAttrs[key] == 'y') res['wires'][parts[0]][0] = parts[1]
                else if (connectionAttrs[key] == 'n') res['wires'][parts[0]][1] = parts[1]

            } else if (connectionAttrs[key] == 'y') res['wires'][parts[0]] = [parts[1], -1]
            else if (connectionAttrs[key] == 'n') res['wires'][parts[0]] = [-1, parts[1]]
        } else {
            res['wires'][parts[0]] = parts[1]
        }
    })
    return res
}
function personifyChart(object) {
    let n = Object.keys(flowBlocks).length
    for (let i = 0; i < n; i++) remFlowBlock(0)

    Object.keys(object['nodes']).forEach(key => {
        addFlowBlock(object['nodes'][key]['type'],
            object['nodes'][key]['content'],
            [object['nodes'][key]['posx'], object['nodes'][key]['posy']])
    })
    Object.keys(object['wires']).forEach(key => {
        if (typeof (object['wires'][key]) == 'string') {
            addConnection(key, object['wires'][key])
        } else {
            addConnection(key, object['wires'][key][0], 'y')
            addConnection(key, object['wires'][key][1], 'n')
        }
    })
}

//#region tools
let currentTool
const editButton = document.getElementById('edit-button')
const connectButton = document.getElementById('connect-button')
const moveButton = document.getElementById('move-button')
const eraseButton = document.getElementById('erase-button')
const runButton = document.getElementById('run-button')

editButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 0, 'active', () => {
        toggleDraggables(false)
        enableEdit(true)
        currentTool = 'edit'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
        Object.keys(connections).forEach(key => {
            connections[key].position()
        });
    })
})
connectButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 1, 'active', () => {
        toggleDraggables(false)
        enableEdit(false)
        currentTool = 'connect'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
        Object.keys(connections).forEach(key => {
            connections[key].position()
        });
    })
})
moveButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 2, 'active', () => {
        toggleDraggables(true)
        enableEdit(false)
        currentTool = 'move'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
        Object.keys(connections).forEach(key => {
            connections[key].position()
        });
    })
})
eraseButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 3, 'active', () => {
        toggleDraggables(false)
        enableEdit(false)
        currentTool = 'erase'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
        Object.keys(connections).forEach(key => {
            connections[key].position()
        });
    })
})
runButton.addEventListener('click', () => {
    if (runButton.disabled == true) return

    runButton.disabled = true
    runButton.classList.add('running-button')

    document.getElementById('play-icon').classList.add('hide')
    document.getElementById('pause-icon').classList.remove('hide')

    ;(0,_runChart_js__WEBPACK_IMPORTED_MODULE_6__["default"])(objectifyChart(), '0')
})

function toggleSwitch(toggleSwitches = [], index, activeClass, onActivateFunc = () => { }) {
    for (let i = 0; i < toggleSwitches.length; i++) {
        toggleSwitches[i].classList.remove(activeClass)
    }

    toggleSwitches[index].classList.add(activeClass)
    onActivateFunc()
}

function toggleDraggables(enable) {
    if (enable) {
        Object.keys(flowBlocks).forEach(key => {
            flowBlocks[key].draggable.disabled = false
        })
    }
    else {
        Object.keys(flowBlocks).forEach(key => {
            flowBlocks[key].draggable.disabled = true
        })
    }
}

function enableEdit(enable) {
    if (enable) {
        document.querySelectorAll('[data-flowchart-block-content]').forEach(key => {
            if (!key.parentElement.classList.contains('terminal')) {
                key.classList.add('hide')
            }
        })

        document.querySelectorAll('[data-flowchart-block-edit]').forEach(key => {
            key.classList.remove('hide')
        })
    }
    else {
        document.querySelectorAll('[data-flowchart-block-content]').forEach(key => {
            if (!key.classList.contains('terminal')) {
                key.classList.remove('hide')
            }
        })

        document.querySelectorAll('[data-flowchart-block-edit]').forEach(key => {
            key.classList.add('hide')
        })
    }
}

//#endregion

//#region side Panel 
document.getElementById('process').addEventListener('click', () => {
    initAddBlock('process', 'process')
})
document.getElementById('decision').addEventListener('click', () => {
    initAddBlock('decision', 'decision')
})
document.getElementById('input').addEventListener('click', () => {
    initAddBlock('inputOutput', 'input')
})
document.getElementById('output').addEventListener('click', () => {
    initAddBlock('inputOutput', 'output')
})

function initAddBlock(flowChartSymbol, content) {
    addFlowBlock(flowChartSymbol, content, [0, 0])

    if (currentTool == 'hand') {
        toggleDraggables(true)
        enableEdit(false)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    } else if (currentTool == 'edit') {
        toggleDraggables(false)
        enableEdit(true)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    } else if (currentTool == 'connect') {
        toggleDraggables(false)
        enableEdit(false)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    } else if (currentTool == 'erase') {
        toggleDraggables(false)
        enableEdit(false)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    }
}
//#endregion

let isDraggingBlock = false
let draggingBlock
let line
let decisionLine

// connections tool
const pointerTracker = new pointer_tracker__WEBPACK_IMPORTED_MODULE_2__["default"](flowchartBoard, {
    start(pointer, event) {
        if (currentTool != 'connect') return false
        document.getElementById('tracker').style.transform = `translate(${pointer.clientX}px,calc(${pointer.clientY}px - 5rem))`

        let temp = event.target

        if (temp.classList.contains('flowchart-block')) {
            draggingBlock = temp.parentElement
            isDraggingBlock = true

            document.getElementById('tracker').style.transform = `translate(${pointer.clientX}px,calc(${pointer.clientY}px - 5rem))`
            line = createLine(draggingBlock.id, 'tracker', undefined, undefined, true)
            decisionLine = undefined

            return true
        } else if (temp.getAttribute('data-flowchart-block-dragging') == 'yes') {
            draggingBlock = temp.parentElement.parentElement.parentElement // .greatGrandParent()
            line = createLine(draggingBlock.id, 'tracker', 'Yes', '#29964a', true)
            decisionLine = 'y'

            return true
        } else if (temp.getAttribute('data-flowchart-block-dragging') == 'no') {
            draggingBlock = temp.parentElement.parentElement.parentElement // .greatGrandParent()
            line = createLine(draggingBlock.id, 'tracker', 'No', '#ba2b2b', true)
            decisionLine = 'n'

            return true
        }
    },
    move(previousPointers, changedPointers, event) {
        let temp = event.target

        flowchartBoardContainer.classList.add('noScroll')

        document.getElementById('tracker').style.transform = `translate(${changedPointers[0].clientX}px,calc(${changedPointers[0].clientY}px - 5rem))`
        line.position()
    },
    end(pointer, event, cancelled) {
        let temp = document.elementFromPoint(pointer.clientX, pointer.clientY)

        flowchartBoardContainer.classList.remove('noScroll')

        if (temp != null) {
            temp = temp.parentElement.id != '' ? temp.parentElement : temp.parentElement.parentElement.parentElement
        }

        if (draggingBlock != temp && temp != null) {
            if (temp.classList.contains('block-container')) {
                let startId = draggingBlock.id.replace('block-', '')
                let endId = temp.id.replace('block-', '')

                if ((flowBlocks[startId].type == 'terminal' && flowBlocks[startId].content == 'end') || (flowBlocks[endId].type == 'terminal' && flowBlocks[endId].content == 'start')) {

                } else {
                    let isConnectionExisting = false

                    Object.keys(connections)
                        .filter(key => {
                            return key.split(':')[0] == startId
                        })
                        .forEach(key => {
                            if (key.split(':')[1] == endId) {
                                isConnectionExisting = true
                            }

                            if (key in connectionAttrs) {
                                if (connectionAttrs[key] == decisionLine) {
                                    remConnection(startId, key.split(':')[1])
                                }
                            } else {
                                remConnection(startId, key.split(':')[1])
                            }
                        })
                    if (!isConnectionExisting) {
                        addConnection(startId, endId, decisionLine)
                    }
                }

            }
        }

        line.remove()
        isDraggingBlock = false
    },
    avoidPointerEvents: true,
    rawUpdates: false,
})

flowchartBoardContainer.addEventListener('scroll', () => {
    Object.keys(connections).forEach(key => {
        connections[key].position()
    });
})

// load the default flowchart json
personifyChart(_json_flowchart_json__WEBPACK_IMPORTED_MODULE_7__)
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsT0FBTyxtRkFBbUYsYUFBYSxXQUFXLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxZQUFZLGNBQWMsV0FBVyxVQUFVLFlBQVksY0FBYyxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksV0FBVyxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksV0FBVyxVQUFVLE9BQU8sS0FBSyxVQUFVLFVBQVUsT0FBTyxLQUFLLFlBQVksY0FBYyxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksWUFBWSxVQUFVLFlBQVksYUFBYSxjQUFjLFlBQVksWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxXQUFXLFVBQVUsYUFBYSxhQUFhLE9BQU8sS0FBSyxXQUFXLFlBQVksYUFBYSxZQUFZLFVBQVUsV0FBVyxVQUFVLFlBQVksY0FBYyxhQUFhLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsT0FBTyxLQUFLLFVBQVUsV0FBVyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEs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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7VUN4UHJDO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0EsZUFBZSxpREFBYSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vc3JjL2Nzcy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vc3JjL2Nzcy9tYWluLmNzcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL21haW5Nb2JpbGUuY3NzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL2xlYWRlci1saW5lLW5ldy9sZWFkZXItbGluZS5taW4uanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3BsYWluLWRyYWdnYWJsZS9ub2RlX21vZHVsZXMvYW5pbS1ldmVudC9hbmltLWV2ZW50LmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9jc3NwcmVmaXgvY3NzcHJlZml4LmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9tLWNsYXNzLWxpc3QvbS1jbGFzcy1saXN0LmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9wb2ludGVyLWV2ZW50L3BvaW50ZXItZXZlbnQuZXNtLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9wbGFpbi1kcmFnZ2FibGUvcGxhaW4tZHJhZ2dhYmxlLmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL2luZGV4LmNzcz9mN2VhIiwid2VicGFjazovL2Zsb3djaGFydC8uL3NyYy9jc3MvbWFpbi5jc3M/MmM5ZiIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL21haW5Nb2JpbGUuY3NzP2EyY2EiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvanMvcnVuQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3BvaW50ZXItdHJhY2tlci9kaXN0L1BvaW50ZXJUcmFja2VyLm1qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2Zsb3djaGFydC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvanMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcclxuICAgIC0tc2hhZG93LWNvbG9yOiAwZGVnIDAlIDAlO1xyXG4gICAgLS1zaGFkb3ctZG93bi1sb3c6XHJcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggMC44cHggMC45cHggLTEuMnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggMnB4IDIuM3B4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XHJcbiAgICAtLXNoYWRvdy1kb3duLW1lZGl1bTpcclxuICAgICAgICAwcHggMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcclxuICAgICAgICAwcHggMS42cHggMS44cHggLTAuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgMHB4IDQuMXB4IDQuNnB4IC0xLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxyXG4gICAgICAgIDBweCA5LjlweCAxMS4xcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSk7XHJcbiAgICAtLXNoYWRvdy1kb3duLWhpZ2g6XHJcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggMi45cHggMy4zcHggLTAuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggNS40cHggNi4xcHggLTAuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggOC45cHggMTBweCAtMS4xcHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIC0wLjFweCAxNC4ycHggMTZweCAtMS40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIC0wLjFweCAyMi4xcHggMjQuOXB4IC0xLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuMXB4IDMzLjZweCAzNy44cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAtMC4ycHggNDkuNXB4IDU1LjdweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xyXG5cclxuICAgIC0tc2hhZG93LXVwLWxvdzpcclxuICAgICAgICAwcHggLTAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggLTAuOHB4IDAuOXB4IC0xLjJweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgMHB4IC0ycHggMi4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcclxuICAgIC0tc2hhZG93LXVwLW1lZGl1bTpcclxuICAgICAgICAwcHggLTAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgMHB4IC0xLjZweCAxLjhweCAtMC44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcclxuICAgICAgICAwcHggLTQuMXB4IDQuNnB4IC0xLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxyXG4gICAgICAgIC0wLjFweCAtMTBweCAxMS4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSk7XHJcbiAgICAtLXNoYWRvdy11cC1oaWdoOlxyXG4gICAgICAgIDBweCAtMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDBweCAtMi45cHggMy4zcHggLTAuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggLTUuNHB4IDYuMXB4IC0wLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuMXB4IC04LjlweCAxMHB4IC0xLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuMXB4IC0xNC4ycHggMTZweCAtMS40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIC0wLjJweCAtMjIuMnB4IDI1cHggLTEuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAtMC4ycHggLTMzLjhweCAzOHB4IC0yLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuNHB4IC00OS44cHggNTZweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xyXG5cclxuICAgIC0tc2hhZG93LXJpZ2h0LWxvdzpcclxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDAuOHB4IDBweCAwLjlweCAtMS4ycHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDJweCAwcHggMi4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcclxuICAgIC0tc2hhZG93LXJpZ2h0LW1lZGl1bTpcclxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcclxuICAgICAgICAxLjZweCAwcHggMS44cHggLTAuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgNC4xcHggMC4xcHggNC42cHggLTEuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgOS45cHggMC4xcHggMTEuMXB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpO1xyXG4gICAgLS1zaGFkb3ctcmlnaHQtaGlnaDpcclxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDIuOXB4IDBweCAzLjNweCAtMC40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDUuNHB4IDAuMXB4IDYuMXB4IC0wLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgOC44cHggMC4xcHggOS45cHggLTEuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAxNC4xcHggMC4ycHggMTUuOXB4IC0xLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgMjIuMXB4IDAuM3B4IDI0LjlweCAtMS44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDMzLjZweCAwLjVweCAzNy44cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICA0OS40cHggMC43cHggNTUuNnB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XHJcbn1cclxuXHJcbmh0bWwsXHJcbmJvZHkge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbmJvZHkge1xyXG4gICAgY29sb3I6ICNFNkVERjM7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEQxMTE3O1xyXG4gICAgbWluLWhlaWdodDogMTAwZHZoO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG5ib2R5ICoge1xyXG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xyXG5cclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgY3Vyc29yOiBncmFiO1xyXG4gICAgd2lkdGg6IDAuNzVyZW07XHJcbiAgICBoZWlnaHQ6IDAuNzVyZW07XHJcbn1cclxuXHJcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xyXG4gICAgY3Vyc29yOiBncmFiO1xyXG4gICAgYmFja2dyb3VuZDogIzIxMjYyRDtcclxufVxyXG5cclxuYm9keSAqOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICBjdXJzb3I6IGdyYWI7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNDU0ZjVlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxufVxyXG5cclxuYSB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBjb2xvcjogIzc2YTZkMDtcclxufVxyXG5cclxuYTpob3ZlciB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IDJwdCAjOTNiOGQ5IHVuZGVybGluZTtcclxufVxyXG5cclxuLmhpZGUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLm5vU2Nyb2xsIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcclxufVxyXG5cclxuI3RyYWNrZXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSwwQkFBMEI7SUFDMUI7OzsyREFHdUQ7SUFDdkQ7Ozs7K0RBSTJEO0lBQzNEOzs7Ozs7OztrRUFROEQ7O0lBRTlEOzs7NERBR3dEO0lBQ3hEOzs7O2tFQUk4RDtJQUM5RDs7Ozs7Ozs7aUVBUTZEOztJQUU3RDs7OzJEQUd1RDtJQUN2RDs7OztpRUFJNkQ7SUFDN0Q7Ozs7Ozs7O2lFQVE2RDtBQUNqRTs7QUFFQTs7SUFFSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLG1KQUFtSjs7SUFFbkosU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQTtJQUNJLFlBQVk7SUFDWixjQUFjO0lBQ2QsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksc0NBQXNDO0FBQzFDOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLDJCQUEyQjtBQUMvQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsb0JBQW9CO0FBQ3hCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290IHtcXHJcXG4gICAgLS1zaGFkb3ctY29sb3I6IDBkZWcgMCUgMCU7XFxyXFxuICAgIC0tc2hhZG93LWRvd24tbG93OlxcclxcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDBweCAwLjhweCAwLjlweCAtMS4ycHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMHB4IDJweCAyLjNweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xcclxcbiAgICAtLXNoYWRvdy1kb3duLW1lZGl1bTpcXHJcXG4gICAgICAgIDBweCAwLjVweCAwLjZweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgMHB4IDEuNnB4IDEuOHB4IC0wLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgMHB4IDQuMXB4IDQuNnB4IC0xLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgMHB4IDkuOXB4IDExLjFweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKTtcXHJcXG4gICAgLS1zaGFkb3ctZG93bi1oaWdoOlxcclxcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDBweCAyLjlweCAzLjNweCAtMC40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMHB4IDUuNHB4IDYuMXB4IC0wLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggOC45cHggMTBweCAtMS4xcHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuMXB4IDE0LjJweCAxNnB4IC0xLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAtMC4xcHggMjIuMXB4IDI0LjlweCAtMS44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuMXB4IDMzLjZweCAzNy44cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjJweCA0OS41cHggNTUuN3B4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XFxyXFxuXFxyXFxuICAgIC0tc2hhZG93LXVwLWxvdzpcXHJcXG4gICAgICAgIDBweCAtMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMHB4IC0wLjhweCAwLjlweCAtMS4ycHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMHB4IC0ycHggMi4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcXHJcXG4gICAgLS1zaGFkb3ctdXAtbWVkaXVtOlxcclxcbiAgICAgICAgMHB4IC0wLjVweCAwLjZweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgMHB4IC0xLjZweCAxLjhweCAtMC44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcXHJcXG4gICAgICAgIDBweCAtNC4xcHggNC42cHggLTEuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXFxyXFxuICAgICAgICAtMC4xcHggLTEwcHggMTEuM3B4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpO1xcclxcbiAgICAtLXNoYWRvdy11cC1oaWdoOlxcclxcbiAgICAgICAgMHB4IC0wLjVweCAwLjZweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggLTIuOXB4IDMuM3B4IC0wLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggLTUuNHB4IDYuMXB4IC0wLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAtMC4xcHggLTguOXB4IDEwcHggLTEuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjFweCAtMTQuMnB4IDE2cHggLTEuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjJweCAtMjIuMnB4IDI1cHggLTEuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjJweCAtMzMuOHB4IDM4cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjRweCAtNDkuOHB4IDU2cHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcXHJcXG5cXHJcXG4gICAgLS1zaGFkb3ctcmlnaHQtbG93OlxcclxcbiAgICAgICAgMC41cHggMHB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDAuOHB4IDBweCAwLjlweCAtMS4ycHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMnB4IDBweCAyLjNweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xcclxcbiAgICAtLXNoYWRvdy1yaWdodC1tZWRpdW06XFxyXFxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcXHJcXG4gICAgICAgIDEuNnB4IDBweCAxLjhweCAtMC44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcXHJcXG4gICAgICAgIDQuMXB4IDAuMXB4IDQuNnB4IC0xLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgOS45cHggMC4xcHggMTEuMXB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpO1xcclxcbiAgICAtLXNoYWRvdy1yaWdodC1oaWdoOlxcclxcbiAgICAgICAgMC41cHggMHB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDIuOXB4IDBweCAzLjNweCAtMC40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgNS40cHggMC4xcHggNi4xcHggLTAuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDguOHB4IDAuMXB4IDkuOXB4IC0xLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAxNC4xcHggMC4ycHggMTUuOXB4IC0xLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAyMi4xcHggMC4zcHggMjQuOXB4IC0xLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAzMy42cHggMC41cHggMzcuOHB4IC0yLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICA0OS40cHggMC43cHggNTUuNnB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XFxyXFxufVxcclxcblxcclxcbmh0bWwsXFxyXFxuYm9keSB7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgcGFkZGluZzogMDtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIGNvbG9yOiAjRTZFREYzO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEQxMTE3O1xcclxcbiAgICBtaW4taGVpZ2h0OiAxMDBkdmg7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSAqIHtcXHJcXG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xcclxcblxcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXIge1xcclxcbiAgICBjdXJzb3I6IGdyYWI7XFxyXFxuICAgIHdpZHRoOiAwLjc1cmVtO1xcclxcbiAgICBoZWlnaHQ6IDAuNzVyZW07XFxyXFxufVxcclxcblxcclxcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xcclxcbiAgICBjdXJzb3I6IGdyYWI7XFxyXFxuICAgIGJhY2tncm91bmQ6ICMyMTI2MkQ7XFxyXFxufVxcclxcblxcclxcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcclxcbiAgICBjdXJzb3I6IGdyYWI7XFxyXFxuICAgIGJhY2tncm91bmQ6ICM0NTRmNWU7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XFxyXFxufVxcclxcblxcclxcbmEge1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIGNvbG9yOiAjNzZhNmQwO1xcclxcbn1cXHJcXG5cXHJcXG5hOmhvdmVyIHtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiAycHQgIzkzYjhkOSB1bmRlcmxpbmU7XFxyXFxufVxcclxcblxcclxcbi5oaWRlIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLm5vU2Nyb2xsIHtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50O1xcclxcbn1cXHJcXG5cXHJcXG4jdHJhY2tlciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5tYWluLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMGR2aCAtIDVyZW0gLSAwLjVwdCk7XHJcblxyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogbWF4LWNvbnRlbnQgN2ZyO1xyXG5cclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG5cclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA1cmVtO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMDQwOTtcclxuICAgIGJvcmRlci1ib3R0b206ICMyMTI2MkQgc29saWQgMC41cHQ7XHJcblxyXG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWRvd24taGlnaCk7XHJcbn1cclxuXHJcbi50aXRsZSBoMSB7XHJcbiAgICB3aWR0aDogNDAlO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA1JTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi50aXRsZSBoMiB7XHJcbiAgICB3aWR0aDogNDAlO1xyXG4gICAgcGFkZGluZy1yaWdodDogNSU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBlbmQ7XHJcbn1cclxuXHJcbi50aXRsZSBoMiBhIHtcclxuICAgIGNvbG9yOiBhbGljZWJsdWU7XHJcbn1cclxuXHJcbi50aXRsZSBoMiBhOmhvdmVyIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogMnB0IGFsaWNlYmx1ZSB1bmRlcmxpbmU7XHJcbn1cclxuXHJcbi5ydW4tYnV0dG9uIHtcclxuICAgIHdpZHRoOiAxMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnJ1bm5pbmctYnV0dG9uIHtcclxuICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgIG9wYWNpdHk6IDAuNTtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwNDA5O1xyXG5cclxuICAgIGJvcmRlci1yaWdodDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxuICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1yaWdodC1oaWdoKTtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAzcmVtKTtcclxuICAgIHBhZGRpbmc6IDEuNXJlbTtcclxuXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgIGdhcDogMXJlbTtcclxuXHJcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgKiB7XHJcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciBkaXYge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUge1xyXG4gICAgaGVpZ2h0OiAzcmVtO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbTogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGNvbG9yOiBhbGljZWJsdWU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcblxyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDI1MG1zIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uPnN2ZyB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24gLmFjdGl2ZSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGU+LmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyNjJEO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgLmFjdGl2ZSAuaW5hY3RpdmUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmFjdGl2ZSB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiB7XHJcbiAgICBib3JkZXItbGVmdDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxufVxyXG5cclxuLmZsb3djaGFydC1ib2FyZC1jb250YWluZXIge1xyXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmZsb3djaGFydC1ib2FyZCB7XHJcbiAgICB3aWR0aDogMTUwcmVtO1xyXG4gICAgaGVpZ2h0OiAxNTByZW07XHJcblxyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uYmxvY2stY29udGFpbmVyIHtcclxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbiAgICB0cmFuc2l0aW9uOiBvdXRsaW5lIDEwMG1zIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG4uc2lkZWJhci1ibG9jay1jb250YWluZXIge1xyXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxufVxyXG5cclxuLmZsb3djaGFydC1ibG9jayB7XHJcbiAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgbWluLXdpZHRoOiA1cmVtO1xyXG4gICAgbWluLWhlaWdodDogMnJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcclxuXHJcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XHJcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTtcclxuICAgIGNvbG9yOiAjMEQxMTE3O1xyXG5cclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBnYXA6IDAuNXJlbTtcclxuXHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWRvd24tbWVkaXVtKTtcclxuICAgIHRyYW5zaXRpb246IG91dGxpbmUgMTAwbXMgZWFzZS1pbi1vdXQ7XHJcblxyXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHVzZXItc2VsZWN0OiBub25lO1xyXG59XHJcblxyXG4ucG9zQWJzIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxufVxyXG5cclxuLmZsb3djaGFydC1ibG9jayBpbnB1dCB7XHJcbiAgICB3aWR0aDogNXJlbTtcclxuICAgIGhlaWdodDogMnJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcclxuICAgIGJvcmRlcjogIzBEMTExNyBzb2xpZCAycHQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGZvbnQtc2l6ZTogMS41ZW07XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLmZsb3djaGFydC1ibG9jayAuYWN0aXZlIHtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIHVzZXItc2VsZWN0OiBub25lO1xyXG59XHJcblxyXG4udGVybWluYWwge1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3JlbTtcclxufVxyXG5cclxuLnByb2Nlc3Mge1xyXG4gICAgLyogbm90aGluZyBjdXJyZW50bHkgKi9cclxufVxyXG5cclxuLmRlY2lzaW9uIHtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKSBzY2FsZSg3NSUpO1xyXG5cclxuICAgIGFzcGVjdC1yYXRpbzogMS8xO1xyXG59XHJcblxyXG4uZGVjaXNpb24gKiB7XHJcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpIHNjYWxlKDEyNSUpO1xyXG59XHJcblxyXG4uaW5wdXQtb3V0cHV0IHtcclxuICAgIHRyYW5zZm9ybTogc2tldygtMTVkZWcpO1xyXG59XHJcblxyXG4uaW5wdXQtb3V0cHV0ICoge1xyXG4gICAgdHJhbnNmb3JtOiBza2V3KDE1ZGVnKTtcclxufVxyXG5cclxuW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWlucHV0LW91dHB1dC1sYWJlbF0ge1xyXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbn1cclxuXHJcbi55ZXMtbm8tY29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICByaWdodDogMDtcclxuXHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xyXG5cclxuICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgc2NhbGUoMTUwJSk7XHJcblxyXG4gICAgaGVpZ2h0OiAxMDA7XHJcbn1cclxuXHJcbi55ZXMtbm8tY29udGFpbmVyICoge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcclxufVxyXG5cclxuLmNpcmNsZSB7XHJcbiAgICB3aWR0aDogMXJlbTtcclxuICAgIGhlaWdodDogMXJlbTtcclxuXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XHJcbiAgICBib3JkZXI6ICMwRDExMTcgMnB0IHNvbGlkO1xyXG5cclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogOTAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxufVxyXG5cclxuLmRyYWdnYWJsZSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbn1cclxuXHJcbi5vdXRsaW5lIHtcclxuICAgIG91dGxpbmUtb2Zmc2V0OiAwLjI1cmVtO1xyXG4gICAgb3V0bGluZTogMC4zNXJlbSBzb2xpZCAjMWM5OGQyICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5sZWFkZXItbGluZSB7XHJcbiAgICB6LWluZGV4OiAtMTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9tYWluLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG1DQUFtQzs7SUFFbkMsYUFBYTtJQUNiLHNDQUFzQzs7SUFFdEMsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw2QkFBNkI7O0lBRTdCLFdBQVc7SUFDWCxZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLGtDQUFrQzs7SUFFbEMsbUNBQW1DO0FBQ3ZDOztBQUVBO0lBQ0ksVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksVUFBVTtJQUNWLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksd0NBQXdDO0FBQzVDOztBQUVBO0lBQ0ksVUFBVTtJQUNWLFlBQVk7SUFDWiw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQix5QkFBeUI7O0lBRXpCLGlDQUFpQztJQUNqQyxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsZUFBZTs7SUFFZixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixtQkFBbUI7O0lBRW5CLFNBQVM7O0lBRVQsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixxQkFBcUI7SUFDckIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixXQUFXOztJQUVYLGFBQWE7SUFDYixtQkFBbUI7O0lBRW5CLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLGVBQWU7O0lBRWYsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQixZQUFZOztJQUVaLFlBQVk7SUFDWixXQUFXOztJQUVYLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1COztJQUVuQiw4Q0FBOEM7QUFDbEQ7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsY0FBYzs7SUFFZCxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLHFDQUFxQztBQUN6Qzs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixxQkFBcUI7O0lBRXJCLGtCQUFrQjtJQUNsQixtQkFBbUI7O0lBRW5CLDJCQUEyQjtJQUMzQixjQUFjOztJQUVkLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLFdBQVc7O0lBRVgsa0JBQWtCOztJQUVsQixxQ0FBcUM7SUFDckMscUNBQXFDOztJQUVyQyx5QkFBeUI7SUFDekIscUJBQXFCO0lBQ3JCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLHlCQUF5QjtJQUN6Qiw2QkFBNkI7SUFDN0IsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQix5QkFBeUI7SUFDekIscUJBQXFCO0lBQ3JCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLG1DQUFtQzs7SUFFbkMsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kscUNBQXFDO0FBQ3pDOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixTQUFTO0lBQ1QsT0FBTztJQUNQLFFBQVE7O0lBRVIsYUFBYTtJQUNiLDhCQUE4Qjs7SUFFOUIscUNBQXFDOztJQUVyQyxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTs7SUFFWiwyQkFBMkI7SUFDM0IseUJBQXlCOztJQUV6QixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2Qix5Q0FBeUM7QUFDN0M7O0FBRUE7SUFDSSxXQUFXO0FBQ2ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLm1haW4tY29udGVudCB7XFxyXFxuICAgIGhlaWdodDogY2FsYygxMDBkdmggLSA1cmVtIC0gMC41cHQpO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IG1heC1jb250ZW50IDdmcjtcXHJcXG5cXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLnRpdGxlIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XFxyXFxuXFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBoZWlnaHQ6IDVyZW07XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMTA0MDk7XFxyXFxuICAgIGJvcmRlci1ib3R0b206ICMyMTI2MkQgc29saWQgMC41cHQ7XFxyXFxuXFxyXFxuICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1kb3duLWhpZ2gpO1xcclxcbn1cXHJcXG5cXHJcXG4udGl0bGUgaDEge1xcclxcbiAgICB3aWR0aDogNDAlO1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDUlO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbn1cXHJcXG5cXHJcXG4udGl0bGUgaDIge1xcclxcbiAgICB3aWR0aDogNDAlO1xcclxcbiAgICBwYWRkaW5nLXJpZ2h0OiA1JTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBlbmQ7XFxyXFxufVxcclxcblxcclxcbi50aXRsZSBoMiBhIHtcXHJcXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnRpdGxlIGgyIGE6aG92ZXIge1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IDJwdCBhbGljZWJsdWUgdW5kZXJsaW5lO1xcclxcbn1cXHJcXG5cXHJcXG4ucnVuLWJ1dHRvbiB7XFxyXFxuICAgIHdpZHRoOiAxMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ucnVubmluZy1idXR0b24ge1xcclxcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XFxyXFxuICAgIG9wYWNpdHk6IDAuNTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIHtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMDQwOTtcXHJcXG5cXHJcXG4gICAgYm9yZGVyLXJpZ2h0OiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctcmlnaHQtaGlnaCk7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsIHtcXHJcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAzcmVtKTtcXHJcXG4gICAgcGFkZGluZzogMS41cmVtO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcclxcbiAgICBnYXA6IDFyZW07XFxyXFxuXFxyXFxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcXHJcXG4gICAgb3ZlcmZsb3cteTogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyICoge1xcclxcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgZGl2IHtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUge1xcclxcbiAgICBoZWlnaHQ6IDNyZW07XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcclxcbiAgICBib3JkZXItYm90dG9tOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uIHtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xcclxcbiAgICBjb2xvcjogYWxpY2VibHVlO1xcclxcbiAgICBib3JkZXI6IG5vbmU7XFxyXFxuXFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuXFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcclxcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDI1MG1zIGVhc2UtaW4tb3V0O1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uPnN2ZyB7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiAuYWN0aXZlIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlPi5hY3RpdmUge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyNjJEO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgLmFjdGl2ZSAuaW5hY3RpdmUge1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgLmFjdGl2ZSAuYWN0aXZlIHtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24ge1xcclxcbiAgICBib3JkZXItbGVmdDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcXHJcXG59XFxyXFxuXFxyXFxuLmZsb3djaGFydC1ib2FyZC1jb250YWluZXIge1xcclxcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYm9hcmQge1xcclxcbiAgICB3aWR0aDogMTUwcmVtO1xcclxcbiAgICBoZWlnaHQ6IDE1MHJlbTtcXHJcXG5cXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4uYmxvY2stY29udGFpbmVyIHtcXHJcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xcclxcbiAgICB0cmFuc2l0aW9uOiBvdXRsaW5lIDEwMG1zIGVhc2UtaW4tb3V0O1xcclxcbn1cXHJcXG5cXHJcXG4uc2lkZWJhci1ibG9jay1jb250YWluZXIge1xcclxcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxyXFxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYmxvY2sge1xcclxcbiAgICBwYWRkaW5nOiAxcmVtO1xcclxcbiAgICBtaW4td2lkdGg6IDVyZW07XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDJyZW07XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXHJcXG5cXHJcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XFxyXFxuICAgIGNvbG9yOiAjMEQxMTE3O1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgZ2FwOiAwLjVyZW07XFxyXFxuXFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG5cXHJcXG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWRvd24tbWVkaXVtKTtcXHJcXG4gICAgdHJhbnNpdGlvbjogb3V0bGluZSAxMDBtcyBlYXNlLWluLW91dDtcXHJcXG5cXHJcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnBvc0FicyB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmZsb3djaGFydC1ibG9jayBpbnB1dCB7XFxyXFxuICAgIHdpZHRoOiA1cmVtO1xcclxcbiAgICBoZWlnaHQ6IDJyZW07XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXHJcXG4gICAgYm9yZGVyOiAjMEQxMTE3IHNvbGlkIDJwdDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxyXFxuICAgIGZvbnQtc2l6ZTogMS41ZW07XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcclxcbn1cXHJcXG5cXHJcXG4uZmxvd2NoYXJ0LWJsb2NrIC5hY3RpdmUge1xcclxcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXHJcXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnRlcm1pbmFsIHtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogM3JlbTtcXHJcXG59XFxyXFxuXFxyXFxuLnByb2Nlc3Mge1xcclxcbiAgICAvKiBub3RoaW5nIGN1cnJlbnRseSAqL1xcclxcbn1cXHJcXG5cXHJcXG4uZGVjaXNpb24ge1xcclxcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZykgc2NhbGUoNzUlKTtcXHJcXG5cXHJcXG4gICAgYXNwZWN0LXJhdGlvOiAxLzE7XFxyXFxufVxcclxcblxcclxcbi5kZWNpc2lvbiAqIHtcXHJcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKSBzY2FsZSgxMjUlKTtcXHJcXG59XFxyXFxuXFxyXFxuLmlucHV0LW91dHB1dCB7XFxyXFxuICAgIHRyYW5zZm9ybTogc2tldygtMTVkZWcpO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5wdXQtb3V0cHV0ICoge1xcclxcbiAgICB0cmFuc2Zvcm06IHNrZXcoMTVkZWcpO1xcclxcbn1cXHJcXG5cXHJcXG5bZGF0YS1mbG93Y2hhcnQtYmxvY2staW5wdXQtb3V0cHV0LWxhYmVsXSB7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4ueWVzLW5vLWNvbnRhaW5lciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBib3R0b206IDA7XFxyXFxuICAgIGxlZnQ6IDA7XFxyXFxuICAgIHJpZ2h0OiAwO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxyXFxuXFxyXFxuICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgc2NhbGUoMTUwJSk7XFxyXFxuXFxyXFxuICAgIGhlaWdodDogMTAwO1xcclxcbn1cXHJcXG5cXHJcXG4ueWVzLW5vLWNvbnRhaW5lciAqIHtcXHJcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcXHJcXG59XFxyXFxuXFxyXFxuLmNpcmNsZSB7XFxyXFxuICAgIHdpZHRoOiAxcmVtO1xcclxcbiAgICBoZWlnaHQ6IDFyZW07XFxyXFxuXFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTtcXHJcXG4gICAgYm9yZGVyOiAjMEQxMTE3IDJwdCBzb2xpZDtcXHJcXG5cXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICB0b3A6IDkwJTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZSB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG59XFxyXFxuXFxyXFxuLm91dGxpbmUge1xcclxcbiAgICBvdXRsaW5lLW9mZnNldDogMC4yNXJlbTtcXHJcXG4gICAgb3V0bGluZTogMC4zNXJlbSBzb2xpZCAjMWM5OGQyICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcblxcclxcbi5sZWFkZXItbGluZSB7XFxyXFxuICAgIHotaW5kZXg6IC0xO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYEBtZWRpYSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogcG9ydHJhaXQpIHtcclxuICAgIC5tYWluLWNvbnRlbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xyXG5cclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgIC5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciB7XHJcbiAgICAgICAgYm9yZGVyLXRvcDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxuICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZGV2aWF0aW9uLWhpZ2gpO1xyXG4gICAgfVxyXG5cclxuICAgIC5hZGQtYmxvY2tzLXBhbmVsIHtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICAgICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xyXG4gICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcclxuICAgIH1cclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9tYWluTW9iaWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJO1FBQ0ksYUFBYTtRQUNiLDhCQUE4Qjs7UUFFOUIsZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksK0JBQStCO1FBQy9CLHdDQUF3QztJQUM1Qzs7SUFFQTtRQUNJLFVBQVU7UUFDVixtQkFBbUI7UUFDbkIsa0JBQWtCO1FBQ2xCLGtCQUFrQjtJQUN0QjtBQUNKXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBtZWRpYSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogcG9ydHJhaXQpIHtcXHJcXG4gICAgLm1haW4tY29udGVudCB7XFxyXFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbi1yZXZlcnNlO1xcclxcblxcclxcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIge1xcclxcbiAgICAgICAgYm9yZGVyLXRvcDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcXHJcXG4gICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1kZXZpYXRpb24taGlnaCk7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgLmFkZC1ibG9ja3MtcGFuZWwge1xcclxcbiAgICAgICAgcGFkZGluZzogMDtcXHJcXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxyXFxuICAgICAgICBvdmVyZmxvdy14OiBzY3JvbGw7XFxyXFxuICAgICAgICBvdmVyZmxvdy15OiBoaWRkZW47XFxyXFxuICAgIH1cXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIvKiEgTGVhZGVyTGluZSB2MS4xLjUgKGMpIGFuc2VraSBodHRwczovL2Fuc2VraS5naXRodWIuaW8vbGVhZGVyLWxpbmUvICovXG52YXIgTGVhZGVyTGluZT1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciB0ZSxNLEksQyxMLG8sdCxoLGYscCxuLGEsZSx4LGIsbCxyLGksayx3LHMsdSxjLEE9XCJsZWFkZXItbGluZVwiLFY9MSxQPTIsTj0zLFQ9NCxXPXt0b3A6VixyaWdodDpQLGJvdHRvbTpOLGxlZnQ6VH0sQj0xLFI9MixGPTMsRz00LEQ9NSx6PXtzdHJhaWdodDpCLGFyYzpSLGZsdWlkOkYsbWFnbmV0OkcsZ3JpZDpEfSxuZT1cImJlaGluZFwiLGQ9QStcIi1kZWZzXCIseT0nPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiIGlkPVwibGVhZGVyLWxpbmUtZGVmc1wiPjxzdHlsZT48IVtDREFUQVsubGVhZGVyLWxpbmV7cG9zaXRpb246YWJzb2x1dGU7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnQ7cG9pbnRlci1ldmVudHM6bm9uZSFpbXBvcnRhbnQ7Zm9udC1zaXplOjE2cHh9I2xlYWRlci1saW5lLWRlZnN7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjB9LmxlYWRlci1saW5lLWxpbmUtcGF0aHtmaWxsOm5vbmV9LmxlYWRlci1saW5lLW1hc2stYmctcmVjdHtmaWxsOiNmZmZ9LmxlYWRlci1saW5lLWNhcHMtbWFzay1hbmNob3IsLmxlYWRlci1saW5lLWNhcHMtbWFzay1tYXJrZXItc2hhcGV7ZmlsbDojMDAwfS5sZWFkZXItbGluZS1jYXBzLW1hc2stYW5jaG9ye3N0cm9rZTojMDAwfS5sZWFkZXItbGluZS1jYXBzLW1hc2stbGluZSwubGVhZGVyLWxpbmUtcGx1Z3MtZmFjZXtzdHJva2U6dHJhbnNwYXJlbnR9LmxlYWRlci1saW5lLWxpbmUtbWFzay1zaGFwZXtzdHJva2U6I2ZmZn0ubGVhZGVyLWxpbmUtbGluZS1vdXRsaW5lLW1hc2stc2hhcGV7c3Ryb2tlOiMwMDB9LmxlYWRlci1saW5lLXBsdWctbWFzay1zaGFwZXtmaWxsOiNmZmY7c3Ryb2tlOiMwMDB9LmxlYWRlci1saW5lLXBsdWctb3V0bGluZS1tYXNrLXNoYXBle2ZpbGw6IzAwMDtzdHJva2U6I2ZmZn0ubGVhZGVyLWxpbmUtYXJlYUFuY2hvcntwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzp2aXNpYmxlIWltcG9ydGFudH1dXT48L3N0eWxlPjxkZWZzPjxjaXJjbGUgaWQ9XCJsZWFkZXItbGluZS1kaXNjXCIgY3g9XCIwXCIgY3k9XCIwXCIgcj1cIjVcIi8+PHJlY3QgaWQ9XCJsZWFkZXItbGluZS1zcXVhcmVcIiB4PVwiLTVcIiB5PVwiLTVcIiB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIi8+PHBvbHlnb24gaWQ9XCJsZWFkZXItbGluZS1hcnJvdzFcIiBwb2ludHM9XCItOCwtOCA4LDAgLTgsOCAtNSwwXCIvPjxwb2x5Z29uIGlkPVwibGVhZGVyLWxpbmUtYXJyb3cyXCIgcG9pbnRzPVwiLTQsLTggNCwwIC00LDggLTcsNSAtMiwwIC03LC01XCIvPjxwb2x5Z29uIGlkPVwibGVhZGVyLWxpbmUtYXJyb3czXCIgcG9pbnRzPVwiLTQsLTUgOCwwIC00LDVcIi8+PGcgaWQ9XCJsZWFkZXItbGluZS1oYW5kXCI+PHBhdGggc3R5bGU9XCJmaWxsOiAjZmNmY2ZjXCIgZD1cIk05LjE5IDExLjE0aDQuNzVjMS4zOCAwIDIuNDktMS4xMSAyLjQ5LTIuNDkgMC0uNTEtLjE1LS45OC0uNDEtMS4zN2gxLjNjMS4zOCAwIDIuNDktMS4xMSAyLjQ5LTIuNDlzLTEuMTEtMi41My0yLjQ5LTIuNTNoMS4wMmMxLjM4IDAgMi40OS0xLjExIDIuNDktMi40OXMtMS4xMS0yLjQ5LTIuNDktMi40OWgxNC45NmMxLjM3IDAgMi40OS0xLjExIDIuNDktMi40OXMtMS4xMS0yLjQ5LTIuNDktMi40OUgxNi41OEMxNi05Ljg2IDE0LjI4LTExLjE0IDkuNy0xMS4xNGMtNC43OSAwLTYuNTUgMy40Mi03Ljg3IDQuNzNILTIuMTR2MTMuMjNoMy42OEMzLjI5IDkuOTcgNS40NyAxMS4xNCA5LjE5IDExLjE0TDkuMTkgMTEuMTRaXCIvPjxwYXRoIHN0eWxlPVwiZmlsbDogYmxhY2tcIiBkPVwiTTEzLjk1IDEyYzEuODUgMCAzLjM1LTEuNSAzLjM1LTMuMzUgMC0uMTctLjAyLS4zNC0uMDQtLjUxaC4wN2MxLjg1IDAgMy4zNS0xLjUgMy4zNS0zLjM1IDAtLjc5LS4yNy0xLjUxLS43Mi0yLjA4IDEuMDMtLjU3IDEuNzQtMS42NyAxLjc0LTIuOTMgMC0uNTktLjE2LTEuMTUtLjQzLTEuNjNoMTIuMDRjMS44NSAwIDMuMzUtMS41IDMuMzUtMy4zNSAwLTEuODUtMS41LTMuMzUtMy4zNS0zLjM1SDE3LjJDMTYuMjYtMTAuOTMgMTMuOTEtMTIgOS43LTEyIDUuMzYtMTIgMy4yMi05LjQgMS45NC03Ljg0YzAgMC0uMjkuMzMtLjUuNTctLjYzIDAtMy41OCAwLTMuNTggMEMtMi42MS03LjI3LTMtNi44OC0zLTYuNDF2MTMuMjNjMCAuNDcuMzkuODYuODYuODYgMCAwIDIuNDggMCAzLjIgMEMyLjkgMTAuNzMgNS4yOSAxMiA5LjE5IDEyTDEzLjk1IDEyWk05LjE5IDEwLjI4Yy0zLjQ2IDAtNS4zMy0xLjA1LTYuOS0zLjg3LS4xNS0uMjctLjQ0LS40NC0uNzUtLjQ0IDAgMC0xLjgxIDAtMi44MiAwVi01LjU1YzEuMDYgMCAzLjExIDAgMy4xMSAwIC4yNSAwIC40NC0uMDYuNjEtLjI1bC44My0uOTVjMS4yMy0xLjQ5IDIuOTEtMy41MyA2LjQzLTMuNTMgMy40NSAwIDQuOS43NCA1LjU3IDEuNzJoLTQuM2MtLjQ4IDAtLjg2LjM4LS44Ni44NnMuMzkuODYuODYuODZoMjIuMzRjLjkgMCAxLjYzLjczIDEuNjMgMS42MyAwIC45LS43MyAxLjYzLTEuNjMgMS42M0gxNS44M2MtLjQ4IDAtLjg2LjM4LS44Ni44NiAwIC40Ny4zOS44Ni44Ni44NmgyLjUyYy45IDAgMS42My43MyAxLjYzIDEuNjNzLS43MyAxLjYzLTEuNjMgMS42M2gtMy4xMmMtLjQ4IDAtLjg2LjM4LS44Ni44NiAwIC40Ny4zOS44Ni44Ni44NmgyLjExYy44OCAwIDEuNjMuNzYgMS42MyAxLjY3IDAgLjktLjczIDEuNjMtMS42MyAxLjYzaC0zLjJjLS40OCAwLS44Ni4zOS0uODYuODYgMCAuNDcuMzkuODYuODYuODZoMS4zNmMuMDUuMTYuMDkuMzQuMDkuNTEgMCAuOS0uNzMgMS42My0xLjYzIDEuNjNDMTMuOTUgMTAuMjggOS4xOSAxMC4yOCA5LjE5IDEwLjI4WlwiLz48L2c+PGcgaWQ9XCJsZWFkZXItbGluZS1jcm9zc2hhaXJcIj48cGF0aCBkPVwiTTAtNzguOTdjLTQzLjU0IDAtNzguOTcgMzUuNDMtNzguOTcgNzguOTcgMCA0My41NCAzNS40MyA3OC45NyA3OC45NyA3OC45N3M3OC45Ny0zNS40MyA3OC45Ny03OC45N0M3OC45Ny00My41NCA0My41NS03OC45NyAwLTc4Ljk3Wk03Ni41MS0xLjIxaC05Ljkxdi05LjExaC0yLjQzdjkuMTFoLTExLjQ1Yy0uNjQtMjguMTItMjMuMzgtNTAuODYtNTEuNS01MS41Vi02NC4xN2g5LjExVi02Ni42aC05LjExdi05LjkxQzQyLjQ2LTc1Ljg2IDc1Ljg2LTQyLjQ1IDc2LjUxLTEuMjFaTS0xLjIxLTMwLjc2aC05LjExdjIuNDNoOS4xMVYtNC4yYy0xLjQ0LjQyLTIuNTcgMS41NC0yLjk4IDIuOThILTI4LjMzdi05LjExaC0yLjQzdjkuMTFILTUwLjI5Qy00OS42NS0yOC0yNy45OS00OS42NS0xLjIxLTUwLjI5Vi0zMC43NlpNLTMwLjc2IDEuMjF2OS4xMWgyLjQzdi05LjExSC00LjJjLjQyIDEuNDQgMS41NCAyLjU3IDIuOTggMi45OHYyNC4xM2gtOS4xMXYyLjQzaDkuMTF2MTkuNTNDLTI3Ljk5IDQ5LjY1LTQ5LjY1IDI4LTUwLjI5IDEuMjFILTMwLjc2Wk0xLjIyIDMwLjc1aDkuMTF2LTIuNDNoLTkuMTFWNC4yYzEuNDQtLjQyIDIuNTYtMS41NCAyLjk4LTIuOThoMjQuMTN2OS4xMWgyLjQzdi05LjExaDE5LjUzQzQ5LjY1IDI4IDI4IDQ5LjY1IDEuMjIgNTAuMjlWMzAuNzVaTTMwLjc2LTEuMjF2LTkuMTFoLTIuNDN2OS4xMUg0LjJjLS40Mi0xLjQ0LTEuNTQtMi41Ni0yLjk4LTIuOThWLTI4LjMzaDkuMTF2LTIuNDNoLTkuMTFWLTUwLjI5QzI4LTQ5LjY1IDQ5LjY1LTI4IDUwLjI5LTEuMjFIMzAuNzZaTS0xLjIxLTc2LjUxdjkuOTFoLTkuMTF2Mi40M2g5LjExdjExLjQ1Yy0yOC4xMi42NC01MC44NiAyMy4zOC01MS41IDUxLjVILTY0LjE3di05LjExSC02Ni42djkuMTFoLTkuOTFDLTc1Ljg2LTQyLjQ1LTQyLjQ1LTc1Ljg2LTEuMjEtNzYuNTFaTS03Ni41MSAxLjIxaDkuOTF2OS4xMWgyLjQzdi05LjExaDExLjQ1Yy42NCAyOC4xMiAyMy4zOCA1MC44NiA1MS41IDUxLjV2MTEuNDVoLTkuMTF2Mi40M2g5LjExdjkuOTFDLTQyLjQ1IDc1Ljg2LTc1Ljg2IDQyLjQ1LTc2LjUxIDEuMjFaTTEuMjIgNzYuNTF2LTkuOTFoOS4xMXYtMi40M2gtOS4xMXYtMTEuNDVjMjguMTItLjY0IDUwLjg2LTIzLjM4IDUxLjUtNTEuNWgxMS40NXY5LjExaDIuNDN2LTkuMTFoOS45MUM3NS44NiA0Mi40NSA0Mi40NSA3NS44NiAxLjIyIDc2LjUxWlwiLz48cGF0aCBkPVwiTTAgODMuNTgtNy4xIDk2IDcuMSA5NlpcIi8+PHBhdGggZD1cIk0wLTgzLjU4IDcuMS05Ni03LjEtOTZcIi8+PHBhdGggZD1cIk04My41OCAwIDk2IDcuMSA5Ni03LjFaXCIvPjxwYXRoIGQ9XCJNLTgzLjU4IDAtOTYtNy4xLTk2IDcuMVpcIi8+PC9nPjwvZGVmcz48L3N2Zz4nLGFlPXtkaXNjOntlbG1JZDpcImxlYWRlci1saW5lLWRpc2NcIixub1JvdGF0ZTohMCxiQm94OntsZWZ0Oi01LHRvcDotNSx3aWR0aDoxMCxoZWlnaHQ6MTAscmlnaHQ6NSxib3R0b206NX0sd2lkdGhSOjIuNSxoZWlnaHRSOjIuNSxiQ2lyY2xlOjUsc2lkZUxlbjo1LGJhY2tMZW46NSxvdmVyaGVhZDowLG91dGxpbmVCYXNlOjEsb3V0bGluZU1heDo0fSxzcXVhcmU6e2VsbUlkOlwibGVhZGVyLWxpbmUtc3F1YXJlXCIsbm9Sb3RhdGU6ITAsYkJveDp7bGVmdDotNSx0b3A6LTUsd2lkdGg6MTAsaGVpZ2h0OjEwLHJpZ2h0OjUsYm90dG9tOjV9LHdpZHRoUjoyLjUsaGVpZ2h0UjoyLjUsYkNpcmNsZTo1LHNpZGVMZW46NSxiYWNrTGVuOjUsb3ZlcmhlYWQ6MCxvdXRsaW5lQmFzZToxLG91dGxpbmVNYXg6NH0sYXJyb3cxOntlbG1JZDpcImxlYWRlci1saW5lLWFycm93MVwiLGJCb3g6e2xlZnQ6LTgsdG9wOi04LHdpZHRoOjE2LGhlaWdodDoxNixyaWdodDo4LGJvdHRvbTo4fSx3aWR0aFI6NCxoZWlnaHRSOjQsYkNpcmNsZTo4LHNpZGVMZW46OCxiYWNrTGVuOjgsb3ZlcmhlYWQ6OCxvdXRsaW5lQmFzZToyLG91dGxpbmVNYXg6MS41fSxhcnJvdzI6e2VsbUlkOlwibGVhZGVyLWxpbmUtYXJyb3cyXCIsYkJveDp7bGVmdDotNyx0b3A6LTgsd2lkdGg6MTEsaGVpZ2h0OjE2LHJpZ2h0OjQsYm90dG9tOjh9LHdpZHRoUjoyLjc1LGhlaWdodFI6NCxiQ2lyY2xlOjgsc2lkZUxlbjo4LGJhY2tMZW46NyxvdmVyaGVhZDo0LG91dGxpbmVCYXNlOjEsb3V0bGluZU1heDoxLjc1fSxhcnJvdzM6e2VsbUlkOlwibGVhZGVyLWxpbmUtYXJyb3czXCIsYkJveDp7bGVmdDotNCx0b3A6LTUsd2lkdGg6MTIsaGVpZ2h0OjEwLHJpZ2h0OjgsYm90dG9tOjV9LHdpZHRoUjozLGhlaWdodFI6Mi41LGJDaXJjbGU6OCxzaWRlTGVuOjUsYmFja0xlbjo0LG92ZXJoZWFkOjgsb3V0bGluZUJhc2U6MSxvdXRsaW5lTWF4OjIuNX0saGFuZDp7ZWxtSWQ6XCJsZWFkZXItbGluZS1oYW5kXCIsYkJveDp7bGVmdDotMyx0b3A6LTEyLHdpZHRoOjQwLGhlaWdodDoyNCxyaWdodDozNyxib3R0b206MTJ9LHdpZHRoUjoxMCxoZWlnaHRSOjYsYkNpcmNsZTozNyxzaWRlTGVuOjEyLGJhY2tMZW46MyxvdmVyaGVhZDozN30sY3Jvc3NoYWlyOntlbG1JZDpcImxlYWRlci1saW5lLWNyb3NzaGFpclwiLG5vUm90YXRlOiEwLGJCb3g6e2xlZnQ6LTk2LHRvcDotOTYsd2lkdGg6MTkyLGhlaWdodDoxOTIscmlnaHQ6OTYsYm90dG9tOjk2fSx3aWR0aFI6NDgsaGVpZ2h0Ujo0OCxiQ2lyY2xlOjk2LHNpZGVMZW46OTYsYmFja0xlbjo5NixvdmVyaGVhZDowfX0saj17YmVoaW5kOm5lLGRpc2M6XCJkaXNjXCIsc3F1YXJlOlwic3F1YXJlXCIsYXJyb3cxOlwiYXJyb3cxXCIsYXJyb3cyOlwiYXJyb3cyXCIsYXJyb3czOlwiYXJyb3czXCIsaGFuZDpcImhhbmRcIixjcm9zc2hhaXI6XCJjcm9zc2hhaXJcIn0saWU9e2Rpc2M6XCJkaXNjXCIsc3F1YXJlOlwic3F1YXJlXCIsYXJyb3cxOlwiYXJyb3cxXCIsYXJyb3cyOlwiYXJyb3cyXCIsYXJyb3czOlwiYXJyb3czXCIsaGFuZDpcImhhbmRcIixjcm9zc2hhaXI6XCJjcm9zc2hhaXJcIn0sSD1bVixQLE4sVF0sVT1cImF1dG9cIixvZT17eDpcImxlZnRcIix5OlwidG9wXCIsd2lkdGg6XCJ3aWR0aFwiLGhlaWdodDpcImhlaWdodFwifSxaPTgwLFk9NCxYPTUscT0xMjAsUT04LEs9My43NSxKPTEwLCQ9MzAsZWU9LjU1MjI4NDcsbGU9LjI1Kk1hdGguUEksbT0vXlxccyooXFwtP1tcXGRcXC5dKylcXHMqKFxcJSk/XFxzKiQvLHJlPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixTPVwiLW1zLXNjcm9sbC1saW1pdFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZcIi1tcy1pbWUtYWxpZ25cImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmIXdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCxzZT0hUyYmISFkb2N1bWVudC51bmlxdWVJRCx1ZT1cIk1vekFwcGVhcmFuY2VcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxoZT0hKFN8fHVlfHwhd2luZG93LmNocm9tZXx8IXdpbmRvdy5DU1MpLHBlPSFTJiYhc2UmJiF1ZSYmIWhlJiYhd2luZG93LmNocm9tZSYmXCJXZWJraXRBcHBlYXJhbmNlXCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsY2U9c2V8fFM/LjI6LjEsZGU9e3BhdGg6RixsaW5lQ29sb3I6XCJjb3JhbFwiLGxpbmVTaXplOjQscGx1Z1NFOltuZSxcImFycm93MVwiXSxwbHVnU2l6ZVNFOlsxLDFdLGxpbmVPdXRsaW5lRW5hYmxlZDohMSxsaW5lT3V0bGluZUNvbG9yOlwiaW5kaWFucmVkXCIsbGluZU91dGxpbmVTaXplOi4yNSxwbHVnT3V0bGluZUVuYWJsZWRTRTpbITEsITFdLHBsdWdPdXRsaW5lU2l6ZVNFOlsxLDFdfSxmZT0ocz17fS50b1N0cmluZyx1PXt9Lmhhc093blByb3BlcnR5LnRvU3RyaW5nLGM9dS5jYWxsKE9iamVjdCksZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gZSYmXCJbb2JqZWN0IE9iamVjdF1cIj09PXMuY2FsbChlKSYmKCEodD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpfHwobj10Lmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikmJnQuY29uc3RydWN0b3IpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZ1LmNhbGwobik9PT1jKX0pLHllPU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJndpbmRvdy5pc0Zpbml0ZShlKX0sZz0oeD17ZWFzZTpbLjI1LC4xLC4yNSwxXSxsaW5lYXI6WzAsMCwxLDFdLFwiZWFzZS1pblwiOlsuNDIsMCwxLDFdLFwiZWFzZS1vdXRcIjpbMCwwLC41OCwxXSxcImVhc2UtaW4tb3V0XCI6Wy40MiwwLC41OCwxXX0sYj0xZTMvNjAvMixsPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLGIpfSxyPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZSl9LGk9TnVtYmVyLmlzRmluaXRlfHxmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmd2luZG93LmlzRmluaXRlKGUpfSxrPVtdLHc9MCx7YWRkOmZ1bmN0aW9uKG4sZSx0LGEsaSxvLGwpe3ZhciByLHMsdSxoLHAsYyxkLGYseSxtLFMsZyxfLHY9Kyt3O2Z1bmN0aW9uIEUoZSx0KXtyZXR1cm57dmFsdWU6bih0KSx0aW1lUmF0aW86ZSxvdXRwdXRSYXRpbzp0fX1pZihcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9eFtpXSksbj1ufHxmdW5jdGlvbigpe30sdDxiKXM9W0UoMCwwKSxFKDEsMSldO2Vsc2V7aWYodT1iL3Qscz1bRSgwLDApXSwwPT09aVswXSYmMD09PWlbMV0mJjE9PT1pWzJdJiYxPT09aVszXSlmb3IocD11O3A8PTE7cCs9dSlzLnB1c2goRShwLHApKTtlbHNlIGZvcihjPWg9KHA9dSkvMTA7Yzw9MTtjKz1oKV89Zz1TPW09eT12b2lkIDAsbT0oeT0oZj1jKSpmKSpmLF89MyooUz0xLWYpKnkscDw9KGQ9e3g6KGc9UypTKjMqZikqaVswXStfKmlbMl0rbSx5OmcqaVsxXStfKmlbM10rbX0pLngmJihzLnB1c2goRShkLngsZC55KSkscCs9dSk7cy5wdXNoKEUoMSwxKSl9cmV0dXJuIHI9e2FuaW1JZDp2LGZyYW1lQ2FsbGJhY2s6ZSxkdXJhdGlvbjp0LGNvdW50OmEsZnJhbWVzOnMscmV2ZXJzZTohIW99LGsucHVzaChyKSwhMSE9PWwmJmtlKHIsbCksdn0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciBhO2suc29tZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmFuaW1JZD09PW4mJihhPXQsIShlLmZyYW1lc1N0YXJ0PW51bGwpKX0pJiZrLnNwbGljZShhLDEpfSxzdGFydDpmdW5jdGlvbih0LG4sYSl7ay5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFuaW1JZD09PXQmJihlLnJldmVyc2U9ISFuLGtlKGUsYSksITApfSl9LHN0b3A6ZnVuY3Rpb24odCxuKXt2YXIgYTtyZXR1cm4gay5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFuaW1JZD09PXQmJihuP251bGwhPWUubGFzdEZyYW1lJiYoYT1lLmZyYW1lc1tlLmxhc3RGcmFtZV0udGltZVJhdGlvKTooYT0oRGF0ZS5ub3coKS1lLmZyYW1lc1N0YXJ0KS9lLmR1cmF0aW9uLGUucmV2ZXJzZSYmKGE9MS1hKSxhPDA/YT0wOjE8YSYmKGE9MSkpLCEoZS5mcmFtZXNTdGFydD1udWxsKSl9KSxhfSx2YWxpZFRpbWluZzpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD94W3RdOkFycmF5LmlzQXJyYXkodCkmJlswLDEsMiwzXS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gaSh0W2VdKSYmMDw9dFtlXSYmdFtlXTw9MX0pP1t0WzBdLHRbMV0sdFsyXSx0WzNdXTpudWxsfX0pLF89ZnVuY3Rpb24oZSl7ZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGEmJmUuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLnNldFBhdGhEYXRhfHxmdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fc3RyaW5nPWUsdGhpcy5fY3VycmVudEluZGV4PTAsdGhpcy5fZW5kSW5kZXg9dGhpcy5fc3RyaW5nLmxlbmd0aCx0aGlzLl9wcmV2Q29tbWFuZD1udWxsLHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpfXZhciBvPXtaOlwiWlwiLE06XCJNXCIsTDpcIkxcIixDOlwiQ1wiLFE6XCJRXCIsQTpcIkFcIixIOlwiSFwiLFY6XCJWXCIsUzpcIlNcIixUOlwiVFwiLHo6XCJaXCIsbTpcIm1cIixsOlwibFwiLGM6XCJjXCIscTpcInFcIixhOlwiYVwiLGg6XCJoXCIsdjpcInZcIixzOlwic1wiLHQ6XCJ0XCJ9LGw9LTEhPT1lLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgXCIpO2kucHJvdG90eXBlPXtwYXJzZVNlZ21lbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSx0PW9bZV0/b1tlXTpudWxsO2lmKG51bGw9PT10KXtpZihudWxsPT09dGhpcy5fcHJldkNvbW1hbmQpcmV0dXJuIG51bGw7aWYobnVsbD09PSh0PShcIitcIj09PWV8fFwiLVwiPT09ZXx8XCIuXCI9PT1lfHxcIjBcIjw9ZSYmZTw9XCI5XCIpJiZcIlpcIiE9PXRoaXMuX3ByZXZDb21tYW5kP1wiTVwiPT09dGhpcy5fcHJldkNvbW1hbmQ/XCJMXCI6XCJtXCI9PT10aGlzLl9wcmV2Q29tbWFuZD9cImxcIjp0aGlzLl9wcmV2Q29tbWFuZDpudWxsKSlyZXR1cm4gbnVsbH1lbHNlIHRoaXMuX2N1cnJlbnRJbmRleCs9MTt2YXIgbj1udWxsLGE9KHRoaXMuX3ByZXZDb21tYW5kPXQpLnRvVXBwZXJDYXNlKCk7cmV0dXJuXCJIXCI9PT1hfHxcIlZcIj09PWE/bj1bdGhpcy5fcGFyc2VOdW1iZXIoKV06XCJNXCI9PT1hfHxcIkxcIj09PWF8fFwiVFwiPT09YT9uPVt0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCldOlwiU1wiPT09YXx8XCJRXCI9PT1hP249W3RoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCldOlwiQ1wiPT09YT9uPVt0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKV06XCJBXCI9PT1hP249W3RoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlQXJjRmxhZygpLHRoaXMuX3BhcnNlQXJjRmxhZygpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKV06XCJaXCI9PT1hJiYodGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCksbj1bXSksbnVsbD09PW58fDA8PW4uaW5kZXhPZihudWxsKT9udWxsOnt0eXBlOnQsdmFsdWVzOm59fSxoYXNNb3JlRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXh9LHBlZWtTZWdtZW50VHlwZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO3JldHVybiBvW2VdP29bZV06bnVsbH0saW5pdGlhbENvbW1hbmRJc01vdmVUbzpmdW5jdGlvbigpe2lmKCF0aGlzLmhhc01vcmVEYXRhKCkpcmV0dXJuITA7dmFyIGU9dGhpcy5wZWVrU2VnbWVudFR5cGUoKTtyZXR1cm5cIk1cIj09PWV8fFwibVwiPT09ZX0sX2lzQ3VycmVudFNwYWNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF07cmV0dXJuIGU8PVwiIFwiJiYoXCIgXCI9PT1lfHxcIlxcblwiPT09ZXx8XCJcXHRcIj09PWV8fFwiXFxyXCI9PT1lfHxcIlxcZlwiPT09ZSl9LF9za2lwT3B0aW9uYWxTcGFjZXM6ZnVuY3Rpb24oKXtmb3IoO3RoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmdGhpcy5faXNDdXJyZW50U3BhY2UoKTspdGhpcy5fY3VycmVudEluZGV4Kz0xO3JldHVybiB0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXh9LF9za2lwT3B0aW9uYWxTcGFjZXNPckRlbGltaXRlcjpmdW5jdGlvbigpe3JldHVybiEodGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiYhdGhpcy5faXNDdXJyZW50U3BhY2UoKSYmXCIsXCIhPT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSkmJih0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKSYmdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIixcIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdJiYodGhpcy5fY3VycmVudEluZGV4Kz0xLHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpKSx0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgpfSxfcGFyc2VOdW1iZXI6ZnVuY3Rpb24oKXt2YXIgZT0wLHQ9MCxuPTEsYT0wLGk9MSxvPTEsbD10aGlzLl9jdXJyZW50SW5kZXg7aWYodGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCksdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIitcIj09PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdP3RoaXMuX2N1cnJlbnRJbmRleCs9MTp0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiLVwiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0mJih0aGlzLl9jdXJyZW50SW5kZXgrPTEsaT0tMSksdGhpcy5fY3VycmVudEluZGV4PT09dGhpcy5fZW5kSW5kZXh8fCh0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTxcIjBcInx8XCI5XCI8dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pJiZcIi5cIiE9PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKXJldHVybiBudWxsO2Zvcih2YXIgcj10aGlzLl9jdXJyZW50SW5kZXg7dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIjBcIjw9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0mJnRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdPD1cIjlcIjspdGhpcy5fY3VycmVudEluZGV4Kz0xO2lmKHRoaXMuX2N1cnJlbnRJbmRleCE9PXIpZm9yKHZhciBzPXRoaXMuX2N1cnJlbnRJbmRleC0xLHU9MTtyPD1zOyl0Kz11Kih0aGlzLl9zdHJpbmdbc10tXCIwXCIpLC0tcyx1Kj0xMDtpZih0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiLlwiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pe2lmKHRoaXMuX2N1cnJlbnRJbmRleCs9MSx0aGlzLl9jdXJyZW50SW5kZXg+PXRoaXMuX2VuZEluZGV4fHx0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTxcIjBcInx8XCI5XCI8dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pcmV0dXJuIG51bGw7Zm9yKDt0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiMFwiPD10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSYmdGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF08PVwiOVwiOyluKj0xMCxhKz0odGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpLVwiMFwiKS9uLHRoaXMuX2N1cnJlbnRJbmRleCs9MX1pZih0aGlzLl9jdXJyZW50SW5kZXghPT1sJiZ0aGlzLl9jdXJyZW50SW5kZXgrMTx0aGlzLl9lbmRJbmRleCYmKFwiZVwiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF18fFwiRVwiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pJiZcInhcIiE9PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXgrMV0mJlwibVwiIT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleCsxXSl7aWYodGhpcy5fY3VycmVudEluZGV4Kz0xLFwiK1wiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0/dGhpcy5fY3VycmVudEluZGV4Kz0xOlwiLVwiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0mJih0aGlzLl9jdXJyZW50SW5kZXgrPTEsbz0tMSksdGhpcy5fY3VycmVudEluZGV4Pj10aGlzLl9lbmRJbmRleHx8dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF08XCIwXCJ8fFwiOVwiPHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKXJldHVybiBudWxsO2Zvcig7dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZcIjBcIjw9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0mJnRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdPD1cIjlcIjspZSo9MTAsZSs9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0tXCIwXCIsdGhpcy5fY3VycmVudEluZGV4Kz0xfXZhciBoPXQrYTtyZXR1cm4gaCo9aSxlJiYoaCo9TWF0aC5wb3coMTAsbyplKSksbD09PXRoaXMuX2N1cnJlbnRJbmRleD9udWxsOih0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXNPckRlbGltaXRlcigpLGgpfSxfcGFyc2VBcmNGbGFnOmZ1bmN0aW9uKCl7aWYodGhpcy5fY3VycmVudEluZGV4Pj10aGlzLl9lbmRJbmRleClyZXR1cm4gbnVsbDt2YXIgZT1udWxsLHQ9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF07aWYodGhpcy5fY3VycmVudEluZGV4Kz0xLFwiMFwiPT09dCllPTA7ZWxzZXtpZihcIjFcIiE9PXQpcmV0dXJuIG51bGw7ZT0xfXJldHVybiB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXNPckRlbGltaXRlcigpLGV9fTtmdW5jdGlvbiBhKGUpe2lmKCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuW107dmFyIHQ9bmV3IGkoZSksbj1bXTtpZih0LmluaXRpYWxDb21tYW5kSXNNb3ZlVG8oKSlmb3IoO3QuaGFzTW9yZURhdGEoKTspe3ZhciBhPXQucGFyc2VTZWdtZW50KCk7aWYobnVsbD09PWEpYnJlYWs7bi5wdXNoKGEpfXJldHVybiBufWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOmUudHlwZSx2YWx1ZXM6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS52YWx1ZXMpfX0pfWZ1bmN0aW9uIGQoZSl7dmFyIG09W10sUz1udWxsLGc9bnVsbCxfPW51bGwsdj1udWxsLEU9bnVsbCx4PW51bGwsYj1udWxsO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixhLGksbyxsLHIscyx1LGgscCxjLGQsZix5O1wiTVwiPT09ZS50eXBlPyhmPWUudmFsdWVzWzBdLHk9ZS52YWx1ZXNbMV0sbS5wdXNoKHt0eXBlOlwiTVwiLHZhbHVlczpbZix5XX0pLHY9eD1mLEU9Yj15KTpcIkNcIj09PWUudHlwZT8oYT1lLnZhbHVlc1swXSxpPWUudmFsdWVzWzFdLHQ9ZS52YWx1ZXNbMl0sbj1lLnZhbHVlc1szXSxmPWUudmFsdWVzWzRdLHk9ZS52YWx1ZXNbNV0sbS5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbYSxpLHQsbixmLHldfSksZz10LF89bix2PWYsRT15KTpcIkxcIj09PWUudHlwZT8oZj1lLnZhbHVlc1swXSx5PWUudmFsdWVzWzFdLG0ucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W2YseV19KSx2PWYsRT15KTpcIkhcIj09PWUudHlwZT8oZj1lLnZhbHVlc1swXSxtLnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOltmLEVdfSksdj1mKTpcIlZcIj09PWUudHlwZT8oeT1lLnZhbHVlc1swXSxtLnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOlt2LHldfSksRT15KTpcIlNcIj09PWUudHlwZT8odD1lLnZhbHVlc1swXSxuPWUudmFsdWVzWzFdLGY9ZS52YWx1ZXNbMl0seT1lLnZhbHVlc1szXSxsPVwiQ1wiPT09U3x8XCJTXCI9PT1TPyhvPXYrKHYtZyksRSsoRS1fKSk6KG89dixFKSxtLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOltvLGwsdCxuLGYseV19KSxnPXQsXz1uLHY9ZixFPXkpOlwiVFwiPT09ZS50eXBlPyhmPWUudmFsdWVzWzBdLHk9ZS52YWx1ZXNbMV0saT1cIlFcIj09PVN8fFwiVFwiPT09Uz8oYT12Kyh2LWcpLEUrKEUtXykpOihhPXYsRSksbz12KzIqKGEtdikvMyxsPUUrMiooaS1FKS8zLHI9ZisyKihhLWYpLzMscz15KzIqKGkteSkvMyxtLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOltvLGwscixzLGYseV19KSxnPWEsXz1pLHY9ZixFPXkpOlwiUVwiPT09ZS50eXBlPyhhPWUudmFsdWVzWzBdLGk9ZS52YWx1ZXNbMV0sZj1lLnZhbHVlc1syXSx5PWUudmFsdWVzWzNdLG89disyKihhLXYpLzMsbD1FKzIqKGktRSkvMyxyPWYrMiooYS1mKS8zLHM9eSsyKihpLXkpLzMsbS5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbbyxsLHIscyxmLHldfSksZz1hLF89aSx2PWYsRT15KTpcIkFcIj09PWUudHlwZT8odT1lLnZhbHVlc1swXSxoPWUudmFsdWVzWzFdLHA9ZS52YWx1ZXNbMl0sYz1lLnZhbHVlc1szXSxkPWUudmFsdWVzWzRdLGY9ZS52YWx1ZXNbNV0seT1lLnZhbHVlc1s2XSwwPT09dXx8MD09PWg/KG0ucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W3YsRSxmLHksZix5XX0pLHY9ZixFPXkpOnY9PT1mJiZFPT09eXx8VSh2LEUsZix5LHUsaCxwLGMsZCkuZm9yRWFjaChmdW5jdGlvbihlKXttLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOmV9KSx2PWYsRT15fSkpOlwiWlwiPT09ZS50eXBlJiYobS5wdXNoKGUpLHY9eCxFPWIpLFM9ZS50eXBlfSksbX12YXIgbj1lLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUscz1lLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUsZj1lLlN5bWJvbD9lLlN5bWJvbCgpOlwiX19jYWNoZWRQYXRoRGF0YVwiLHk9ZS5TeW1ib2w/ZS5TeW1ib2woKTpcIl9fY2FjaGVkTm9ybWFsaXplZFBhdGhEYXRhXCIsVT1mdW5jdGlvbihlLHQsbixhLGksbyxsLHIscyx1KXtmdW5jdGlvbiBoKGUsdCxuKXtyZXR1cm57eDplKk1hdGguY29zKG4pLXQqTWF0aC5zaW4obikseTplKk1hdGguc2luKG4pK3QqTWF0aC5jb3Mobil9fXZhciBwLGMsZCxmLHksbSxTLGcsXyx2LEUseCxiLGssdyxPPShwPWwsTWF0aC5QSSpwLzE4MCksTT1bXTt1PyhrPXVbMF0sdz11WzFdLHg9dVsyXSxiPXVbM10pOihlPShjPWgoZSx0LC1PKSkueCx0PWMueSwxPChtPShmPShlLShuPShkPWgobixhLC1PKSkueCkpLzIpKmYvKGkqaSkrKHk9KHQtKGE9ZC55KSkvMikqeS8obypvKSkmJihpKj1tPU1hdGguc3FydChtKSxvKj1tKSxfPShTPWkqaSkqKGc9bypvKS1TKnkqeS1nKmYqZix2PVMqeSp5K2cqZipmLHg9KEU9KHI9PT1zPy0xOjEpKk1hdGguc3FydChNYXRoLmFicyhfL3YpKSkqaSp5L28rKGUrbikvMixiPUUqLW8qZi9pKyh0K2EpLzIsaz1NYXRoLmFzaW4ocGFyc2VGbG9hdCgoKHQtYikvbykudG9GaXhlZCg5KSkpLHc9TWF0aC5hc2luKHBhcnNlRmxvYXQoKChhLWIpL28pLnRvRml4ZWQoOSkpKSxlPHgmJihrPU1hdGguUEktayksbjx4JiYodz1NYXRoLlBJLXcpLGs8MCYmKGs9MipNYXRoLlBJK2spLHc8MCYmKHc9MipNYXRoLlBJK3cpLHMmJnc8ayYmKGstPTIqTWF0aC5QSSksIXMmJms8dyYmKHctPTIqTWF0aC5QSSkpO3ZhciBJLEMsTCxBPXctaztNYXRoLmFicyhBKT4xMjAqTWF0aC5QSS8xODAmJihJPXcsQz1uLEw9YSx3PXMmJms8dz9rKzEyMCpNYXRoLlBJLzE4MCoxOmsrMTIwKk1hdGguUEkvMTgwKi0xLG49eCtpKk1hdGguY29zKHcpLGE9YitvKk1hdGguc2luKHcpLE09VShuLGEsQyxMLGksbyxsLDAscyxbdyxJLHgsYl0pKSxBPXctazt2YXIgVj1NYXRoLmNvcyhrKSxQPU1hdGguc2luKGspLE49TWF0aC5jb3ModyksVD1NYXRoLnNpbih3KSxXPU1hdGgudGFuKEEvNCksQj00LzMqaSpXLFI9NC8zKm8qVyxGPVtlLHRdLEc9W2UrQipQLHQtUipWXSxEPVtuK0IqVCxhLVIqTl0sej1bbixhXTtpZihHWzBdPTIqRlswXS1HWzBdLEdbMV09MipGWzFdLUdbMV0sdSlyZXR1cm5bRyxELHpdLmNvbmNhdChNKTtNPVtHLEQsel0uY29uY2F0KE0pLmpvaW4oKS5zcGxpdChcIixcIik7dmFyIGo9W10sSD1bXTtyZXR1cm4gTS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dCUyP0gucHVzaChoKE1bdC0xXSxNW3RdLE8pLnkpOkgucHVzaChoKE1bdF0sTVt0KzFdLE8pLngpLDY9PT1ILmxlbmd0aCYmKGoucHVzaChIKSxIPVtdKX0pLGp9O2UuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihlLHQpe1wiZFwiPT09ZSYmKHRoaXNbZl09bnVsbCx0aGlzW3ldPW51bGwpLG4uY2FsbCh0aGlzLGUsdCl9LGUuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihlLHQpe1wiZFwiPT09ZSYmKHRoaXNbZl09bnVsbCx0aGlzW3ldPW51bGwpLHMuY2FsbCh0aGlzLGUpfSxlLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbihlKXtpZihlJiZlLm5vcm1hbGl6ZSl7aWYodGhpc1t5XSlyZXR1cm4gcih0aGlzW3ldKTt0aGlzW2ZdP249cih0aGlzW2ZdKToobj1hKHRoaXMuZ2V0QXR0cmlidXRlKFwiZFwiKXx8XCJcIiksdGhpc1tmXT1yKG4pKTt2YXIgdD1kKChzPVtdLGM9cD1oPXU9bnVsbCxuLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixhLGksbyxsLHI9ZS50eXBlO1wiTVwiPT09cj8obz1lLnZhbHVlc1swXSxsPWUudmFsdWVzWzFdLHMucHVzaCh7dHlwZTpcIk1cIix2YWx1ZXM6W28sbF19KSx1PXA9byxoPWM9bCk6XCJtXCI9PT1yPyhvPXUrZS52YWx1ZXNbMF0sbD1oK2UudmFsdWVzWzFdLHMucHVzaCh7dHlwZTpcIk1cIix2YWx1ZXM6W28sbF19KSx1PXA9byxoPWM9bCk6XCJMXCI9PT1yPyhvPWUudmFsdWVzWzBdLGw9ZS52YWx1ZXNbMV0scy5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbbyxsXX0pLHU9byxoPWwpOlwibFwiPT09cj8obz11K2UudmFsdWVzWzBdLGw9aCtlLnZhbHVlc1sxXSxzLnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOltvLGxdfSksdT1vLGg9bCk6XCJDXCI9PT1yPyh0PWUudmFsdWVzWzBdLG49ZS52YWx1ZXNbMV0sYT1lLnZhbHVlc1syXSxpPWUudmFsdWVzWzNdLG89ZS52YWx1ZXNbNF0sbD1lLnZhbHVlc1s1XSxzLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOlt0LG4sYSxpLG8sbF19KSx1PW8saD1sKTpcImNcIj09PXI/KHQ9dStlLnZhbHVlc1swXSxuPWgrZS52YWx1ZXNbMV0sYT11K2UudmFsdWVzWzJdLGk9aCtlLnZhbHVlc1szXSxvPXUrZS52YWx1ZXNbNF0sbD1oK2UudmFsdWVzWzVdLHMucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W3QsbixhLGksbyxsXX0pLHU9byxoPWwpOlwiUVwiPT09cj8odD1lLnZhbHVlc1swXSxuPWUudmFsdWVzWzFdLG89ZS52YWx1ZXNbMl0sbD1lLnZhbHVlc1szXSxzLnB1c2goe3R5cGU6XCJRXCIsdmFsdWVzOlt0LG4sbyxsXX0pLHU9byxoPWwpOlwicVwiPT09cj8odD11K2UudmFsdWVzWzBdLG49aCtlLnZhbHVlc1sxXSxvPXUrZS52YWx1ZXNbMl0sbD1oK2UudmFsdWVzWzNdLHMucHVzaCh7dHlwZTpcIlFcIix2YWx1ZXM6W3QsbixvLGxdfSksdT1vLGg9bCk6XCJBXCI9PT1yPyhvPWUudmFsdWVzWzVdLGw9ZS52YWx1ZXNbNl0scy5wdXNoKHt0eXBlOlwiQVwiLHZhbHVlczpbZS52YWx1ZXNbMF0sZS52YWx1ZXNbMV0sZS52YWx1ZXNbMl0sZS52YWx1ZXNbM10sZS52YWx1ZXNbNF0sbyxsXX0pLHU9byxoPWwpOlwiYVwiPT09cj8obz11K2UudmFsdWVzWzVdLGw9aCtlLnZhbHVlc1s2XSxzLnB1c2goe3R5cGU6XCJBXCIsdmFsdWVzOltlLnZhbHVlc1swXSxlLnZhbHVlc1sxXSxlLnZhbHVlc1syXSxlLnZhbHVlc1szXSxlLnZhbHVlc1s0XSxvLGxdfSksdT1vLGg9bCk6XCJIXCI9PT1yPyhvPWUudmFsdWVzWzBdLHMucHVzaCh7dHlwZTpcIkhcIix2YWx1ZXM6W29dfSksdT1vKTpcImhcIj09PXI/KG89dStlLnZhbHVlc1swXSxzLnB1c2goe3R5cGU6XCJIXCIsdmFsdWVzOltvXX0pLHU9byk6XCJWXCI9PT1yPyhsPWUudmFsdWVzWzBdLHMucHVzaCh7dHlwZTpcIlZcIix2YWx1ZXM6W2xdfSksaD1sKTpcInZcIj09PXI/KGw9aCtlLnZhbHVlc1swXSxzLnB1c2goe3R5cGU6XCJWXCIsdmFsdWVzOltsXX0pLGg9bCk6XCJTXCI9PT1yPyhhPWUudmFsdWVzWzBdLGk9ZS52YWx1ZXNbMV0sbz1lLnZhbHVlc1syXSxsPWUudmFsdWVzWzNdLHMucHVzaCh7dHlwZTpcIlNcIix2YWx1ZXM6W2EsaSxvLGxdfSksdT1vLGg9bCk6XCJzXCI9PT1yPyhhPXUrZS52YWx1ZXNbMF0saT1oK2UudmFsdWVzWzFdLG89dStlLnZhbHVlc1syXSxsPWgrZS52YWx1ZXNbM10scy5wdXNoKHt0eXBlOlwiU1wiLHZhbHVlczpbYSxpLG8sbF19KSx1PW8saD1sKTpcIlRcIj09PXI/KG89ZS52YWx1ZXNbMF0sbD1lLnZhbHVlc1sxXSxzLnB1c2goe3R5cGU6XCJUXCIsdmFsdWVzOltvLGxdfSksdT1vLGg9bCk6XCJ0XCI9PT1yPyhvPXUrZS52YWx1ZXNbMF0sbD1oK2UudmFsdWVzWzFdLHMucHVzaCh7dHlwZTpcIlRcIix2YWx1ZXM6W28sbF19KSx1PW8saD1sKTpcIlpcIiE9PXImJlwielwiIT09cnx8KHMucHVzaCh7dHlwZTpcIlpcIix2YWx1ZXM6W119KSx1PXAsaD1jKX0pLHMpKTtyZXR1cm4gdGhpc1t5XT1yKHQpLHR9aWYodGhpc1tmXSlyZXR1cm4gcih0aGlzW2ZdKTt2YXIgcyx1LGgscCxjLG49YSh0aGlzLmdldEF0dHJpYnV0ZShcImRcIil8fFwiXCIpO3JldHVybiB0aGlzW2ZdPXIobiksbn0sZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuc2V0UGF0aERhdGE9ZnVuY3Rpb24oZSl7aWYoMD09PWUubGVuZ3RoKWw/dGhpcy5zZXRBdHRyaWJ1dGUoXCJkXCIsXCJcIik6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJkXCIpO2Vsc2V7Zm9yKHZhciB0PVwiXCIsbj0wLGE9ZS5sZW5ndGg7bjxhO24rPTEpe3ZhciBpPWVbbl07MDxuJiYodCs9XCIgXCIpLHQrPWkudHlwZSxpLnZhbHVlcyYmMDxpLnZhbHVlcy5sZW5ndGgmJih0Kz1cIiBcIitpLnZhbHVlcy5qb2luKFwiIFwiKSl9dGhpcy5zZXRBdHRyaWJ1dGUoXCJkXCIsdCl9fSxlLlNWR1JlY3RFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnguYmFzZVZhbC52YWx1ZSxuPXRoaXMueS5iYXNlVmFsLnZhbHVlLGE9dGhpcy53aWR0aC5iYXNlVmFsLnZhbHVlLGk9dGhpcy5oZWlnaHQuYmFzZVZhbC52YWx1ZSxvPXRoaXMuaGFzQXR0cmlidXRlKFwicnhcIik/dGhpcy5yeC5iYXNlVmFsLnZhbHVlOnRoaXMucnkuYmFzZVZhbC52YWx1ZSxsPXRoaXMuaGFzQXR0cmlidXRlKFwicnlcIik/dGhpcy5yeS5iYXNlVmFsLnZhbHVlOnRoaXMucnguYmFzZVZhbC52YWx1ZTthLzI8byYmKG89YS8yKSxpLzI8bCYmKGw9aS8yKTt2YXIgcj0ocj1be3R5cGU6XCJNXCIsdmFsdWVzOlt0K28sbl19LHt0eXBlOlwiSFwiLHZhbHVlczpbdCthLW9dfSx7dHlwZTpcIkFcIix2YWx1ZXM6W28sbCwwLDAsMSx0K2EsbitsXX0se3R5cGU6XCJWXCIsdmFsdWVzOltuK2ktbF19LHt0eXBlOlwiQVwiLHZhbHVlczpbbyxsLDAsMCwxLHQrYS1vLG4raV19LHt0eXBlOlwiSFwiLHZhbHVlczpbdCtvXX0se3R5cGU6XCJBXCIsdmFsdWVzOltvLGwsMCwwLDEsdCxuK2ktbF19LHt0eXBlOlwiVlwiLHZhbHVlczpbbitsXX0se3R5cGU6XCJBXCIsdmFsdWVzOltvLGwsMCwwLDEsdCtvLG5dfSx7dHlwZTpcIlpcIix2YWx1ZXM6W119XSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiQVwiIT09ZS50eXBlfHwwIT09ZS52YWx1ZXNbMF0mJjAhPT1lLnZhbHVlc1sxXX0pO3JldHVybiBlJiYhMD09PWUubm9ybWFsaXplJiYocj1kKHIpKSxyfSxlLlNWR0NpcmNsZUVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3guYmFzZVZhbC52YWx1ZSxuPXRoaXMuY3kuYmFzZVZhbC52YWx1ZSxhPXRoaXMuci5iYXNlVmFsLnZhbHVlLGk9W3t0eXBlOlwiTVwiLHZhbHVlczpbdCthLG5dfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsYSwwLDAsMSx0LG4rYV19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxhLDAsMCwxLHQtYSxuXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGEsMCwwLDEsdCxuLWFdfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsYSwwLDAsMSx0K2Esbl19LHt0eXBlOlwiWlwiLHZhbHVlczpbXX1dO3JldHVybiBlJiYhMD09PWUubm9ybWFsaXplJiYoaT1kKGkpKSxpfSxlLlNWR0VsbGlwc2VFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmN4LmJhc2VWYWwudmFsdWUsbj10aGlzLmN5LmJhc2VWYWwudmFsdWUsYT10aGlzLnJ4LmJhc2VWYWwudmFsdWUsaT10aGlzLnJ5LmJhc2VWYWwudmFsdWUsbz1be3R5cGU6XCJNXCIsdmFsdWVzOlt0K2Esbl19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxpLDAsMCwxLHQsbitpXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGksMCwwLDEsdC1hLG5dfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsaSwwLDAsMSx0LG4taV19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxpLDAsMCwxLHQrYSxuXX0se3R5cGU6XCJaXCIsdmFsdWVzOltdfV07cmV0dXJuIGUmJiEwPT09ZS5ub3JtYWxpemUmJihvPWQobykpLG99LGUuU1ZHTGluZUVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuW3t0eXBlOlwiTVwiLHZhbHVlczpbdGhpcy54MS5iYXNlVmFsLnZhbHVlLHRoaXMueTEuYmFzZVZhbC52YWx1ZV19LHt0eXBlOlwiTFwiLHZhbHVlczpbdGhpcy54Mi5iYXNlVmFsLnZhbHVlLHRoaXMueTIuYmFzZVZhbC52YWx1ZV19XX0sZS5TVkdQb2x5bGluZUVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PHRoaXMucG9pbnRzLm51bWJlck9mSXRlbXM7dCs9MSl7dmFyIG49dGhpcy5wb2ludHMuZ2V0SXRlbSh0KTtlLnB1c2goe3R5cGU6MD09PXQ/XCJNXCI6XCJMXCIsdmFsdWVzOltuLngsbi55XX0pfXJldHVybiBlfSxlLlNWR1BvbHlnb25FbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLnBvaW50cy5udW1iZXJPZkl0ZW1zO3QrPTEpe3ZhciBuPXRoaXMucG9pbnRzLmdldEl0ZW0odCk7ZS5wdXNoKHt0eXBlOjA9PT10P1wiTVwiOlwiTFwiLHZhbHVlczpbbi54LG4ueV19KX1yZXR1cm4gZS5wdXNoKHt0eXBlOlwiWlwiLHZhbHVlczpbXX0pLGV9fSgpfSx2PShhPXt9LHhlLm09bj1bZnVuY3Rpb24oZSx0LG4pe24ucih0KTt2YXIgYT01MDAsaT1bXSxvPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSwxZTMvNjApfSxsPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfSxyPURhdGUubm93KCkscz12b2lkIDA7ZnVuY3Rpb24gdSgpe3ZhciBuPXZvaWQgMCxlPXZvaWQgMDtzJiYobC5jYWxsKHdpbmRvdyxzKSxzPW51bGwpLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDsodD1lLmV2ZW50KSYmKGUuZXZlbnQ9bnVsbCxlLmxpc3RlbmVyKHQpLG49ITApfSksbj8ocj1EYXRlLm5vdygpLGU9ITApOkRhdGUubm93KCktcjxhJiYoZT0hMCksZSYmKHM9by5jYWxsKHdpbmRvdyx1KSl9ZnVuY3Rpb24gaChuKXt2YXIgYT0tMTtyZXR1cm4gaS5zb21lKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXI9PT1uJiYoYT10LCEwKX0pLGF9dmFyIHA9e2FkZDpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuLTE9PT1oKGUpPyhpLnB1c2godD17bGlzdGVuZXI6ZX0pLGZ1bmN0aW9uKGUpe3QuZXZlbnQ9ZSxzfHx1KCl9KTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ7LTE8KHQ9aChlKSkmJihpLnNwbGljZSh0LDEpLCFpLmxlbmd0aCYmcyYmKGwuY2FsbCh3aW5kb3cscykscz1udWxsKSl9fTt0LmRlZmF1bHQ9cH1dLHhlLmM9YSx4ZS5kPWZ1bmN0aW9uKGUsdCxuKXt4ZS5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Om59KX0seGUucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSx4ZS50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD14ZSh0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHhlLnIobiksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBhIGluIHQpeGUuZChuLGEsZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxhKSk7cmV0dXJuIG59LHhlLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHhlLmQodCxcImFcIix0KSx0fSx4ZS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSx4ZS5wPVwiXCIseGUoeGUucz0wKS5kZWZhdWx0KSxtZT17bGluZV9hbHRDb2xvcjp7aW5pVmFsdWU6ITF9LGxpbmVfY29sb3I6e30sbGluZV9jb2xvclRyYTp7aW5pVmFsdWU6ITF9LGxpbmVfc3Ryb2tlV2lkdGg6e30scGx1Z19lbmFibGVkOntpbmlWYWx1ZTohMX0scGx1Z19lbmFibGVkU0U6e2hhc1NFOiEwLGluaVZhbHVlOiExfSxwbHVnX3BsdWdTRTp7aGFzU0U6ITAsaW5pVmFsdWU6bmV9LHBsdWdfY29sb3JTRTp7aGFzU0U6ITB9LHBsdWdfY29sb3JUcmFTRTp7aGFzU0U6ITAsaW5pVmFsdWU6ITF9LHBsdWdfbWFya2VyV2lkdGhTRTp7aGFzU0U6ITB9LHBsdWdfbWFya2VySGVpZ2h0U0U6e2hhc1NFOiEwfSxsaW5lT3V0bGluZV9lbmFibGVkOntpbmlWYWx1ZTohMX0sbGluZU91dGxpbmVfY29sb3I6e30sbGluZU91dGxpbmVfY29sb3JUcmE6e2luaVZhbHVlOiExfSxsaW5lT3V0bGluZV9zdHJva2VXaWR0aDp7fSxsaW5lT3V0bGluZV9pblN0cm9rZVdpZHRoOnt9LHBsdWdPdXRsaW5lX2VuYWJsZWRTRTp7aGFzU0U6ITAsaW5pVmFsdWU6ITF9LHBsdWdPdXRsaW5lX3BsdWdTRTp7aGFzU0U6ITAsaW5pVmFsdWU6bmV9LHBsdWdPdXRsaW5lX2NvbG9yU0U6e2hhc1NFOiEwfSxwbHVnT3V0bGluZV9jb2xvclRyYVNFOntoYXNTRTohMCxpbmlWYWx1ZTohMX0scGx1Z091dGxpbmVfc3Ryb2tlV2lkdGhTRTp7aGFzU0U6ITB9LHBsdWdPdXRsaW5lX2luU3Ryb2tlV2lkdGhTRTp7aGFzU0U6ITB9LHBvc2l0aW9uX3NvY2tldFhZU0U6e2hhc1NFOiEwLGhhc1Byb3BzOiEwfSxwb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRTp7aGFzU0U6ITB9LHBvc2l0aW9uX3BhdGg6e30scG9zaXRpb25fbGluZVN0cm9rZVdpZHRoOnt9LHBvc2l0aW9uX3NvY2tldEdyYXZpdHlTRTp7aGFzU0U6ITB9LHBhdGhfcGF0aERhdGE6e30scGF0aF9lZGdlOntoYXNQcm9wczohMH0sdmlld0JveF9iQm94OntoYXNQcm9wczohMH0sdmlld0JveF9wbHVnQkNpcmNsZVNFOntoYXNTRTohMH0sbGluZU1hc2tfZW5hYmxlZDp7aW5pVmFsdWU6ITF9LGxpbmVNYXNrX291dGxpbmVNb2RlOntpbmlWYWx1ZTohMX0sbGluZU1hc2tfeDp7fSxsaW5lTWFza195Ont9LGxpbmVPdXRsaW5lTWFza194Ont9LGxpbmVPdXRsaW5lTWFza195Ont9LG1hc2tCR1JlY3RfeDp7fSxtYXNrQkdSZWN0X3k6e30sY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFOntoYXNTRTohMCxpbmlWYWx1ZTohMX0sY2Fwc01hc2tBbmNob3JfcGF0aERhdGFTRTp7aGFzU0U6ITB9LGNhcHNNYXNrQW5jaG9yX3N0cm9rZVdpZHRoU0U6e2hhc1NFOiEwfSxjYXBzTWFza01hcmtlcl9lbmFibGVkOntpbmlWYWx1ZTohMX0sY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFOntoYXNTRTohMCxpbmlWYWx1ZTohMX0sY2Fwc01hc2tNYXJrZXJfcGx1Z1NFOntoYXNTRTohMCxpbmlWYWx1ZTpuZX0sY2Fwc01hc2tNYXJrZXJfbWFya2VyV2lkdGhTRTp7aGFzU0U6ITB9LGNhcHNNYXNrTWFya2VyX21hcmtlckhlaWdodFNFOntoYXNTRTohMH0sY2Fwc19lbmFibGVkOntpbmlWYWx1ZTohMX0sYXR0YWNoX3BsdWdTaWRlTGVuU0U6e2hhc1NFOiEwfSxhdHRhY2hfcGx1Z0JhY2tMZW5TRTp7aGFzU0U6ITB9fSxFPXtzaG93X29uOnt9LHNob3dfZWZmZWN0Ont9LHNob3dfYW5pbU9wdGlvbnM6e30sc2hvd19hbmltSWQ6e30sc2hvd19pbkFuaW06e319LE89XCJmYWRlXCIsU2U9W10sZ2U9e30sX2U9MCx2ZT17fSxFZT0wO2Z1bmN0aW9uIHhlKGUpe2lmKGFbZV0pcmV0dXJuIGFbZV0uZXhwb3J0czt2YXIgdD1hW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbltlXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyx4ZSksdC5sPSEwLHQuZXhwb3J0c31mdW5jdGlvbiBiZSgpe3ZhciBpPURhdGUubm93KCksbz0hMTtlJiYoci5jYWxsKHdpbmRvdyxlKSxlPW51bGwpLGsuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLGE7aWYoZS5mcmFtZXNTdGFydCl7aWYoKHQ9aS1lLmZyYW1lc1N0YXJ0KT49ZS5kdXJhdGlvbiYmZS5jb3VudCYmZS5sb29wc0xlZnQ8PTEpcmV0dXJuIGE9ZS5mcmFtZXNbZS5sYXN0RnJhbWU9ZS5yZXZlcnNlPzA6ZS5mcmFtZXMubGVuZ3RoLTFdLGUuZnJhbWVDYWxsYmFjayhhLnZhbHVlLCEwLGEudGltZVJhdGlvLGEub3V0cHV0UmF0aW8pLHZvaWQoZS5mcmFtZXNTdGFydD1udWxsKTtpZih0PmUuZHVyYXRpb24pe2lmKG49TWF0aC5mbG9vcih0L2UuZHVyYXRpb24pLGUuY291bnQpe2lmKG4+PWUubG9vcHNMZWZ0KXJldHVybiBhPWUuZnJhbWVzW2UubGFzdEZyYW1lPWUucmV2ZXJzZT8wOmUuZnJhbWVzLmxlbmd0aC0xXSxlLmZyYW1lQ2FsbGJhY2soYS52YWx1ZSwhMCxhLnRpbWVSYXRpbyxhLm91dHB1dFJhdGlvKSx2b2lkKGUuZnJhbWVzU3RhcnQ9bnVsbCk7ZS5sb29wc0xlZnQtPW59ZS5mcmFtZXNTdGFydCs9ZS5kdXJhdGlvbipuLHQ9aS1lLmZyYW1lc1N0YXJ0fWUucmV2ZXJzZSYmKHQ9ZS5kdXJhdGlvbi10KSxhPWUuZnJhbWVzW2UubGFzdEZyYW1lPU1hdGgucm91bmQodC9iKV0sITEhPT1lLmZyYW1lQ2FsbGJhY2soYS52YWx1ZSwhMSxhLnRpbWVSYXRpbyxhLm91dHB1dFJhdGlvKT9vPSEwOmUuZnJhbWVzU3RhcnQ9bnVsbH19KSxvJiYoZT1sLmNhbGwod2luZG93LGJlKSl9ZnVuY3Rpb24ga2UoZSx0KXtlLmZyYW1lc1N0YXJ0PURhdGUubm93KCksbnVsbCE9dCYmKGUuZnJhbWVzU3RhcnQtPWUuZHVyYXRpb24qKGUucmV2ZXJzZT8xLXQ6dCkpLGUubG9vcHNMZWZ0PWUuY291bnQsZS5sYXN0RnJhbWU9bnVsbCxiZSgpfWZ1bmN0aW9uIHdlKHQsbil7dmFyIGUsYTtyZXR1cm4gdHlwZW9mIHQhPXR5cGVvZiBufHwoZT1mZSh0KT9cIm9ialwiOkFycmF5LmlzQXJyYXkodCk/XCJhcnJheVwiOlwiXCIpIT0oZmUobik/XCJvYmpcIjpBcnJheS5pc0FycmF5KG4pP1wiYXJyYXlcIjpcIlwiKXx8KFwib2JqXCI9PT1lP3dlKGE9T2JqZWN0LmtleXModCkuc29ydCgpLE9iamVjdC5rZXlzKG4pLnNvcnQoKSl8fGEuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gd2UodFtlXSxuW2VdKX0pOlwiYXJyYXlcIj09PWU/dC5sZW5ndGghPT1uLmxlbmd0aHx8dC5zb21lKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdlKGUsblt0XSl9KTp0IT09bil9ZnVuY3Rpb24gT2Uobil7cmV0dXJuIG4/ZmUobik/T2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09T2Uoblt0XSksZX0se30pOkFycmF5LmlzQXJyYXkobik/bi5tYXAoT2UpOm46bn1mdW5jdGlvbiBNZShlKXt2YXIgdCxuLGEsaT0xLG89ZT0oZStcIlwiKS50cmltKCk7ZnVuY3Rpb24gbChlKXt2YXIgdD0xLG49bS5leGVjKGUpO3JldHVybiBuJiYodD1wYXJzZUZsb2F0KG5bMV0pLG5bMl0/dD0wPD10JiZ0PD0xMDA/dC8xMDA6MToodDwwfHwxPHQpJiYodD0xKSksdH1yZXR1cm4odD0vXihyZ2JhfGhzbGF8aHdifGdyYXl8ZGV2aWNlXFwtY215aylcXHMqXFwoKFtcXHNcXFNdKylcXCkkL2kuZXhlYyhlKSk/KG49dFsxXS50b0xvd2VyQ2FzZSgpLGE9dFsyXS50cmltKCkuc3BsaXQoL1xccyosXFxzKi8pLFwicmdiYVwiPT09biYmND09PWEubGVuZ3RoPyhpPWwoYVszXSksbz1cInJnYihcIithLnNsaWNlKDAsMykuam9pbihcIiwgXCIpK1wiKVwiKTpcImhzbGFcIj09PW4mJjQ9PT1hLmxlbmd0aD8oaT1sKGFbM10pLG89XCJoc2woXCIrYS5zbGljZSgwLDMpLmpvaW4oXCIsIFwiKStcIilcIik6XCJod2JcIj09PW4mJjQ9PT1hLmxlbmd0aD8oaT1sKGFbM10pLG89XCJod2IoXCIrYS5zbGljZSgwLDMpLmpvaW4oXCIsIFwiKStcIilcIik6XCJncmF5XCI9PT1uJiYyPT09YS5sZW5ndGg/KGk9bChhWzFdKSxvPVwiZ3JheShcIithWzBdK1wiKVwiKTpcImRldmljZS1jbXlrXCI9PT1uJiY1PD1hLmxlbmd0aCYmKGk9bChhWzRdKSxvPVwiZGV2aWNlLWNteWsoXCIrYS5zbGljZSgwLDQpLmpvaW4oXCIsIFwiKStcIilcIikpOih0PS9eXFwjKD86KFtcXGRhLWZdezZ9KShbXFxkYS1mXXsyfSl8KFtcXGRhLWZdezN9KShbXFxkYS1mXSkpJC9pLmV4ZWMoZSkpP289dFsxXT8oaT1wYXJzZUludCh0WzJdLDE2KS8yNTUsXCIjXCIrdFsxXSk6KGk9cGFyc2VJbnQodFs0XSt0WzRdLDE2KS8yNTUsXCIjXCIrdFszXSk6XCJ0cmFuc3BhcmVudFwiPT09ZS50b0xvY2FsZUxvd2VyQ2FzZSgpJiYoaT0wKSxbaSxvXX1mdW5jdGlvbiBJZShlKXtyZXR1cm4hKCFlfHxlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KX1mdW5jdGlvbiBDZShlLHQpe3ZhciBuLGEsaSxvLGw9e307aWYoIShpPWUub3duZXJEb2N1bWVudCkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZ2V0IGRvY3VtZW50IHRoYXQgY29udGFpbnMgdGhlIGVsZW1lbnQuXCIpLG51bGw7aWYoZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0RJU0NPTk5FQ1RFRClyZXR1cm4gY29uc29sZS5lcnJvcihcIkEgZGlzY29ubmVjdGVkIGVsZW1lbnQgd2FzIHBhc3NlZC5cIiksbnVsbDtmb3IoYSBpbiBuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpbFthXT1uW2FdO2lmKCF0KXtpZighKG89aS5kZWZhdWx0VmlldykpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZ2V0IHdpbmRvdyB0aGF0IGNvbnRhaW5zIHRoZSBlbGVtZW50LlwiKSxudWxsO2wubGVmdCs9by5wYWdlWE9mZnNldCxsLnJpZ2h0Kz1vLnBhZ2VYT2Zmc2V0LGwudG9wKz1vLnBhZ2VZT2Zmc2V0LGwuYm90dG9tKz1vLnBhZ2VZT2Zmc2V0fXJldHVybiBsfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4sYSxpPVtdLG89ZTtmb3IodD10fHx3aW5kb3c7Oyl7aWYoIShuPW8ub3duZXJEb2N1bWVudCkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZ2V0IGRvY3VtZW50IHRoYXQgY29udGFpbnMgdGhlIGVsZW1lbnQuXCIpLG51bGw7aWYoIShhPW4uZGVmYXVsdFZpZXcpKXJldHVybiBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGdldCB3aW5kb3cgdGhhdCBjb250YWlucyB0aGUgZWxlbWVudC5cIiksbnVsbDtpZihhPT09dClicmVhaztpZighKG89YS5mcmFtZUVsZW1lbnQpKXJldHVybiBjb25zb2xlLmVycm9yKFwiYGJhc2VXaW5kb3dgIHdhcyBub3QgZm91bmQuXCIpLG51bGw7aS51bnNoaWZ0KG8pfXJldHVybiBpfWZ1bmN0aW9uIEFlKGUsdCl7dmFyIG4sYSxvPTAsbD0wO3JldHVybihhPUxlKGUsdD10fHx3aW5kb3cpKT9hLmxlbmd0aD8oYS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpPUNlKGUsMDx0KTtvKz1pLmxlZnQsbCs9aS50b3AsYT0obj1lKS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobixcIlwiKSxpPXtsZWZ0Om4uY2xpZW50TGVmdCtwYXJzZUZsb2F0KGEucGFkZGluZ0xlZnQpLHRvcDpuLmNsaWVudFRvcCtwYXJzZUZsb2F0KGEucGFkZGluZ1RvcCl9LG8rPWkubGVmdCxsKz1pLnRvcH0pLChuPUNlKGUsITApKS5sZWZ0Kz1vLG4ucmlnaHQrPW8sbi50b3ArPWwsbi5ib3R0b20rPWwsbik6Q2UoZSk6bnVsbH1mdW5jdGlvbiBWZShlLHQpe3ZhciBuPWUueC10LngsYT1lLnktdC55O3JldHVybiBNYXRoLnNxcnQobipuK2EqYSl9ZnVuY3Rpb24gUGUoZSx0LG4pe3ZhciBhPXQueC1lLngsaT10LnktZS55O3JldHVybnt4OmUueCthKm4seTplLnkraSpuLGFuZ2xlOk1hdGguYXRhbjIoaSxhKS8oTWF0aC5QSS8xODApfX1mdW5jdGlvbiBOZShlLHQsbil7dmFyIGE9TWF0aC5hdGFuMihlLnktdC55LHQueC1lLngpO3JldHVybnt4OnQueCtNYXRoLmNvcyhhKSpuLHk6dC55K01hdGguc2luKGEpKm4qLTF9fWZ1bmN0aW9uIFRlKGUsdCxuLGEsaSl7dmFyIG89aSppLGw9byppLHI9MS1pLHM9cipyLHU9cypyLGg9dSplLngrMypzKmkqdC54KzMqcipvKm4ueCtsKmEueCxwPXUqZS55KzMqcyppKnQueSszKnIqbypuLnkrbCphLnksYz1lLngrMippKih0LngtZS54KStvKihuLngtMip0LngrZS54KSxkPWUueSsyKmkqKHQueS1lLnkpK28qKG4ueS0yKnQueStlLnkpLGY9dC54KzIqaSoobi54LXQueCkrbyooYS54LTIqbi54K3QueCkseT10LnkrMippKihuLnktdC55KStvKihhLnktMipuLnkrdC55KSxtPXIqZS54K2kqdC54LFM9ciplLnkraSp0LnksZz1yKm4ueCtpKmEueCxfPXIqbi55K2kqYS55LHY9OTAtMTgwKk1hdGguYXRhbjIoYy1mLGQteSkvTWF0aC5QSTtyZXR1cm57eDpoLHk6cCxmcm9tUDI6e3g6Yyx5OmR9LHRvUDE6e3g6Zix5Onl9LGZyb21QMTp7eDptLHk6U30sdG9QMjp7eDpnLHk6X30sYW5nbGU6dis9MTgwPHY/LTE4MDoxODB9fWZ1bmN0aW9uIFdlKG4sYSxpLG8sZSl7ZnVuY3Rpb24gbChlLHQsbixhLGkpe3JldHVybiBlKihlKigtMyp0Kzkqbi05KmErMyppKSs2KnQtMTIqbis2KmEpLTMqdCszKm59dmFyIHIscyx1LGgscD1bLjI0OTEsLjI0OTEsLjIzMzUsLjIzMzUsLjIwMzIsLjIwMzIsLjE2MDEsLjE2MDEsLjEwNjksLjEwNjksLjA0NzIsLjA0NzJdLGM9MCxkPShlPW51bGw9PWV8fDE8ZT8xOmU8MD8wOmUpLzI7cmV0dXJuWy0uMTI1MiwuMTI1MiwtLjM2NzgsLjM2NzgsLS41ODczLC41ODczLC0uNzY5OSwuNzY5OSwtLjkwNDEsLjkwNDEsLS45ODE2LC45ODE2XS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cz1sKHI9ZCplK2Qsbi54LGEueCxpLngsby54KSx1PWwocixuLnksYS55LGkueSxvLnkpLGg9cypzK3UqdSxjKz1wW3RdKk1hdGguc3FydChoKX0pLGQqY31mdW5jdGlvbiBCZShlLHQsbixhLGkpe2Zvcih2YXIgbyxsPS41LHI9MS1sO289V2UoZSx0LG4sYSxyKSwhKE1hdGguYWJzKG8taSk8PS4wMSk7KXIrPShvPGk/MTotMSkqKGwvPTIpO3JldHVybiByfWZ1bmN0aW9uIFJlKGUsbil7dmFyIGE7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uP2UubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXt4OmUueCx5OmUueX07cmV0dXJuIG4odCksdH0pOmU7KGE9YXx8W3t0eXBlOlwiTVwiLHZhbHVlczpbdFswXS54LHRbMF0ueV19XSkucHVzaCh0Lmxlbmd0aD8yPT09dC5sZW5ndGg/e3R5cGU6XCJMXCIsdmFsdWVzOlt0WzFdLngsdFsxXS55XX06e3R5cGU6XCJDXCIsdmFsdWVzOlt0WzFdLngsdFsxXS55LHRbMl0ueCx0WzJdLnksdFszXS54LHRbM10ueV19Ont0eXBlOlwiWlwiLHZhbHVlczpbXX0pfSksYX1mdW5jdGlvbiBGZShlKXt2YXIgbj1bXSxhPTA7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0oMj09PWUubGVuZ3RoP1ZlOldlKS5hcHBseShudWxsLGUpO24ucHVzaCh0KSxhKz10fSkse3NlZ3NMZW46bixsZW5BbGw6YX19ZnVuY3Rpb24gR2UoZSxhKXtyZXR1cm4gbnVsbD09ZXx8bnVsbD09YXx8ZS5sZW5ndGghPT1hLmxlbmd0aHx8ZS5zb21lKGZ1bmN0aW9uKGUsdCl7dmFyIG49YVt0XTtyZXR1cm4gZS50eXBlIT09bi50eXBlfHxlLnZhbHVlcy5zb21lKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUhPT1uLnZhbHVlc1t0XX0pfSl9ZnVuY3Rpb24gRGUoZSx0LG4pe2UuZXZlbnRzW3RdP2UuZXZlbnRzW3RdLmluZGV4T2Yobik8MCYmZS5ldmVudHNbdF0ucHVzaChuKTplLmV2ZW50c1t0XT1bbl19ZnVuY3Rpb24gemUoZSx0LG4pe3ZhciBhO2UuZXZlbnRzW3RdJiYtMTwoYT1lLmV2ZW50c1t0XS5pbmRleE9mKG4pKSYmZS5ldmVudHNbdF0uc3BsaWNlKGEsMSl9ZnVuY3Rpb24gamUoZSl7dCYmY2xlYXJUaW1lb3V0KHQpLFNlLnB1c2goZSksdD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7U2UuZm9yRWFjaChmdW5jdGlvbihlKXtlKCl9KSxTZT1bXX0sMCl9ZnVuY3Rpb24gSGUoZSx0KXtlLnJlZmxvd1RhcmdldHMuaW5kZXhPZih0KTwwJiZlLnJlZmxvd1RhcmdldHMucHVzaCh0KX1mdW5jdGlvbiBVZShlKXtlLnJlZmxvd1RhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbjtuPWUsc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPW4ucGFyZW50Tm9kZSx0PW4ubmV4dFNpYmxpbmc7ZS5pbnNlcnRCZWZvcmUoZS5yZW1vdmVDaGlsZChuKSx0KX0sMCl9KSxlLnJlZmxvd1RhcmdldHM9W119ZnVuY3Rpb24gWmUoZSx0LG4sYSxpLG8sbCl7dmFyIHIscyx1O1wiYXV0by1zdGFydC1yZXZlcnNlXCI9PT1uPyhcImJvb2xlYW5cIiE9dHlwZW9mIGgmJih0LnNldEF0dHJpYnV0ZShcIm9yaWVudFwiLFwiYXV0by1zdGFydC1yZXZlcnNlXCIpLGg9dC5vcmllbnRUeXBlLmJhc2VWYWw9PT1TVkdNYXJrZXJFbGVtZW50LlNWR19NQVJLRVJfT1JJRU5UX1VOS05PV04pLGg/dC5zZXRBdHRyaWJ1dGUoXCJvcmllbnRcIixuKTooKHI9aS5jcmVhdGVTVkdUcmFuc2Zvcm0oKSkuc2V0Um90YXRlKDE4MCwwLDApLG8udHJhbnNmb3JtLmJhc2VWYWwuYXBwZW5kSXRlbShyKSx0LnNldEF0dHJpYnV0ZShcIm9yaWVudFwiLFwiYXV0b1wiKSx1PSEwKSk6KHQuc2V0QXR0cmlidXRlKFwib3JpZW50XCIsbiksITE9PT1oJiZvLnRyYW5zZm9ybS5iYXNlVmFsLmNsZWFyKCkpLHM9dC52aWV3Qm94LmJhc2VWYWwsdT8ocy54PS1hLnJpZ2h0LHMueT0tYS5ib3R0b20pOihzLng9YS5sZWZ0LHMueT1hLnRvcCkscy53aWR0aD1hLndpZHRoLHMuaGVpZ2h0PWEuaGVpZ2h0LHNlJiZIZShlLGwpfWZ1bmN0aW9uIFllKGUsdCl7cmV0dXJue3Byb3A6ZT9cIm1hcmtlckVuZFwiOlwibWFya2VyU3RhcnRcIixvcmllbnQ6dD90Lm5vUm90YXRlP1wiMFwiOmU/XCJhdXRvXCI6XCJhdXRvLXN0YXJ0LXJldmVyc2VcIjpudWxsfX1mdW5jdGlvbiBYZShuLGEpe09iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9YVtlXTtuW2VdPW51bGwhPXQuaW5pVmFsdWU/dC5oYXNTRT9bdC5pbmlWYWx1ZSx0LmluaVZhbHVlXTp0LmluaVZhbHVlOnQuaGFzU0U/dC5oYXNQcm9wcz9be30se31dOltdOnQuaGFzUHJvcHM/e306bnVsbH0pfWZ1bmN0aW9uIHFlKHQsZSxuLGEsaSl7cmV0dXJuIGEhPT1lW25dJiYoZVtuXT1hLGkmJmkuZm9yRWFjaChmdW5jdGlvbihlKXtlKHQsYSxuKX0pLCEwKX1mdW5jdGlvbiBRZShlKXtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIGUrcGFyc2VGbG9hdCh0KX12YXIgbj1lLmRvY3VtZW50LGE9ZS5nZXRDb21wdXRlZFN0eWxlKG4uZG9jdW1lbnRFbGVtZW50LFwiXCIpLGk9ZS5nZXRDb21wdXRlZFN0eWxlKG4uYm9keSxcIlwiKSxvPXt4OjAseTowfTtyZXR1cm5cInN0YXRpY1wiIT09aS5wb3NpdGlvbj8oby54LT1bYS5tYXJnaW5MZWZ0LGEuYm9yZGVyTGVmdFdpZHRoLGEucGFkZGluZ0xlZnQsaS5tYXJnaW5MZWZ0LGkuYm9yZGVyTGVmdFdpZHRoXS5yZWR1Y2UodCwwKSxvLnktPVthLm1hcmdpblRvcCxhLmJvcmRlclRvcFdpZHRoLGEucGFkZGluZ1RvcCxpLm1hcmdpblRvcCxpLmJvcmRlclRvcFdpZHRoXS5yZWR1Y2UodCwwKSk6XCJzdGF0aWNcIiE9PWEucG9zaXRpb24mJihvLngtPVthLm1hcmdpbkxlZnQsYS5ib3JkZXJMZWZ0V2lkdGhdLnJlZHVjZSh0LDApLG8ueS09W2EubWFyZ2luVG9wLGEuYm9yZGVyVG9wV2lkdGhdLnJlZHVjZSh0LDApKSxvfWZ1bmN0aW9uIEtlKGUpe3ZhciB0LG49ZS5kb2N1bWVudDtuLmdldEVsZW1lbnRCeUlkKGQpfHwodD0obmV3IGUuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoeSxcImltYWdlL3N2Zyt4bWxcIiksbi5ib2R5LmFwcGVuZENoaWxkKHQuZG9jdW1lbnRFbGVtZW50KSxfKGUpKX1mdW5jdGlvbiBKZSh1KXt2YXIgXyxmLHYsZSxuLGEsaSx5LHMsaCxwLHQsbyxsLHIsYyxkLG0sUyxnPXUub3B0aW9ucyxFPXUuY3VyU3RhdHMseD11LmFwbFN0YXRzLGI9RS5wb3NpdGlvbl9zb2NrZXRYWVNFLGs9ITE7ZnVuY3Rpb24gdyhlLHQpe3ZhciBuPXQ9PT1WP3t4OmUubGVmdCtlLndpZHRoLzIseTplLnRvcH06dD09PVA/e3g6ZS5yaWdodCx5OmUudG9wK2UuaGVpZ2h0LzJ9OnQ9PT1OP3t4OmUubGVmdCtlLndpZHRoLzIseTplLmJvdHRvbX06e3g6ZS5sZWZ0LHk6ZS50b3ArZS5oZWlnaHQvMn07cmV0dXJuIG4uc29ja2V0SWQ9dCxufWZ1bmN0aW9uIE8oZSl7cmV0dXJue3g6ZS54LHk6ZS55fX1pZihFLnBvc2l0aW9uX3BhdGg9Zy5wYXRoLEUucG9zaXRpb25fbGluZVN0cm9rZVdpZHRoPUUubGluZV9zdHJva2VXaWR0aCxFLnBvc2l0aW9uX3NvY2tldEdyYXZpdHlTRT1fPU9lKGcuc29ja2V0R3Jhdml0eVNFKSxmPVswLDFdLm1hcChmdW5jdGlvbihlKXt2YXIgdCxuLGEsaT1nLmFuY2hvclNFW2VdLG89dS5vcHRpb25Jc0F0dGFjaC5hbmNob3JTRVtlXSxsPSExIT09bz92ZVtpLl9pZF06bnVsbCxyPSExIT09byYmbC5jb25mLmdldFN0cm9rZVdpZHRoP2wuY29uZi5nZXRTdHJva2VXaWR0aChsLHUpOjAscz0hMSE9PW8mJmwuY29uZi5nZXRCQm94TmVzdD9sLmNvbmYuZ2V0QkJveE5lc3QobCx1LHIpOkFlKGksdS5iYXNlV2luZG93KTtyZXR1cm4gRS5jYXBzTWFza0FuY2hvcl9wYXRoRGF0YVNFW2VdPSExIT09byYmbC5jb25mLmdldFBhdGhEYXRhP2wuY29uZi5nZXRQYXRoRGF0YShsLHUscik6KG49bnVsbCE9KHQ9cykucmlnaHQ/dC5yaWdodDp0LmxlZnQrdC53aWR0aCxhPW51bGwhPXQuYm90dG9tP3QuYm90dG9tOnQudG9wK3QuaGVpZ2h0LFt7dHlwZTpcIk1cIix2YWx1ZXM6W3QubGVmdCx0LnRvcF19LHt0eXBlOlwiTFwiLHZhbHVlczpbbix0LnRvcF19LHt0eXBlOlwiTFwiLHZhbHVlczpbbixhXX0se3R5cGU6XCJMXCIsdmFsdWVzOlt0LmxlZnQsYV19LHt0eXBlOlwiWlwiLHZhbHVlczpbXX1dKSxFLmNhcHNNYXNrQW5jaG9yX3N0cm9rZVdpZHRoU0VbZV09cixzfSksaT0tMSxnLnNvY2tldFNFWzBdJiZnLnNvY2tldFNFWzFdPyhiWzBdPXcoZlswXSxnLnNvY2tldFNFWzBdKSxiWzFdPXcoZlsxXSxnLnNvY2tldFNFWzFdKSk6KGcuc29ja2V0U0VbMF18fGcuc29ja2V0U0VbMV0/KGE9Zy5zb2NrZXRTRVswXT8obj0wLDEpOihuPTEsMCksYltuXT13KGZbbl0sZy5zb2NrZXRTRVtuXSksKGU9SC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHcoZlthXSxlKX0pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVZlKGUsYltuXSk7KHQ8aXx8LTE9PT1pKSYmKGJbYV09ZSxpPXQpfSkpOihlPUgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB3KGZbMV0sZSl9KSxILm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdyhmWzBdLGUpfSkuZm9yRWFjaChmdW5jdGlvbihuKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9VmUobixlKTsodDxpfHwtMT09PWkpJiYoYlswXT1uLGJbMV09ZSxpPXQpfSl9KSksWzAsMV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuO2cuc29ja2V0U0VbZV18fChmW2VdLndpZHRofHxmW2VdLmhlaWdodD9mW2VdLndpZHRofHxiW2VdLnNvY2tldElkIT09VCYmYltlXS5zb2NrZXRJZCE9PVA/ZltlXS5oZWlnaHR8fGJbZV0uc29ja2V0SWQhPT1WJiZiW2VdLnNvY2tldElkIT09Tnx8KGJbZV0uc29ja2V0SWQ9MDw9YltlPzA6MV0ueS1mW2VdLnRvcD9OOlYpOmJbZV0uc29ja2V0SWQ9MDw9YltlPzA6MV0ueC1mW2VdLmxlZnQ/UDpUOih0PWJbZT8wOjFdLngtZltlXS5sZWZ0LG49YltlPzA6MV0ueS1mW2VdLnRvcCxiW2VdLnNvY2tldElkPU1hdGguYWJzKHQpPj1NYXRoLmFicyhuKT8wPD10P1A6VDowPD1uP046VikpfSkpLEUucG9zaXRpb25fcGF0aCE9PXgucG9zaXRpb25fcGF0aHx8RS5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGghPT14LnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aHx8WzAsMV0uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gRS5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRVtlXSE9PXgucG9zaXRpb25fcGx1Z092ZXJoZWFkU0VbZV18fChpPWJbZV0sbz14LnBvc2l0aW9uX3NvY2tldFhZU0VbZV0saS54IT09by54fHxpLnkhPT1vLnl8fGkuc29ja2V0SWQhPT1vLnNvY2tldElkKXx8KHQ9X1tlXSxuPXgucG9zaXRpb25fc29ja2V0R3Jhdml0eVNFW2VdLChhPW51bGw9PXQ/XCJhdXRvXCI6QXJyYXkuaXNBcnJheSh0KT9cImFycmF5XCI6XCJudW1iZXJcIikhPShudWxsPT1uP1wiYXV0b1wiOkFycmF5LmlzQXJyYXkobik/XCJhcnJheVwiOlwibnVtYmVyXCIpfHwoXCJhcnJheVwiPT1hP3RbMF0hPT1uWzBdfHx0WzFdIT09blsxXTp0IT09bikpO3ZhciB0LG4sYSxpLG99KSl7c3dpdGNoKHUucGF0aExpc3QuYmFzZVZhbD12PVtdLHUucGF0aExpc3QuYW5pbVZhbD1udWxsLEUucG9zaXRpb25fcGF0aCl7Y2FzZSBCOnYucHVzaChbTyhiWzBdKSxPKGJbMV0pXSk7YnJlYWs7Y2FzZSBSOnQ9XCJudW1iZXJcIj09dHlwZW9mIF9bMF0mJjA8X1swXXx8XCJudW1iZXJcIj09dHlwZW9mIF9bMV0mJjA8X1sxXSxvPWxlKih0Py0xOjEpLGw9TWF0aC5hdGFuMihiWzFdLnktYlswXS55LGJbMV0ueC1iWzBdLngpLHI9by1sLGM9TWF0aC5QSS1sLW8sZD1WZShiWzBdLGJbMV0pL01hdGguc3FydCgyKSplZSxtPXt4OmJbMF0ueCtNYXRoLmNvcyhyKSpkLHk6YlswXS55K01hdGguc2luKHIpKmQqLTF9LFM9e3g6YlsxXS54K01hdGguY29zKGMpKmQseTpiWzFdLnkrTWF0aC5zaW4oYykqZCotMX0sdi5wdXNoKFtPKGJbMF0pLG0sUyxPKGJbMV0pXSk7YnJlYWs7Y2FzZSBGOmNhc2UgRzpzPVtfWzBdLEUucG9zaXRpb25fcGF0aD09PUc/MDpfWzFdXSxoPVtdLHA9W10sYi5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpLG8sbD1zW3RdLHI9QXJyYXkuaXNBcnJheShsKT97eDpsWzBdLHk6bFsxXX06XCJudW1iZXJcIj09dHlwZW9mIGw/ZS5zb2NrZXRJZD09PVY/e3g6MCx5Oi1sfTplLnNvY2tldElkPT09UD97eDpsLHk6MH06ZS5zb2NrZXRJZD09PU4/e3g6MCx5Omx9Ont4Oi1sLHk6MH06KG49Ylt0PzA6MV0saT0wPChhPUUucG9zaXRpb25fcGx1Z092ZXJoZWFkU0VbdF0pP3ErKFE8YT8oYS1RKSpLOjApOlorKEUucG9zaXRpb25fbGluZVN0cm9rZVdpZHRoPlk/KEUucG9zaXRpb25fbGluZVN0cm9rZVdpZHRoLVkpKlg6MCksZS5zb2NrZXRJZD09PVY/KChvPShlLnktbi55KS8yKTxpJiYobz1pKSx7eDowLHk6LW99KTplLnNvY2tldElkPT09UD8oKG89KG4ueC1lLngpLzIpPGkmJihvPWkpLHt4Om8seTowfSk6ZS5zb2NrZXRJZD09PU4/KChvPShuLnktZS55KS8yKTxpJiYobz1pKSx7eDowLHk6b30pOigobz0oZS54LW4ueCkvMik8aSYmKG89aSkse3g6LW8seTowfSkpO2hbdF09ZS54K3IueCxwW3RdPWUueStyLnl9KSx2LnB1c2goW08oYlswXSkse3g6aFswXSx5OnBbMF19LHt4OmhbMV0seTpwWzFdfSxPKGJbMV0pXSk7YnJlYWs7Y2FzZSBEOiFmdW5jdGlvbigpe3ZhciBhLG89MSxsPTIscj0zLHM9NCx1PVtbXSxbXV0saD1bXTtmdW5jdGlvbiBwKGUpe3JldHVybiBlPT09bz9yOmU9PT1sP3M6ZT09PXI/bzpsfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU9PT1sfHxlPT09cz9cInhcIjpcInlcIn1mdW5jdGlvbiBkKGUsdCxuKXt2YXIgYT17eDplLngseTplLnl9O2lmKG4pe2lmKG49PT1wKGUuZGlySWQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGlySWQ6IFwiK24pO2EuZGlySWQ9bn1lbHNlIGEuZGlySWQ9ZS5kaXJJZDtyZXR1cm4gYS5kaXJJZD09PW8/YS55LT10OmEuZGlySWQ9PT1sP2EueCs9dDphLmRpcklkPT09cj9hLnkrPXQ6YS54LT10LGF9ZnVuY3Rpb24gZihlLHQpe3JldHVybiB0LmRpcklkPT09bz9lLnk8PXQueTp0LmRpcklkPT09bD9lLng+PXQueDp0LmRpcklkPT09cj9lLnk+PXQueTplLng8PXQueH1mdW5jdGlvbiB5KGUsdCl7cmV0dXJuIHQuZGlySWQ9PT1vfHx0LmRpcklkPT09cj9lLng9PT10Lng6ZS55PT09dC55fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGVbMF0/e2NvbnRhaW46MCxub3RDb250YWluOjF9Ontjb250YWluOjEsbm90Q29udGFpbjowfX1mdW5jdGlvbiBTKGUsdCxuKXtyZXR1cm4gTWF0aC5hYnModFtuXS1lW25dKX1mdW5jdGlvbiBnKGUsdCxuKXtyZXR1cm5cInhcIj09PW4/ZS54PHQueD9sOnM6ZS55PHQueT9yOm99Zm9yKGIuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuLGE9TyhlKSxpPV9bdF07bj1BcnJheS5pc0FycmF5KGkpP2lbMF08MD9bcywtaVswXV06MDxpWzBdP1tsLGlbMF1dOmlbMV08MD9bbywtaVsxXV06MDxpWzFdP1tyLGlbMV1dOltlLnNvY2tldElkLDBdOlwibnVtYmVyXCIhPXR5cGVvZiBpP1tlLnNvY2tldElkLCRdOjA8PWk/W2Uuc29ja2V0SWQsaV06W3AoZS5zb2NrZXRJZCksLWldLGEuZGlySWQ9blswXSxpPW5bMV0sdVt0XS5wdXNoKGEpLGhbdF09ZChhLGkpfSk7ZnVuY3Rpb24oKXt2YXIgZSx0LGEsaSxuPVtmKGhbMV0saFswXSksZihoWzBdLGhbMV0pXSxvPVtjKGhbMF0uZGlySWQpLGMoaFsxXS5kaXJJZCldO2lmKG9bMF09PT1vWzFdKXtpZihuWzBdJiZuWzFdKXJldHVybiB2b2lkKHkoaFsxXSxoWzBdKXx8KGhbMF1bb1swXV09PT1oWzFdW29bMV1dPyh1WzBdLnB1c2goaFswXSksdVsxXS5wdXNoKGhbMV0pKTooZT1oWzBdW29bMF1dKyhoWzFdW29bMV1dLWhbMF1bb1swXV0pLzIsdVswXS5wdXNoKGQoaFswXSxNYXRoLmFicyhlLWhbMF1bb1swXV0pKSksdVsxXS5wdXNoKGQoaFsxXSxNYXRoLmFicyhlLWhbMV1bb1sxXV0pKSkpKSk7blswXSE9PW5bMV0/KHQ9bShuKSwoYT1TKGhbdC5ub3RDb250YWluXSxoW3QuY29udGFpbl0sb1t0Lm5vdENvbnRhaW5dKSk8JCYmKGhbdC5ub3RDb250YWluXT1kKGhbdC5ub3RDb250YWluXSwkLWEpKSx1W3Qubm90Q29udGFpbl0ucHVzaChoW3Qubm90Q29udGFpbl0pLGhbdC5ub3RDb250YWluXT1kKGhbdC5ub3RDb250YWluXSwkLHkoaFt0LmNvbnRhaW5dLGhbdC5ub3RDb250YWluXSk/XCJ4XCI9PT1vW3Qubm90Q29udGFpbl0/cjpsOmcoaFt0Lm5vdENvbnRhaW5dLGhbdC5jb250YWluXSxcInhcIj09PW9bdC5ub3RDb250YWluXT9cInlcIjpcInhcIikpKTooYT1TKGhbMF0saFsxXSxcInhcIj09PW9bMF0/XCJ5XCI6XCJ4XCIpLHUuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPTA9PT10PzE6MDtlLnB1c2goaFt0XSksaFt0XT1kKGhbdF0sJCwyKiQ8PWE/ZyhoW3RdLGhbbl0sXCJ4XCI9PT1vW3RdP1wieVwiOlwieFwiKTpcInhcIj09PW9bdF0/cjpsKX0pKX1lbHNle2lmKG5bMF0mJm5bMV0pcmV0dXJuIHZvaWQoeShoWzFdLGhbMF0pP3VbMV0ucHVzaChoWzFdKTp5KGhbMF0saFsxXSk/dVswXS5wdXNoKGhbMF0pOnVbMF0ucHVzaChcInhcIj09PW9bMF0/e3g6aFsxXS54LHk6aFswXS55fTp7eDpoWzBdLngseTpoWzFdLnl9KSk7blswXSE9PW5bMV0/KHQ9bShuKSx1W3Qubm90Q29udGFpbl0ucHVzaChoW3Qubm90Q29udGFpbl0pLGhbdC5ub3RDb250YWluXT1kKGhbdC5ub3RDb250YWluXSwkLFMoaFt0Lm5vdENvbnRhaW5dLGhbdC5jb250YWluXSxvW3QuY29udGFpbl0pPj0kP2coaFt0Lm5vdENvbnRhaW5dLGhbdC5jb250YWluXSxvW3QuY29udGFpbl0pOmhbdC5jb250YWluXS5kaXJJZCkpOihpPVt7eDpoWzBdLngseTpoWzBdLnl9LHt4OmhbMV0ueCx5OmhbMV0ueX1dLHUuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPTA9PT10PzE6MCxhPVMoaVt0XSxpW25dLG9bdF0pO2E8JCYmKGhbdF09ZChoW3RdLCQtYSkpLGUucHVzaChoW3RdKSxoW3RdPWQoaFt0XSwkLGcoaFt0XSxoW25dLG9bbl0pKX0pKX1yZXR1cm4gMX0oKTspO3VbMV0ucmV2ZXJzZSgpLHVbMF0uY29uY2F0KHVbMV0pLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj17eDplLngseTplLnl9OzA8dCYmdi5wdXNoKFthLG5dKSxhPW59KX0oKX15PVtdLEUucG9zaXRpb25fcGx1Z092ZXJoZWFkU0UuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuLGEsaSxvLGwscixzLHUsaCxwLGMsZD0hdDswPGU/Mj09PShuPXZbYT1kPzA6di5sZW5ndGgtMV0pLmxlbmd0aD8oeVthXT15W2FdfHxWZS5hcHBseShudWxsLG4pLHlbYV0+SiYmKHlbYV0tZTxKJiYoZT15W2FdLUopLGk9UGUoblswXSxuWzFdLChkP2U6eVthXS1lKS95W2FdKSx2W2FdPWQ/W2ksblsxXV06W25bMF0saV0seVthXS09ZSkpOih5W2FdPXlbYV18fFdlLmFwcGx5KG51bGwsbikseVthXT5KJiYoeVthXS1lPEomJihlPXlbYV0tSiksaT1UZShuWzBdLG5bMV0sblsyXSxuWzNdLEJlKG5bMF0sblsxXSxuWzJdLG5bM10sZD9lOnlbYV0tZSkpLGw9ZD8obz1uWzBdLGkudG9QMSk6KG89blszXSxpLmZyb21QMikscj1NYXRoLmF0YW4yKG8ueS1pLnksaS54LW8ueCkscz1WZShpLGwpLGkueD1vLngrTWF0aC5jb3MocikqZSxpLnk9by55K01hdGguc2luKHIpKmUqLTEsbC54PWkueCtNYXRoLmNvcyhyKSpzLGwueT1pLnkrTWF0aC5zaW4ocikqcyotMSx2W2FdPWQ/W2ksaS50b1AxLGkudG9QMixuWzNdXTpbblswXSxpLmZyb21QMSxpLmZyb21QMixpXSx5W2FdPW51bGwpKTplPDAmJihuPXZbYT1kPzA6di5sZW5ndGgtMV0sdT1iW3RdLnNvY2tldElkLGg9dT09PVR8fHU9PT1QP1wieFwiOlwieVwiLGU8KGM9LWZbdF1bXCJ4XCI9PWg/XCJ3aWR0aFwiOlwiaGVpZ2h0XCJdKSYmKGU9YykscD1lKih1PT09VHx8dT09PVY/LTE6MSksMj09PW4ubGVuZ3RoP25bZD8wOm4ubGVuZ3RoLTFdW2hdKz1wOihkP1swLDFdOltuLmxlbmd0aC0yLG4ubGVuZ3RoLTFdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV1baF0rPXB9KSx5W2FdPW51bGwpfSkseC5wb3NpdGlvbl9zb2NrZXRYWVNFPU9lKGIpLHgucG9zaXRpb25fcGx1Z092ZXJoZWFkU0U9T2UoRS5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRSkseC5wb3NpdGlvbl9wYXRoPUUucG9zaXRpb25fcGF0aCx4LnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aD1FLnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aCx4LnBvc2l0aW9uX3NvY2tldEdyYXZpdHlTRT1PZShfKSxrPSEwLHUuZXZlbnRzLmFwbF9wb3NpdGlvbiYmdS5ldmVudHMuYXBsX3Bvc2l0aW9uLmZvckVhY2goZnVuY3Rpb24oZSl7ZSh1LHYpfSl9cmV0dXJuIGt9ZnVuY3Rpb24gJGUodCxuKXtuIT09dC5pc1Nob3duJiYoISFuIT0hIXQuaXNTaG93biYmKHQuc3ZnLnN0eWxlLnZpc2liaWxpdHk9bj9cIlwiOlwiaGlkZGVuXCIpLHQuaXNTaG93bj1uLHQuZXZlbnRzJiZ0LmV2ZW50cy5zdmdTaG93JiZ0LmV2ZW50cy5zdmdTaG93LmZvckVhY2goZnVuY3Rpb24oZSl7ZSh0LG4pfSkpfWZ1bmN0aW9uIGV0KGUsdCl7dmFyIG4sYSxpLG8sbCxoLHAsYyxkLGYscixzLHUseSxtLFMsZyxfLHYsRSx4LGIsayx3LE8sTSxJLEMsTCxBLFYsUCxOLFQsVyxCLFIsRixHLEQseixqLEgsVSxaLFksWCxxLFEsSyxKLCQsZWU9e307dC5saW5lJiYoZWUubGluZT0oYT0obj1lKS5vcHRpb25zLGk9bi5jdXJTdGF0cyxvPW4uZXZlbnRzLGw9ITEsbD1xZShuLGksXCJsaW5lX2NvbG9yXCIsYS5saW5lQ29sb3Isby5jdXJfbGluZV9jb2xvcil8fGwsbD1xZShuLGksXCJsaW5lX2NvbG9yVHJhXCIsTWUoaS5saW5lX2NvbG9yKVswXTwxKXx8bCxsPXFlKG4saSxcImxpbmVfc3Ryb2tlV2lkdGhcIixhLmxpbmVTaXplLG8uY3VyX2xpbmVfc3Ryb2tlV2lkdGgpfHxsKSksKHQucGx1Z3x8ZWUubGluZSkmJihlZS5wbHVnPShwPShoPWUpLm9wdGlvbnMsYz1oLmN1clN0YXRzLGQ9aC5ldmVudHMsZj0hMSxbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpLG8sbCxyLHMsdT1wLnBsdWdTRVtlXTtmPXFlKGgsYy5wbHVnX2VuYWJsZWRTRSxlLHUhPT1uZSl8fGYsZj1xZShoLGMucGx1Z19wbHVnU0UsZSx1KXx8ZixmPXFlKGgsYy5wbHVnX2NvbG9yU0UsZSxzPXAucGx1Z0NvbG9yU0VbZV18fGMubGluZV9jb2xvcixkLmN1cl9wbHVnX2NvbG9yU0UpfHxmLGY9cWUoaCxjLnBsdWdfY29sb3JUcmFTRSxlLE1lKHMpWzBdPDEpfHxmLHUhPT1uZSYmKGk9bj0odD1hZVtpZVt1XV0pLndpZHRoUipwLnBsdWdTaXplU0VbZV0sbz1hPXQuaGVpZ2h0UipwLnBsdWdTaXplU0VbZV0scGUmJihpKj1jLmxpbmVfc3Ryb2tlV2lkdGgsbyo9Yy5saW5lX3N0cm9rZVdpZHRoKSxmPXFlKGgsYy5wbHVnX21hcmtlcldpZHRoU0UsZSxpKXx8ZixmPXFlKGgsYy5wbHVnX21hcmtlckhlaWdodFNFLGUsbyl8fGYsYy5jYXBzTWFza01hcmtlcl9tYXJrZXJXaWR0aFNFW2VdPW4sYy5jYXBzTWFza01hcmtlcl9tYXJrZXJIZWlnaHRTRVtlXT1hKSxjLnBsdWdPdXRsaW5lX3BsdWdTRVtlXT1jLmNhcHNNYXNrTWFya2VyX3BsdWdTRVtlXT11LGMucGx1Z19lbmFibGVkU0VbZV0/KHM9Yy5saW5lX3N0cm9rZVdpZHRoL2RlLmxpbmVTaXplKnAucGx1Z1NpemVTRVtlXSxjLnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFW2VdPXQub3ZlcmhlYWQqcyxjLnZpZXdCb3hfcGx1Z0JDaXJjbGVTRVtlXT10LmJDaXJjbGUqcyxsPXQuc2lkZUxlbipzLHI9dC5iYWNrTGVuKnMpOihjLnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFW2VdPS1jLmxpbmVfc3Ryb2tlV2lkdGgvMixjLnZpZXdCb3hfcGx1Z0JDaXJjbGVTRVtlXT1sPXI9MCkscWUoaCxjLmF0dGFjaF9wbHVnU2lkZUxlblNFLGUsbCxkLmN1cl9hdHRhY2hfcGx1Z1NpZGVMZW5TRSkscWUoaCxjLmF0dGFjaF9wbHVnQmFja0xlblNFLGUscixkLmN1cl9hdHRhY2hfcGx1Z0JhY2tMZW5TRSksYy5jYXBzTWFza0FuY2hvcl9lbmFibGVkU0VbZV09IWMucGx1Z19lbmFibGVkU0VbZV19KSxmPXFlKGgsYyxcInBsdWdfZW5hYmxlZFwiLGMucGx1Z19lbmFibGVkU0VbMF18fGMucGx1Z19lbmFibGVkU0VbMV0pfHxmKSksKHQubGluZU91dGxpbmV8fGVlLmxpbmUpJiYoZWUubGluZU91dGxpbmU9KHU9KHI9ZSkub3B0aW9ucyx5PXIuY3VyU3RhdHMsbT0hMSxtPXFlKHIseSxcImxpbmVPdXRsaW5lX2VuYWJsZWRcIix1LmxpbmVPdXRsaW5lRW5hYmxlZCl8fG0sbT1xZShyLHksXCJsaW5lT3V0bGluZV9jb2xvclwiLHUubGluZU91dGxpbmVDb2xvcil8fG0sbT1xZShyLHksXCJsaW5lT3V0bGluZV9jb2xvclRyYVwiLE1lKHkubGluZU91dGxpbmVfY29sb3IpWzBdPDEpfHxtLHM9eS5saW5lX3N0cm9rZVdpZHRoKnUubGluZU91dGxpbmVTaXplLG09cWUocix5LFwibGluZU91dGxpbmVfc3Ryb2tlV2lkdGhcIix5LmxpbmVfc3Ryb2tlV2lkdGgtMipzKXx8bSxtPXFlKHIseSxcImxpbmVPdXRsaW5lX2luU3Ryb2tlV2lkdGhcIix5LmxpbmVPdXRsaW5lX2NvbG9yVHJhP3kubGluZU91dGxpbmVfc3Ryb2tlV2lkdGgrMipjZTp5LmxpbmVfc3Ryb2tlV2lkdGgtcyl8fG0pKSwodC5wbHVnT3V0bGluZXx8ZWUubGluZXx8ZWUucGx1Z3x8ZWUubGluZU91dGxpbmUpJiYoZWUucGx1Z091dGxpbmU9KGc9KFM9ZSkub3B0aW9ucyxfPVMuY3VyU3RhdHMsdj0hMSxbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG49Xy5wbHVnT3V0bGluZV9wbHVnU0VbZV0sYT1uIT09bmU/YWVbaWVbbl1dOm51bGw7dj1xZShTLF8ucGx1Z091dGxpbmVfZW5hYmxlZFNFLGUsZy5wbHVnT3V0bGluZUVuYWJsZWRTRVtlXSYmXy5wbHVnX2VuYWJsZWQmJl8ucGx1Z19lbmFibGVkU0VbZV0mJiEhYSYmISFhLm91dGxpbmVCYXNlKXx8dix2PXFlKFMsXy5wbHVnT3V0bGluZV9jb2xvclNFLGUsdD1nLnBsdWdPdXRsaW5lQ29sb3JTRVtlXXx8Xy5saW5lT3V0bGluZV9jb2xvcil8fHYsdj1xZShTLF8ucGx1Z091dGxpbmVfY29sb3JUcmFTRSxlLE1lKHQpWzBdPDEpfHx2LGEmJmEub3V0bGluZUJhc2UmJigodD1nLnBsdWdPdXRsaW5lU2l6ZVNFW2VdKT5hLm91dGxpbmVNYXgmJih0PWEub3V0bGluZU1heCksdCo9MiphLm91dGxpbmVCYXNlLHY9cWUoUyxfLnBsdWdPdXRsaW5lX3N0cm9rZVdpZHRoU0UsZSx0KXx8dix2PXFlKFMsXy5wbHVnT3V0bGluZV9pblN0cm9rZVdpZHRoU0UsZSxfLnBsdWdPdXRsaW5lX2NvbG9yVHJhU0VbZV0/dC1jZS8oXy5saW5lX3N0cm9rZVdpZHRoL2RlLmxpbmVTaXplKS9nLnBsdWdTaXplU0VbZV0qMjp0LzIpfHx2KX0pLHYpKSwodC5mYWNlc3x8ZWUubGluZXx8ZWUucGx1Z3x8ZWUubGluZU91dGxpbmV8fGVlLnBsdWdPdXRsaW5lKSYmKGVlLmZhY2VzPShiPShFPWUpLmN1clN0YXRzLGs9RS5hcGxTdGF0cyx3PUUuZXZlbnRzLE89ITEsIWIubGluZV9hbHRDb2xvciYmcWUoRSxrLFwibGluZV9jb2xvclwiLHg9Yi5saW5lX2NvbG9yLHcuYXBsX2xpbmVfY29sb3IpJiYoRS5saW5lRmFjZS5zdHlsZS5zdHJva2U9eCxPPSEwKSxxZShFLGssXCJsaW5lX3N0cm9rZVdpZHRoXCIseD1iLmxpbmVfc3Ryb2tlV2lkdGgsdy5hcGxfbGluZV9zdHJva2VXaWR0aCkmJihFLmxpbmVTaGFwZS5zdHlsZS5zdHJva2VXaWR0aD14K1wicHhcIixPPSEwLCh1ZXx8c2UpJiYoSGUoRSxFLmxpbmVTaGFwZSksc2UmJihIZShFLEUubGluZUZhY2UpLEhlKEUsRS5saW5lTWFza0NhcHMpKSkpLHFlKEUsayxcImxpbmVPdXRsaW5lX2VuYWJsZWRcIix4PWIubGluZU91dGxpbmVfZW5hYmxlZCx3LmFwbF9saW5lT3V0bGluZV9lbmFibGVkKSYmKEUubGluZU91dGxpbmVGYWNlLnN0eWxlLmRpc3BsYXk9eD9cImlubGluZVwiOlwibm9uZVwiLE89ITApLGIubGluZU91dGxpbmVfZW5hYmxlZCYmKHFlKEUsayxcImxpbmVPdXRsaW5lX2NvbG9yXCIseD1iLmxpbmVPdXRsaW5lX2NvbG9yLHcuYXBsX2xpbmVPdXRsaW5lX2NvbG9yKSYmKEUubGluZU91dGxpbmVGYWNlLnN0eWxlLnN0cm9rZT14LE89ITApLHFlKEUsayxcImxpbmVPdXRsaW5lX3N0cm9rZVdpZHRoXCIseD1iLmxpbmVPdXRsaW5lX3N0cm9rZVdpZHRoLHcuYXBsX2xpbmVPdXRsaW5lX3N0cm9rZVdpZHRoKSYmKEUubGluZU91dGxpbmVNYXNrU2hhcGUuc3R5bGUuc3Ryb2tlV2lkdGg9eCtcInB4XCIsTz0hMCxzZSYmKEhlKEUsRS5saW5lT3V0bGluZU1hc2tDYXBzKSxIZShFLEUubGluZU91dGxpbmVGYWNlKSkpLHFlKEUsayxcImxpbmVPdXRsaW5lX2luU3Ryb2tlV2lkdGhcIix4PWIubGluZU91dGxpbmVfaW5TdHJva2VXaWR0aCx3LmFwbF9saW5lT3V0bGluZV9pblN0cm9rZVdpZHRoKSYmKEUubGluZU1hc2tTaGFwZS5zdHlsZS5zdHJva2VXaWR0aD14K1wicHhcIixPPSEwLHNlJiYoSGUoRSxFLmxpbmVPdXRsaW5lTWFza0NhcHMpLEhlKEUsRS5saW5lT3V0bGluZUZhY2UpKSkpLHFlKEUsayxcInBsdWdfZW5hYmxlZFwiLHg9Yi5wbHVnX2VuYWJsZWQsdy5hcGxfcGx1Z19lbmFibGVkKSYmKEUucGx1Z3NGYWNlLnN0eWxlLmRpc3BsYXk9eD9cImlubGluZVwiOlwibm9uZVwiLE89ITApLGIucGx1Z19lbmFibGVkJiZbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBlPWIucGx1Z19wbHVnU0Vbbl0sdD1lIT09bmU/YWVbaWVbZV1dOm51bGwsYT1ZZShuLHQpO3FlKEUsay5wbHVnX2VuYWJsZWRTRSxuLHg9Yi5wbHVnX2VuYWJsZWRTRVtuXSx3LmFwbF9wbHVnX2VuYWJsZWRTRSkmJihFLnBsdWdzRmFjZS5zdHlsZVthLnByb3BdPXg/XCJ1cmwoI1wiK0UucGx1Z01hcmtlcklkU0Vbbl0rXCIpXCI6XCJub25lXCIsTz0hMCksYi5wbHVnX2VuYWJsZWRTRVtuXSYmKHFlKEUsay5wbHVnX3BsdWdTRSxuLGUsdy5hcGxfcGx1Z19wbHVnU0UpJiYoRS5wbHVnRmFjZVNFW25dLmhyZWYuYmFzZVZhbD1cIiNcIit0LmVsbUlkLFplKEUsRS5wbHVnTWFya2VyU0Vbbl0sYS5vcmllbnQsdC5iQm94LEUuc3ZnLEUucGx1Z01hcmtlclNoYXBlU0Vbbl0sRS5wbHVnc0ZhY2UpLE89ITAsdWUmJkhlKEUsRS5wbHVnc0ZhY2UpKSxxZShFLGsucGx1Z19jb2xvclNFLG4seD1iLnBsdWdfY29sb3JTRVtuXSx3LmFwbF9wbHVnX2NvbG9yU0UpJiYoRS5wbHVnRmFjZVNFW25dLnN0eWxlLmZpbGw9eCxPPSEwLChoZXx8cGV8fHNlKSYmIWIubGluZV9jb2xvclRyYSYmSGUoRSxzZT9FLmxpbmVNYXNrQ2FwczpFLmNhcHNNYXNrTGluZSkpLFtcIm1hcmtlcldpZHRoXCIsXCJtYXJrZXJIZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cInBsdWdfXCIrZStcIlNFXCI7cWUoRSxrW3RdLG4seD1iW3RdW25dLHdbXCJhcGxfXCIrdF0pJiYoRS5wbHVnTWFya2VyU0Vbbl1bZV0uYmFzZVZhbC52YWx1ZT14LE89ITApfSkscWUoRSxrLnBsdWdPdXRsaW5lX2VuYWJsZWRTRSxuLHg9Yi5wbHVnT3V0bGluZV9lbmFibGVkU0Vbbl0sdy5hcGxfcGx1Z091dGxpbmVfZW5hYmxlZFNFKSYmKHg/KEUucGx1Z0ZhY2VTRVtuXS5zdHlsZS5tYXNrPVwidXJsKCNcIitFLnBsdWdNYXNrSWRTRVtuXStcIilcIixFLnBsdWdPdXRsaW5lRmFjZVNFW25dLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmVcIik6KEUucGx1Z0ZhY2VTRVtuXS5zdHlsZS5tYXNrPVwibm9uZVwiLEUucGx1Z091dGxpbmVGYWNlU0Vbbl0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksTz0hMCksYi5wbHVnT3V0bGluZV9lbmFibGVkU0Vbbl0mJihxZShFLGsucGx1Z091dGxpbmVfcGx1Z1NFLG4sZSx3LmFwbF9wbHVnT3V0bGluZV9wbHVnU0UpJiYoRS5wbHVnT3V0bGluZUZhY2VTRVtuXS5ocmVmLmJhc2VWYWw9RS5wbHVnTWFza1NoYXBlU0Vbbl0uaHJlZi5iYXNlVmFsPUUucGx1Z091dGxpbmVNYXNrU2hhcGVTRVtuXS5ocmVmLmJhc2VWYWw9XCIjXCIrdC5lbG1JZCxbRS5wbHVnTWFza1NFW25dLEUucGx1Z091dGxpbmVNYXNrU0Vbbl1dLmZvckVhY2goZnVuY3Rpb24oZSl7ZS54LmJhc2VWYWwudmFsdWU9dC5iQm94LmxlZnQsZS55LmJhc2VWYWwudmFsdWU9dC5iQm94LnRvcCxlLndpZHRoLmJhc2VWYWwudmFsdWU9dC5iQm94LndpZHRoLGUuaGVpZ2h0LmJhc2VWYWwudmFsdWU9dC5iQm94LmhlaWdodH0pLE89ITApLHFlKEUsay5wbHVnT3V0bGluZV9jb2xvclNFLG4seD1iLnBsdWdPdXRsaW5lX2NvbG9yU0Vbbl0sdy5hcGxfcGx1Z091dGxpbmVfY29sb3JTRSkmJihFLnBsdWdPdXRsaW5lRmFjZVNFW25dLnN0eWxlLmZpbGw9eCxPPSEwLHNlJiYoSGUoRSxFLmxpbmVNYXNrQ2FwcyksSGUoRSxFLmxpbmVPdXRsaW5lTWFza0NhcHMpKSkscWUoRSxrLnBsdWdPdXRsaW5lX3N0cm9rZVdpZHRoU0Usbix4PWIucGx1Z091dGxpbmVfc3Ryb2tlV2lkdGhTRVtuXSx3LmFwbF9wbHVnT3V0bGluZV9zdHJva2VXaWR0aFNFKSYmKEUucGx1Z091dGxpbmVNYXNrU2hhcGVTRVtuXS5zdHlsZS5zdHJva2VXaWR0aD14K1wicHhcIixPPSEwKSxxZShFLGsucGx1Z091dGxpbmVfaW5TdHJva2VXaWR0aFNFLG4seD1iLnBsdWdPdXRsaW5lX2luU3Ryb2tlV2lkdGhTRVtuXSx3LmFwbF9wbHVnT3V0bGluZV9pblN0cm9rZVdpZHRoU0UpJiYoRS5wbHVnTWFza1NoYXBlU0Vbbl0uc3R5bGUuc3Ryb2tlV2lkdGg9eCtcInB4XCIsTz0hMCkpKX0pLE8pKSwodC5wb3NpdGlvbnx8ZWUubGluZXx8ZWUucGx1ZykmJihlZS5wb3NpdGlvbj1KZShlKSksKHQucGF0aHx8ZWUucG9zaXRpb24pJiYoZWUucGF0aD0oQz0oTT1lKS5jdXJTdGF0cyxMPU0uYXBsU3RhdHMsQT1NLnBhdGhMaXN0LmFuaW1WYWx8fE0ucGF0aExpc3QuYmFzZVZhbCxWPUMucGF0aF9lZGdlLFA9ITEsQSYmKFYueDE9Vi54Mj1BWzBdWzBdLngsVi55MT1WLnkyPUFbMF1bMF0ueSxDLnBhdGhfcGF0aERhdGE9ST1SZShBLGZ1bmN0aW9uKGUpe2UueDxWLngxJiYoVi54MT1lLngpLGUueTxWLnkxJiYoVi55MT1lLnkpLGUueD5WLngyJiYoVi54Mj1lLngpLGUueT5WLnkyJiYoVi55Mj1lLnkpfSksR2UoSSxMLnBhdGhfcGF0aERhdGEpJiYoTS5saW5lUGF0aC5zZXRQYXRoRGF0YShJKSxMLnBhdGhfcGF0aERhdGE9SSxQPSEwLHNlPyhIZShNLE0ucGx1Z3NGYWNlKSxIZShNLE0ubGluZU1hc2tDYXBzKSk6dWUmJkhlKE0sTS5saW5lUGF0aCksTS5ldmVudHMuYXBsX3BhdGgmJk0uZXZlbnRzLmFwbF9wYXRoLmZvckVhY2goZnVuY3Rpb24oZSl7ZShNLEkpfSkpKSxQKSksZWUudmlld0JveD0oVD0oTj1lKS5jdXJTdGF0cyxXPU4uYXBsU3RhdHMsQj1ULnBhdGhfZWRnZSxSPVQudmlld0JveF9iQm94LEY9Vy52aWV3Qm94X2JCb3gsRz1OLnN2Zy52aWV3Qm94LmJhc2VWYWwsRD1OLnN2Zy5zdHlsZSx6PSExLGo9TWF0aC5tYXgoVC5saW5lX3N0cm9rZVdpZHRoLzIsVC52aWV3Qm94X3BsdWdCQ2lyY2xlU0VbMF18fDAsVC52aWV3Qm94X3BsdWdCQ2lyY2xlU0VbMV18fDApLEg9e3gxOkIueDEtaix5MTpCLnkxLWoseDI6Qi54MitqLHkyOkIueTIran0sTi5ldmVudHMubmV3X2VkZ2U0dmlld0JveCYmTi5ldmVudHMubmV3X2VkZ2U0dmlld0JveC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoTixIKX0pLFIueD1ULmxpbmVNYXNrX3g9VC5saW5lT3V0bGluZU1hc2tfeD1ULm1hc2tCR1JlY3RfeD1ILngxLFIueT1ULmxpbmVNYXNrX3k9VC5saW5lT3V0bGluZU1hc2tfeT1ULm1hc2tCR1JlY3RfeT1ILnkxLFIud2lkdGg9SC54Mi1ILngxLFIuaGVpZ2h0PUgueTItSC55MSxbXCJ4XCIsXCJ5XCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9UltlXSkhPT1GW2VdJiYoR1tlXT1GW2VdPXQsRFtvZVtlXV09dCsoXCJ4XCI9PT1lfHxcInlcIj09PWU/Ti5ib2R5T2Zmc2V0W2VdOjApK1wicHhcIix6PSEwKX0pLHopLGVlLm1hc2s9KFk9KFU9ZSkuY3VyU3RhdHMsWD1VLmFwbFN0YXRzLHE9ITEsWS5wbHVnX2VuYWJsZWQ/WzAsMV0uZm9yRWFjaChmdW5jdGlvbihlKXtZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVtlXT1ZLnBsdWdfZW5hYmxlZFNFW2VdJiZZLnBsdWdfY29sb3JUcmFTRVtlXXx8WS5wbHVnT3V0bGluZV9lbmFibGVkU0VbZV0mJlkucGx1Z091dGxpbmVfY29sb3JUcmFTRVtlXX0pOlkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFWzBdPVkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFWzFdPSExLFkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZD1ZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVswXXx8WS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0VbMV0sWS5saW5lTWFza19vdXRsaW5lTW9kZT1ZLmxpbmVPdXRsaW5lX2VuYWJsZWQsWS5jYXBzX2VuYWJsZWQ9WS5jYXBzTWFza01hcmtlcl9lbmFibGVkfHxZLmNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRVswXXx8WS5jYXBzTWFza0FuY2hvcl9lbmFibGVkU0VbMV0sWS5saW5lTWFza19lbmFibGVkPVkuY2Fwc19lbmFibGVkfHxZLmxpbmVNYXNrX291dGxpbmVNb2RlLChZLmxpbmVNYXNrX2VuYWJsZWQmJiFZLmxpbmVNYXNrX291dGxpbmVNb2RlfHxZLmxpbmVPdXRsaW5lX2VuYWJsZWQpJiZbXCJ4XCIsXCJ5XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJtYXNrQkdSZWN0X1wiK2U7cWUoVSxYLHQsWj1ZW3RdKSYmKFUubWFza0JHUmVjdFtlXS5iYXNlVmFsLnZhbHVlPVoscT0hMCl9KSxxZShVLFgsXCJsaW5lTWFza19lbmFibGVkXCIsWj1ZLmxpbmVNYXNrX2VuYWJsZWQpJiYoVS5saW5lRmFjZS5zdHlsZS5tYXNrPVo/XCJ1cmwoI1wiK1UubGluZU1hc2tJZCtcIilcIjpcIm5vbmVcIixxPSEwLHBlJiZIZShVLFUubGluZU1hc2spKSxZLmxpbmVNYXNrX2VuYWJsZWQmJihxZShVLFgsXCJsaW5lTWFza19vdXRsaW5lTW9kZVwiLFo9WS5saW5lTWFza19vdXRsaW5lTW9kZSkmJihaPyhVLmxpbmVNYXNrQkcuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixVLmxpbmVNYXNrU2hhcGUuc3R5bGUuZGlzcGxheT1cImlubGluZVwiKTooVS5saW5lTWFza0JHLnN0eWxlLmRpc3BsYXk9XCJpbmxpbmVcIixVLmxpbmVNYXNrU2hhcGUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIikscT0hMCksW1wieFwiLFwieVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwibGluZU1hc2tfXCIrZTtxZShVLFgsdCxaPVlbdF0pJiYoVS5saW5lTWFza1tlXS5iYXNlVmFsLnZhbHVlPVoscT0hMCl9KSxxZShVLFgsXCJjYXBzX2VuYWJsZWRcIixaPVkuY2Fwc19lbmFibGVkKSYmKFUubGluZU1hc2tDYXBzLnN0eWxlLmRpc3BsYXk9VS5saW5lT3V0bGluZU1hc2tDYXBzLnN0eWxlLmRpc3BsYXk9Wj9cImlubGluZVwiOlwibm9uZVwiLHE9ITAscGUmJkhlKFUsVS5jYXBzTWFza0xpbmUpKSxZLmNhcHNfZW5hYmxlZCYmKFswLDFdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7cWUoVSxYLmNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRSxlLFo9WS5jYXBzTWFza0FuY2hvcl9lbmFibGVkU0VbZV0pJiYoVS5jYXBzTWFza0FuY2hvclNFW2VdLnN0eWxlLmRpc3BsYXk9Wj9cImlubGluZVwiOlwibm9uZVwiLHE9ITAscGUmJkhlKFUsVS5saW5lTWFzaykpLFkuY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFW2VdJiYoR2UodD1ZLmNhcHNNYXNrQW5jaG9yX3BhdGhEYXRhU0VbZV0sWC5jYXBzTWFza0FuY2hvcl9wYXRoRGF0YVNFW2VdKSYmKFUuY2Fwc01hc2tBbmNob3JTRVtlXS5zZXRQYXRoRGF0YSh0KSxYLmNhcHNNYXNrQW5jaG9yX3BhdGhEYXRhU0VbZV09dCxxPSEwKSxxZShVLFguY2Fwc01hc2tBbmNob3Jfc3Ryb2tlV2lkdGhTRSxlLFo9WS5jYXBzTWFza0FuY2hvcl9zdHJva2VXaWR0aFNFW2VdKSYmKFUuY2Fwc01hc2tBbmNob3JTRVtlXS5zdHlsZS5zdHJva2VXaWR0aD1aK1wicHhcIixxPSEwKSl9KSxxZShVLFgsXCJjYXBzTWFza01hcmtlcl9lbmFibGVkXCIsWj1ZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWQpJiYoVS5jYXBzTWFza0xpbmUuc3R5bGUuZGlzcGxheT1aP1wiaW5saW5lXCI6XCJub25lXCIscT0hMCksWS5jYXBzTWFza01hcmtlcl9lbmFibGVkJiZbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBlPVkuY2Fwc01hc2tNYXJrZXJfcGx1Z1NFW25dLHQ9ZSE9PW5lP2FlW2llW2VdXTpudWxsLGE9WWUobix0KTtxZShVLFguY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFLG4sWj1ZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVtuXSkmJihVLmNhcHNNYXNrTGluZS5zdHlsZVthLnByb3BdPVo/XCJ1cmwoI1wiK1UubGluZU1hc2tNYXJrZXJJZFNFW25dK1wiKVwiOlwibm9uZVwiLHE9ITApLFkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFW25dJiYocWUoVSxYLmNhcHNNYXNrTWFya2VyX3BsdWdTRSxuLGUpJiYoVS5jYXBzTWFza01hcmtlclNoYXBlU0Vbbl0uaHJlZi5iYXNlVmFsPVwiI1wiK3QuZWxtSWQsWmUoVSxVLmNhcHNNYXNrTWFya2VyU0Vbbl0sYS5vcmllbnQsdC5iQm94LFUuc3ZnLFUuY2Fwc01hc2tNYXJrZXJTaGFwZVNFW25dLFUuY2Fwc01hc2tMaW5lKSxxPSEwLHVlJiYoSGUoVSxVLmNhcHNNYXNrTGluZSksSGUoVSxVLmxpbmVGYWNlKSkpLFtcIm1hcmtlcldpZHRoXCIsXCJtYXJrZXJIZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cImNhcHNNYXNrTWFya2VyX1wiK2UrXCJTRVwiO3FlKFUsWFt0XSxuLFo9WVt0XVtuXSkmJihVLmNhcHNNYXNrTWFya2VyU0Vbbl1bZV0uYmFzZVZhbC52YWx1ZT1aLHE9ITApfSkpfSkpKSxZLmxpbmVPdXRsaW5lX2VuYWJsZWQmJltcInhcIixcInlcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cImxpbmVPdXRsaW5lTWFza19cIitlO3FlKFUsWCx0LFo9WVt0XSkmJihVLmxpbmVPdXRsaW5lTWFza1tlXS5iYXNlVmFsLnZhbHVlPVoscT0hMCl9KSxxKSx0LmVmZmVjdCYmKEo9KFE9ZSkuY3VyU3RhdHMsJD1RLmFwbFN0YXRzLE9iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXRlW2VdLG49ZStcIl9lbmFibGVkXCIsYT1lK1wiX29wdGlvbnNcIixpPUpbYV07cWUoUSwkLG4sSz1KW25dKT8oSyYmKCRbYV09T2UoaSkpLHRbSz9cImluaXRcIjpcInJlbW92ZVwiXShRKSk6SyYmd2UoaSwkW2FdKSYmKHQucmVtb3ZlKFEpLCRbbl09ITAsJFthXT1PZShpKSx0LmluaXQoUSkpfSkpLChoZXx8cGUpJiZlZS5saW5lJiYhZWUucGF0aCYmSGUoZSxlLmxpbmVTaGFwZSksaGUmJmVlLnBsdWcmJiFlZS5saW5lJiZIZShlLGUucGx1Z3NGYWNlKSxVZShlKX1mdW5jdGlvbiB0dChlLHQpe3JldHVybntkdXJhdGlvbjp5ZShlLmR1cmF0aW9uKSYmMDxlLmR1cmF0aW9uP2UuZHVyYXRpb246dC5kdXJhdGlvbix0aW1pbmc6Zy52YWxpZFRpbWluZyhlLnRpbWluZyk/ZS50aW1pbmc6T2UodC50aW1pbmcpfX1mdW5jdGlvbiBudChlLHQsbixhKXt2YXIgaSxvPWUuY3VyU3RhdHMsbD1lLmFwbFN0YXRzLHI9e307ZnVuY3Rpb24gcygpe1tcInNob3dfb25cIixcInNob3dfZWZmZWN0XCIsXCJzaG93X2FuaW1PcHRpb25zXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7bFtlXT1vW2VdfSl9by5zaG93X29uPXQsbiYmTVtuXSYmKG8uc2hvd19lZmZlY3Q9bixvLnNob3dfYW5pbU9wdGlvbnM9dHQoZmUoYSk/YTp7fSxNW25dLmRlZmF1bHRBbmltT3B0aW9ucykpLHIuc2hvd19vbj1vLnNob3dfb24hPT1sLnNob3dfb24sci5zaG93X2VmZmVjdD1vLnNob3dfZWZmZWN0IT09bC5zaG93X2VmZmVjdCxyLnNob3dfYW5pbU9wdGlvbnM9d2Uoby5zaG93X2FuaW1PcHRpb25zLGwuc2hvd19hbmltT3B0aW9ucyksci5zaG93X2VmZmVjdHx8ci5zaG93X2FuaW1PcHRpb25zP28uc2hvd19pbkFuaW0/KGk9ci5zaG93X2VmZmVjdD9NW2wuc2hvd19lZmZlY3RdLnN0b3AoZSwhMCwhMCk6TVtsLnNob3dfZWZmZWN0XS5zdG9wKGUpLHMoKSxNW2wuc2hvd19lZmZlY3RdLmluaXQoZSxpKSk6ci5zaG93X29uJiYobC5zaG93X2VmZmVjdCYmci5zaG93X2VmZmVjdCYmTVtsLnNob3dfZWZmZWN0XS5zdG9wKGUsITAsITApLHMoKSxNW2wuc2hvd19lZmZlY3RdLmluaXQoZSkpOnIuc2hvd19vbiYmKHMoKSxNW2wuc2hvd19lZmZlY3RdLnN0YXJ0KGUpKX1mdW5jdGlvbiBhdChlLHQsbil7dmFyIGE9e3Byb3BzOmUsb3B0aW9uTmFtZTpufTtyZXR1cm4gZS5hdHRhY2htZW50cy5pbmRleE9mKHQpPDAmJighdC5jb25mLmJpbmR8fHQuY29uZi5iaW5kKHQsYSkpJiYoZS5hdHRhY2htZW50cy5wdXNoKHQpLHQuYm91bmRUYXJnZXRzLnB1c2goYSksMSl9ZnVuY3Rpb24gaXQobixhLGUpe3ZhciBpPW4uYXR0YWNobWVudHMuaW5kZXhPZihhKTstMTxpJiZuLmF0dGFjaG1lbnRzLnNwbGljZShpLDEpLGEuYm91bmRUYXJnZXRzLnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5wcm9wcz09PW4mJihhLmNvbmYudW5iaW5kJiZhLmNvbmYudW5iaW5kKGEsZSksaT10LCEwKX0pJiYoYS5ib3VuZFRhcmdldHMuc3BsaWNlKGksMSksZXx8amUoZnVuY3Rpb24oKXthLmJvdW5kVGFyZ2V0cy5sZW5ndGh8fG8oYSl9KSl9ZnVuY3Rpb24gb3Qocyx1KXt2YXIgZSxpLGEsdCxuLG8sbCxyLGgscCxjLGQsZix5LG0sUyxnLF89cy5vcHRpb25zLHY9e307ZnVuY3Rpb24gRShlLHQsbixhLGkpe3ZhciBvPXt9O3JldHVybiBuP251bGwhPWE/KG8uY29udGFpbmVyPWVbbl0sby5rZXk9YSk6KG8uY29udGFpbmVyPWUsby5rZXk9bik6KG8uY29udGFpbmVyPWUsby5rZXk9dCksby5kZWZhdWx0PWksby5hY2NlcHRzQXV0bz1udWxsPT1vLmRlZmF1bHQsb31mdW5jdGlvbiB4KGUsdCxuLGEsaSxvLGwpe3ZhciByLHMsdSxoPUUoZSxuLGksbyxsKTtyZXR1cm4gbnVsbCE9dFtuXSYmKHM9KHRbbl0rXCJcIikudG9Mb3dlckNhc2UoKSkmJihoLmFjY2VwdHNBdXRvJiZzPT09VXx8KHU9YVtzXSkpJiZ1IT09aC5jb250YWluZXJbaC5rZXldJiYoaC5jb250YWluZXJbaC5rZXldPXUscj0hMCksbnVsbCE9aC5jb250YWluZXJbaC5rZXldfHxoLmFjY2VwdHNBdXRvfHwoaC5jb250YWluZXJbaC5rZXldPWguZGVmYXVsdCxyPSEwKSxyfWZ1bmN0aW9uIGIoZSx0LG4sYSxpLG8sbCxyLHMpe3ZhciB1LGgscCxjLGQ9RShlLG4saSxvLGwpO2lmKCFhKXtpZihudWxsPT1kLmRlZmF1bHQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBgdHlwZWA6IFwiK24pO2E9dHlwZW9mIGQuZGVmYXVsdH1yZXR1cm4gbnVsbCE9dFtuXSYmKGQuYWNjZXB0c0F1dG8mJih0W25dK1wiXCIpLnRvTG93ZXJDYXNlKCk9PT1VfHwocD1oPXRbbl0sKFwibnVtYmVyXCI9PT0oYz1hKT95ZShwKTp0eXBlb2YgcD09PWMpJiYoaD1zJiZcInN0cmluZ1wiPT09YSYmaD9oLnRyaW0oKTpoLDEpJiYoIXJ8fHIoaCkpKSkmJmghPT1kLmNvbnRhaW5lcltkLmtleV0mJihkLmNvbnRhaW5lcltkLmtleV09aCx1PSEwKSxudWxsIT1kLmNvbnRhaW5lcltkLmtleV18fGQuYWNjZXB0c0F1dG98fChkLmNvbnRhaW5lcltkLmtleV09ZC5kZWZhdWx0LHU9ITApLHV9aWYodT11fHx7fSxbXCJzdGFydFwiLFwiZW5kXCJdLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj11W2VdLGE9ITE7aWYobiYmKEllKG4pfHwoYT1MKG4sXCJhbmNob3JcIikpKSYmbiE9PV8uYW5jaG9yU0VbdF0pe2lmKCExIT09cy5vcHRpb25Jc0F0dGFjaC5hbmNob3JTRVt0XSYmaXQocyx2ZVtfLmFuY2hvclNFW3RdLl9pZF0pLGEmJiFhdChzLHZlW24uX2lkXSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBiaW5kIGF0dGFjaG1lbnRcIik7Xy5hbmNob3JTRVt0XT1uLHMub3B0aW9uSXNBdHRhY2guYW5jaG9yU0VbdF09YSxpPXYucG9zaXRpb249ITB9fSksIV8uYW5jaG9yU0VbMF18fCFfLmFuY2hvclNFWzFdfHxfLmFuY2hvclNFWzBdPT09Xy5hbmNob3JTRVsxXSl0aHJvdyBuZXcgRXJyb3IoXCJgc3RhcnRgIGFuZCBgZW5kYCBhcmUgcmVxdWlyZWQuXCIpO2Z1bmN0aW9uIGsoZSl7dmFyIHQ9by5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcIm1hc2tcIikpO3JldHVybiB0LmlkPWUsdC5tYXNrVW5pdHMuYmFzZVZhbD1TVkdVbml0VHlwZXMuU1ZHX1VOSVRfVFlQRV9VU0VSU1BBQ0VPTlVTRSxbdC54LHQueSx0LndpZHRoLHQuaGVpZ2h0XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QWCwwKX0pLHR9ZnVuY3Rpb24gdyhlKXt2YXIgdD1vLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwibWFya2VyXCIpKTtyZXR1cm4gdC5pZD1lLHQubWFya2VyVW5pdHMuYmFzZVZhbD1TVkdNYXJrZXJFbGVtZW50LlNWR19NQVJLRVJVTklUU19TVFJPS0VXSURUSCx0LnZpZXdCb3guYmFzZVZhbHx8dC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsXCIwIDAgMCAwXCIpLHR9ZnVuY3Rpb24gTyhlKXtyZXR1cm5bZS53aWR0aCxlLmhlaWdodF0uZm9yRWFjaChmdW5jdGlvbihlKXtlLmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUEVSQ0VOVEFHRSwxMDApfSksZX1pJiYoZT1mdW5jdGlvbihlLHQpe3ZhciBuLGEsaTtpZighKG49TGUoZSkpfHwhKGE9TGUodCkpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgZnJhbWVzLlwiKTtyZXR1cm4gbi5sZW5ndGgmJmEubGVuZ3RoJiYobi5yZXZlcnNlKCksYS5yZXZlcnNlKCksbi5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBhLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10JiYoaT1lLmNvbnRlbnRXaW5kb3csITApfSl9KSksaXx8d2luZG93fSghMSE9PXMub3B0aW9uSXNBdHRhY2guYW5jaG9yU0VbMF0/dmVbXy5hbmNob3JTRVswXS5faWRdLmVsZW1lbnQ6Xy5hbmNob3JTRVswXSwhMSE9PXMub3B0aW9uSXNBdHRhY2guYW5jaG9yU0VbMV0/dmVbXy5hbmNob3JTRVsxXS5faWRdLmVsZW1lbnQ6Xy5hbmNob3JTRVsxXSkpIT09cy5iYXNlV2luZG93JiYodD1lLG09KGE9cykuYXBsU3RhdHMsUz10LmRvY3VtZW50LGc9QStcIi1cIithLl9pZCxhLnBhdGhMaXN0PXt9LFhlKG0sbWUpLE9iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUrXCJfZW5hYmxlZFwiO21bdF0mJih0ZVtlXS5yZW1vdmUoYSksbVt0XT0hMSl9KSxhLmJhc2VXaW5kb3cmJmEuc3ZnJiZhLmJhc2VXaW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhLnN2ZyksS2UoYS5iYXNlV2luZG93PXQpLGEuYm9keU9mZnNldD1RZSh0KSxhLnN2Zz1uPVMuY3JlYXRlRWxlbWVudE5TKHJlLFwic3ZnXCIpLG4uY2xhc3NOYW1lLmJhc2VWYWw9QSxuLnZpZXdCb3guYmFzZVZhbHx8bi5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsXCIwIDAgMCAwXCIpLGEuZGVmcz1vPW4uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJkZWZzXCIpKSxhLmxpbmVQYXRoPXI9by5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInBhdGhcIikpLHIuaWQ9aD1nK1wiLWxpbmUtcGF0aFwiLHIuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1saW5lLXBhdGhcIixwZSYmKHIuc3R5bGUuZmlsbD1cIm5vbmVcIiksYS5saW5lU2hhcGU9cj1vLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmlkPXA9ZytcIi1saW5lLXNoYXBlXCIsci5ocmVmLmJhc2VWYWw9XCIjXCIraCwobD1vLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwiZ1wiKSkpLmlkPWM9ZytcIi1jYXBzXCIsYS5jYXBzTWFza0FuY2hvclNFPVswLDFdLm1hcChmdW5jdGlvbigpe3ZhciBlPWwuYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJwYXRoXCIpKTtyZXR1cm4gZS5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWNhcHMtbWFzay1hbmNob3JcIixlfSksYS5saW5lTWFza01hcmtlcklkU0U9W2crXCItY2Fwcy1tYXNrLW1hcmtlci0wXCIsZytcIi1jYXBzLW1hc2stbWFya2VyLTFcIl0sYS5jYXBzTWFza01hcmtlclNFPVswLDFdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdyhhLmxpbmVNYXNrTWFya2VySWRTRVtlXSl9KSxhLmNhcHNNYXNrTWFya2VyU2hhcGVTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9YS5jYXBzTWFza01hcmtlclNFW2VdLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKTtyZXR1cm4gdC5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWNhcHMtbWFzay1tYXJrZXItc2hhcGVcIix0fSksYS5jYXBzTWFza0xpbmU9cj1sLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItY2Fwcy1tYXNrLWxpbmVcIixyLmhyZWYuYmFzZVZhbD1cIiNcIitwLGEubWFza0JHUmVjdD1yPU8oby5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInJlY3RcIikpKSxyLmlkPWQ9ZytcIi1tYXNrLWJnLXJlY3RcIixyLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItbWFzay1iZy1yZWN0XCIscGUmJihyLnN0eWxlLmZpbGw9XCJ3aGl0ZVwiKSxhLmxpbmVNYXNrPU8oayhhLmxpbmVNYXNrSWQ9ZytcIi1saW5lLW1hc2tcIikpLGEubGluZU1hc2tCRz1yPWEubGluZU1hc2suYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuaHJlZi5iYXNlVmFsPVwiI1wiK2QsYS5saW5lTWFza1NoYXBlPXI9YS5saW5lTWFzay5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWxpbmUtbWFzay1zaGFwZVwiLHIuaHJlZi5iYXNlVmFsPVwiI1wiK2gsci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEubGluZU1hc2tDYXBzPXI9YS5saW5lTWFzay5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5ocmVmLmJhc2VWYWw9XCIjXCIrYyxhLmxpbmVPdXRsaW5lTWFzaz1PKGsoZj1nK1wiLWxpbmUtb3V0bGluZS1tYXNrXCIpKSwocj1hLmxpbmVPdXRsaW5lTWFzay5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSkpLmhyZWYuYmFzZVZhbD1cIiNcIitkLGEubGluZU91dGxpbmVNYXNrU2hhcGU9cj1hLmxpbmVPdXRsaW5lTWFzay5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWxpbmUtb3V0bGluZS1tYXNrLXNoYXBlXCIsci5ocmVmLmJhc2VWYWw9XCIjXCIraCxhLmxpbmVPdXRsaW5lTWFza0NhcHM9cj1hLmxpbmVPdXRsaW5lTWFzay5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5ocmVmLmJhc2VWYWw9XCIjXCIrYyxhLmZhY2U9bi5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcImdcIikpLGEubGluZUZhY2U9cj1hLmZhY2UuYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuaHJlZi5iYXNlVmFsPVwiI1wiK3AsYS5saW5lT3V0bGluZUZhY2U9cj1hLmZhY2UuYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuaHJlZi5iYXNlVmFsPVwiI1wiK3Asci5zdHlsZS5tYXNrPVwidXJsKCNcIitmK1wiKVwiLHIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixhLnBsdWdNYXNrSWRTRT1bZytcIi1wbHVnLW1hc2stMFwiLGcrXCItcGx1Zy1tYXNrLTFcIl0sYS5wbHVnTWFza1NFPVswLDFdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gayhhLnBsdWdNYXNrSWRTRVtlXSl9KSxhLnBsdWdNYXNrU2hhcGVTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9YS5wbHVnTWFza1NFW2VdLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKTtyZXR1cm4gdC5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLXBsdWctbWFzay1zaGFwZVwiLHR9KSx5PVtdLGEucGx1Z091dGxpbmVNYXNrU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBrKHlbZV09ZytcIi1wbHVnLW91dGxpbmUtbWFzay1cIitlKX0pLGEucGx1Z091dGxpbmVNYXNrU2hhcGVTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9YS5wbHVnT3V0bGluZU1hc2tTRVtlXS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSk7cmV0dXJuIHQuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1wbHVnLW91dGxpbmUtbWFzay1zaGFwZVwiLHR9KSxhLnBsdWdNYXJrZXJJZFNFPVtnK1wiLXBsdWctbWFya2VyLTBcIixnK1wiLXBsdWctbWFya2VyLTFcIl0sYS5wbHVnTWFya2VyU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXcoYS5wbHVnTWFya2VySWRTRVtlXSk7cmV0dXJuIHBlJiYodC5tYXJrZXJVbml0cy5iYXNlVmFsPVNWR01hcmtlckVsZW1lbnQuU1ZHX01BUktFUlVOSVRTX1VTRVJTUEFDRU9OVVNFKSx0fSksYS5wbHVnTWFya2VyU2hhcGVTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGEucGx1Z01hcmtlclNFW2VdLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwiZ1wiKSl9KSxhLnBsdWdGYWNlU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBhLnBsdWdNYXJrZXJTaGFwZVNFW2VdLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKX0pLGEucGx1Z091dGxpbmVGYWNlU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWEucGx1Z01hcmtlclNoYXBlU0VbZV0uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpO3JldHVybiB0LnN0eWxlLm1hc2s9XCJ1cmwoI1wiK3lbZV0rXCIpXCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHR9KSxhLnBsdWdzRmFjZT1yPWEuZmFjZS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLXBsdWdzLWZhY2VcIixyLmhyZWYuYmFzZVZhbD1cIiNcIitwLHIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixhLmN1clN0YXRzLnNob3dfaW5BbmltPyhhLmlzU2hvd249MSxNW20uc2hvd19lZmZlY3RdLnN0b3AoYSwhMCkpOmEuaXNTaG93bnx8KG4uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiKSxTLmJvZHkuYXBwZW5kQ2hpbGQobiksWzAsMSwyXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG49YS5vcHRpb25zLmxhYmVsU0VNW2VdO24mJkwobixcImxhYmVsXCIpJiYodD12ZVtuLl9pZF0pLmNvbmYuaW5pdFN2ZyYmdC5jb25mLmluaXRTdmcodCxhKX0pLHYubGluZT12LnBsdWc9di5saW5lT3V0bGluZT12LnBsdWdPdXRsaW5lPXYuZmFjZXM9di5lZmZlY3Q9ITApLHYucG9zaXRpb249eChfLHUsXCJwYXRoXCIseixudWxsLG51bGwsZGUucGF0aCl8fHYucG9zaXRpb24sdi5wb3NpdGlvbj14KF8sdSxcInN0YXJ0U29ja2V0XCIsVyxcInNvY2tldFNFXCIsMCl8fHYucG9zaXRpb24sdi5wb3NpdGlvbj14KF8sdSxcImVuZFNvY2tldFwiLFcsXCJzb2NrZXRTRVwiLDEpfHx2LnBvc2l0aW9uLFt1LnN0YXJ0U29ja2V0R3Jhdml0eSx1LmVuZFNvY2tldEdyYXZpdHldLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9ITE7bnVsbCE9ZSYmKEFycmF5LmlzQXJyYXkoZSk/eWUoZVswXSkmJnllKGVbMV0pJiYoaT1bZVswXSxlWzFdXSxBcnJheS5pc0FycmF5KF8uc29ja2V0R3Jhdml0eVNFW3RdKSYmKG49aSxhPV8uc29ja2V0R3Jhdml0eVNFW3RdLG4ubGVuZ3RoPT09YS5sZW5ndGgmJm4uZXZlcnkoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PWFbdF19KSkmJihpPSExKSk6KChlK1wiXCIpLnRvTG93ZXJDYXNlKCk9PT1VP2k9bnVsbDp5ZShlKSYmMDw9ZSYmKGk9ZSksaT09PV8uc29ja2V0R3Jhdml0eVNFW3RdJiYoaT0hMSkpLCExIT09aSYmKF8uc29ja2V0R3Jhdml0eVNFW3RdPWksdi5wb3NpdGlvbj0hMCkpfSksdi5saW5lPWIoXyx1LFwiY29sb3JcIixudWxsLFwibGluZUNvbG9yXCIsbnVsbCxkZS5saW5lQ29sb3IsbnVsbCwhMCl8fHYubGluZSx2LmxpbmU9YihfLHUsXCJzaXplXCIsbnVsbCxcImxpbmVTaXplXCIsbnVsbCxkZS5saW5lU2l6ZSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlfSl8fHYubGluZSxbXCJzdGFydFBsdWdcIixcImVuZFBsdWdcIl0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3YucGx1Zz14KF8sdSxlLGosXCJwbHVnU0VcIix0LGRlLnBsdWdTRVt0XSl8fHYucGx1Zyx2LnBsdWc9YihfLHUsZStcIkNvbG9yXCIsXCJzdHJpbmdcIixcInBsdWdDb2xvclNFXCIsdCxudWxsLG51bGwsITApfHx2LnBsdWcsdi5wbHVnPWIoXyx1LGUrXCJTaXplXCIsbnVsbCxcInBsdWdTaXplU0VcIix0LGRlLnBsdWdTaXplU0VbdF0sZnVuY3Rpb24oZSl7cmV0dXJuIDA8ZX0pfHx2LnBsdWd9KSx2LmxpbmVPdXRsaW5lPWIoXyx1LFwib3V0bGluZVwiLG51bGwsXCJsaW5lT3V0bGluZUVuYWJsZWRcIixudWxsLGRlLmxpbmVPdXRsaW5lRW5hYmxlZCl8fHYubGluZU91dGxpbmUsdi5saW5lT3V0bGluZT1iKF8sdSxcIm91dGxpbmVDb2xvclwiLG51bGwsXCJsaW5lT3V0bGluZUNvbG9yXCIsbnVsbCxkZS5saW5lT3V0bGluZUNvbG9yLG51bGwsITApfHx2LmxpbmVPdXRsaW5lLHYubGluZU91dGxpbmU9YihfLHUsXCJvdXRsaW5lU2l6ZVwiLG51bGwsXCJsaW5lT3V0bGluZVNpemVcIixudWxsLGRlLmxpbmVPdXRsaW5lU2l6ZSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlJiZlPD0uNDh9KXx8di5saW5lT3V0bGluZSxbXCJzdGFydFBsdWdPdXRsaW5lXCIsXCJlbmRQbHVnT3V0bGluZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7di5wbHVnT3V0bGluZT1iKF8sdSxlLG51bGwsXCJwbHVnT3V0bGluZUVuYWJsZWRTRVwiLHQsZGUucGx1Z091dGxpbmVFbmFibGVkU0VbdF0pfHx2LnBsdWdPdXRsaW5lLHYucGx1Z091dGxpbmU9YihfLHUsZStcIkNvbG9yXCIsXCJzdHJpbmdcIixcInBsdWdPdXRsaW5lQ29sb3JTRVwiLHQsbnVsbCxudWxsLCEwKXx8di5wbHVnT3V0bGluZSx2LnBsdWdPdXRsaW5lPWIoXyx1LGUrXCJTaXplXCIsbnVsbCxcInBsdWdPdXRsaW5lU2l6ZVNFXCIsdCxkZS5wbHVnT3V0bGluZVNpemVTRVt0XSxmdW5jdGlvbihlKXtyZXR1cm4gMTw9ZX0pfHx2LnBsdWdPdXRsaW5lfSksW1wic3RhcnRMYWJlbFwiLFwiZW5kTGFiZWxcIixcIm1pZGRsZUxhYmVsXCJdLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixhLGksbz11W2VdLGw9Xy5sYWJlbFNFTVt0XSYmIXMub3B0aW9uSXNBdHRhY2gubGFiZWxTRU1bdF0/dmVbXy5sYWJlbFNFTVt0XS5faWRdLnRleHQ6Xy5sYWJlbFNFTVt0XSxyPSExO2lmKChuPVwic3RyaW5nXCI9PXR5cGVvZiBvKSYmKG89by50cmltKCkpLChufHxvJiYocj1MKG8sXCJsYWJlbFwiKSkpJiZvIT09bCl7aWYoXy5sYWJlbFNFTVt0XSYmKGl0KHMsdmVbXy5sYWJlbFNFTVt0XS5faWRdKSxfLmxhYmVsU0VNW3RdPVwiXCIpLG8pe2lmKHI/KGE9dmVbKGk9bykuX2lkXSkuYm91bmRUYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXthLmNvbmYucmVtb3ZlT3B0aW9uKGEsZSl9KTppPW5ldyBDKEkuY2FwdGlvbkxhYmVsLFtvXSksIWF0KHMsdmVbaS5faWRdLGUpKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGJpbmQgYXR0YWNobWVudFwiKTtfLmxhYmVsU0VNW3RdPWl9cy5vcHRpb25Jc0F0dGFjaC5sYWJlbFNFTVt0XT1yfX0pLE9iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBlLHQsbz10ZVthXSxuPWErXCJfZW5hYmxlZFwiLGk9YStcIl9vcHRpb25zXCI7ZnVuY3Rpb24gbChhKXt2YXIgaT17fTtyZXR1cm4gby5vcHRpb25zQ29uZi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzNdO251bGw9PWVbNF18fGlbbl18fChpW25dPVtdKSwoXCJmdW5jdGlvblwiPT10eXBlb2YgdD90OlwiaWRcIj09PXQ/eDpiKS5hcHBseShudWxsLFtpLGFdLmNvbmNhdChlLnNsaWNlKDEpKSl9KSxpfWZ1bmN0aW9uIHIoZSl7dmFyIHQsbj1hK1wiX2FuaW1PcHRpb25zXCI7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkoXCJhbmltYXRpb25cIik/ZmUoZS5hbmltYXRpb24pP3Q9cy5jdXJTdGF0c1tuXT10dChlLmFuaW1hdGlvbixvLmRlZmF1bHRBbmltT3B0aW9ucyk6KHQ9ISFlLmFuaW1hdGlvbixzLmN1clN0YXRzW25dPXQ/dHQoe30sby5kZWZhdWx0QW5pbU9wdGlvbnMpOm51bGwpOih0PSEhby5kZWZhdWx0RW5hYmxlZCxzLmN1clN0YXRzW25dPXQ/dHQoe30sby5kZWZhdWx0QW5pbU9wdGlvbnMpOm51bGwpLHR9dS5oYXNPd25Qcm9wZXJ0eShhKSYmKGU9dVthXSxmZShlKT8ocy5jdXJTdGF0c1tuXT0hMCx0PXMuY3VyU3RhdHNbaV09bChlKSxvLmFuaW0mJihzLmN1clN0YXRzW2ldLmFuaW1hdGlvbj1yKGUpKSk6KHQ9cy5jdXJTdGF0c1tuXT0hIWUpJiYocy5jdXJTdGF0c1tpXT1sKHt9KSxvLmFuaW0mJihzLmN1clN0YXRzW2ldLmFuaW1hdGlvbj1yKHt9KSkpLHdlKHQsX1thXSkmJihfW2FdPXQsdi5lZmZlY3Q9ITApKX0pLGV0KHMsdil9ZnVuY3Rpb24gbHQoZSx0LG4pe3ZhciBhPXtvcHRpb25zOnthbmNob3JTRTpbXSxzb2NrZXRTRTpbXSxzb2NrZXRHcmF2aXR5U0U6W10scGx1Z1NFOltdLHBsdWdDb2xvclNFOltdLHBsdWdTaXplU0U6W10scGx1Z091dGxpbmVFbmFibGVkU0U6W10scGx1Z091dGxpbmVDb2xvclNFOltdLHBsdWdPdXRsaW5lU2l6ZVNFOltdLGxhYmVsU0VNOltcIlwiLFwiXCIsXCJcIl19LG9wdGlvbklzQXR0YWNoOnthbmNob3JTRTpbITEsITFdLGxhYmVsU0VNOlshMSwhMSwhMV19LGN1clN0YXRzOnt9LGFwbFN0YXRzOnt9LGF0dGFjaG1lbnRzOltdLGV2ZW50czp7fSxyZWZsb3dUYXJnZXRzOltdfTtYZShhLmN1clN0YXRzLG1lKSxYZShhLmFwbFN0YXRzLG1lKSxPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD10ZVtlXS5zdGF0cztYZShhLmN1clN0YXRzLHQpLFhlKGEuYXBsU3RhdHMsdCksYS5vcHRpb25zW2VdPSExfSksWGUoYS5jdXJTdGF0cyxFKSxYZShhLmFwbFN0YXRzLEUpLGEuY3VyU3RhdHMuc2hvd19lZmZlY3Q9TyxhLmN1clN0YXRzLnNob3dfYW5pbU9wdGlvbnM9T2UoTVtPXS5kZWZhdWx0QW5pbU9wdGlvbnMpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX2lkXCIse3ZhbHVlOisrX2V9KSxhLl9pZD10aGlzLl9pZCxnZVt0aGlzLl9pZF09YSwxPT09YXJndW1lbnRzLmxlbmd0aCYmKG49ZSxlPW51bGwpLG49bnx8e30sKGV8fHQpJiYobj1PZShuKSxlJiYobi5zdGFydD1lKSx0JiYobi5lbmQ9dCkpLGEuaXNTaG93bj1hLmFwbFN0YXRzLnNob3dfb249IW4uaGlkZSx0aGlzLnNldE9wdGlvbnMobil9ZnVuY3Rpb24gcnQobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3Rbbl09ZSx0aGlzLnNldE9wdGlvbnModCl9fWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4sYT17Y29uZjplLGN1clN0YXRzOnt9LGFwbFN0YXRzOnt9LGJvdW5kVGFyZ2V0czpbXX0saT17fTtlLmFyZ09wdGlvbnMuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuISghdC5sZW5ndGh8fChcInN0cmluZ1wiPT10eXBlb2YgZS50eXBlP3R5cGVvZiB0WzBdIT09ZS50eXBlOlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUudHlwZXx8IWUudHlwZSh0WzBdKSkpJiYoaVtlLm9wdGlvbk5hbWVdPXQuc2hpZnQoKSwhMCl9KSxuPXQubGVuZ3RoJiZmZSh0WzBdKT9PZSh0WzBdKTp7fSxPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09aVtlXX0pLGUuc3RhdHMmJihYZShhLmN1clN0YXRzLGUuc3RhdHMpLFhlKGEuYXBsU3RhdHMsZS5zdGF0cykpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX2lkXCIse3ZhbHVlOisrRWV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlzUmVtb3ZlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdmVbdGhpcy5faWRdfX0pLGEuX2lkPXRoaXMuX2lkLGUuaW5pdCYmIWUuaW5pdChhLG4pfHwodmVbdGhpcy5faWRdPWEpfXJldHVybiB0ZT17ZGFzaDp7c3RhdHM6e2Rhc2hfbGVuOnt9LGRhc2hfZ2FwOnt9LGRhc2hfbWF4T2Zmc2V0Ont9fSxhbmltOiEwLGRlZmF1bHRBbmltT3B0aW9uczp7ZHVyYXRpb246MWUzLHRpbWluZzpcImxpbmVhclwifSxvcHRpb25zQ29uZjpbW1widHlwZVwiLFwibGVuXCIsXCJudW1iZXJcIixudWxsLG51bGwsbnVsbCxmdW5jdGlvbihlKXtyZXR1cm4gMDxlfV0sW1widHlwZVwiLFwiZ2FwXCIsXCJudW1iZXJcIixudWxsLG51bGwsbnVsbCxmdW5jdGlvbihlKXtyZXR1cm4gMDxlfV1dLGluaXQ6ZnVuY3Rpb24oZSl7RGUoZSxcImFwbF9saW5lX3N0cm9rZVdpZHRoXCIsdGUuZGFzaC51cGRhdGUpLGUubGluZUZhY2Uuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldD0wLHRlLmRhc2gudXBkYXRlKGUpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJTdGF0czt6ZShlLFwiYXBsX2xpbmVfc3Ryb2tlV2lkdGhcIix0ZS5kYXNoLnVwZGF0ZSksdC5kYXNoX2FuaW1JZCYmKGcucmVtb3ZlKHQuZGFzaF9hbmltSWQpLHQuZGFzaF9hbmltSWQ9bnVsbCksZS5saW5lRmFjZS5zdHlsZS5zdHJva2VEYXNoYXJyYXk9XCJub25lXCIsZS5saW5lRmFjZS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0PTAsWGUoZS5hcGxTdGF0cyx0ZS5kYXNoLnN0YXRzKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dC5jdXJTdGF0cyxhPXQuYXBsU3RhdHMsaT1hLmRhc2hfb3B0aW9ucyxvPSExO24uZGFzaF9sZW49aS5sZW58fDIqYS5saW5lX3N0cm9rZVdpZHRoLG4uZGFzaF9nYXA9aS5nYXB8fGEubGluZV9zdHJva2VXaWR0aCxuLmRhc2hfbWF4T2Zmc2V0PW4uZGFzaF9sZW4rbi5kYXNoX2dhcCxvPXFlKHQsYSxcImRhc2hfbGVuXCIsbi5kYXNoX2xlbil8fG8sKG89cWUodCxhLFwiZGFzaF9nYXBcIixuLmRhc2hfZ2FwKXx8bykmJih0LmxpbmVGYWNlLnN0eWxlLnN0cm9rZURhc2hhcnJheT1hLmRhc2hfbGVuK1wiLFwiK2EuZGFzaF9nYXApLG4uZGFzaF9hbmltT3B0aW9ucz8obz1xZSh0LGEsXCJkYXNoX21heE9mZnNldFwiLG4uZGFzaF9tYXhPZmZzZXQpLGEuZGFzaF9hbmltT3B0aW9ucyYmKG98fHdlKG4uZGFzaF9hbmltT3B0aW9ucyxhLmRhc2hfYW5pbU9wdGlvbnMpKSYmKG4uZGFzaF9hbmltSWQmJihlPWcuc3RvcChuLmRhc2hfYW5pbUlkKSxnLnJlbW92ZShuLmRhc2hfYW5pbUlkKSksYS5kYXNoX2FuaW1PcHRpb25zPW51bGwpLGEuZGFzaF9hbmltT3B0aW9uc3x8KG4uZGFzaF9hbmltSWQ9Zy5hZGQoZnVuY3Rpb24oZSl7cmV0dXJuKDEtZSkqYS5kYXNoX21heE9mZnNldCtcInB4XCJ9LGZ1bmN0aW9uKGUpe3QubGluZUZhY2Uuc3R5bGUuc3Ryb2tlRGFzaG9mZnNldD1lfSxuLmRhc2hfYW5pbU9wdGlvbnMuZHVyYXRpb24sMCxuLmRhc2hfYW5pbU9wdGlvbnMudGltaW5nLCExLGUpLGEuZGFzaF9hbmltT3B0aW9ucz1PZShuLmRhc2hfYW5pbU9wdGlvbnMpKSk6YS5kYXNoX2FuaW1PcHRpb25zJiYobi5kYXNoX2FuaW1JZCYmKGcucmVtb3ZlKG4uZGFzaF9hbmltSWQpLG4uZGFzaF9hbmltSWQ9bnVsbCksdC5saW5lRmFjZS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0PTAsYS5kYXNoX2FuaW1PcHRpb25zPW51bGwpfX0sZ3JhZGllbnQ6e3N0YXRzOntncmFkaWVudF9jb2xvclNFOntoYXNTRTohMH0sZ3JhZGllbnRfcG9pbnRTRTp7aGFzU0U6ITAsaGFzUHJvcHM6ITB9fSxvcHRpb25zQ29uZjpbW1widHlwZVwiLFwic3RhcnRDb2xvclwiLFwic3RyaW5nXCIsXCJjb2xvclNFXCIsMCxudWxsLG51bGwsITBdLFtcInR5cGVcIixcImVuZENvbG9yXCIsXCJzdHJpbmdcIixcImNvbG9yU0VcIiwxLG51bGwsbnVsbCwhMF1dLGluaXQ6ZnVuY3Rpb24oZSl7dmFyIHQsYT1lLmJhc2VXaW5kb3cuZG9jdW1lbnQsbj1lLmRlZnMsaT1BK1wiLVwiK2UuX2lkK1wiLWdyYWRpZW50XCI7ZS5lZmNfZ3JhZGllbnRfZ3JhZGllbnQ9dD1uLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudE5TKHJlLFwibGluZWFyR3JhZGllbnRcIikpLHQuaWQ9aSx0LmdyYWRpZW50VW5pdHMuYmFzZVZhbD1TVkdVbml0VHlwZXMuU1ZHX1VOSVRfVFlQRV9VU0VSU1BBQ0VPTlVTRSxbdC54MSx0LnkxLHQueDIsdC55Ml0uZm9yRWFjaChmdW5jdGlvbihlKXtlLmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUFgsMCl9KSxlLmVmY19ncmFkaWVudF9zdG9wU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZWZjX2dyYWRpZW50X2dyYWRpZW50LmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudE5TKHJlLFwic3RvcFwiKSk7dHJ5e24ub2Zmc2V0LmJhc2VWYWw9dH1jYXRjaChlKXtpZihlLmNvZGUhPT1ET01FeGNlcHRpb24uTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSKXRocm93IGU7bi5zZXRBdHRyaWJ1dGUoXCJvZmZzZXRcIix0KX1yZXR1cm4gbn0pLERlKGUsXCJjdXJfcGx1Z19jb2xvclNFXCIsdGUuZ3JhZGllbnQudXBkYXRlKSxEZShlLFwiYXBsX3BhdGhcIix0ZS5ncmFkaWVudC51cGRhdGUpLGUuY3VyU3RhdHMubGluZV9hbHRDb2xvcj0hMCxlLmxpbmVGYWNlLnN0eWxlLnN0cm9rZT1cInVybCgjXCIraStcIilcIix0ZS5ncmFkaWVudC51cGRhdGUoZSl9LHJlbW92ZTpmdW5jdGlvbihlKXtlLmVmY19ncmFkaWVudF9ncmFkaWVudCYmKGUuZGVmcy5yZW1vdmVDaGlsZChlLmVmY19ncmFkaWVudF9ncmFkaWVudCksZS5lZmNfZ3JhZGllbnRfZ3JhZGllbnQ9ZS5lZmNfZ3JhZGllbnRfc3RvcFNFPW51bGwpLHplKGUsXCJjdXJfcGx1Z19jb2xvclNFXCIsdGUuZ3JhZGllbnQudXBkYXRlKSx6ZShlLFwiYXBsX3BhdGhcIix0ZS5ncmFkaWVudC51cGRhdGUpLGUuY3VyU3RhdHMubGluZV9hbHRDb2xvcj0hMSxlLmxpbmVGYWNlLnN0eWxlLnN0cm9rZT1lLmN1clN0YXRzLmxpbmVfY29sb3IsWGUoZS5hcGxTdGF0cyx0ZS5ncmFkaWVudC5zdGF0cyl9LHVwZGF0ZTpmdW5jdGlvbihhKXt2YXIgZSx0LGk9YS5jdXJTdGF0cyxvPWEuYXBsU3RhdHMsbj1vLmdyYWRpZW50X29wdGlvbnMsbD1hLnBhdGhMaXN0LmFuaW1WYWx8fGEucGF0aExpc3QuYmFzZVZhbDtbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kuZ3JhZGllbnRfY29sb3JTRVtlXT1uLmNvbG9yU0VbZV18fGkucGx1Z19jb2xvclNFW2VdfSksdD1sWzBdWzBdLGkuZ3JhZGllbnRfcG9pbnRTRVswXT17eDp0LngseTp0Lnl9LHQ9KGU9bFtsLmxlbmd0aC0xXSlbZS5sZW5ndGgtMV0saS5ncmFkaWVudF9wb2ludFNFWzFdPXt4OnQueCx5OnQueX0sWzAsMV0uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbjtxZShhLG8uZ3JhZGllbnRfY29sb3JTRSx0LG49aS5ncmFkaWVudF9jb2xvclNFW3RdKSYmKHBlPyhuPU1lKG4pLGEuZWZjX2dyYWRpZW50X3N0b3BTRVt0XS5zdHlsZS5zdG9wQ29sb3I9blsxXSxhLmVmY19ncmFkaWVudF9zdG9wU0VbdF0uc3R5bGUuc3RvcE9wYWNpdHk9blswXSk6YS5lZmNfZ3JhZGllbnRfc3RvcFNFW3RdLnN0eWxlLnN0b3BDb2xvcj1uKSxbXCJ4XCIsXCJ5XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7KG49aS5ncmFkaWVudF9wb2ludFNFW3RdW2VdKSE9PW8uZ3JhZGllbnRfcG9pbnRTRVt0XVtlXSYmKGEuZWZjX2dyYWRpZW50X2dyYWRpZW50W2UrKHQrMSldLmJhc2VWYWwudmFsdWU9by5ncmFkaWVudF9wb2ludFNFW3RdW2VdPW4pfSl9KX19LGRyb3BTaGFkb3c6e3N0YXRzOntkcm9wU2hhZG93X2R4Ont9LGRyb3BTaGFkb3dfZHk6e30sZHJvcFNoYWRvd19ibHVyOnt9LGRyb3BTaGFkb3dfY29sb3I6e30sZHJvcFNoYWRvd19vcGFjaXR5Ont9LGRyb3BTaGFkb3dfeDp7fSxkcm9wU2hhZG93X3k6e319LG9wdGlvbnNDb25mOltbXCJ0eXBlXCIsXCJkeFwiLG51bGwsbnVsbCxudWxsLDJdLFtcInR5cGVcIixcImR5XCIsbnVsbCxudWxsLG51bGwsNF0sW1widHlwZVwiLFwiYmx1clwiLG51bGwsbnVsbCxudWxsLDMsZnVuY3Rpb24oZSl7cmV0dXJuIDA8PWV9XSxbXCJ0eXBlXCIsXCJjb2xvclwiLG51bGwsbnVsbCxudWxsLFwiIzAwMFwiLG51bGwsITBdLFtcInR5cGVcIixcIm9wYWNpdHlcIixudWxsLG51bGwsbnVsbCwuOCxmdW5jdGlvbihlKXtyZXR1cm4gMDw9ZSYmZTw9MX1dXSxpbml0OmZ1bmN0aW9uKHQpe3ZhciBlLG4sYSxpLG8sbD10LmJhc2VXaW5kb3cuZG9jdW1lbnQscj10LmRlZnMscz1BK1wiLVwiK3QuX2lkK1wiLWRyb3BTaGFkb3dcIix1PShlPWwsbj1zLG89e30sXCJib29sZWFuXCIhPXR5cGVvZiBwJiYocD0hIXdpbmRvdy5TVkdGRURyb3BTaGFkb3dFbGVtZW50JiYhcGUpLG8uZWxtc0FwcGVuZD1bby5lbG1GaWx0ZXI9YT1lLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZpbHRlclwiKV0sYS5maWx0ZXJVbml0cy5iYXNlVmFsPVNWR1VuaXRUeXBlcy5TVkdfVU5JVF9UWVBFX1VTRVJTUEFDRU9OVVNFLGEueC5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BYLDApLGEueS5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BYLDApLGEud2lkdGguYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QRVJDRU5UQUdFLDEwMCksYS5oZWlnaHQuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QRVJDRU5UQUdFLDEwMCksYS5pZD1uLHA/KG8uZWxtT2Zmc2V0PW8uZWxtQmx1cj1pPWEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZURyb3BTaGFkb3dcIikpLG8uc3R5bGVGbG9vZD1pLnN0eWxlKTooby5lbG1CbHVyPWEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZUdhdXNzaWFuQmx1clwiKSksby5lbG1PZmZzZXQ9aT1hLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVPZmZzZXRcIikpLGkucmVzdWx0LmJhc2VWYWw9XCJvZmZzZXRibHVyXCIsaT1hLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVGbG9vZFwiKSksby5zdHlsZUZsb29kPWkuc3R5bGUsKGk9YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlQ29tcG9zaXRlXCIpKSkuaW4yLmJhc2VWYWw9XCJvZmZzZXRibHVyXCIsaS5vcGVyYXRvci5iYXNlVmFsPVNWR0ZFQ29tcG9zaXRlRWxlbWVudC5TVkdfRkVDT01QT1NJVEVfT1BFUkFUT1JfSU4sKGk9YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlTWVyZ2VcIikpKS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlTWVyZ2VOb2RlXCIpKSxpLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVNZXJnZU5vZGVcIikpLmluMS5iYXNlVmFsPVwiU291cmNlR3JhcGhpY1wiKSxvKTtbXCJlbG1GaWx0ZXJcIixcImVsbU9mZnNldFwiLFwiZWxtQmx1clwiLFwic3R5bGVGbG9vZFwiLFwiZWxtc0FwcGVuZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbXCJlZmNfZHJvcFNoYWRvd19cIitlXT11W2VdfSksdS5lbG1zQXBwZW5kLmZvckVhY2goZnVuY3Rpb24oZSl7ci5hcHBlbmRDaGlsZChlKX0pLHQuZmFjZS5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcInVybCgjXCIrcytcIilcIiksRGUodCxcIm5ld19lZGdlNHZpZXdCb3hcIix0ZS5kcm9wU2hhZG93LmFkanVzdEVkZ2UpLHRlLmRyb3BTaGFkb3cudXBkYXRlKHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kZWZzO2UuZWZjX2Ryb3BTaGFkb3dfZWxtc0FwcGVuZCYmKGUuZWZjX2Ryb3BTaGFkb3dfZWxtc0FwcGVuZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucmVtb3ZlQ2hpbGQoZSl9KSxlLmVmY19kcm9wU2hhZG93X2VsbUZpbHRlcj1lLmVmY19kcm9wU2hhZG93X2VsbU9mZnNldD1lLmVmY19kcm9wU2hhZG93X2VsbUJsdXI9ZS5lZmNfZHJvcFNoYWRvd19zdHlsZUZsb29kPWUuZWZjX2Ryb3BTaGFkb3dfZWxtc0FwcGVuZD1udWxsKSx6ZShlLFwibmV3X2VkZ2U0dmlld0JveFwiLHRlLmRyb3BTaGFkb3cuYWRqdXN0RWRnZSksZXQoZSx7fSksZS5mYWNlLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKSxYZShlLmFwbFN0YXRzLHRlLmRyb3BTaGFkb3cuc3RhdHMpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7dmFyIHQsbixhPWUuY3VyU3RhdHMsaT1lLmFwbFN0YXRzLG89aS5kcm9wU2hhZG93X29wdGlvbnM7YS5kcm9wU2hhZG93X2R4PXQ9by5keCxxZShlLGksXCJkcm9wU2hhZG93X2R4XCIsdCkmJihlLmVmY19kcm9wU2hhZG93X2VsbU9mZnNldC5keC5iYXNlVmFsPXQsbj0hMCksYS5kcm9wU2hhZG93X2R5PXQ9by5keSxxZShlLGksXCJkcm9wU2hhZG93X2R5XCIsdCkmJihlLmVmY19kcm9wU2hhZG93X2VsbU9mZnNldC5keS5iYXNlVmFsPXQsbj0hMCksYS5kcm9wU2hhZG93X2JsdXI9dD1vLmJsdXIscWUoZSxpLFwiZHJvcFNoYWRvd19ibHVyXCIsdCkmJihlLmVmY19kcm9wU2hhZG93X2VsbUJsdXIuc2V0U3RkRGV2aWF0aW9uKHQsdCksbj0hMCksbiYmZXQoZSx7fSksYS5kcm9wU2hhZG93X2NvbG9yPXQ9by5jb2xvcixxZShlLGksXCJkcm9wU2hhZG93X2NvbG9yXCIsdCkmJihlLmVmY19kcm9wU2hhZG93X3N0eWxlRmxvb2QuZmxvb2RDb2xvcj10KSxhLmRyb3BTaGFkb3dfb3BhY2l0eT10PW8ub3BhY2l0eSxxZShlLGksXCJkcm9wU2hhZG93X29wYWNpdHlcIix0KSYmKGUuZWZjX2Ryb3BTaGFkb3dfc3R5bGVGbG9vZC5mbG9vZE9wYWNpdHk9dCl9LGFkanVzdEVkZ2U6ZnVuY3Rpb24oYSxpKXt2YXIgZSx0LG89YS5jdXJTdGF0cyxsPWEuYXBsU3RhdHM7bnVsbCE9by5kcm9wU2hhZG93X2R4JiYoZT0zKm8uZHJvcFNoYWRvd19ibHVyLCh0PXt4MTppLngxLWUrby5kcm9wU2hhZG93X2R4LHkxOmkueTEtZStvLmRyb3BTaGFkb3dfZHkseDI6aS54MitlK28uZHJvcFNoYWRvd19keCx5MjppLnkyK2Urby5kcm9wU2hhZG93X2R5fSkueDE8aS54MSYmKGkueDE9dC54MSksdC55MTxpLnkxJiYoaS55MT10LnkxKSx0LngyPmkueDImJihpLngyPXQueDIpLHQueTI+aS55MiYmKGkueTI9dC55MiksW1wieFwiLFwieVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG49XCJkcm9wU2hhZG93X1wiK2U7b1tuXT10PWlbZStcIjFcIl0scWUoYSxsLG4sdCkmJihhLmVmY19kcm9wU2hhZG93X2VsbUZpbHRlcltlXS5iYXNlVmFsLnZhbHVlPXQpfSkpfX19LE9iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXRlW2VdLG49dC5zdGF0cztuW2UrXCJfZW5hYmxlZFwiXT17aW5pVmFsdWU6ITF9LG5bZStcIl9vcHRpb25zXCJdPXtoYXNQcm9wczohMH0sdC5hbmltJiYobltlK1wiX2FuaW1PcHRpb25zXCJdPXt9LG5bZStcIl9hbmltSWRcIl09e30pfSksTT17bm9uZTp7ZGVmYXVsdEFuaW1PcHRpb25zOnt9LGluaXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmN1clN0YXRzO24uc2hvd19hbmltSWQmJihnLnJlbW92ZShuLnNob3dfYW5pbUlkKSxuLnNob3dfYW5pbUlkPW51bGwpLE0ubm9uZS5zdGFydChlLHQpfSxzdGFydDpmdW5jdGlvbihlLHQpe00ubm9uZS5zdG9wKGUsITApfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1lLmN1clN0YXRzO3JldHVybiBuPW51bGwhPW4/bjplLmFwbFN0YXRzLnNob3dfb24sYS5zaG93X2luQW5pbT0hMSx0JiYkZShlLG4pLG4/MTowfX0sZmFkZTp7ZGVmYXVsdEFuaW1PcHRpb25zOntkdXJhdGlvbjozMDAsdGltaW5nOlwibGluZWFyXCJ9LGluaXQ6ZnVuY3Rpb24obixlKXt2YXIgdD1uLmN1clN0YXRzLGE9bi5hcGxTdGF0czt0LnNob3dfYW5pbUlkJiZnLnJlbW92ZSh0LnNob3dfYW5pbUlkKSx0LnNob3dfYW5pbUlkPWcuYWRkKGZ1bmN0aW9uKGUpe3JldHVybiBlfSxmdW5jdGlvbihlLHQpe3Q/TS5mYWRlLnN0b3AobiwhMCk6KG4uc3ZnLnN0eWxlLm9wYWNpdHk9ZStcIlwiLHNlJiYoSGUobixuLnN2ZyksVWUobikpKX0sYS5zaG93X2FuaW1PcHRpb25zLmR1cmF0aW9uLDEsYS5zaG93X2FuaW1PcHRpb25zLnRpbWluZyxudWxsLCExKSxNLmZhZGUuc3RhcnQobixlKX0sc3RhcnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixhPWUuY3VyU3RhdHM7YS5zaG93X2luQW5pbSYmKG49Zy5zdG9wKGEuc2hvd19hbmltSWQpKSwkZShlLDEpLGEuc2hvd19pbkFuaW09ITAsZy5zdGFydChhLnNob3dfYW5pbUlkLCFlLmFwbFN0YXRzLnNob3dfb24sbnVsbCE9dD90Om4pfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgYSxpPWUuY3VyU3RhdHM7cmV0dXJuIG49bnVsbCE9bj9uOmUuYXBsU3RhdHMuc2hvd19vbixhPWkuc2hvd19pbkFuaW0/Zy5zdG9wKGkuc2hvd19hbmltSWQpOm4/MTowLGkuc2hvd19pbkFuaW09ITEsdCYmKGUuc3ZnLnN0eWxlLm9wYWNpdHk9bj9cIlwiOlwiMFwiLCRlKGUsbikpLGF9fSxkcmF3OntkZWZhdWx0QW5pbU9wdGlvbnM6e2R1cmF0aW9uOjUwMCx0aW1pbmc6Wy41OCwwLC40MiwxXX0saW5pdDpmdW5jdGlvbihuLGUpe3ZhciB0PW4uY3VyU3RhdHMsYT1uLmFwbFN0YXRzLGw9bi5wYXRoTGlzdC5iYXNlVmFsLGk9RmUobCkscj1pLnNlZ3NMZW4scz1pLmxlbkFsbDt0LnNob3dfYW5pbUlkJiZnLnJlbW92ZSh0LnNob3dfYW5pbUlkKSx0LnNob3dfYW5pbUlkPWcuYWRkKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpLG89LTE7aWYoMD09PWUpbj1bW2xbMF1bMF0sbFswXVswXV1dO2Vsc2UgaWYoMT09PWUpbj1sO2Vsc2V7Zm9yKHQ9cyplLG49W107dD49clsrK29dOyluLnB1c2gobFtvXSksdC09cltvXTt0JiYoMj09PShhPWxbb10pLmxlbmd0aD9uLnB1c2goW2FbMF0sUGUoYVswXSxhWzFdLHQvcltvXSldKTooaT1UZShhWzBdLGFbMV0sYVsyXSxhWzNdLEJlKGFbMF0sYVsxXSxhWzJdLGFbM10sdCkpLG4ucHVzaChbYVswXSxpLmZyb21QMSxpLmZyb21QMixpXSkpKX1yZXR1cm4gbn0sZnVuY3Rpb24oZSx0KXt0P00uZHJhdy5zdG9wKG4sITApOihuLnBhdGhMaXN0LmFuaW1WYWw9ZSxldChuLHtwYXRoOiEwfSkpfSxhLnNob3dfYW5pbU9wdGlvbnMuZHVyYXRpb24sMSxhLnNob3dfYW5pbU9wdGlvbnMudGltaW5nLG51bGwsITEpLE0uZHJhdy5zdGFydChuLGUpfSxzdGFydDpmdW5jdGlvbihlLHQpe3ZhciBuLGE9ZS5jdXJTdGF0czthLnNob3dfaW5BbmltJiYobj1nLnN0b3AoYS5zaG93X2FuaW1JZCkpLCRlKGUsMSksYS5zaG93X2luQW5pbT0hMCxEZShlLFwiYXBsX3Bvc2l0aW9uXCIsTS5kcmF3LnVwZGF0ZSksZy5zdGFydChhLnNob3dfYW5pbUlkLCFlLmFwbFN0YXRzLnNob3dfb24sbnVsbCE9dD90Om4pfSxzdG9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgYSxpPWUuY3VyU3RhdHM7cmV0dXJuIG49bnVsbCE9bj9uOmUuYXBsU3RhdHMuc2hvd19vbixhPWkuc2hvd19pbkFuaW0/Zy5zdG9wKGkuc2hvd19hbmltSWQpOm4/MTowLGkuc2hvd19pbkFuaW09ITEsdCYmKGUucGF0aExpc3QuYW5pbVZhbD1uP251bGw6W1tlLnBhdGhMaXN0LmJhc2VWYWxbMF1bMF0sZS5wYXRoTGlzdC5iYXNlVmFsWzBdWzBdXV0sZXQoZSx7cGF0aDohMH0pLCRlKGUsbikpLGF9LHVwZGF0ZTpmdW5jdGlvbihlKXt6ZShlLFwiYXBsX3Bvc2l0aW9uXCIsTS5kcmF3LnVwZGF0ZSksZS5jdXJTdGF0cy5zaG93X2luQW5pbT9NLmRyYXcuaW5pdChlLE0uZHJhdy5zdG9wKGUpKTplLmFwbFN0YXRzLnNob3dfYW5pbU9wdGlvbnM9e319fX0sW1tcInN0YXJ0XCIsXCJhbmNob3JTRVwiLDBdLFtcImVuZFwiLFwiYW5jaG9yU0VcIiwxXSxbXCJjb2xvclwiLFwibGluZUNvbG9yXCJdLFtcInNpemVcIixcImxpbmVTaXplXCJdLFtcInN0YXJ0U29ja2V0R3Jhdml0eVwiLFwic29ja2V0R3Jhdml0eVNFXCIsMF0sW1wiZW5kU29ja2V0R3Jhdml0eVwiLFwic29ja2V0R3Jhdml0eVNFXCIsMV0sW1wic3RhcnRQbHVnQ29sb3JcIixcInBsdWdDb2xvclNFXCIsMF0sW1wiZW5kUGx1Z0NvbG9yXCIsXCJwbHVnQ29sb3JTRVwiLDFdLFtcInN0YXJ0UGx1Z1NpemVcIixcInBsdWdTaXplU0VcIiwwXSxbXCJlbmRQbHVnU2l6ZVwiLFwicGx1Z1NpemVTRVwiLDFdLFtcIm91dGxpbmVcIixcImxpbmVPdXRsaW5lRW5hYmxlZFwiXSxbXCJvdXRsaW5lQ29sb3JcIixcImxpbmVPdXRsaW5lQ29sb3JcIl0sW1wib3V0bGluZVNpemVcIixcImxpbmVPdXRsaW5lU2l6ZVwiXSxbXCJzdGFydFBsdWdPdXRsaW5lXCIsXCJwbHVnT3V0bGluZUVuYWJsZWRTRVwiLDBdLFtcImVuZFBsdWdPdXRsaW5lXCIsXCJwbHVnT3V0bGluZUVuYWJsZWRTRVwiLDFdLFtcInN0YXJ0UGx1Z091dGxpbmVDb2xvclwiLFwicGx1Z091dGxpbmVDb2xvclNFXCIsMF0sW1wiZW5kUGx1Z091dGxpbmVDb2xvclwiLFwicGx1Z091dGxpbmVDb2xvclNFXCIsMV0sW1wic3RhcnRQbHVnT3V0bGluZVNpemVcIixcInBsdWdPdXRsaW5lU2l6ZVNFXCIsMF0sW1wiZW5kUGx1Z091dGxpbmVTaXplXCIsXCJwbHVnT3V0bGluZVNpemVTRVwiLDFdXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdLGE9ZVsyXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobHQucHJvdG90eXBlLHQse2dldDpmdW5jdGlvbigpe3ZhciBlPW51bGwhPWE/Z2VbdGhpcy5faWRdLm9wdGlvbnNbbl1bYV06bj9nZVt0aGlzLl9pZF0ub3B0aW9uc1tuXTpnZVt0aGlzLl9pZF0ub3B0aW9uc1t0XTtyZXR1cm4gbnVsbD09ZT9VOk9lKGUpfSxzZXQ6cnQodCksZW51bWVyYWJsZTohMH0pfSksW1tcInBhdGhcIix6XSxbXCJzdGFydFNvY2tldFwiLFcsXCJzb2NrZXRTRVwiLDBdLFtcImVuZFNvY2tldFwiLFcsXCJzb2NrZXRTRVwiLDFdLFtcInN0YXJ0UGx1Z1wiLGosXCJwbHVnU0VcIiwwXSxbXCJlbmRQbHVnXCIsaixcInBsdWdTRVwiLDFdXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBhPWVbMF0saT1lWzFdLG89ZVsyXSxsPWVbM107T2JqZWN0LmRlZmluZVByb3BlcnR5KGx0LnByb3RvdHlwZSxhLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxuPW51bGwhPWw/Z2VbdGhpcy5faWRdLm9wdGlvbnNbb11bbF06bz9nZVt0aGlzLl9pZF0ub3B0aW9uc1tvXTpnZVt0aGlzLl9pZF0ub3B0aW9uc1thXTtyZXR1cm4gbj9PYmplY3Qua2V5cyhpKS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdPT09biYmKHQ9ZSwhMCl9KT90Om5ldyBFcnJvcihcIkl0J3MgYnJva2VuXCIpOlV9LHNldDpydChhKSxlbnVtZXJhYmxlOiEwfSl9KSxPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgYT10ZVtuXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobHQucHJvdG90eXBlLG4se2dldDpmdW5jdGlvbigpe3ZhciB1LGUsdD1nZVt0aGlzLl9pZF0ub3B0aW9uc1tuXTtyZXR1cm4gZmUodCk/KHU9dCxlPWEub3B0aW9uc0NvbmYucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYT10WzBdLGk9dFsxXSxvPXRbMl0sbD10WzNdLHI9dFs0XSxzPW51bGwhPXI/dVtsXVtyXTpsP3VbbF06dVtpXTtyZXR1cm4gZVtpXT1cImlkXCI9PT1hP3M/T2JqZWN0LmtleXMobykuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gb1tlXT09PXMmJihuPWUsITApfSk/bjpuZXcgRXJyb3IoXCJJdCdzIGJyb2tlblwiKTpVOm51bGw9PXM/VTpPZShzKSxlfSx7fSksYS5hbmltJiYoZS5hbmltYXRpb249T2UodS5hbmltYXRpb24pKSxlKTp0fSxzZXQ6cnQobiksZW51bWVyYWJsZTohMH0pfSksW1wic3RhcnRMYWJlbFwiLFwiZW5kTGFiZWxcIixcIm1pZGRsZUxhYmVsXCJdLmZvckVhY2goZnVuY3Rpb24oZSxuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkobHQucHJvdG90eXBlLGUse2dldDpmdW5jdGlvbigpe3ZhciBlPWdlW3RoaXMuX2lkXSx0PWUub3B0aW9ucztyZXR1cm4gdC5sYWJlbFNFTVtuXSYmIWUub3B0aW9uSXNBdHRhY2gubGFiZWxTRU1bbl0/dmVbdC5sYWJlbFNFTVtuXS5faWRdLnRleHQ6dC5sYWJlbFNFTVtuXXx8XCJcIn0sc2V0OnJ0KGUpLGVudW1lcmFibGU6ITB9KX0pLGx0LnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBvdChnZVt0aGlzLl9pZF0sZSksdGhpc30sbHQucHJvdG90eXBlLnBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGV0KGdlW3RoaXMuX2lkXSx7cG9zaXRpb246ITB9KSx0aGlzfSxsdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9Z2VbdGhpcy5faWRdLG49dC5jdXJTdGF0cztPYmplY3Qua2V5cyh0ZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lK1wiX2FuaW1JZFwiO25bdF0mJmcucmVtb3ZlKG5bdF0pfSksbi5zaG93X2FuaW1JZCYmZy5yZW1vdmUobi5zaG93X2FuaW1JZCksdC5hdHRhY2htZW50cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7aXQodCxlKX0pLHQuYmFzZVdpbmRvdyYmdC5zdmcmJnQuYmFzZVdpbmRvdy5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQuc3ZnKSxkZWxldGUgZ2VbdGhpcy5faWRdfSxsdC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihlLHQpe3JldHVybiBudChnZVt0aGlzLl9pZF0sITAsZSx0KSx0aGlzfSxsdC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihlLHQpe3JldHVybiBudChnZVt0aGlzLl9pZF0sITEsZSx0KSx0aGlzfSxvPWZ1bmN0aW9uKHQpe3QmJnZlW3QuX2lkXSYmKHQuYm91bmRUYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXtpdChlLnByb3BzLHQsITApfSksdC5jb25mLnJlbW92ZSYmdC5jb25mLnJlbW92ZSh0KSxkZWxldGUgdmVbdC5faWRdKX0sc3QucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsbj12ZVt0Ll9pZF07biYmKG4uYm91bmRUYXJnZXRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXtuLmNvbmYucmVtb3ZlT3B0aW9uKG4sZSl9KSxqZShmdW5jdGlvbigpe3ZhciBlPXZlW3QuX2lkXTtlJiYoY29uc29sZS5lcnJvcihcIkxlYWRlckxpbmVBdHRhY2htZW50IHdhcyBub3QgcmVtb3ZlZCBieSByZW1vdmVPcHRpb25cIiksbyhlKSl9KSl9LEM9c3Qsd2luZG93LkxlYWRlckxpbmVBdHRhY2htZW50PUMsTD1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgQyYmKCEoZS5pc1JlbW92ZWR8fHQmJnZlW2UuX2lkXS5jb25mLnR5cGUhPT10KXx8bnVsbCl9LEk9e3BvaW50QW5jaG9yOnt0eXBlOlwiYW5jaG9yXCIsYXJnT3B0aW9uczpbe29wdGlvbk5hbWU6XCJlbGVtZW50XCIsdHlwZTpJZX1dLGluaXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5lbGVtZW50PUkucG9pbnRBbmNob3IuY2hlY2tFbGVtZW50KHQuZWxlbWVudCksZS54PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KHQueCwhMCl8fFsuNSwhMF0sZS55PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KHQueSwhMCl8fFsuNSwhMF0sITB9LHJlbW92ZU9wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHMsYT17fSxpPWUuZWxlbWVudCxvPW4ub3B0aW9ucy5hbmNob3JTRVtcInN0YXJ0XCI9PT10Lm9wdGlvbk5hbWU/MTowXTtpPT09byYmKGk9bz09PWRvY3VtZW50LmJvZHk/bmV3IEMoSS5wb2ludEFuY2hvcixbaV0pOmRvY3VtZW50LmJvZHkpLGFbdC5vcHRpb25OYW1lXT1pLG90KG4sYSl9LGdldEJCb3hOZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49QWUoZS5lbGVtZW50LHQuYmFzZVdpbmRvdyksYT1uLndpZHRoLGk9bi5oZWlnaHQ7cmV0dXJuIG4ud2lkdGg9bi5oZWlnaHQ9MCxuLmxlZnQ9bi5yaWdodD1uLmxlZnQrZS54WzBdKihlLnhbMV0/YToxKSxuLnRvcD1uLmJvdHRvbT1uLnRvcCtlLnlbMF0qKGUueVsxXT9pOjEpLG59LHBhcnNlUGVyY2VudDpmdW5jdGlvbihlLHQpe3ZhciBuLGEsaT0hMTtyZXR1cm4geWUoZSk/YT1lOlwic3RyaW5nXCI9PXR5cGVvZiBlJiYobj1tLmV4ZWMoZSkpJiZuWzJdJiYoaT0wIT09KGE9cGFyc2VGbG9hdChuWzFdKS8xMDApKSxudWxsIT1hJiYodHx8MDw9YSk/W2EsaV06bnVsbH0sY2hlY2tFbGVtZW50OmZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpZT1kb2N1bWVudC5ib2R5O2Vsc2UgaWYoIUllKGUpKXRocm93IG5ldyBFcnJvcihcImBlbGVtZW50YCBtdXN0IGJlIEVsZW1lbnRcIik7cmV0dXJuIGV9fSxhcmVhQW5jaG9yOnt0eXBlOlwiYW5jaG9yXCIsYXJnT3B0aW9uczpbe29wdGlvbk5hbWU6XCJlbGVtZW50XCIsdHlwZTpJZX0se29wdGlvbk5hbWU6XCJzaGFwZVwiLHR5cGU6XCJzdHJpbmdcIn1dLHN0YXRzOntjb2xvcjp7fSxzdHJva2VXaWR0aDp7fSxlbGVtZW50V2lkdGg6e30sZWxlbWVudEhlaWdodDp7fSxlbGVtZW50TGVmdDp7fSxlbGVtZW50VG9wOnt9LHBhdGhMaXN0UmVsOnt9LGJCb3hSZWw6e30scGF0aERhdGE6e30sdmlld0JveEJCb3g6e2hhc1Byb3BzOiEwfSxkYXNoTGVuOnt9LGRhc2hHYXA6e319LGluaXQ6ZnVuY3Rpb24oaSxlKXt2YXIgdCxuLGEsbz1bXTtyZXR1cm4gaS5lbGVtZW50PUkucG9pbnRBbmNob3IuY2hlY2tFbGVtZW50KGUuZWxlbWVudCksXCJzdHJpbmdcIj09dHlwZW9mIGUuY29sb3ImJihpLmNvbG9yPWUuY29sb3IudHJpbSgpKSxcInN0cmluZ1wiPT10eXBlb2YgZS5maWxsQ29sb3ImJihpLmZpbGw9ZS5maWxsQ29sb3IudHJpbSgpKSx5ZShlLnNpemUpJiYwPD1lLnNpemUmJihpLnNpemU9ZS5zaXplKSxlLmRhc2gmJihpLmRhc2g9ITAseWUoZS5kYXNoLmxlbikmJjA8ZS5kYXNoLmxlbiYmKGkuZGFzaExlbj1lLmRhc2gubGVuKSx5ZShlLmRhc2guZ2FwKSYmMDxlLmRhc2guZ2FwJiYoaS5kYXNoR2FwPWUuZGFzaC5nYXApKSxcImNpcmNsZVwiPT09ZS5zaGFwZT9pLnNoYXBlPWUuc2hhcGU6XCJwb2x5Z29uXCI9PT1lLnNoYXBlJiZBcnJheS5pc0FycmF5KGUucG9pbnRzKSYmMzw9ZS5wb2ludHMubGVuZ3RoJiZlLnBvaW50cy5ldmVyeShmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4hKCEodC54PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KGVbMF0sITApKXx8ISh0Lnk9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQoZVsxXSwhMCkpKSYmKG8ucHVzaCh0KSwodC54WzFdfHx0LnlbMV0pJiYoaS5oYXNSYXRpbz0hMCksITApfSk/KGkuc2hhcGU9ZS5zaGFwZSxpLnBvaW50cz1vKTooaS5zaGFwZT1cInJlY3RcIixpLnJhZGl1cz15ZShlLnJhZGl1cykmJjA8PWUucmFkaXVzP2UucmFkaXVzOjApLFwicmVjdFwiIT09aS5zaGFwZSYmXCJjaXJjbGVcIiE9PWkuc2hhcGV8fChpLng9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQoZS54LCEwKXx8Wy0uMDUsITBdLGkueT1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudChlLnksITApfHxbLS4wNSwhMF0saS53aWR0aD1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudChlLndpZHRoKXx8WzEuMSwhMF0saS5oZWlnaHQ9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQoZS5oZWlnaHQpfHxbMS4xLCEwXSwoaS54WzFdfHxpLnlbMV18fGkud2lkdGhbMV18fGkuaGVpZ2h0WzFdKSYmKGkuaGFzUmF0aW89ITApKSx0PWkuZWxlbWVudC5vd25lckRvY3VtZW50LGkuc3ZnPW49dC5jcmVhdGVFbGVtZW50TlMocmUsXCJzdmdcIiksbi5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWFyZWFBbmNob3JcIixuLnZpZXdCb3guYmFzZVZhbHx8bi5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsXCIwIDAgMCAwXCIpLGkucGF0aD1uLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwicGF0aFwiKSksaS5wYXRoLnN0eWxlLmZpbGw9aS5maWxsfHxcIm5vbmVcIixpLmlzU2hvd249ITEsbi5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdC5ib2R5LmFwcGVuZENoaWxkKG4pLEtlKGE9dC5kZWZhdWx0VmlldyksaS5ib2R5T2Zmc2V0PVFlKGEpLGkudXBkYXRlQ29sb3I9ZnVuY3Rpb24oKXt2YXIgZSx0PWkuY3VyU3RhdHMsbj1pLmFwbFN0YXRzLGE9aS5ib3VuZFRhcmdldHMubGVuZ3RoP2kuYm91bmRUYXJnZXRzWzBdLnByb3BzLmN1clN0YXRzOm51bGw7dC5jb2xvcj1lPWkuY29sb3J8fChhP2EubGluZV9jb2xvcjpkZS5saW5lQ29sb3IpLHFlKGksbixcImNvbG9yXCIsZSkmJihpLnBhdGguc3R5bGUuc3Ryb2tlPWUpfSxpLnVwZGF0ZVNob3c9ZnVuY3Rpb24oKXskZShpLGkuYm91bmRUYXJnZXRzLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLnByb3BzLmlzU2hvd259KSl9LCEwfSxiaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcztyZXR1cm4gZS5jb2xvcnx8RGUobixcImN1cl9saW5lX2NvbG9yXCIsZS51cGRhdGVDb2xvciksRGUobixcInN2Z1Nob3dcIixlLnVwZGF0ZVNob3cpLGplKGZ1bmN0aW9uKCl7ZS51cGRhdGVDb2xvcigpLGUudXBkYXRlU2hvdygpfSksITB9LHVuYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHM7ZS5jb2xvcnx8emUobixcImN1cl9saW5lX2NvbG9yXCIsZS51cGRhdGVDb2xvciksemUobixcInN2Z1Nob3dcIixlLnVwZGF0ZVNob3cpLDE8ZS5ib3VuZFRhcmdldHMubGVuZ3RoJiZqZShmdW5jdGlvbigpe2UudXBkYXRlQ29sb3IoKSxlLnVwZGF0ZVNob3coKSxJLmFyZWFBbmNob3IudXBkYXRlKGUpJiZlLmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2V0KGUucHJvcHMse3Bvc2l0aW9uOiEwfSl9KX0pfSxyZW1vdmVPcHRpb246ZnVuY3Rpb24oZSx0KXtJLnBvaW50QW5jaG9yLnJlbW92ZU9wdGlvbihlLHQpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5ib3VuZFRhcmdldHMubGVuZ3RoJiYoY29uc29sZS5lcnJvcihcIkxlYWRlckxpbmVBdHRhY2htZW50IHdhcyBub3QgdW5ib3VuZCBieSByZW1vdmVcIiksdC5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtJLmFyZWFBbmNob3IudW5iaW5kKHQsZSl9KSksdC5zdmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0LnN2Zyl9LGdldFN0cm9rZVdpZHRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEkuYXJlYUFuY2hvci51cGRhdGUoZSkmJjE8ZS5ib3VuZFRhcmdldHMubGVuZ3RoJiZqZShmdW5jdGlvbigpe2UuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wcm9wcyE9PXQmJmV0KGUucHJvcHMse3Bvc2l0aW9uOiEwfSl9KX0pLGUuY3VyU3RhdHMuc3Ryb2tlV2lkdGh9LGdldFBhdGhEYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG49QWUoZS5lbGVtZW50LHQuYmFzZVdpbmRvdyk7cmV0dXJuIFJlKGUuY3VyU3RhdHMucGF0aExpc3RSZWwsZnVuY3Rpb24oZSl7ZS54Kz1uLmxlZnQsZS55Kz1uLnRvcH0pfSxnZXRCQm94TmVzdDpmdW5jdGlvbihlLHQpe3ZhciBuPUFlKGUuZWxlbWVudCx0LmJhc2VXaW5kb3cpLGE9ZS5jdXJTdGF0cy5iQm94UmVsO3JldHVybntsZWZ0OmEubGVmdCtuLmxlZnQsdG9wOmEudG9wK24udG9wLHJpZ2h0OmEucmlnaHQrbi5sZWZ0LGJvdHRvbTphLmJvdHRvbStuLnRvcCx3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodH19LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgYSxuLGksbyxlLGwscixzLHUsaCxwLGMsZCxmLHksbSxTLGcsXyx2LEUseCxiLGssdyxPLE0sSSxDLEwsQSxWLFA9dC5jdXJTdGF0cyxOPXQuYXBsU3RhdHMsVD10LmJvdW5kVGFyZ2V0cy5sZW5ndGg/dC5ib3VuZFRhcmdldHNbMF0ucHJvcHMuY3VyU3RhdHM6bnVsbCxXPXt9O2lmKFcuc3Ryb2tlV2lkdGg9cWUodCxQLFwic3Ryb2tlV2lkdGhcIixudWxsIT10LnNpemU/dC5zaXplOlQ/VC5saW5lX3N0cm9rZVdpZHRoOmRlLmxpbmVTaXplKSxhPUNlKHQuZWxlbWVudCksVy5lbGVtZW50V2lkdGg9cWUodCxQLFwiZWxlbWVudFdpZHRoXCIsYS53aWR0aCksVy5lbGVtZW50SGVpZ2h0PXFlKHQsUCxcImVsZW1lbnRIZWlnaHRcIixhLmhlaWdodCksVy5lbGVtZW50TGVmdD1xZSh0LFAsXCJlbGVtZW50TGVmdFwiLGEubGVmdCksVy5lbGVtZW50VG9wPXFlKHQsUCxcImVsZW1lbnRUb3BcIixhLnRvcCksVy5zdHJva2VXaWR0aHx8dC5oYXNSYXRpbyYmKFcuZWxlbWVudFdpZHRofHxXLmVsZW1lbnRIZWlnaHQpKXtzd2l0Y2godC5zaGFwZSl7Y2FzZVwicmVjdFwiOihJPXtsZWZ0OnQueFswXSoodC54WzFdP2Eud2lkdGg6MSksdG9wOnQueVswXSoodC55WzFdP2EuaGVpZ2h0OjEpLHdpZHRoOnQud2lkdGhbMF0qKHQud2lkdGhbMV0/YS53aWR0aDoxKSxoZWlnaHQ6dC5oZWlnaHRbMF0qKHQuaGVpZ2h0WzFdP2EuaGVpZ2h0OjEpfSkucmlnaHQ9SS5sZWZ0K0kud2lkdGgsSS5ib3R0b209SS50b3ArSS5oZWlnaHQsYj1QLnN0cm9rZVdpZHRoLzIsRT0oeD1NYXRoLm1pbihJLndpZHRoLEkuaGVpZ2h0KSk/eC8yKk1hdGguU1FSVDIrYjowLE89KHY9dC5yYWRpdXM/dC5yYWRpdXM8PUU/dC5yYWRpdXM6RTowKT8odz12LShrPSh2LWIpL01hdGguU1FSVDIpLE09diplZSxPPVt7eDpJLmxlZnQtdyx5OkkudG9wK2t9LHt4OkkubGVmdCtrLHk6SS50b3Atd30se3g6SS5yaWdodC1rLHk6SS50b3Atd30se3g6SS5yaWdodCt3LHk6SS50b3Ara30se3g6SS5yaWdodCt3LHk6SS5ib3R0b20ta30se3g6SS5yaWdodC1rLHk6SS5ib3R0b20rd30se3g6SS5sZWZ0K2sseTpJLmJvdHRvbSt3fSx7eDpJLmxlZnQtdyx5OkkuYm90dG9tLWt9XSxQLnBhdGhMaXN0UmVsPVtbT1swXSx7eDpPWzBdLngseTpPWzBdLnktTX0se3g6T1sxXS54LU0seTpPWzFdLnl9LE9bMV1dXSxPWzFdLnghPT1PWzJdLngmJlAucGF0aExpc3RSZWwucHVzaChbT1sxXSxPWzJdXSksUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzJdLHt4Ok9bMl0ueCtNLHk6T1syXS55fSx7eDpPWzNdLngseTpPWzNdLnktTX0sT1szXV0pLE9bM10ueSE9PU9bNF0ueSYmUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzNdLE9bNF1dKSxQLnBhdGhMaXN0UmVsLnB1c2goW09bNF0se3g6T1s0XS54LHk6T1s0XS55K019LHt4Ok9bNV0ueCtNLHk6T1s1XS55fSxPWzVdXSksT1s1XS54IT09T1s2XS54JiZQLnBhdGhMaXN0UmVsLnB1c2goW09bNV0sT1s2XV0pLFAucGF0aExpc3RSZWwucHVzaChbT1s2XSx7eDpPWzZdLngtTSx5Ok9bNl0ueX0se3g6T1s3XS54LHk6T1s3XS55K019LE9bN11dKSxPWzddLnkhPT1PWzBdLnkmJlAucGF0aExpc3RSZWwucHVzaChbT1s3XSxPWzBdXSksUC5wYXRoTGlzdFJlbC5wdXNoKFtdKSx3PXYtaytQLnN0cm9rZVdpZHRoLzIsW3t4OkkubGVmdC13LHk6SS50b3Atd30se3g6SS5yaWdodCt3LHk6SS5ib3R0b20rd31dKToodz1QLnN0cm9rZVdpZHRoLzIsTz1be3g6SS5sZWZ0LXcseTpJLnRvcC13fSx7eDpJLnJpZ2h0K3cseTpJLmJvdHRvbSt3fV0sUC5wYXRoTGlzdFJlbD1bW09bMF0se3g6T1sxXS54LHk6T1swXS55fV0sW3t4Ok9bMV0ueCx5Ok9bMF0ueX0sT1sxXV0sW09bMV0se3g6T1swXS54LHk6T1sxXS55fV0sW11dLFt7eDpJLmxlZnQtUC5zdHJva2VXaWR0aCx5OkkudG9wLVAuc3Ryb2tlV2lkdGh9LHt4OkkucmlnaHQrUC5zdHJva2VXaWR0aCx5OkkuYm90dG9tK1Auc3Ryb2tlV2lkdGh9XSksUC5iQm94UmVsPXtsZWZ0Ok9bMF0ueCx0b3A6T1swXS55LHJpZ2h0Ok9bMV0ueCxib3R0b206T1sxXS55LHdpZHRoOk9bMV0ueC1PWzBdLngsaGVpZ2h0Ok9bMV0ueS1PWzBdLnl9O2JyZWFrO2Nhc2VcImNpcmNsZVwiOihfPXtsZWZ0OnQueFswXSoodC54WzFdP2Eud2lkdGg6MSksdG9wOnQueVswXSoodC55WzFdP2EuaGVpZ2h0OjEpLHdpZHRoOnQud2lkdGhbMF0qKHQud2lkdGhbMV0/YS53aWR0aDoxKSxoZWlnaHQ6dC5oZWlnaHRbMF0qKHQuaGVpZ2h0WzFdP2EuaGVpZ2h0OjEpfSkud2lkdGh8fF8uaGVpZ2h0fHwoXy53aWR0aD1fLmhlaWdodD0xMCksXy53aWR0aHx8KF8ud2lkdGg9Xy5oZWlnaHQpLF8uaGVpZ2h0fHwoXy5oZWlnaHQ9Xy53aWR0aCksXy5yaWdodD1fLmxlZnQrXy53aWR0aCxfLmJvdHRvbT1fLnRvcCtfLmhlaWdodCxyPV8ubGVmdCtfLndpZHRoLzIscz1fLnRvcCtfLmhlaWdodC8yLGQ9UC5zdHJva2VXaWR0aC8yLGY9Xy53aWR0aC8yLHk9Xy5oZWlnaHQvMix1PWYqTWF0aC5TUVJUMitkLGg9eSpNYXRoLlNRUlQyK2QscD11KmVlLGM9aCplZSxnPVt7eDpyLXUseTpzfSx7eDpyLHk6cy1ofSx7eDpyK3UseTpzfSx7eDpyLHk6cytofV0sUC5wYXRoTGlzdFJlbD1bW2dbMF0se3g6Z1swXS54LHk6Z1swXS55LWN9LHt4OmdbMV0ueC1wLHk6Z1sxXS55fSxnWzFdXSxbZ1sxXSx7eDpnWzFdLngrcCx5OmdbMV0ueX0se3g6Z1syXS54LHk6Z1syXS55LWN9LGdbMl1dLFtnWzJdLHt4OmdbMl0ueCx5OmdbMl0ueStjfSx7eDpnWzNdLngrcCx5OmdbM10ueX0sZ1szXV0sW2dbM10se3g6Z1szXS54LXAseTpnWzNdLnl9LHt4OmdbMF0ueCx5OmdbMF0ueStjfSxnWzBdXSxbXV0sbT11LWYrUC5zdHJva2VXaWR0aC8yLFM9aC15K1Auc3Ryb2tlV2lkdGgvMixnPVt7eDpfLmxlZnQtbSx5Ol8udG9wLVN9LHt4Ol8ucmlnaHQrbSx5Ol8uYm90dG9tK1N9XSxQLmJCb3hSZWw9e2xlZnQ6Z1swXS54LHRvcDpnWzBdLnkscmlnaHQ6Z1sxXS54LGJvdHRvbTpnWzFdLnksd2lkdGg6Z1sxXS54LWdbMF0ueCxoZWlnaHQ6Z1sxXS55LWdbMF0ueX07YnJlYWs7Y2FzZVwicG9seWdvblwiOnQucG9pbnRzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS54WzBdKihlLnhbMV0/YS53aWR0aDoxKSxuPWUueVswXSooZS55WzFdP2EuaGVpZ2h0OjEpO2k/KHQ8aS5sZWZ0JiYoaS5sZWZ0PXQpLHQ+aS5yaWdodCYmKGkucmlnaHQ9dCksbjxpLnRvcCYmKGkudG9wPW4pLG4+aS5ib3R0b20mJihpLmJvdHRvbT1uKSk6aT17bGVmdDp0LHJpZ2h0OnQsdG9wOm4sYm90dG9tOm59LG8/UC5wYXRoTGlzdFJlbC5wdXNoKFtvLHt4OnQseTpufV0pOlAucGF0aExpc3RSZWw9W10sbz17eDp0LHk6bn19KSxQLnBhdGhMaXN0UmVsLnB1c2goW10pLGU9UC5zdHJva2VXaWR0aC8yLGw9W3t4OmkubGVmdC1lLHk6aS50b3AtZX0se3g6aS5yaWdodCtlLHk6aS5ib3R0b20rZX1dLFAuYkJveFJlbD17bGVmdDpsWzBdLngsdG9wOmxbMF0ueSxyaWdodDpsWzFdLngsYm90dG9tOmxbMV0ueSx3aWR0aDpsWzFdLngtbFswXS54LGhlaWdodDpsWzFdLnktbFswXS55fX1XLnBhdGhMaXN0UmVsPVcuYkJveFJlbD0hMH1yZXR1cm4oVy5wYXRoTGlzdFJlbHx8Vy5lbGVtZW50TGVmdHx8Vy5lbGVtZW50VG9wKSYmKFAucGF0aERhdGE9UmUoUC5wYXRoTGlzdFJlbCxmdW5jdGlvbihlKXtlLngrPWEubGVmdCxlLnkrPWEudG9wfSkpLHFlKHQsTixcInN0cm9rZVdpZHRoXCIsbj1QLnN0cm9rZVdpZHRoKSYmKHQucGF0aC5zdHlsZS5zdHJva2VXaWR0aD1uK1wicHhcIiksR2Uobj1QLnBhdGhEYXRhLE4ucGF0aERhdGEpJiYodC5wYXRoLnNldFBhdGhEYXRhKG4pLE4ucGF0aERhdGE9bixXLnBhdGhEYXRhPSEwKSx0LmRhc2gmJighVy5wYXRoRGF0YSYmKCFXLnN0cm9rZVdpZHRofHx0LmRhc2hMZW4mJnQuZGFzaEdhcCl8fChQLmRhc2hMZW49dC5kYXNoTGVufHwyKlAuc3Ryb2tlV2lkdGgsUC5kYXNoR2FwPXQuZGFzaEdhcHx8UC5zdHJva2VXaWR0aCksVy5kYXNoPXFlKHQsTixcImRhc2hMZW5cIixQLmRhc2hMZW4pfHxXLmRhc2gsVy5kYXNoPXFlKHQsTixcImRhc2hHYXBcIixQLmRhc2hHYXApfHxXLmRhc2gsVy5kYXNoJiYodC5wYXRoLnN0eWxlLnN0cm9rZURhc2hhcnJheT1OLmRhc2hMZW4rXCIsXCIrTi5kYXNoR2FwKSksQz1QLnZpZXdCb3hCQm94LEw9Ti52aWV3Qm94QkJveCxBPXQuc3ZnLnZpZXdCb3guYmFzZVZhbCxWPXQuc3ZnLnN0eWxlLEMueD1QLmJCb3hSZWwubGVmdCthLmxlZnQsQy55PVAuYkJveFJlbC50b3ArYS50b3AsQy53aWR0aD1QLmJCb3hSZWwud2lkdGgsQy5oZWlnaHQ9UC5iQm94UmVsLmhlaWdodCxbXCJ4XCIsXCJ5XCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7KG49Q1tlXSkhPT1MW2VdJiYoQVtlXT1MW2VdPW4sVltvZVtlXV09bisoXCJ4XCI9PT1lfHxcInlcIj09PWU/dC5ib2R5T2Zmc2V0W2VdOjApK1wicHhcIil9KSxXLnN0cm9rZVdpZHRofHxXLnBhdGhMaXN0UmVsfHxXLmJCb3hSZWx9fSxtb3VzZUhvdmVyQW5jaG9yOnt0eXBlOlwiYW5jaG9yXCIsYXJnT3B0aW9uczpbe29wdGlvbk5hbWU6XCJlbGVtZW50XCIsdHlwZTpJZX0se29wdGlvbk5hbWU6XCJzaG93RWZmZWN0TmFtZVwiLHR5cGU6XCJzdHJpbmdcIn1dLHN0eWxlOntiYWNrZ3JvdW5kSW1hZ2U6XCJ1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxQSE4yWnlCMlpYSnphVzl1UFNJeExqRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkMmxrZEdnOUlqSTBJaUJvWldsbmFIUTlJakkwSWo0OGNHOXNlV2R2YmlCd2IybHVkSE05SWpJMExEQWdNQ3c0SURnc01URWdNQ3d4T1NBMUxESTBJREV6TERFMklERTJMREkwSWlCbWFXeHNQU0pqYjNKaGJDSXZQand2YzNablBnPT0nKVwiLGJhY2tncm91bmRTaXplOlwiXCIsYmFja2dyb3VuZFJlcGVhdDpcIm5vLXJlcGVhdFwiLGJhY2tncm91bmRDb2xvcjpcIiNmOGY4ODFcIixjdXJzb3I6XCJkZWZhdWx0XCJ9LGhvdmVyU3R5bGU6e2JhY2tncm91bmRJbWFnZTpcIm5vbmVcIixiYWNrZ3JvdW5kQ29sb3I6XCIjZmFkZjhmXCJ9LHBhZGRpbmc6e3RvcDoxLHJpZ2h0OjE1LGJvdHRvbToxLGxlZnQ6Mn0sbWluSGVpZ2h0OjE1LGJhY2tncm91bmRQb3NpdGlvbjp7cmlnaHQ6Mix0b3A6Mn0sYmFja2dyb3VuZFNpemU6e3dpZHRoOjEyLGhlaWdodDoxMn0sZGlyS2V5czpbW1widG9wXCIsXCJUb3BcIl0sW1wicmlnaHRcIixcIlJpZ2h0XCJdLFtcImJvdHRvbVwiLFwiQm90dG9tXCJdLFtcImxlZnRcIixcIkxlZnRcIl1dLGluaXQ6ZnVuY3Rpb24oYSxpKXt2YXIgbyx0LGUsbixsLHIscyx1LGgscCxjLGQ9SS5tb3VzZUhvdmVyQW5jaG9yLGY9e307aWYoYS5lbGVtZW50PUkucG9pbnRBbmNob3IuY2hlY2tFbGVtZW50KGkuZWxlbWVudCksdT1hLmVsZW1lbnQsISgocD11Lm93bmVyRG9jdW1lbnQpJiYoaD1wLmRlZmF1bHRWaWV3KSYmaC5IVE1MRWxlbWVudCYmdSBpbnN0YW5jZW9mIGguSFRNTEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcImBlbGVtZW50YCBtdXN0IGJlIEhUTUwgZWxlbWVudFwiKTtyZXR1cm4gZC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT1kLmJhY2tncm91bmRTaXplLndpZHRoK1wicHggXCIrZC5iYWNrZ3JvdW5kU2l6ZS5oZWlnaHQrXCJweFwiLFtcInN0eWxlXCIsXCJob3ZlclN0eWxlXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZFtlXTthW2VdPU9iamVjdC5rZXlzKG4pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPW5bdF0sZX0se30pfSksXCJpbmxpbmVcIj09PShvPWEuZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYS5lbGVtZW50LFwiXCIpKS5kaXNwbGF5P2Euc3R5bGUuZGlzcGxheT1cImlubGluZS1ibG9ja1wiOlwibm9uZVwiPT09by5kaXNwbGF5JiYoYS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIiksSS5tb3VzZUhvdmVyQW5jaG9yLmRpcktleXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49XCJwYWRkaW5nXCIrZVsxXTtwYXJzZUZsb2F0KG9bbl0pPGQucGFkZGluZ1t0XSYmKGEuc3R5bGVbbl09ZC5wYWRkaW5nW3RdK1wicHhcIil9KSxhLnN0eWxlLmRpc3BsYXkmJihuPWEuZWxlbWVudC5zdHlsZS5kaXNwbGF5LGEuZWxlbWVudC5zdHlsZS5kaXNwbGF5PWEuc3R5bGUuZGlzcGxheSksSS5tb3VzZUhvdmVyQW5jaG9yLmRpcktleXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cInBhZGRpbmdcIitlWzFdO2Euc3R5bGVbdF0mJihmW3RdPWEuZWxlbWVudC5zdHlsZVt0XSxhLmVsZW1lbnQuc3R5bGVbdF09YS5zdHlsZVt0XSl9KSwoZT1hLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmhlaWdodDxkLm1pbkhlaWdodCYmKHNlPyhjPWQubWluSGVpZ2h0LFwiY29udGVudC1ib3hcIj09PW8uYm94U2l6aW5nP2MtPXBhcnNlRmxvYXQoby5ib3JkZXJUb3BXaWR0aCkrcGFyc2VGbG9hdChvLmJvcmRlckJvdHRvbVdpZHRoKStwYXJzZUZsb2F0KG8ucGFkZGluZ1RvcCkrcGFyc2VGbG9hdChvLnBhZGRpbmdCb3R0b20pOlwicGFkZGluZy1ib3hcIj09PW8uYm94U2l6aW5nJiYoYy09cGFyc2VGbG9hdChvLmJvcmRlclRvcFdpZHRoKStwYXJzZUZsb2F0KG8uYm9yZGVyQm90dG9tV2lkdGgpKSxhLnN0eWxlLmhlaWdodD1jK1wicHhcIik6YS5zdHlsZS5oZWlnaHQ9cGFyc2VGbG9hdChvLmhlaWdodCkrKGQubWluSGVpZ2h0LWUuaGVpZ2h0KStcInB4XCIpLGEuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPXBlP2Uud2lkdGgtZC5iYWNrZ3JvdW5kU2l6ZS53aWR0aC1kLmJhY2tncm91bmRQb3NpdGlvbi5yaWdodCtcInB4IFwiK2QuYmFja2dyb3VuZFBvc2l0aW9uLnRvcCtcInB4XCI6XCJyaWdodCBcIitkLmJhY2tncm91bmRQb3NpdGlvbi5yaWdodCtcInB4IHRvcCBcIitkLmJhY2tncm91bmRQb3NpdGlvbi50b3ArXCJweFwiLGEuc3R5bGUuZGlzcGxheSYmKGEuZWxlbWVudC5zdHlsZS5kaXNwbGF5PW4pLEkubW91c2VIb3ZlckFuY2hvci5kaXJLZXlzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJwYWRkaW5nXCIrZVsxXTthLnN0eWxlW3RdJiYoYS5lbGVtZW50LnN0eWxlW3RdPWZbdF0pfSksW1wic3R5bGVcIixcImhvdmVyU3R5bGVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1hW2VdLG49aVtlXTtmZShuKSYmT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgbltlXXx8eWUobltlXSk/dFtlXT1uW2VdOm51bGw9PW5bZV0mJmRlbGV0ZSB0W2VdfSl9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uU3dpdGNoJiYocz1pLm9uU3dpdGNoKSxpLnNob3dFZmZlY3ROYW1lJiZNW2kuc2hvd0VmZmVjdE5hbWVdJiYoYS5zaG93RWZmZWN0TmFtZT1sPWkuc2hvd0VmZmVjdE5hbWUpLHI9aS5hbmltT3B0aW9ucyxhLmVsbVN0eWxlPXQ9YS5lbGVtZW50LnN0eWxlLGEubW91c2VlbnRlcj1mdW5jdGlvbihlKXthLmhvdmVyU3R5bGVTYXZlPWQuZ2V0U3R5bGVzKHQsT2JqZWN0LmtleXMoYS5ob3ZlclN0eWxlKSksZC5zZXRTdHlsZXModCxhLmhvdmVyU3R5bGUpLGEuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7bnQoZS5wcm9wcywhMCxsLHIpfSkscyYmcyhlKX0sYS5tb3VzZWxlYXZlPWZ1bmN0aW9uKGUpe2Quc2V0U3R5bGVzKHQsYS5ob3ZlclN0eWxlU2F2ZSksYS5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtudChlLnByb3BzLCExLGwscil9KSxzJiZzKGUpfSwhMH0sYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuLGEsaSxvLGw7cmV0dXJuIHQucHJvcHMuc3ZnP0kubW91c2VIb3ZlckFuY2hvci5sbFNob3codC5wcm9wcywhMSxlLnNob3dFZmZlY3ROYW1lKTpqZShmdW5jdGlvbigpe0kubW91c2VIb3ZlckFuY2hvci5sbFNob3codC5wcm9wcywhMSxlLnNob3dFZmZlY3ROYW1lKX0pLGUuZW5hYmxlZHx8KGUuc3R5bGVTYXZlPUkubW91c2VIb3ZlckFuY2hvci5nZXRTdHlsZXMoZS5lbG1TdHlsZSxPYmplY3Qua2V5cyhlLnN0eWxlKSksSS5tb3VzZUhvdmVyQW5jaG9yLnNldFN0eWxlcyhlLmVsbVN0eWxlLGUuc3R5bGUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj0obj1lLmVsZW1lbnQsYT1lLm1vdXNlZW50ZXIsaT1lLm1vdXNlbGVhdmUsXCJvbm1vdXNlZW50ZXJcImluIG4mJlwib25tb3VzZWxlYXZlXCJpbiBuPyhuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsYSwhMSksbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLGksITEpLGZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLGEsITEpLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIixpLCExKX0pOihjb25zb2xlLndhcm4oXCJtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlIGV2ZW50cyBwb2x5ZmlsbCBpcyBlbmFibGVkLlwiKSxvPWZ1bmN0aW9uKGUpe2UucmVsYXRlZFRhcmdldCYmKGUucmVsYXRlZFRhcmdldD09PXRoaXN8fHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZS5yZWxhdGVkVGFyZ2V0KSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl8fGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIixvKSxsPWZ1bmN0aW9uKGUpe2UucmVsYXRlZFRhcmdldCYmKGUucmVsYXRlZFRhcmdldD09PXRoaXN8fHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZS5yZWxhdGVkVGFyZ2V0KSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl8fGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGwpLGZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsbywhMSksbi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIixsLCExKX0pKSxlLmVuYWJsZWQ9ITApLCEwfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtlLmVuYWJsZWQmJmUuYm91bmRUYXJnZXRzLmxlbmd0aDw9MSYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigpLEkubW91c2VIb3ZlckFuY2hvci5zZXRTdHlsZXMoZS5lbG1TdHlsZSxlLnN0eWxlU2F2ZSksZS5lbmFibGVkPSExKSxJLm1vdXNlSG92ZXJBbmNob3IubGxTaG93KHQucHJvcHMsITAsZS5zaG93RWZmZWN0TmFtZSl9LHJlbW92ZU9wdGlvbjpmdW5jdGlvbihlLHQpe0kucG9pbnRBbmNob3IucmVtb3ZlT3B0aW9uKGUsdCl9LHJlbW92ZTpmdW5jdGlvbih0KXt0LmJvdW5kVGFyZ2V0cy5sZW5ndGgmJihjb25zb2xlLmVycm9yKFwiTGVhZGVyTGluZUF0dGFjaG1lbnQgd2FzIG5vdCB1bmJvdW5kIGJ5IHJlbW92ZVwiKSx0LmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe0kubW91c2VIb3ZlckFuY2hvci51bmJpbmQodCxlKX0pKX0sZ2V0QkJveE5lc3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQWUoZS5lbGVtZW50LHQuYmFzZVdpbmRvdyl9LGxsU2hvdzpmdW5jdGlvbihlLHQsbil7TVtufHxlLmN1clN0YXRzLnNob3dfZWZmZWN0XS5zdG9wKGUsITAsdCksZS5hcGxTdGF0cy5zaG93X29uPXR9LGdldFN0eWxlczpmdW5jdGlvbihuLGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPW5bdF0sZX0se30pfSxzZXRTdHlsZXM6ZnVuY3Rpb24odCxuKXtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09bltlXX0pfX0sY2FwdGlvbkxhYmVsOnt0eXBlOlwibGFiZWxcIixhcmdPcHRpb25zOlt7b3B0aW9uTmFtZTpcInRleHRcIix0eXBlOlwic3RyaW5nXCJ9XSxzdGF0czp7Y29sb3I6e30seDp7fSx5Ont9fSx0ZXh0U3R5bGVQcm9wczpbXCJmb250RmFtaWx5XCIsXCJmb250U3R5bGVcIixcImZvbnRWYXJpYW50XCIsXCJmb250V2VpZ2h0XCIsXCJmb250U3RyZXRjaFwiLFwiZm9udFNpemVcIixcImZvbnRTaXplQWRqdXN0XCIsXCJrZXJuaW5nXCIsXCJsZXR0ZXJTcGFjaW5nXCIsXCJ3b3JkU3BhY2luZ1wiLFwidGV4dERlY29yYXRpb25cIl0saW5pdDpmdW5jdGlvbih1LHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0LnRleHQmJih1LnRleHQ9dC50ZXh0LnRyaW0oKSksISF1LnRleHQmJihcInN0cmluZ1wiPT10eXBlb2YgdC5jb2xvciYmKHUuY29sb3I9dC5jb2xvci50cmltKCkpLHUub3V0bGluZUNvbG9yPVwic3RyaW5nXCI9PXR5cGVvZiB0Lm91dGxpbmVDb2xvcj90Lm91dGxpbmVDb2xvci50cmltKCk6XCIjZmZmXCIsQXJyYXkuaXNBcnJheSh0Lm9mZnNldCkmJnllKHQub2Zmc2V0WzBdKSYmeWUodC5vZmZzZXRbMV0pJiYodS5vZmZzZXQ9e3g6dC5vZmZzZXRbMF0seTp0Lm9mZnNldFsxXX0pLHllKHQubGluZU9mZnNldCkmJih1LmxpbmVPZmZzZXQ9dC5saW5lT2Zmc2V0KSxJLmNhcHRpb25MYWJlbC50ZXh0U3R5bGVQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJih1W2VdPXRbZV0pfSksdS51cGRhdGVDb2xvcj1mdW5jdGlvbihlKXtJLmNhcHRpb25MYWJlbC51cGRhdGVDb2xvcih1LGUpfSx1LnVwZGF0ZVNvY2tldFhZPWZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpLG89dS5jdXJTdGF0cyxsPXUuYXBsU3RhdHMscj1lLmN1clN0YXRzLHM9ci5wb3NpdGlvbl9zb2NrZXRYWVNFW3Uuc29ja2V0SW5kZXhdO251bGwhPXMueCYmKHUub2Zmc2V0PyhvLng9cy54K3Uub2Zmc2V0Lngsby55PXMueSt1Lm9mZnNldC55KToodD11LmhlaWdodC8yLG49TWF0aC5tYXgoci5hdHRhY2hfcGx1Z1NpZGVMZW5TRVt1LnNvY2tldEluZGV4XXx8MCxyLmxpbmVfc3Ryb2tlV2lkdGgvMiksYT1yLnBvc2l0aW9uX3NvY2tldFhZU0VbdS5zb2NrZXRJbmRleD8wOjFdLHMuc29ja2V0SWQ9PT1UfHxzLnNvY2tldElkPT09UD8oby54PXMuc29ja2V0SWQ9PT1UP3MueC10LXUud2lkdGg6cy54K3Qsby55PWEueTxzLnk/cy55K24rdDpzLnktbi10LXUuaGVpZ2h0KTooby54PWEueDxzLng/cy54K24rdDpzLngtbi10LXUud2lkdGgsby55PXMuc29ja2V0SWQ9PT1WP3MueS10LXUuaGVpZ2h0OnMueSt0KSkscWUodSxsLFwieFwiLGk9by54KSYmKHUuZWxtUG9zaXRpb24ueC5iYXNlVmFsLmdldEl0ZW0oMCkudmFsdWU9aSkscWUodSxsLFwieVwiLGk9by55KSYmKHUuZWxtUG9zaXRpb24ueS5iYXNlVmFsLmdldEl0ZW0oMCkudmFsdWU9aSt1LmhlaWdodCkpfSx1LnVwZGF0ZVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQsbixhPXUuY3VyU3RhdHMsaT11LmFwbFN0YXRzLG89ZS5wYXRoTGlzdC5hbmltVmFsfHxlLnBhdGhMaXN0LmJhc2VWYWw7byYmKHQ9SS5jYXB0aW9uTGFiZWwuZ2V0TWlkUG9pbnQobyx1LmxpbmVPZmZzZXQpLGEueD10LngtdS53aWR0aC8yLGEueT10LnktdS5oZWlnaHQvMixxZSh1LGksXCJ4XCIsbj1hLngpJiYodS5lbG1Qb3NpdGlvbi54LmJhc2VWYWwuZ2V0SXRlbSgwKS52YWx1ZT1uKSxxZSh1LGksXCJ5XCIsbj1hLnkpJiYodS5lbG1Qb3NpdGlvbi55LmJhc2VWYWwuZ2V0SXRlbSgwKS52YWx1ZT1uK3UuaGVpZ2h0KSl9LHUudXBkYXRlU2hvdz1mdW5jdGlvbihlKXtJLmNhcHRpb25MYWJlbC51cGRhdGVTaG93KHUsZSl9LHBlJiYodS5hZGp1c3RFZGdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dS5jdXJTdGF0cztudWxsIT1uLngmJkkuY2FwdGlvbkxhYmVsLmFkanVzdEVkZ2UodCx7eDpuLngseTpuLnksd2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9LHUuc3Ryb2tlV2lkdGgvMil9KSwhMCl9LHVwZGF0ZUNvbG9yOmZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1lLmN1clN0YXRzLGk9ZS5hcGxTdGF0cyxvPXQuY3VyU3RhdHM7YS5jb2xvcj1uPWUuY29sb3J8fG8ubGluZV9jb2xvcixxZShlLGksXCJjb2xvclwiLG4pJiYoZS5zdHlsZUZpbGwuZmlsbD1uKX0sdXBkYXRlU2hvdzpmdW5jdGlvbihlLHQpe3ZhciBuPSEwPT09dC5pc1Nob3duO24hPT1lLmlzU2hvd24mJihlLnN0eWxlU2hvdy52aXNpYmlsaXR5PW4/XCJcIjpcImhpZGRlblwiLGUuaXNTaG93bj1uKX0sYWRqdXN0RWRnZTpmdW5jdGlvbihlLHQsbil7dmFyIGE9e3gxOnQueC1uLHkxOnQueS1uLHgyOnQueCt0LndpZHRoK24seTI6dC55K3QuaGVpZ2h0K259O2EueDE8ZS54MSYmKGUueDE9YS54MSksYS55MTxlLnkxJiYoZS55MT1hLnkxKSxhLngyPmUueDImJihlLngyPWEueDIpLGEueTI+ZS55MiYmKGUueTI9YS55Mil9LG5ld1RleHQ6ZnVuY3Rpb24oZSx0LG4sYSxpKXt2YXIgbyxsLHIscyx1LGg9dC5jcmVhdGVFbGVtZW50TlMocmUsXCJ0ZXh0XCIpO3JldHVybiBoLnRleHRDb250ZW50PWUsW2gueCxoLnldLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5jcmVhdGVTVkdMZW5ndGgoKTt0Lm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BYLDApLGUuYmFzZVZhbC5pbml0aWFsaXplKHQpfSksXCJib29sZWFuXCIhPXR5cGVvZiBmJiYoZj1cInBhaW50T3JkZXJcImluIGguc3R5bGUpLGkmJiFmPyhsPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwiZGVmc1wiKSxoLmlkPWEsbC5hcHBlbmRDaGlsZChoKSwocz0obz10LmNyZWF0ZUVsZW1lbnROUyhyZSxcImdcIikpLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSkuaHJlZi5iYXNlVmFsPVwiI1wiK2EsKHI9by5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSkpLmhyZWYuYmFzZVZhbD1cIiNcIithLCh1PXMuc3R5bGUpLnN0cm9rZUxpbmVqb2luPVwicm91bmRcIix7ZWxtUG9zaXRpb246aCxzdHlsZVRleHQ6aC5zdHlsZSxzdHlsZUZpbGw6ci5zdHlsZSxzdHlsZVN0cm9rZTp1LHN0eWxlU2hvdzpvLnN0eWxlLGVsbXNBcHBlbmQ6W2wsb119KToodT1oLnN0eWxlLGkmJih1LnN0cm9rZUxpbmVqb2luPVwicm91bmRcIix1LnBhaW50T3JkZXI9XCJzdHJva2VcIikse2VsbVBvc2l0aW9uOmgsc3R5bGVUZXh0OnUsc3R5bGVGaWxsOnUsc3R5bGVTdHJva2U6aT91Om51bGwsc3R5bGVTaG93OnUsZWxtc0FwcGVuZDpbaF19KX0sZ2V0TWlkUG9pbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9RmUoZSksbz1pLnNlZ3NMZW4sbD1pLmxlbkFsbCxyPS0xLHM9bC8yKyh0fHwwKTtpZihzPD0wKXJldHVybiAyPT09KG49ZVswXSkubGVuZ3RoP1BlKG5bMF0sblsxXSwwKTpUZShuWzBdLG5bMV0sblsyXSxuWzNdLDApO2lmKGw8PXMpcmV0dXJuIDI9PT0obj1lW2UubGVuZ3RoLTFdKS5sZW5ndGg/UGUoblswXSxuWzFdLDEpOlRlKG5bMF0sblsxXSxuWzJdLG5bM10sMSk7Zm9yKGE9W107cz5vWysrcl07KWEucHVzaChlW3JdKSxzLT1vW3JdO3JldHVybiAyPT09KG49ZVtyXSkubGVuZ3RoP1BlKG5bMF0sblsxXSxzL29bcl0pOlRlKG5bMF0sblsxXSxuWzJdLG5bM10sQmUoblswXSxuWzFdLG5bMl0sblszXSxzKSl9LGluaXRTdmc6ZnVuY3Rpb24odCxuKXt2YXIgZSxhLGk9SS5jYXB0aW9uTGFiZWwubmV3VGV4dCh0LnRleHQsbi5iYXNlV2luZG93LmRvY3VtZW50LG4uc3ZnLEErXCItY2FwdGlvbkxhYmVsLVwiK3QuX2lkLHQub3V0bGluZUNvbG9yKTtbXCJlbG1Qb3NpdGlvblwiLFwic3R5bGVGaWxsXCIsXCJzdHlsZVNob3dcIixcImVsbXNBcHBlbmRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPWlbZV19KSx0LmlzU2hvd249ITEsdC5zdHlsZVNob3cudmlzaWJpbGl0eT1cImhpZGRlblwiLEkuY2FwdGlvbkxhYmVsLnRleHRTdHlsZVByb3BzLmZvckVhY2goZnVuY3Rpb24oZSl7bnVsbCE9dFtlXSYmKGkuc3R5bGVUZXh0W2VdPXRbZV0pfSksaS5lbG1zQXBwZW5kLmZvckVhY2goZnVuY3Rpb24oZSl7bi5zdmcuYXBwZW5kQ2hpbGQoZSl9KSxlPWkuZWxtUG9zaXRpb24uZ2V0QkJveCgpLHQud2lkdGg9ZS53aWR0aCx0LmhlaWdodD1lLmhlaWdodCx0Lm91dGxpbmVDb2xvciYmKGE9MTA8KGE9ZS5oZWlnaHQvOSk/MTA6YTwyPzI6YSxpLnN0eWxlU3Ryb2tlLnN0cm9rZVdpZHRoPWErXCJweFwiLGkuc3R5bGVTdHJva2Uuc3Ryb2tlPXQub3V0bGluZUNvbG9yKSx0LnN0cm9rZVdpZHRoPWF8fDAsWGUodC5hcGxTdGF0cyxJLmNhcHRpb25MYWJlbC5zdGF0cyksdC51cGRhdGVDb2xvcihuKSx0LnJlZlNvY2tldFhZP3QudXBkYXRlU29ja2V0WFkobik6dC51cGRhdGVQYXRoKG4pLHBlJiZldChuLHt9KSx0LnVwZGF0ZVNob3cobil9LGJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzO3JldHVybiBlLmNvbG9yfHxEZShuLFwiY3VyX2xpbmVfY29sb3JcIixlLnVwZGF0ZUNvbG9yKSwoZS5yZWZTb2NrZXRYWT1cInN0YXJ0TGFiZWxcIj09PXQub3B0aW9uTmFtZXx8XCJlbmRMYWJlbFwiPT09dC5vcHRpb25OYW1lKT8oZS5zb2NrZXRJbmRleD1cInN0YXJ0TGFiZWxcIj09PXQub3B0aW9uTmFtZT8wOjEsRGUobixcImFwbF9wb3NpdGlvblwiLGUudXBkYXRlU29ja2V0WFkpLGUub2Zmc2V0fHwoRGUobixcImN1cl9hdHRhY2hfcGx1Z1NpZGVMZW5TRVwiLGUudXBkYXRlU29ja2V0WFkpLERlKG4sXCJjdXJfbGluZV9zdHJva2VXaWR0aFwiLGUudXBkYXRlU29ja2V0WFkpKSk6RGUobixcImFwbF9wYXRoXCIsZS51cGRhdGVQYXRoKSxEZShuLFwic3ZnU2hvd1wiLGUudXBkYXRlU2hvdykscGUmJkRlKG4sXCJuZXdfZWRnZTR2aWV3Qm94XCIsZS5hZGp1c3RFZGdlKSxJLmNhcHRpb25MYWJlbC5pbml0U3ZnKGUsbiksITB9LHVuYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHM7ZS5lbG1zQXBwZW5kJiYoZS5lbG1zQXBwZW5kLmZvckVhY2goZnVuY3Rpb24oZSl7bi5zdmcucmVtb3ZlQ2hpbGQoZSl9KSxlLmVsbVBvc2l0aW9uPWUuc3R5bGVGaWxsPWUuc3R5bGVTaG93PWUuZWxtc0FwcGVuZD1udWxsKSxYZShlLmN1clN0YXRzLEkuY2FwdGlvbkxhYmVsLnN0YXRzKSxYZShlLmFwbFN0YXRzLEkuY2FwdGlvbkxhYmVsLnN0YXRzKSxlLmNvbG9yfHx6ZShuLFwiY3VyX2xpbmVfY29sb3JcIixlLnVwZGF0ZUNvbG9yKSxlLnJlZlNvY2tldFhZPyh6ZShuLFwiYXBsX3Bvc2l0aW9uXCIsZS51cGRhdGVTb2NrZXRYWSksZS5vZmZzZXR8fCh6ZShuLFwiY3VyX2F0dGFjaF9wbHVnU2lkZUxlblNFXCIsZS51cGRhdGVTb2NrZXRYWSksemUobixcImN1cl9saW5lX3N0cm9rZVdpZHRoXCIsZS51cGRhdGVTb2NrZXRYWSkpKTp6ZShuLFwiYXBsX3BhdGhcIixlLnVwZGF0ZVBhdGgpLHplKG4sXCJzdmdTaG93XCIsZS51cGRhdGVTaG93KSxwZSYmKHplKG4sXCJuZXdfZWRnZTR2aWV3Qm94XCIsZS5hZGp1c3RFZGdlKSxldChuLHt9KSl9LHJlbW92ZU9wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHMsYT17fTthW3Qub3B0aW9uTmFtZV09XCJcIixvdChuLGEpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5ib3VuZFRhcmdldHMubGVuZ3RoJiYoY29uc29sZS5lcnJvcihcIkxlYWRlckxpbmVBdHRhY2htZW50IHdhcyBub3QgdW5ib3VuZCBieSByZW1vdmVcIiksdC5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtJLmNhcHRpb25MYWJlbC51bmJpbmQodCxlKX0pKX19LHBhdGhMYWJlbDp7dHlwZTpcImxhYmVsXCIsYXJnT3B0aW9uczpbe29wdGlvbk5hbWU6XCJ0ZXh0XCIsdHlwZTpcInN0cmluZ1wifV0sc3RhdHM6e2NvbG9yOnt9LHN0YXJ0T2Zmc2V0Ont9LHBhdGhEYXRhOnt9fSxpbml0OmZ1bmN0aW9uKHMsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQudGV4dCYmKHMudGV4dD10LnRleHQudHJpbSgpKSwhIXMudGV4dCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmNvbG9yJiYocy5jb2xvcj10LmNvbG9yLnRyaW0oKSkscy5vdXRsaW5lQ29sb3I9XCJzdHJpbmdcIj09dHlwZW9mIHQub3V0bGluZUNvbG9yP3Qub3V0bGluZUNvbG9yLnRyaW0oKTpcIiNmZmZcIix5ZSh0LmxpbmVPZmZzZXQpJiYocy5saW5lT2Zmc2V0PXQubGluZU9mZnNldCksSS5jYXB0aW9uTGFiZWwudGV4dFN0eWxlUHJvcHMuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT10W2VdJiYoc1tlXT10W2VdKX0pLHMudXBkYXRlQ29sb3I9ZnVuY3Rpb24oZSl7SS5jYXB0aW9uTGFiZWwudXBkYXRlQ29sb3IocyxlKX0scy51cGRhdGVQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0LG49cy5jdXJTdGF0cyxhPXMuYXBsU3RhdHMsaT1lLmN1clN0YXRzLG89ZS5wYXRoTGlzdC5hbmltVmFsfHxlLnBhdGhMaXN0LmJhc2VWYWw7byYmKG4ucGF0aERhdGE9dD1JLnBhdGhMYWJlbC5nZXRPZmZzZXRQYXRoRGF0YShvLGkubGluZV9zdHJva2VXaWR0aC8yK3Muc3Ryb2tlV2lkdGgvMitzLmhlaWdodC80LDEuMjUqcy5oZWlnaHQpLEdlKHQsYS5wYXRoRGF0YSkmJihzLmVsbVBhdGguc2V0UGF0aERhdGEodCksYS5wYXRoRGF0YT10LHMuYkJveD1zLmVsbVBvc2l0aW9uLmdldEJCb3goKSxzLnVwZGF0ZVN0YXJ0T2Zmc2V0KGUpKSl9LHMudXBkYXRlU3RhcnRPZmZzZXQ9ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLGEsbz1zLmN1clN0YXRzLGw9cy5hcGxTdGF0cyxyPWUuY3VyU3RhdHM7by5wYXRoRGF0YSYmKDI9PT1zLnNlbUluZGV4JiYhcy5saW5lT2Zmc2V0fHwobj1vLnBhdGhEYXRhLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuLGE9dC52YWx1ZXM7c3dpdGNoKHQudHlwZSl7Y2FzZVwiTVwiOmk9e3g6YVswXSx5OmFbMV19O2JyZWFrO2Nhc2VcIkxcIjpuPXt4OmFbMF0seTphWzFdfSxpJiYoZSs9VmUoaSxuKSksaT1uO2JyZWFrO2Nhc2VcIkNcIjpuPXt4OmFbNF0seTphWzVdfSxpJiYoZSs9V2UoaSx7eDphWzBdLHk6YVsxXX0se3g6YVsyXSx5OmFbM119LG4pKSxpPW59cmV0dXJuIGV9LDApLGE9MD09PXMuc2VtSW5kZXg/MDoxPT09cy5zZW1JbmRleD9uOm4vMiwyIT09cy5zZW1JbmRleCYmKHQ9TWF0aC5tYXgoci5hdHRhY2hfcGx1Z0JhY2tMZW5TRVtzLnNlbUluZGV4XXx8MCxyLmxpbmVfc3Ryb2tlV2lkdGgvMikrcy5zdHJva2VXaWR0aC8yK3MuaGVpZ2h0LzQsYT0oYSs9MD09PXMuc2VtSW5kZXg/dDotdCk8MD8wOm48YT9uOmEpLHMubGluZU9mZnNldCYmKGE9KGErPXMubGluZU9mZnNldCk8MD8wOm48YT9uOmEpLG8uc3RhcnRPZmZzZXQ9YSxxZShzLGwsXCJzdGFydE9mZnNldFwiLGEpJiYocy5lbG1PZmZzZXQuc3RhcnRPZmZzZXQuYmFzZVZhbC52YWx1ZT1hKSkpfSxzLnVwZGF0ZVNob3c9ZnVuY3Rpb24oZSl7SS5jYXB0aW9uTGFiZWwudXBkYXRlU2hvdyhzLGUpfSxwZSYmKHMuYWRqdXN0RWRnZT1mdW5jdGlvbihlLHQpe3MuYkJveCYmSS5jYXB0aW9uTGFiZWwuYWRqdXN0RWRnZSh0LHMuYkJveCxzLnN0cm9rZVdpZHRoLzIpfSksITApfSxnZXRPZmZzZXRQYXRoRGF0YTpmdW5jdGlvbihlLHgsbil7dmFyIGIsYSxrPVtdO2Z1bmN0aW9uIHcoZSx0KXtyZXR1cm4gTWF0aC5hYnMoZS54LXQueCk8MyYmTWF0aC5hYnMoZS55LXQueSk8M31yZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpLG8sbCxyLHMsdSxoLHAsYyxkLGYseSxtLFMsZyxfLHYsRTsyPT09ZS5sZW5ndGg/KGc9ZVswXSxfPWVbMV0sdj14LEU9TWF0aC5hdGFuMihnLnktXy55LF8ueC1nLngpKy41Kk1hdGguUEksdD1be3g6Zy54K01hdGguY29zKEUpKnYseTpnLnkrTWF0aC5zaW4oRSkqdiotMX0se3g6Xy54K01hdGguY29zKEUpKnYseTpfLnkrTWF0aC5zaW4oRSkqdiotMX1dLGI/KGE9Yi5wb2ludHMsMDw9KGk9TWF0aC5hdGFuMihhWzFdLnktYVswXS55LGFbMF0ueC1hWzFdLngpLU1hdGguYXRhbjIoZVswXS55LWVbMV0ueSxlWzFdLngtZVswXS54KSkmJmk8PU1hdGguUEk/bj17dHlwZTpcImxpbmVcIixwb2ludHM6dCxpbnNpZGU6ITB9OihsPU5lKGFbMF0sYVsxXSx4KSxvPU5lKHRbMV0sdFswXSx4KSxzPWFbMF0saD1vLHA9dFsxXSxjPSh1PWwpLngtcy54LGQ9dS55LXMueSxmPXAueC1oLngseT1wLnktaC55LG09KC1kKihzLngtaC54KStjKihzLnktaC55KSkvKC1mKmQrYyp5KSxTPShmKihzLnktaC55KS15KihzLngtaC54KSkvKC1mKmQrYyp5KSxuPShyPTA8PW0mJm08PTEmJjA8PVMmJlM8PTE/e3g6cy54K1MqYyx5OnMueStTKmR9Om51bGwpP3t0eXBlOlwibGluZVwiLHBvaW50czpbYVsxXT1yLHRbMV1dfTooYVsxXT13KG8sbCk/bzpsLHt0eXBlOlwibGluZVwiLHBvaW50czpbbyx0WzFdXX0pLGIubGVuPVZlKGFbMF0sYVsxXSkpKTpuPXt0eXBlOlwibGluZVwiLHBvaW50czp0fSxuLmxlbj1WZShuLnBvaW50c1swXSxuLnBvaW50c1sxXSksay5wdXNoKGI9bikpOihrLnB1c2goe3R5cGU6XCJjdWJpY1wiLHBvaW50czpmdW5jdGlvbihlLHQsbixhLGksbyl7Zm9yKHZhciBsLHIscz1XZShlLHQsbixhKS9vLHU9MS8obzxpP2kvbypzOnMpLGg9W10scD0wO3I9KDkwLShsPVRlKGUsdCxuLGEscCkpLmFuZ2xlKSooTWF0aC5QSS8xODApLGgucHVzaCh7eDpsLngrTWF0aC5jb3MocikqaSx5OmwueStNYXRoLnNpbihyKSppKi0xfSksISgxPD1wKTspMTwocCs9dSkmJihwPTEpO3JldHVybiBofShlWzBdLGVbMV0sZVsyXSxlWzNdLHgsMTYpfSksYj1udWxsKX0pLGI9bnVsbCxrLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7Yj1cImxpbmVcIj09PWUudHlwZT8oZS5pbnNpZGUmJihiLmxlbj54PygodD1iLnBvaW50cylbMV09TmUodFswXSx0WzFdLC14KSxiLmxlbj1WZSh0WzBdLHRbMV0pKTooYi5wb2ludHM9bnVsbCxiLmxlbj0wKSxlLmxlbj54K24/KCh0PWUucG9pbnRzKVswXT1OZSh0WzFdLHRbMF0sLSh4K24pKSxlLmxlbj1WZSh0WzBdLHRbMV0pKTooZS5wb2ludHM9bnVsbCxlLmxlbj0wKSksZSk6bnVsbH0pLGsucmVkdWNlKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wb2ludHM7cmV0dXJuIG4mJihhJiZ3KG5bMF0sYSl8fHQucHVzaCh7dHlwZTpcIk1cIix2YWx1ZXM6W25bMF0ueCxuWzBdLnldfSksXCJsaW5lXCI9PT1lLnR5cGU/dC5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbblsxXS54LG5bMV0ueV19KToobi5zaGlmdCgpLG4uZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOltlLngsZS55XX0pfSkpLGE9bltuLmxlbmd0aC0xXSksdH0sW10pfSxuZXdUZXh0OmZ1bmN0aW9uKGUsdCxuLGEpe3ZhciBpLG8sbCxyLHMsdSxoLHAsYz10LmNyZWF0ZUVsZW1lbnROUyhyZSxcImRlZnNcIiksZD1jLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwicGF0aFwiKSk7cmV0dXJuIGQuaWQ9aT1uK1wiLXBhdGhcIiwocj0obD10LmNyZWF0ZUVsZW1lbnROUyhyZSxcInRleHRcIikpLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwidGV4dFBhdGhcIikpKS5ocmVmLmJhc2VWYWw9XCIjXCIraSxyLnN0YXJ0T2Zmc2V0LmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUFgsMCksci50ZXh0Q29udGVudD1lLFwiYm9vbGVhblwiIT10eXBlb2YgZiYmKGY9XCJwYWludE9yZGVyXCJpbiBsLnN0eWxlKSxhJiYhZj8obC5pZD1vPW4rXCItdGV4dFwiLGMuYXBwZW5kQ2hpbGQobCksKGg9KHM9dC5jcmVhdGVFbGVtZW50TlMocmUsXCJnXCIpKS5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSkpLmhyZWYuYmFzZVZhbD1cIiNcIitvLCh1PXMuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpKS5ocmVmLmJhc2VWYWw9XCIjXCIrbywocD1oLnN0eWxlKS5zdHJva2VMaW5lam9pbj1cInJvdW5kXCIse2VsbVBvc2l0aW9uOmwsZWxtUGF0aDpkLGVsbU9mZnNldDpyLHN0eWxlVGV4dDpsLnN0eWxlLHN0eWxlRmlsbDp1LnN0eWxlLHN0eWxlU3Ryb2tlOnAsc3R5bGVTaG93OnMuc3R5bGUsZWxtc0FwcGVuZDpbYyxzXX0pOihwPWwuc3R5bGUsYSYmKHAuc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLHAucGFpbnRPcmRlcj1cInN0cm9rZVwiKSx7ZWxtUG9zaXRpb246bCxlbG1QYXRoOmQsZWxtT2Zmc2V0OnIsc3R5bGVUZXh0OnAsc3R5bGVGaWxsOnAsc3R5bGVTdHJva2U6YT9wOm51bGwsc3R5bGVTaG93OnAsZWxtc0FwcGVuZDpbYyxsXX0pfSxpbml0U3ZnOmZ1bmN0aW9uKHQsbil7dmFyIGUsYSxpPUkucGF0aExhYmVsLm5ld1RleHQodC50ZXh0LG4uYmFzZVdpbmRvdy5kb2N1bWVudCxBK1wiLXBhdGhMYWJlbC1cIit0Ll9pZCx0Lm91dGxpbmVDb2xvcik7W1wiZWxtUG9zaXRpb25cIixcImVsbVBhdGhcIixcImVsbU9mZnNldFwiLFwic3R5bGVGaWxsXCIsXCJzdHlsZVNob3dcIixcImVsbXNBcHBlbmRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPWlbZV19KSx0LmlzU2hvd249ITEsdC5zdHlsZVNob3cudmlzaWJpbGl0eT1cImhpZGRlblwiLEkuY2FwdGlvbkxhYmVsLnRleHRTdHlsZVByb3BzLmZvckVhY2goZnVuY3Rpb24oZSl7bnVsbCE9dFtlXSYmKGkuc3R5bGVUZXh0W2VdPXRbZV0pfSksaS5lbG1zQXBwZW5kLmZvckVhY2goZnVuY3Rpb24oZSl7bi5zdmcuYXBwZW5kQ2hpbGQoZSl9KSxpLmVsbVBhdGguc2V0UGF0aERhdGEoW3t0eXBlOlwiTVwiLHZhbHVlczpbMCwxMDBdfSx7dHlwZTpcImhcIix2YWx1ZXM6WzEwMF19XSksZT1pLmVsbVBvc2l0aW9uLmdldEJCb3goKSxpLnN0eWxlVGV4dC50ZXh0QW5jaG9yPVtcInN0YXJ0XCIsXCJlbmRcIixcIm1pZGRsZVwiXVt0LnNlbUluZGV4XSwyIT09dC5zZW1JbmRleHx8dC5saW5lT2Zmc2V0fHxpLmVsbU9mZnNldC5zdGFydE9mZnNldC5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BFUkNFTlRBR0UsNTApLHQuaGVpZ2h0PWUuaGVpZ2h0LHQub3V0bGluZUNvbG9yJiYoYT0xMDwoYT1lLmhlaWdodC85KT8xMDphPDI/MjphLGkuc3R5bGVTdHJva2Uuc3Ryb2tlV2lkdGg9YStcInB4XCIsaS5zdHlsZVN0cm9rZS5zdHJva2U9dC5vdXRsaW5lQ29sb3IpLHQuc3Ryb2tlV2lkdGg9YXx8MCxYZSh0LmFwbFN0YXRzLEkucGF0aExhYmVsLnN0YXRzKSx0LnVwZGF0ZUNvbG9yKG4pLHQudXBkYXRlUGF0aChuKSx0LnVwZGF0ZVN0YXJ0T2Zmc2V0KG4pLHBlJiZldChuLHt9KSx0LnVwZGF0ZVNob3cobil9LGJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzO3JldHVybiBlLmNvbG9yfHxEZShuLFwiY3VyX2xpbmVfY29sb3JcIixlLnVwZGF0ZUNvbG9yKSxEZShuLFwiY3VyX2xpbmVfc3Ryb2tlV2lkdGhcIixlLnVwZGF0ZVBhdGgpLERlKG4sXCJhcGxfcGF0aFwiLGUudXBkYXRlUGF0aCksZS5zZW1JbmRleD1cInN0YXJ0TGFiZWxcIj09PXQub3B0aW9uTmFtZT8wOlwiZW5kTGFiZWxcIj09PXQub3B0aW9uTmFtZT8xOjIsMj09PWUuc2VtSW5kZXgmJiFlLmxpbmVPZmZzZXR8fERlKG4sXCJjdXJfYXR0YWNoX3BsdWdCYWNrTGVuU0VcIixlLnVwZGF0ZVN0YXJ0T2Zmc2V0KSxEZShuLFwic3ZnU2hvd1wiLGUudXBkYXRlU2hvdykscGUmJkRlKG4sXCJuZXdfZWRnZTR2aWV3Qm94XCIsZS5hZGp1c3RFZGdlKSxJLnBhdGhMYWJlbC5pbml0U3ZnKGUsbiksITB9LHVuYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHM7ZS5lbG1zQXBwZW5kJiYoZS5lbG1zQXBwZW5kLmZvckVhY2goZnVuY3Rpb24oZSl7bi5zdmcucmVtb3ZlQ2hpbGQoZSl9KSxlLmVsbVBvc2l0aW9uPWUuZWxtUGF0aD1lLmVsbU9mZnNldD1lLnN0eWxlRmlsbD1lLnN0eWxlU2hvdz1lLmVsbXNBcHBlbmQ9bnVsbCksWGUoZS5jdXJTdGF0cyxJLnBhdGhMYWJlbC5zdGF0cyksWGUoZS5hcGxTdGF0cyxJLnBhdGhMYWJlbC5zdGF0cyksZS5jb2xvcnx8emUobixcImN1cl9saW5lX2NvbG9yXCIsZS51cGRhdGVDb2xvciksemUobixcImN1cl9saW5lX3N0cm9rZVdpZHRoXCIsZS51cGRhdGVQYXRoKSx6ZShuLFwiYXBsX3BhdGhcIixlLnVwZGF0ZVBhdGgpLDI9PT1lLnNlbUluZGV4JiYhZS5saW5lT2Zmc2V0fHx6ZShuLFwiY3VyX2F0dGFjaF9wbHVnQmFja0xlblNFXCIsZS51cGRhdGVTdGFydE9mZnNldCksemUobixcInN2Z1Nob3dcIixlLnVwZGF0ZVNob3cpLHBlJiYoemUobixcIm5ld19lZGdlNHZpZXdCb3hcIixlLmFkanVzdEVkZ2UpLGV0KG4se30pKX0scmVtb3ZlT3B0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcyxhPXt9O2FbdC5vcHRpb25OYW1lXT1cIlwiLG90KG4sYSl9LHJlbW92ZTpmdW5jdGlvbih0KXt0LmJvdW5kVGFyZ2V0cy5sZW5ndGgmJihjb25zb2xlLmVycm9yKFwiTGVhZGVyTGluZUF0dGFjaG1lbnQgd2FzIG5vdCB1bmJvdW5kIGJ5IHJlbW92ZVwiKSx0LmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe0kucGF0aExhYmVsLnVuYmluZCh0LGUpfSkpfX19LE9iamVjdC5rZXlzKEkpLmZvckVhY2goZnVuY3Rpb24oZSl7bHRbZV09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEMoSVtlXSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX19KSxsdC5wb3NpdGlvbkJ5V2luZG93UmVzaXplPSEwLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdi5hZGQoZnVuY3Rpb24oKXtsdC5wb3NpdGlvbkJ5V2luZG93UmVzaXplJiZPYmplY3Qua2V5cyhnZSkuZm9yRWFjaChmdW5jdGlvbihlKXtldChnZVtlXSx7cG9zaXRpb246ITB9KX0pfSksITEpLGx0fSgpOyFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOmVbXCJsZWFkZXItbGluZVwiXT10KCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gTGVhZGVyTGluZX0pOyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBET04nVCBNQU5VQUxMWSBFRElUIFRISVMgRklMRVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qXG4gKiBBbmltRXZlbnRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnNla2kvYW5pbS1ldmVudFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSBhbnNla2lcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xudmFyIE1TUEYgPSAxMDAwIC8gNjAsXG4gICAgLy8gbXMvZnJhbWUgKEZQUzogNjApXG5LRUVQX0xPT1AgPSA1MDAsXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gdGFza1xuICogQHByb3BlcnR5IHtFdmVudH0gZXZlbnRcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGxpc3RlbmVyXG4gKi9cblxuLyoqIEB0eXBlIHt0YXNrW119ICovXG50YXNrcyA9IFtdO1xuXG52YXIgcmVxdWVzdEFuaW0gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCBNU1BGKTtcbn0sXG4gICAgY2FuY2VsQW5pbSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChyZXF1ZXN0SUQpIHtcbiAgcmV0dXJuIGNsZWFyVGltZW91dChyZXF1ZXN0SUQpO1xufTtcblxudmFyIGxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpLFxuICAgIHJlcXVlc3RJRDtcblxuZnVuY3Rpb24gc3RlcCgpIHtcbiAgdmFyIGNhbGxlZCwgbmV4dDtcblxuICBpZiAocmVxdWVzdElEKSB7XG4gICAgY2FuY2VsQW5pbS5jYWxsKHdpbmRvdywgcmVxdWVzdElEKTtcbiAgICByZXF1ZXN0SUQgPSBudWxsO1xuICB9XG5cbiAgdGFza3MuZm9yRWFjaChmdW5jdGlvbiAodGFzaykge1xuICAgIHZhciBldmVudDtcblxuICAgIGlmIChldmVudCA9IHRhc2suZXZlbnQpIHtcbiAgICAgIHRhc2suZXZlbnQgPSBudWxsOyAvLyBDbGVhciBpdCBiZWZvcmUgYHRhc2subGlzdGVuZXIoKWAgYmVjYXVzZSB0aGF0IG1pZ2h0IGZpcmUgYW5vdGhlciBldmVudC5cblxuICAgICAgdGFzay5saXN0ZW5lcihldmVudCk7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGNhbGxlZCkge1xuICAgIGxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIG5leHQgPSB0cnVlO1xuICB9IGVsc2UgaWYgKERhdGUubm93KCkgLSBsYXN0RnJhbWVUaW1lIDwgS0VFUF9MT09QKSB7XG4gICAgLy8gR28gb24gZm9yIGEgd2hpbGVcbiAgICBuZXh0ID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZXh0KSB7XG4gICAgcmVxdWVzdElEID0gcmVxdWVzdEFuaW0uY2FsbCh3aW5kb3csIHN0ZXApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluZGV4T2ZUYXNrcyhsaXN0ZW5lcikge1xuICB2YXIgaW5kZXggPSAtMTtcbiAgdGFza3Muc29tZShmdW5jdGlvbiAodGFzaywgaSkge1xuICAgIGlmICh0YXNrLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgaW5kZXggPSBpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG52YXIgQW5pbUV2ZW50ID0ge1xuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgLSBBbiBldmVudCBsaXN0ZW5lci5cbiAgICogQHJldHVybnMgeyhmdW5jdGlvbnxudWxsKX0gQSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyLlxuICAgKi9cbiAgYWRkOiBmdW5jdGlvbiBhZGQobGlzdGVuZXIpIHtcbiAgICB2YXIgdGFzaztcblxuICAgIGlmIChpbmRleE9mVGFza3MobGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgdGFza3MucHVzaCh0YXNrID0ge1xuICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0YXNrLmV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKCFyZXF1ZXN0SUQpIHtcbiAgICAgICAgICBzdGVwKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGxpc3RlbmVyKSB7XG4gICAgdmFyIGlSZW1vdmU7XG5cbiAgICBpZiAoKGlSZW1vdmUgPSBpbmRleE9mVGFza3MobGlzdGVuZXIpKSA+IC0xKSB7XG4gICAgICB0YXNrcy5zcGxpY2UoaVJlbW92ZSwgMSk7XG5cbiAgICAgIGlmICghdGFza3MubGVuZ3RoICYmIHJlcXVlc3RJRCkge1xuICAgICAgICBjYW5jZWxBbmltLmNhbGwod2luZG93LCByZXF1ZXN0SUQpO1xuICAgICAgICByZXF1ZXN0SUQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IEFuaW1FdmVudDsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgRE9OJ1QgTUFOVUFMTFkgRURJVCBUSElTIEZJTEVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKlxuICogQ1NTUHJlZml4XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5zZWtpL2Nzc3ByZWZpeFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSBhbnNla2lcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gdWNmKHRleHQpIHtcbiAgcmV0dXJuIHRleHQuc3Vic3RyKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0ZXh0LnN1YnN0cigxKTtcbn1cblxudmFyIFBSRUZJWEVTID0gWyd3ZWJraXQnLCAnbW96JywgJ21zJywgJ28nXSxcbiAgICBOQU1FX1BSRUZJWEVTID0gUFJFRklYRVMucmVkdWNlKGZ1bmN0aW9uIChwcmVmaXhlcywgcHJlZml4KSB7XG4gIHByZWZpeGVzLnB1c2gocHJlZml4KTtcbiAgcHJlZml4ZXMucHVzaCh1Y2YocHJlZml4KSk7XG4gIHJldHVybiBwcmVmaXhlcztcbn0sIFtdKSxcbiAgICBWQUxVRV9QUkVGSVhFUyA9IFBSRUZJWEVTLm1hcChmdW5jdGlvbiAocHJlZml4KSB7XG4gIHJldHVybiBcIi1cIi5jb25jYXQocHJlZml4LCBcIi1cIik7XG59KSxcblxuLyoqXG4gKiBHZXQgc2FtcGxlIENTU1N0eWxlRGVjbGFyYXRpb24uXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVEZWNsYXJhdGlvbn1cbiAqL1xuZ2V0RGVjbGFyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkZWNsYXJhdGlvbjtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGVjbGFyYXRpb24gPSBkZWNsYXJhdGlvbiB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgfTtcbn0oKSxcblxuLyoqXG4gKiBOb3JtYWxpemUgbmFtZS5cbiAqIEBwYXJhbSB7fSBwcm9wTmFtZSAtIEEgbmFtZSB0aGF0IGlzIG5vcm1hbGl6ZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIG5vcm1hbGl6ZWQgbmFtZS5cbiAqL1xubm9ybWFsaXplTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlUHJlZml4ZWROYW1lID0gbmV3IFJlZ0V4cCgnXig/OicgKyBQUkVGSVhFUy5qb2luKCd8JykgKyAnKSguKScsICdpJyksXG4gICAgICByZVVjID0gL1tBLVpdLztcbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgIHJldHVybiAocHJvcE5hbWUgPSAocHJvcE5hbWUgKyAnJykucmVwbGFjZSgvXFxzL2csICcnKS5yZXBsYWNlKC8tKFtcXGRhLXpdKS9naSwgZnVuY3Rpb24gKHN0ciwgcDEpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pIC8vIGNhbWVsQ2FzZVxuICAgIC8vICdtcycgYW5kICdNcycgYXJlIGZvdW5kIGJ5IHJlUHJlZml4ZWROYW1lICdpJyBvcHRpb25cbiAgICAucmVwbGFjZShyZVByZWZpeGVkTmFtZSwgZnVuY3Rpb24gKHN0ciwgcDEpIHtcbiAgICAgIHJldHVybiByZVVjLnRlc3QocDEpID8gcDEudG9Mb3dlckNhc2UoKSA6IHN0cjtcbiAgICB9KSAvLyBSZW1vdmUgcHJlZml4XG4gICAgKS50b0xvd2VyQ2FzZSgpID09PSAnZmxvYXQnID8gJ2Nzc0Zsb2F0JyA6IHByb3BOYW1lO1xuICB9OyAvLyBGb3Igb2xkIENTU09NXG59KCksXG5cbi8qKlxuICogTm9ybWFsaXplIHZhbHVlLlxuICogQHBhcmFtIHt9IHByb3BWYWx1ZSAtIEEgdmFsdWUgdGhhdCBpcyBub3JtYWxpemVkLlxuICogQHJldHVybnMge3N0cmluZ30gQSBub3JtYWxpemVkIHZhbHVlLlxuICovXG5ub3JtYWxpemVWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlUHJlZml4ZWRWYWx1ZSA9IG5ldyBSZWdFeHAoJ14oPzonICsgVkFMVUVfUFJFRklYRVMuam9pbignfCcpICsgJyknLCAnaScpO1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BWYWx1ZSkge1xuICAgIHJldHVybiAocHJvcFZhbHVlICE9IG51bGwgPyBwcm9wVmFsdWUgKyAnJyA6ICcnKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UocmVQcmVmaXhlZFZhbHVlLCAnJyk7XG4gIH07XG59KCksXG5cbi8qKlxuICogUG9seWZpbGwgZm9yIGBDU1Muc3VwcG9ydHNgLlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BOYW1lIC0gQSBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BWYWx1ZSAtIEEgdmFsdWUuXG4gKiAgICAgU2luY2UgYENTU1N0eWxlRGVjbGFyYXRpb24uc2V0UHJvcGVydHlgIG1pZ2h0IHJldHVybiB1bmV4cGVjdGVkIHJlc3VsdCxcbiAqICAgICB0aGUgYHByb3BWYWx1ZWAgc2hvdWxkIGJlIGNoZWNrZWQgYmVmb3JlIHRoZSBgY3NzU3VwcG9ydHNgIGlzIGNhbGxlZC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgZ2l2ZW4gcGFpciBpcyBhY2NlcHRlZC5cbiAqL1xuY3NzU3VwcG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAoLy8gcmV0dXJuIHdpbmRvdy5DU1MgJiYgd2luZG93LkNTUy5zdXBwb3J0cyB8fCAoKHByb3BOYW1lLCBwcm9wVmFsdWUpID0+IHtcbiAgICAvLyBgQ1NTLnN1cHBvcnRzYCBkb2Vzbid0IGZpbmQgcHJlZml4ZWQgcHJvcGVydHkuXG4gICAgZnVuY3Rpb24gKHByb3BOYW1lLCBwcm9wVmFsdWUpIHtcbiAgICAgIHZhciBkZWNsYXJhdGlvbiA9IGdldERlY2xhcmF0aW9uKCk7IC8vIEluIHNvbWUgYnJvd3NlcnMsIGBkZWNsYXJhdGlvbltwcm9wXSA9IHZhbHVlYCB1cGRhdGVzIGFueSBwcm9wZXJ0eS5cblxuICAgICAgcHJvcE5hbWUgPSBwcm9wTmFtZS5yZXBsYWNlKC9bQS1aXS9nLCBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBcIi1cIi5jb25jYXQoc3RyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSk7IC8vIGtlYmFiLWNhc2VcblxuICAgICAgZGVjbGFyYXRpb24uc2V0UHJvcGVydHkocHJvcE5hbWUsIHByb3BWYWx1ZSk7XG4gICAgICByZXR1cm4gZGVjbGFyYXRpb25bcHJvcE5hbWVdICE9IG51bGwgJiYgLy8gQmVjYXVzZSBnZXRQcm9wZXJ0eVZhbHVlIHJldHVybnMgJycgaWYgaXQgaXMgdW5zdXBwb3J0ZWRcbiAgICAgIGRlY2xhcmF0aW9uLmdldFByb3BlcnR5VmFsdWUocHJvcE5hbWUpID09PSBwcm9wVmFsdWU7XG4gICAgfVxuICApO1xufSgpLFxuICAgIC8vIENhY2hlXG5wcm9wTmFtZXMgPSB7fSxcbiAgICBwcm9wVmFsdWVzID0ge307XG5cbmZ1bmN0aW9uIGdldE5hbWUocHJvcE5hbWUpIHtcbiAgcHJvcE5hbWUgPSBub3JtYWxpemVOYW1lKHByb3BOYW1lKTtcblxuICBpZiAocHJvcE5hbWUgJiYgcHJvcE5hbWVzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgdmFyIGRlY2xhcmF0aW9uID0gZ2V0RGVjbGFyYXRpb24oKTtcblxuICAgIGlmIChkZWNsYXJhdGlvbltwcm9wTmFtZV0gIT0gbnVsbCkge1xuICAgICAgLy8gT3JpZ2luYWxcbiAgICAgIHByb3BOYW1lc1twcm9wTmFtZV0gPSBwcm9wTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJ5IHdpdGggcHJlZml4ZXNcbiAgICAgIHZhciB1Y2ZOYW1lID0gdWNmKHByb3BOYW1lKTtcblxuICAgICAgaWYgKCFOQU1FX1BSRUZJWEVTLnNvbWUoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICB2YXIgcHJlZml4ZWQgPSBwcmVmaXggKyB1Y2ZOYW1lO1xuXG4gICAgICAgIGlmIChkZWNsYXJhdGlvbltwcmVmaXhlZF0gIT0gbnVsbCkge1xuICAgICAgICAgIHByb3BOYW1lc1twcm9wTmFtZV0gPSBwcmVmaXhlZDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pKSB7XG4gICAgICAgIHByb3BOYW1lc1twcm9wTmFtZV0gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvcE5hbWVzW3Byb3BOYW1lXSB8fCB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlKHByb3BOYW1lLCBwcm9wVmFsdWUpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoIShwcm9wTmFtZSA9IGdldE5hbWUocHJvcE5hbWUpKSkge1xuICAgIHJldHVybiByZXM7XG4gIH0gLy8gSW52YWxpZCBwcm9wZXJ0eVxuXG5cbiAgcHJvcFZhbHVlc1twcm9wTmFtZV0gPSBwcm9wVmFsdWVzW3Byb3BOYW1lXSB8fCB7fTtcbiAgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSA/IHByb3BWYWx1ZSA6IFtwcm9wVmFsdWVdKS5zb21lKGZ1bmN0aW9uIChwcm9wVmFsdWUpIHtcbiAgICBwcm9wVmFsdWUgPSBub3JtYWxpemVWYWx1ZShwcm9wVmFsdWUpO1xuXG4gICAgaWYgKHByb3BWYWx1ZXNbcHJvcE5hbWVdW3Byb3BWYWx1ZV0gIT0gbnVsbCkge1xuICAgICAgLy8gQ2FjaGVcbiAgICAgIGlmIChwcm9wVmFsdWVzW3Byb3BOYW1lXVtwcm9wVmFsdWVdICE9PSBmYWxzZSkge1xuICAgICAgICByZXMgPSBwcm9wVmFsdWVzW3Byb3BOYW1lXVtwcm9wVmFsdWVdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBDb250aW51ZSB0byBuZXh0IHZhbHVlXG4gICAgfVxuXG4gICAgaWYgKGNzc1N1cHBvcnRzKHByb3BOYW1lLCBwcm9wVmFsdWUpKSB7XG4gICAgICAvLyBPcmlnaW5hbFxuICAgICAgcmVzID0gcHJvcFZhbHVlc1twcm9wTmFtZV1bcHJvcFZhbHVlXSA9IHByb3BWYWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChWQUxVRV9QUkVGSVhFUy5zb21lKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgIC8vIFRyeSB3aXRoIHByZWZpeGVzXG4gICAgICB2YXIgcHJlZml4ZWQgPSBwcmVmaXggKyBwcm9wVmFsdWU7XG5cbiAgICAgIGlmIChjc3NTdXBwb3J0cyhwcm9wTmFtZSwgcHJlZml4ZWQpKSB7XG4gICAgICAgIHJlcyA9IHByb3BWYWx1ZXNbcHJvcE5hbWVdW3Byb3BWYWx1ZV0gPSBwcmVmaXhlZDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvcFZhbHVlc1twcm9wTmFtZV1bcHJvcFZhbHVlXSA9IGZhbHNlO1xuICAgIHJldHVybiBmYWxzZTsgLy8gQ29udGludWUgdG8gbmV4dCB2YWx1ZVxuICB9KTtcbiAgcmV0dXJuIHR5cGVvZiByZXMgPT09ICdzdHJpbmcnID8gcmVzIDogdm9pZCAwOyAvLyBJdCBtaWdodCBiZSBlbXB0eSBzdHJpbmcuXG59XG5cbnZhciBDU1NQcmVmaXggPSB7XG4gIGdldE5hbWU6IGdldE5hbWUsXG4gIGdldFZhbHVlOiBnZXRWYWx1ZVxufTtcbmV4cG9ydCBkZWZhdWx0IENTU1ByZWZpeDsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgRE9OJ1QgTUFOVUFMTFkgRURJVCBUSElTIEZJTEVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKlxuICogbUNsYXNzTGlzdFxuICogaHR0cHM6Ly9naXRodWIuY29tL2Fuc2VraS9tLWNsYXNzLWxpc3RcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjEgYW5zZWtpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZSh0b2tlbikge1xuICByZXR1cm4gKHRva2VuICsgJycpLnRyaW0oKTtcbn0gLy8gTm90IGB8fGBcblxuXG5mdW5jdGlvbiBhcHBseUxpc3QobGlzdCwgZWxlbWVudCkge1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBsaXN0LmpvaW4oJyAnKSk7XG59XG5cbmZ1bmN0aW9uIF9hZGQobGlzdCwgZWxlbWVudCwgdG9rZW5zKSB7XG4gIGlmICh0b2tlbnMuZmlsdGVyKGZ1bmN0aW9uICh0b2tlbikge1xuICAgIGlmICghKHRva2VuID0gbm9ybWFsaXplKHRva2VuKSkgfHwgbGlzdC5pbmRleE9mKHRva2VuKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsaXN0LnB1c2godG9rZW4pO1xuICAgIHJldHVybiB0cnVlO1xuICB9KS5sZW5ndGgpIHtcbiAgICBhcHBseUxpc3QobGlzdCwgZWxlbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3JlbW92ZShsaXN0LCBlbGVtZW50LCB0b2tlbnMpIHtcbiAgaWYgKHRva2Vucy5maWx0ZXIoZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoISh0b2tlbiA9IG5vcm1hbGl6ZSh0b2tlbikpIHx8IChpID0gbGlzdC5pbmRleE9mKHRva2VuKSkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pLmxlbmd0aCkge1xuICAgIGFwcGx5TGlzdChsaXN0LCBlbGVtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfdG9nZ2xlKGxpc3QsIGVsZW1lbnQsIHRva2VuLCBmb3JjZSkge1xuICB2YXIgaSA9IGxpc3QuaW5kZXhPZih0b2tlbiA9IG5vcm1hbGl6ZSh0b2tlbikpO1xuXG4gIGlmIChpICE9PSAtMSkge1xuICAgIGlmIChmb3JjZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgYXBwbHlMaXN0KGxpc3QsIGVsZW1lbnQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChmb3JjZSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsaXN0LnB1c2godG9rZW4pO1xuICBhcHBseUxpc3QobGlzdCwgZWxlbWVudCk7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBfcmVwbGFjZShsaXN0LCBlbGVtZW50LCB0b2tlbiwgbmV3VG9rZW4pIHtcbiAgdmFyIGk7XG5cbiAgaWYgKCEodG9rZW4gPSBub3JtYWxpemUodG9rZW4pKSB8fCAhKG5ld1Rva2VuID0gbm9ybWFsaXplKG5ld1Rva2VuKSkgfHwgdG9rZW4gPT09IG5ld1Rva2VuIHx8IChpID0gbGlzdC5pbmRleE9mKHRva2VuKSkgPT09IC0xKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGlzdC5zcGxpY2UoaSwgMSk7XG5cbiAgaWYgKGxpc3QuaW5kZXhPZihuZXdUb2tlbikgPT09IC0xKSB7XG4gICAgbGlzdC5wdXNoKG5ld1Rva2VuKTtcbiAgfVxuXG4gIGFwcGx5TGlzdChsaXN0LCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gbUNsYXNzTGlzdChlbGVtZW50KSB7XG4gIHJldHVybiAhbUNsYXNzTGlzdC5pZ25vcmVOYXRpdmUgJiYgZWxlbWVudC5jbGFzc0xpc3QgfHwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBsaXN0ID0gKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKS50cmltKCkuc3BsaXQoL1xccysvKS5maWx0ZXIoZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICByZXR1cm4gISF0b2tlbjtcbiAgICB9KSxcbiAgICAgICAgaW5zID0ge1xuICAgICAgbGVuZ3RoOiBsaXN0Lmxlbmd0aCxcbiAgICAgIGl0ZW06IGZ1bmN0aW9uIGl0ZW0oaSkge1xuICAgICAgICByZXR1cm4gbGlzdFtpXTtcbiAgICAgIH0sXG4gICAgICBjb250YWluczogZnVuY3Rpb24gY29udGFpbnModG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGxpc3QuaW5kZXhPZihub3JtYWxpemUodG9rZW4pKSAhPT0gLTE7XG4gICAgICB9LFxuICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7XG4gICAgICAgIF9hZGQobGlzdCwgZWxlbWVudCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cbiAgICAgICAgcmV0dXJuIG1DbGFzc0xpc3QubWV0aG9kQ2hhaW4gPyBpbnMgOiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICAgIF9yZW1vdmUobGlzdCwgZWxlbWVudCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG5cbiAgICAgICAgcmV0dXJuIG1DbGFzc0xpc3QubWV0aG9kQ2hhaW4gPyBpbnMgOiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUodG9rZW4sIGZvcmNlKSB7XG4gICAgICAgIHJldHVybiBfdG9nZ2xlKGxpc3QsIGVsZW1lbnQsIHRva2VuLCBmb3JjZSk7XG4gICAgICB9LFxuICAgICAgcmVwbGFjZTogZnVuY3Rpb24gcmVwbGFjZSh0b2tlbiwgbmV3VG9rZW4pIHtcbiAgICAgICAgX3JlcGxhY2UobGlzdCwgZWxlbWVudCwgdG9rZW4sIG5ld1Rva2VuKTtcblxuICAgICAgICByZXR1cm4gbUNsYXNzTGlzdC5tZXRob2RDaGFpbiA/IGlucyA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBpbnM7XG4gIH0oKTtcbn1cblxubUNsYXNzTGlzdC5tZXRob2RDaGFpbiA9IHRydWU7XG5leHBvcnQgZGVmYXVsdCBtQ2xhc3NMaXN0OyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBET04nVCBNQU5VQUxMWSBFRElUIFRISVMgRklMRVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuLypcbiAqIFBvaW50ZXJFdmVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL2Fuc2VraS9wb2ludGVyLWV2ZW50XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIyIGFuc2VraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5pbXBvcnQgQW5pbUV2ZW50IGZyb20gJ2FuaW0tZXZlbnQnO1xudmFyIE1PVVNFX0VNVV9JTlRFUlZBTCA9IDQwMCxcbiAgICAvLyBBdm9pZCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG5DTElDS19FTVVMQVRPUl9FTEVNRU5UUyA9IFtdLFxuICAgIERCTENMSUNLX0VNVUxBVE9SX0VMRU1FTlRTID0gW107IC8vIFN1cHBvcnQgb3B0aW9ucyBmb3IgYWRkRXZlbnRMaXN0ZW5lclxuXG52YXIgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG50cnkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pKTtcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIC8qIGlnbm9yZSAqL1xufVxuLyoqXG4gKiBhZGRFdmVudExpc3RlbmVyIHdpdGggc3BlY2lmaWMgb3B0aW9uLlxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBBbiBldmVudC10YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIGV2ZW50IHR5cGUgdG8gbGlzdGVuIGZvci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIC0gVGhlIEV2ZW50TGlzdGVuZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFuIG9wdGlvbnMgb2JqZWN0LlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnModGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAvLyBXaGVuIGBwYXNzaXZlYCBpcyBub3Qgc3VwcG9ydGVkLCBjb25zaWRlciB0aGF0IHRoZSBgdXNlQ2FwdHVyZWAgaXMgc3VwcG9ydGVkIGluc3RlYWQgb2ZcbiAgLy8gYG9wdGlvbnNgIChpLmUuIG9wdGlvbnMgb3RoZXIgdGhhbiB0aGUgYHBhc3NpdmVgIGFsc28gYXJlIG5vdCBzdXBwb3J0ZWQpLlxuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgcGFzc2l2ZVN1cHBvcnRlZCA/IG9wdGlvbnMgOiBvcHRpb25zLmNhcHR1cmUpO1xufVxuXG5mdW5jdGlvbiBnZXRQb2ludHNMZW5ndGgocDAsIHAxKSB7XG4gIHZhciBseCA9IHAwLnggLSBwMS54LFxuICAgICAgbHkgPSBwMC55IC0gcDEueTtcbiAgcmV0dXJuIE1hdGguc3FydChseCAqIGx4ICsgbHkgKiBseSk7XG59XG4vKipcbiAqIEdldCBUb3VjaCBpbnN0YW5jZSBpbiBsaXN0LlxuICogQHBhcmFtIHtUb3VjaFtdfSB0b3VjaGVzIC0gQW4gQXJyYXkgb3IgVG91Y2hMaXN0IGluc3RhbmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGlkIC0gVG91Y2gjaWRlbnRpZmllclxuICogQHJldHVybnMgeyhUb3VjaHxudWxsKX0gLSBBIGZvdW5kIFRvdWNoIGluc3RhbmNlLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0VG91Y2hCeUlkKHRvdWNoZXMsIGlkKSB7XG4gIGlmICh0b3VjaGVzICE9IG51bGwgJiYgaWQgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRvdWNoZXNbaV0uaWRlbnRpZmllciA9PT0gaWQpIHtcbiAgICAgICAgcmV0dXJuIHRvdWNoZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSB4eSAtIFNvbWV0aGluZyB0aGF0IG1pZ2h0IGhhdmUgY2xpZW50WCBhbmQgY2xpZW50WS5cbiAqIEByZXR1cm5zIHtib29sZWFufSAtIGB0cnVlYCBpZiBpdCBoYXMgdmFsaWQgY2xpZW50WCBhbmQgY2xpZW50WS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGhhc1hZKHh5KSB7XG4gIHJldHVybiB4eSAmJiB0eXBlb2YgeHkuY2xpZW50WCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHh5LmNsaWVudFkgPT09ICdudW1iZXInO1xufSAvLyBHZWNrbywgVHJpZGVudCBwaWNrIGRyYWctZXZlbnQgb2Ygc29tZSBlbGVtZW50cyBzdWNoIGFzIGltZywgYSwgZXRjLlxuXG5cbmZ1bmN0aW9uIGRyYWdzdGFydChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG52YXIgUG9pbnRlckV2ZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGBQb2ludGVyRXZlbnRgIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gUG9pbnRlckV2ZW50KG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvaW50ZXJFdmVudCk7XG5cbiAgICB0aGlzLnN0YXJ0SGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLmxhc3RIYW5kbGVySWQgPSAwO1xuICAgIHRoaXMuY3VyUG9pbnRlckNsYXNzID0gbnVsbDtcbiAgICB0aGlzLmN1clRvdWNoSWQgPSBudWxsO1xuICAgIHRoaXMubGFzdFBvaW50ZXJYWSA9IHtcbiAgICAgIGNsaWVudFg6IDAsXG4gICAgICBjbGllbnRZOiAwXG4gICAgfTtcbiAgICB0aGlzLmxhc3RUb3VjaFRpbWUgPSAwOyAvLyBPcHRpb25zXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAvLyBEZWZhdWx0XG4gICAgICBwcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgICAgIHN0b3BQcm9wYWdhdGlvbjogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgWydwcmV2ZW50RGVmYXVsdCcsICdzdG9wUHJvcGFnYXRpb24nXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zW29wdGlvbl0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgIF90aGlzLm9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdGFydEhhbmRsZXIgLSBUaGlzIGlzIGNhbGxlZCB3aXRoIHBvaW50ZXJYWSB3aGVuIGl0IHN0YXJ0cy4gVGhpcyByZXR1cm5zIGJvb2xlYW4uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGhhbmRsZXJJZCB3aGljaCBpcyB1c2VkIGZvciBhZGRpbmcvcmVtb3ZpbmcgdG8gZWxlbWVudC5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUG9pbnRlckV2ZW50LCBbe1xuICAgIGtleTogXCJyZWdTdGFydEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnU3RhcnRIYW5kbGVyKHN0YXJ0SGFuZGxlcikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICB0aGF0LnN0YXJ0SGFuZGxlcnNbKyt0aGF0Lmxhc3RIYW5kbGVySWRdID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVyQ2xhc3MgPSBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyA/ICdtb3VzZScgOiAndG91Y2gnLFxuICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIHBvaW50ZXJYWSwgdG91Y2hJZDtcblxuICAgICAgICBpZiAocG9pbnRlckNsYXNzID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgdGhhdC5sYXN0VG91Y2hUaW1lID0gbm93OyAvLyBBdm9pZCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG5cbiAgICAgICAgICBwb2ludGVyWFkgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgICAgICB0b3VjaElkID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBdm9pZCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG4gICAgICAgICAgaWYgKG5vdyAtIHRoYXQubGFzdFRvdWNoVGltZSA8IE1PVVNFX0VNVV9JTlRFUlZBTCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBvaW50ZXJYWSA9IGV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNYWShwb2ludGVyWFkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjbGllbnRYL2NsaWVudFknKTtcbiAgICAgICAgfSAvLyBJdCBpcyBuZXcgb25lIGV2ZW4gaWYgdGhvc2UgYXJlICdtb3VzZScgb3IgSUQgaXMgc2FtZSwgdGhlbiBjYW5jZWwgY3VycmVudCBvbmUuXG5cblxuICAgICAgICBpZiAodGhhdC5jdXJQb2ludGVyQ2xhc3MpIHtcbiAgICAgICAgICB0aGF0LmNhbmNlbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0SGFuZGxlci5jYWxsKHRoYXQsIHBvaW50ZXJYWSkpIHtcbiAgICAgICAgICB0aGF0LmN1clBvaW50ZXJDbGFzcyA9IHBvaW50ZXJDbGFzcztcbiAgICAgICAgICB0aGF0LmN1clRvdWNoSWQgPSBwb2ludGVyQ2xhc3MgPT09ICd0b3VjaCcgPyB0b3VjaElkIDogbnVsbDtcbiAgICAgICAgICB0aGF0Lmxhc3RQb2ludGVyWFkuY2xpZW50WCA9IHBvaW50ZXJYWS5jbGllbnRYO1xuICAgICAgICAgIHRoYXQubGFzdFBvaW50ZXJYWS5jbGllbnRZID0gcG9pbnRlclhZLmNsaWVudFk7XG5cbiAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB0aGF0Lmxhc3RIYW5kbGVySWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGVySWQgLSBBbiBJRCB3aGljaCB3YXMgcmV0dXJuZWQgYnkgcmVnU3RhcnRIYW5kbGVyLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5yZWdTdGFydEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdTdGFydEhhbmRsZXIoaGFuZGxlcklkKSB7XG4gICAgICBkZWxldGUgdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZXJJZCAtIEFuIElEIHdoaWNoIHdhcyByZXR1cm5lZCBieSByZWdTdGFydEhhbmRsZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gaGFuZGxlcklkIHdoaWNoIHdhcyBwYXNzZWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRTdGFydEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU3RhcnRIYW5kbGVyKGVsZW1lbnQsIGhhbmRsZXJJZCkge1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhhbmRsZXJJZDogXCIuY29uY2F0KGhhbmRsZXJJZCkpO1xuICAgICAgfVxuXG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ21vdXNlZG93bicsIHRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNoc3RhcnQnLCB0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXSwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICdkcmFnc3RhcnQnLCBkcmFnc3RhcnQsIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBoYW5kbGVySWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZXJJZCAtIEFuIElEIHdoaWNoIHdhcyByZXR1cm5lZCBieSByZWdTdGFydEhhbmRsZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gaGFuZGxlcklkIHdoaWNoIHdhcyBwYXNzZWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVTdGFydEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlU3RhcnRIYW5kbGVyKGVsZW1lbnQsIGhhbmRsZXJJZCkge1xuICAgICAgaWYgKCF0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhhbmRsZXJJZDogXCIuY29uY2F0KGhhbmRsZXJJZCkpO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdLCBmYWxzZSk7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXSwgZmFsc2UpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnc3RhcnQsIGZhbHNlKTtcbiAgICAgIHJldHVybiBoYW5kbGVySWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbW92ZUhhbmRsZXIgLSBUaGlzIGlzIGNhbGxlZCB3aXRoIHBvaW50ZXJYWSB3aGVuIGl0IG1vdmVzLlxuICAgICAqIEBwYXJhbSB7P2Jvb2xlYW59IHJhd0V2ZW50IC0gQ2FwdHVyZSBldmVudHMgd2l0aG91dCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYC5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1vdmVIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE1vdmVIYW5kbGVyKGVsZW1lbnQsIG1vdmVIYW5kbGVyLCByYXdFdmVudCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIHZhciBwb2ludGVyQ2xhc3MgPSBldmVudC50eXBlID09PSAnbW91c2Vtb3ZlJyA/ICdtb3VzZScgOiAndG91Y2gnOyAvLyBBdm9pZCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG5cbiAgICAgICAgaWYgKHBvaW50ZXJDbGFzcyA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgIHRoYXQubGFzdFRvdWNoVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnRlckNsYXNzID09PSB0aGF0LmN1clBvaW50ZXJDbGFzcykge1xuICAgICAgICAgIHZhciBwb2ludGVyWFkgPSBwb2ludGVyQ2xhc3MgPT09ICd0b3VjaCcgPyBnZXRUb3VjaEJ5SWQoZXZlbnQuY2hhbmdlZFRvdWNoZXMsIHRoYXQuY3VyVG91Y2hJZCkgOiBldmVudDtcblxuICAgICAgICAgIGlmIChoYXNYWShwb2ludGVyWFkpKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRlclhZLmNsaWVudFggIT09IHRoYXQubGFzdFBvaW50ZXJYWS5jbGllbnRYIHx8IHBvaW50ZXJYWS5jbGllbnRZICE9PSB0aGF0Lmxhc3RQb2ludGVyWFkuY2xpZW50WSkge1xuICAgICAgICAgICAgICB0aGF0Lm1vdmUocG9pbnRlclhZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHdyYXBwZWRIYW5kbGVyID0gcmF3RXZlbnQgPyBoYW5kbGVyIDogQW5pbUV2ZW50LmFkZChoYW5kbGVyKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAnbW91c2Vtb3ZlJywgd3JhcHBlZEhhbmRsZXIsIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2htb3ZlJywgd3JhcHBlZEhhbmRsZXIsIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoYXQuY3VyTW92ZUhhbmRsZXIgPSBtb3ZlSGFuZGxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHt7Y2xpZW50WCwgY2xpZW50WX19IFtwb2ludGVyWFldIC0gVGhpcyBtaWdodCBiZSBNb3VzZUV2ZW50LCBUb3VjaCBvZiBUb3VjaEV2ZW50IG9yIE9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbW92ZShwb2ludGVyWFkpIHtcbiAgICAgIGlmIChoYXNYWShwb2ludGVyWFkpKSB7XG4gICAgICAgIHRoaXMubGFzdFBvaW50ZXJYWS5jbGllbnRYID0gcG9pbnRlclhZLmNsaWVudFg7XG4gICAgICAgIHRoaXMubGFzdFBvaW50ZXJYWS5jbGllbnRZID0gcG9pbnRlclhZLmNsaWVudFk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmN1ck1vdmVIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY3VyTW92ZUhhbmRsZXIodGhpcy5sYXN0UG9pbnRlclhZKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbmRIYW5kbGVyIC0gVGhpcyBpcyBjYWxsZWQgd2l0aCBwb2ludGVyWFkgd2hlbiBpdCBlbmRzLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkRW5kSGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFbmRIYW5kbGVyKGVsZW1lbnQsIGVuZEhhbmRsZXIpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlZEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50ZXJDbGFzcyA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJyA/ICdtb3VzZScgOiAndG91Y2gnOyAvLyBBdm9pZCBtb3VzZSBldmVudHMgZW11bGF0aW9uXG5cbiAgICAgICAgaWYgKHBvaW50ZXJDbGFzcyA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgIHRoYXQubGFzdFRvdWNoVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnRlckNsYXNzID09PSB0aGF0LmN1clBvaW50ZXJDbGFzcykge1xuICAgICAgICAgIHZhciBwb2ludGVyWFkgPSBwb2ludGVyQ2xhc3MgPT09ICd0b3VjaCcgPyBnZXRUb3VjaEJ5SWQoZXZlbnQuY2hhbmdlZFRvdWNoZXMsIHRoYXQuY3VyVG91Y2hJZCkgfHwgKCAvLyBJdCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIGB0b3VjaGVzYCBldmVuIGlmIGl0IGlzIG5vdCBpbiBgY2hhbmdlZFRvdWNoZXNgLlxuICAgICAgICAgIGdldFRvdWNoQnlJZChldmVudC50b3VjaGVzLCB0aGF0LmN1clRvdWNoSWQpID8gbnVsbCA6IHt9KSA6IC8vIGB7fWAgbWVhbnMgbWF0Y2hpbmdcbiAgICAgICAgICBldmVudDtcblxuICAgICAgICAgIGlmIChwb2ludGVyWFkpIHtcbiAgICAgICAgICAgIHRoYXQuZW5kKHBvaW50ZXJYWSk7XG5cbiAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAnbW91c2V1cCcsIHdyYXBwZWRIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNoZW5kJywgd3JhcHBlZEhhbmRsZXIsIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoYXQuY3VyRW5kSGFuZGxlciA9IGVuZEhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7e2NsaWVudFgsIGNsaWVudFl9fSBbcG9pbnRlclhZXSAtIFRoaXMgbWlnaHQgYmUgTW91c2VFdmVudCwgVG91Y2ggb2YgVG91Y2hFdmVudCBvciBPYmplY3QuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5kKHBvaW50ZXJYWSkge1xuICAgICAgaWYgKGhhc1hZKHBvaW50ZXJYWSkpIHtcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRlclhZLmNsaWVudFggPSBwb2ludGVyWFkuY2xpZW50WDtcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRlclhZLmNsaWVudFkgPSBwb2ludGVyWFkuY2xpZW50WTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY3VyRW5kSGFuZGxlcikge1xuICAgICAgICB0aGlzLmN1ckVuZEhhbmRsZXIodGhpcy5sYXN0UG9pbnRlclhZKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdXJQb2ludGVyQ2xhc3MgPSB0aGlzLmN1clRvdWNoSWQgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbmNlbEhhbmRsZXIgLSBUaGlzIGlzIGNhbGxlZCB3aGVuIGl0IGNhbmNlbHMuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRDYW5jZWxIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENhbmNlbEhhbmRsZXIoZWxlbWVudCwgY2FuY2VsSGFuZGxlcikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVkSGFuZGxlcihldmVudCkge1xuICAgICAgICAvKlxuICAgICAgICAgIE5vdywgdGhpcyBpcyBmaXJlZCBieSB0b3VjaGNhbmNlbCBvbmx5LCBidXQgaXQgbWlnaHQgYmUgZmlyZWQgZXZlbiBpZiBjdXJQb2ludGVyQ2xhc3MgaXMgbW91c2UuXG4gICAgICAgICovXG4gICAgICAgIC8vIGNvbnN0IHBvaW50ZXJDbGFzcyA9ICd0b3VjaCc7XG4gICAgICAgIHRoYXQubGFzdFRvdWNoVGltZSA9IERhdGUubm93KCk7IC8vIEF2b2lkIG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cblxuICAgICAgICBpZiAodGhhdC5jdXJQb2ludGVyQ2xhc3MgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBwb2ludGVyWFkgPSBnZXRUb3VjaEJ5SWQoZXZlbnQuY2hhbmdlZFRvdWNoZXMsIHRoYXQuY3VyVG91Y2hJZCkgfHwgKCAvLyBJdCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIGB0b3VjaGVzYCBldmVuIGlmIGl0IGlzIG5vdCBpbiBgY2hhbmdlZFRvdWNoZXNgLlxuICAgICAgICAgIGdldFRvdWNoQnlJZChldmVudC50b3VjaGVzLCB0aGF0LmN1clRvdWNoSWQpID8gbnVsbCA6IHt9KTsgLy8gYHt9YCBtZWFucyBtYXRjaGluZ1xuXG4gICAgICAgICAgaWYgKHBvaW50ZXJYWSkge1xuICAgICAgICAgICAgdGhhdC5jYW5jZWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaGNhbmNlbCcsIHdyYXBwZWRIYW5kbGVyLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGF0LmN1ckNhbmNlbEhhbmRsZXIgPSBjYW5jZWxIYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNhbmNlbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICBpZiAodGhpcy5jdXJDYW5jZWxIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY3VyQ2FuY2VsSGFuZGxlcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmN1clBvaW50ZXJDbGFzcyA9IHRoaXMuY3VyVG91Y2hJZCA9IG51bGw7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbXVsYXRlIGBjbGlja2AgZXZlbnQgdmlhIGB0b3VjaGVuZGAgZXZlbnQuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gVGFyZ2V0IGVsZW1lbnQsIGxpc3RlbmVycyB0aGF0IGNhbGwgYGV2ZW50LnByZXZlbnREZWZhdWx0KClgIGFyZSBhdHRhY2hlZCBsYXRlci5cbiAgICAgKiBAcGFyYW0gez9udW1iZXJ9IG1vdmVUb2xlcmFuY2UgLSBNb3ZlIHRvbGVyYW5jZS5cbiAgICAgKiBAcGFyYW0gez9udW1iZXJ9IHRpbWVUb2xlcmFuY2UgLSBUaW1lIHRvbGVyYW5jZS5cbiAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIHBhc3NlZCBgZWxlbWVudGAuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpbml0Q2xpY2tFbXVsYXRvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0Q2xpY2tFbXVsYXRvcihlbGVtZW50LCBtb3ZlVG9sZXJhbmNlLCB0aW1lVG9sZXJhbmNlKSB7XG4gICAgICBpZiAoQ0xJQ0tfRU1VTEFUT1JfRUxFTUVOVFMuaW5jbHVkZXMoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIENMSUNLX0VNVUxBVE9SX0VMRU1FTlRTLnB1c2goZWxlbWVudCk7XG4gICAgICB2YXIgREVGQVVMVF9NT1ZFX1RPTEVSQU5DRSA9IDE2LFxuICAgICAgICAgIC8vIHB4XG4gICAgICBERUZBVUxUX1RJTUVfVE9MRVJBTkNFID0gNDAwOyAvLyBtc1xuXG4gICAgICB2YXIgc3RhcnRYLCBzdGFydFksIHRvdWNoSWQsIHN0YXJ0TXM7XG5cbiAgICAgIGlmIChtb3ZlVG9sZXJhbmNlID09IG51bGwpIHtcbiAgICAgICAgbW92ZVRvbGVyYW5jZSA9IERFRkFVTFRfTU9WRV9UT0xFUkFOQ0U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aW1lVG9sZXJhbmNlID09IG51bGwpIHtcbiAgICAgICAgdGltZVRvbGVyYW5jZSA9IERFRkFVTFRfVElNRV9UT0xFUkFOQ0U7XG4gICAgICB9XG5cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgICAgc3RhcnRYID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgc3RhcnRZID0gdG91Y2guY2xpZW50WTtcbiAgICAgICAgdG91Y2hJZCA9IHRvdWNoLmlkZW50aWZpZXI7XG4gICAgICAgIHN0YXJ0TXMgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2hlbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHRvdWNoID0gZ2V0VG91Y2hCeUlkKGV2ZW50LmNoYW5nZWRUb3VjaGVzLCB0b3VjaElkKTtcblxuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0WCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHN0YXJ0WSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHN0YXJ0TXMgPT09ICdudW1iZXInICYmIHRvdWNoICYmIHR5cGVvZiB0b3VjaC5jbGllbnRYID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdG91Y2guY2xpZW50WSA9PT0gJ251bWJlcicgJiYgZ2V0UG9pbnRzTGVuZ3RoKHtcbiAgICAgICAgICB4OiBzdGFydFgsXG4gICAgICAgICAgeTogc3RhcnRZXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgIHk6IHRvdWNoLmNsaWVudFlcbiAgICAgICAgfSkgPD0gbW92ZVRvbGVyYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0TXMgPD0gdGltZVRvbGVyYW5jZSkge1xuICAgICAgICAgIC8vIEZJUkVcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICAgICAgY2xpZW50WTogdG91Y2guY2xpZW50WVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdFdmVudC5lbXVsYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnRYID0gc3RhcnRZID0gdG91Y2hJZCA9IHN0YXJ0TXMgPSBudWxsO1xuICAgICAgfSwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaGNhbmNlbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RhcnRYID0gc3RhcnRZID0gdG91Y2hJZCA9IHN0YXJ0TXMgPSBudWxsO1xuICAgICAgfSwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgYGRibGNsaWNrYCBldmVudCB2aWEgYHRvdWNoZW5kYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUYXJnZXQgZWxlbWVudCwgbGlzdGVuZXJzIHRoYXQgY2FsbCBgZXZlbnQucHJldmVudERlZmF1bHQoKWAgYXJlIGF0dGFjaGVkIGxhdGVyLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gbW92ZVRvbGVyYW5jZSAtIE1vdmUgdG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gdGltZVRvbGVyYW5jZSAtIFRpbWUgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBUaGUgcGFzc2VkIGBlbGVtZW50YC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluaXREYmxDbGlja0VtdWxhdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXREYmxDbGlja0VtdWxhdG9yKGVsZW1lbnQsIG1vdmVUb2xlcmFuY2UsIHRpbWVUb2xlcmFuY2UpIHtcbiAgICAgIGlmIChEQkxDTElDS19FTVVMQVRPUl9FTEVNRU5UUy5pbmNsdWRlcyhlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgREJMQ0xJQ0tfRU1VTEFUT1JfRUxFTUVOVFMucHVzaChlbGVtZW50KTtcbiAgICAgIHZhciBERUZBVUxUX01PVkVfVE9MRVJBTkNFID0gMTYsXG4gICAgICAgICAgLy8gcHhcbiAgICAgIERFRkFVTFRfVElNRV9UT0xFUkFOQ0UgPSA0MDA7IC8vIG1zXG5cbiAgICAgIHZhciBzdGFydFgsIHN0YXJ0WSwgc3RhcnRNcztcblxuICAgICAgaWYgKG1vdmVUb2xlcmFuY2UgPT0gbnVsbCkge1xuICAgICAgICBtb3ZlVG9sZXJhbmNlID0gREVGQVVMVF9NT1ZFX1RPTEVSQU5DRTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWVUb2xlcmFuY2UgPT0gbnVsbCkge1xuICAgICAgICB0aW1lVG9sZXJhbmNlID0gREVGQVVMVF9USU1FX1RPTEVSQU5DRTtcbiAgICAgIH1cblxuICAgICAgUG9pbnRlckV2ZW50LmluaXRDbGlja0VtdWxhdG9yKGVsZW1lbnQsIG1vdmVUb2xlcmFuY2UsIHRpbWVUb2xlcmFuY2UpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIWV2ZW50LmVtdWxhdGVkIHx8IC8vIElnbm9yZSBldmVudHMgdGhhdCBhcmUgbm90IGZyb20gYHRvdWNoZW5kYC5cbiAgICAgICAgdHlwZW9mIGV2ZW50LmNsaWVudFggIT09ICdudW1iZXInIHx8IHR5cGVvZiBldmVudC5jbGllbnRZICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnRYID09PSAnbnVtYmVyJyAmJiBnZXRQb2ludHNMZW5ndGgoe1xuICAgICAgICAgIHg6IHN0YXJ0WCxcbiAgICAgICAgICB5OiBzdGFydFlcbiAgICAgICAgfSwge1xuICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgICAgICB9KSA8PSBtb3ZlVG9sZXJhbmNlICYmIHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRNcyA8PSB0aW1lVG9sZXJhbmNlICogMikge1xuICAgICAgICAgIC8vIHVwICh0b2xlcmFuY2UpIGRvd24gKHRvbGVyYW5jZSkgdXBcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEZJUkVcbiAgICAgICAgICAgIHZhciBuZXdFdmVudCA9IG5ldyBNb3VzZUV2ZW50KCdkYmxjbGljaycsIHtcbiAgICAgICAgICAgICAgY2xpZW50WDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgY2xpZW50WTogZXZlbnQuY2xpZW50WVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdFdmVudC5lbXVsYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIHN0YXJ0WCA9IHN0YXJ0WSA9IHN0YXJ0TXMgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIDFzdFxuICAgICAgICAgIHN0YXJ0WCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgc3RhcnRZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICBzdGFydE1zID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb2ludGVyRXZlbnQ7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50ZXJFdmVudDsiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgRE9OJ1QgTUFOVUFMTFkgRURJVCBUSElTIEZJTEVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLypcbiAqIFBsYWluRHJhZ2dhYmxlXG4gKiBodHRwczovL2Fuc2VraS5naXRodWIuaW8vcGxhaW4tZHJhZ2dhYmxlL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSBhbnNla2lcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuaW1wb3J0IFBvaW50ZXJFdmVudCBmcm9tICdwb2ludGVyLWV2ZW50JztcbmltcG9ydCBDU1NQcmVmaXggZnJvbSAnY3NzcHJlZml4JztcbmltcG9ydCBBbmltRXZlbnQgZnJvbSAnYW5pbS1ldmVudCc7XG5pbXBvcnQgbUNsYXNzTGlzdCBmcm9tICdtLWNsYXNzLWxpc3QnO1xubUNsYXNzTGlzdC5pZ25vcmVOYXRpdmUgPSB0cnVlO1xuXG52YXIgWklOREVYID0gOTAwMCxcbiAgICAvLyBbU05BUF1cblNOQVBfR1JBVklUWSA9IDIwLFxuICAgIFNOQVBfQ09STkVSID0gJ3RsJyxcbiAgICBTTkFQX1NJREUgPSAnYm90aCcsXG4gICAgU05BUF9FREdFID0gJ2JvdGgnLFxuICAgIFNOQVBfQkFTRSA9ICdjb250YWlubWVudCcsXG4gICAgU05BUF9BTExfQ09STkVSUyA9IFsndGwnLCAndHInLCAnYmwnLCAnYnInXSxcbiAgICBTTkFQX0FMTF9TSURFUyA9IFsnc3RhcnQnLCAnZW5kJ10sXG4gICAgU05BUF9BTExfRURHRVMgPSBbJ2luc2lkZScsICdvdXRzaWRlJ10sXG4gICAgLy8gWy9TTkFQXVxuLy8gW0FVVE8tU0NST0xMXVxuQVVUT1NDUk9MTF9TUEVFRCA9IFs0MCwgMjAwLCAxMDAwXSxcbiAgICBBVVRPU0NST0xMX1NFTlNJVElWSVRZID0gWzEwMCwgNDAsIDBdLFxuICAgIC8vIFsvQVVUTy1TQ1JPTExdXG5JU19FREdFID0gJy1tcy1zY3JvbGwtbGltaXQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiAnLW1zLWltZS1hbGlnbicgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmICF3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQsXG4gICAgSVNfVFJJREVOVCA9ICFJU19FREdFICYmICEhZG9jdW1lbnQudW5pcXVlSUQsXG4gICAgLy8gRnV0dXJlIEVkZ2UgbWlnaHQgc3VwcG9ydCBgZG9jdW1lbnQudW5pcXVlSURgLlxuSVNfR0VDS08gPSAoJ01vekFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSksXG4gICAgSVNfQkxJTksgPSAhSVNfRURHRSAmJiAhSVNfR0VDS08gJiYgLy8gRWRnZSBoYXMgYHdpbmRvdy5jaHJvbWVgLCBhbmQgZnV0dXJlIEdlY2tvIG1pZ2h0IGhhdmUgdGhhdC5cbiEhd2luZG93LmNocm9tZSAmJiAhIXdpbmRvdy5DU1MsXG4gICAgSVNfV0VCS0lUID0gIUlTX0VER0UgJiYgIUlTX1RSSURFTlQgJiYgIUlTX0dFQ0tPICYmICFJU19CTElOSyAmJiAvLyBTb21lIGVuZ2luZXMgc3VwcG9ydCBgd2Via2l0LSpgIHByb3BlcnRpZXMuXG4hd2luZG93LmNocm9tZSAmJiAnV2Via2l0QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLFxuICAgIGlzT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZyxcbiAgICAgIGZuVG9TdHJpbmcgPSB7fS5oYXNPd25Qcm9wZXJ0eS50b1N0cmluZyxcbiAgICAgIG9iakZuU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKE9iamVjdCk7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHByb3RvLCBjb25zdHI7XG4gICAgcmV0dXJuIG9iaiAmJiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nICYmICghKHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpIHx8IChjb25zdHIgPSBwcm90by5oYXNPd25Qcm9wZXJ0eSgnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcikgJiYgdHlwZW9mIGNvbnN0ciA9PT0gJ2Z1bmN0aW9uJyAmJiBmblRvU3RyaW5nLmNhbGwoY29uc3RyKSA9PT0gb2JqRm5TdHJpbmcpO1xuICB9O1xufSgpLFxuICAgIGlzRmluaXRlID0gTnVtYmVyLmlzRmluaXRlIHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB3aW5kb3cuaXNGaW5pdGUodmFsdWUpO1xufSxcblxuLyoqIEB0eXBlIHtPYmplY3QuPF9pZDogbnVtYmVyLCBwcm9wcz59ICovXG5pbnNQcm9wcyA9IHt9LFxuICAgIHBvaW50ZXJPZmZzZXQgPSB7fSxcbiAgICBwb2ludGVyRXZlbnQgPSBuZXcgUG9pbnRlckV2ZW50KCk7XG5cbnZhciBpbnNJZCA9IDAsXG4gICAgYWN0aXZlUHJvcHMsXG4gICAgaGFzTW92ZWQsXG4gICAgYm9keSxcbiAgICAvLyBDU1MgcHJvcGVydHkvdmFsdWVcbmNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yLFxuICAgIGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IsXG4gICAgY3NzT3JnVmFsdWVCb2R5Q3Vyc29yLFxuICAgIGNzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHksXG4gICAgY3NzUHJvcFRyYW5zZm9ybSxcbiAgICBjc3NQcm9wVXNlclNlbGVjdCxcbiAgICBjc3NPcmdWYWx1ZUJvZHlVc2VyU2VsZWN0LFxuICAgIC8vIFRyeSB0byBzZXQgYGN1cnNvcmAgcHJvcGVydHkuXG5jc3NXYW50ZWRWYWx1ZURyYWdnYWJsZUN1cnNvciA9IElTX1dFQktJVCA/IFsnYWxsLXNjcm9sbCcsICdtb3ZlJ10gOiBbJ2dyYWInLCAnYWxsLXNjcm9sbCcsICdtb3ZlJ10sXG4gICAgY3NzV2FudGVkVmFsdWVEcmFnZ2luZ0N1cnNvciA9IElTX1dFQktJVCA/ICdtb3ZlJyA6IFsnZ3JhYmJpbmcnLCAnbW92ZSddLFxuICAgIC8vIGNsYXNzXG5kcmFnZ2FibGVDbGFzcyA9ICdwbGFpbi1kcmFnZ2FibGUnLFxuICAgIGRyYWdnaW5nQ2xhc3MgPSAncGxhaW4tZHJhZ2dhYmxlLWRyYWdnaW5nJyxcbiAgICBtb3ZpbmdDbGFzcyA9ICdwbGFpbi1kcmFnZ2FibGUtbW92aW5nJzsgLy8gW0FVVE8tU0NST0xMXVxuLy8gU2Nyb2xsIEFuaW1hdGlvbiBDb250cm9sbGVyXG5cbnZhciBzY3JvbGxGcmFtZSA9IHt9LFxuICAgIE1TUEYgPSAxMDAwIC8gNjAsXG4gICAgLy8gbXMvZnJhbWUgKEZQUzogNjApXG5yZXF1ZXN0QW5pbSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIE1TUEYpO1xufSxcbiAgICBjYW5jZWxBbmltID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKHJlcXVlc3RJRCkge1xuICByZXR1cm4gY2xlYXJUaW1lb3V0KHJlcXVlc3RJRCk7XG59O1xuXG57XG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBNb3ZlQXJnc1xuICAgKiBAcHJvcGVydHkge251bWJlcn0gZGlyIC0gWy0xIHwgMV0gbWludXMgb3IgcGx1cyB0byBwb3NpdGlvbiB2YWx1ZS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IHNwZWVkIC0gcHgvbXNcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1pbiAtIE1pbmltdW0gcG9zaXRpb24gdmFsdWUuXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXggLSBNYXhpbXVtIHBvc2l0aW9uIHZhbHVlLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2xhc3RGcmFtZVRpbWVdIC0gVGltZSBvZiBsYXN0IGZyYW1lLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2xhc3RWYWx1ZV0gLSBTdHJpY3QgdmFsdWUgb2YgbGFzdCBmcmFtZS5cbiAgICovXG4gIHZhciBjdXJYeU1vdmVBcmdzID0ge30sXG4gICAgICBjdXJFbGVtZW50LFxuICAgICAgY3VyU2Nyb2xsWFksXG4gICAgICByZXF1ZXN0SUQ7XG5cbiAgZnVuY3Rpb24gZnJhbWVVcGRhdGUoKSB7XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgWyd4JywgJ3knXS5mb3JFYWNoKGZ1bmN0aW9uICh4eSkge1xuICAgICAgdmFyIG1vdmVBcmdzID0gY3VyWHlNb3ZlQXJnc1t4eV07XG5cbiAgICAgIGlmIChtb3ZlQXJncykge1xuICAgICAgICB2YXIgdGltZUxlbiA9IG5vdyAtIG1vdmVBcmdzLmxhc3RGcmFtZVRpbWUsXG4gICAgICAgICAgICBhYnNWYWx1ZSA9IGN1clNjcm9sbFhZKGN1ckVsZW1lbnQsIHh5KSxcbiAgICAgICAgICAgIGN1clZhbHVlID0gbW92ZUFyZ3MubGFzdFZhbHVlICE9IG51bGwgJiYgTWF0aC5hYnMobW92ZUFyZ3MubGFzdFZhbHVlIC0gYWJzVmFsdWUpIDwgMTAgLy8gSXQgd2FzIG5vdCBtb3ZlZCBtYW51YWxseVxuICAgICAgICA/IG1vdmVBcmdzLmxhc3RWYWx1ZSA6IGFic1ZhbHVlO1xuXG4gICAgICAgIGlmIChtb3ZlQXJncy5kaXIgPT09IC0xID8gY3VyVmFsdWUgPiBtb3ZlQXJncy5taW4gOiBjdXJWYWx1ZSA8IG1vdmVBcmdzLm1heCkge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1clZhbHVlICsgbW92ZUFyZ3Muc3BlZWQgKiB0aW1lTGVuICogbW92ZUFyZ3MuZGlyO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlIDwgbW92ZUFyZ3MubWluKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG1vdmVBcmdzLm1pbjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlID4gbW92ZUFyZ3MubWF4KSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG1vdmVBcmdzLm1heDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjdXJTY3JvbGxYWShjdXJFbGVtZW50LCB4eSwgbmV3VmFsdWUpO1xuICAgICAgICAgIG1vdmVBcmdzLmxhc3RWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbW92ZUFyZ3MubGFzdEZyYW1lVGltZSA9IG5vdztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyYW1lKCkge1xuICAgIGNhbmNlbEFuaW0uY2FsbCh3aW5kb3csIHJlcXVlc3RJRCk7XG4gICAgZnJhbWVVcGRhdGUoKTtcbiAgICByZXF1ZXN0SUQgPSByZXF1ZXN0QW5pbS5jYWxsKHdpbmRvdywgZnJhbWUpO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3t4OiA/TW92ZUFyZ3MsIHk6ID9Nb3ZlQXJnc319IHh5TW92ZUFyZ3MgLSBNb3ZlQXJncyBmb3IgeCBhbmQgeVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBzY3JvbGxYWSAtIChlbGVtZW50OiBFbGVtZW50LCB4eTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyKSA9PiBudW1iZXJcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgc2Nyb2xsRnJhbWUubW92ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCB4eU1vdmVBcmdzLCBzY3JvbGxYWSkge1xuICAgIGNhbmNlbEFuaW0uY2FsbCh3aW5kb3csIHJlcXVlc3RJRCk7XG4gICAgZnJhbWVVcGRhdGUoKTsgLy8gVXBkYXRlIGN1cnJlbnQgZGF0YSBub3cgYmVjYXVzZSBpdCBtaWdodCBiZSBub3QgY29udGludWF0aW9uLlxuICAgIC8vIFJlLXVzZSBsYXN0VmFsdWVcblxuICAgIGlmIChjdXJFbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICBpZiAoeHlNb3ZlQXJncy54ICYmIGN1clh5TW92ZUFyZ3MueCkge1xuICAgICAgICB4eU1vdmVBcmdzLngubGFzdFZhbHVlID0gY3VyWHlNb3ZlQXJncy54Lmxhc3RWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHh5TW92ZUFyZ3MueSAmJiBjdXJYeU1vdmVBcmdzLnkpIHtcbiAgICAgICAgeHlNb3ZlQXJncy55Lmxhc3RWYWx1ZSA9IGN1clh5TW92ZUFyZ3MueS5sYXN0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3VyRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgY3VyWHlNb3ZlQXJncyA9IHh5TW92ZUFyZ3M7XG4gICAgY3VyU2Nyb2xsWFkgPSBzY3JvbGxYWTtcbiAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBbJ3gnLCAneSddLmZvckVhY2goZnVuY3Rpb24gKHh5KSB7XG4gICAgICB2YXIgbW92ZUFyZ3MgPSBjdXJYeU1vdmVBcmdzW3h5XTtcblxuICAgICAgaWYgKG1vdmVBcmdzKSB7XG4gICAgICAgIG1vdmVBcmdzLmxhc3RGcmFtZVRpbWUgPSBub3c7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmVxdWVzdElEID0gcmVxdWVzdEFuaW0uY2FsbCh3aW5kb3csIGZyYW1lKTtcbiAgfTtcblxuICBzY3JvbGxGcmFtZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgIGNhbmNlbEFuaW0uY2FsbCh3aW5kb3csIHJlcXVlc3RJRCk7XG4gICAgZnJhbWVVcGRhdGUoKTtcbiAgICBjdXJYeU1vdmVBcmdzID0ge307XG4gICAgY3VyRWxlbWVudCA9IG51bGw7IC8vIFJlbW92ZSByZWZlcmVuY2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgeHksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgaWYgKHh5ID09PSAneCcpIHtcbiAgICAgIGVsZW1lbnQuc2Nyb2xsVG8odmFsdWUsIGVsZW1lbnQucGFnZVlPZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnNjcm9sbFRvKGVsZW1lbnQucGFnZVhPZmZzZXQsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geHkgPT09ICd4JyA/IGVsZW1lbnQucGFnZVhPZmZzZXQgOiBlbGVtZW50LnBhZ2VZT2Zmc2V0O1xufVxuXG5mdW5jdGlvbiBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgeHksIHZhbHVlKSB7XG4gIHZhciBwcm9wID0geHkgPT09ICd4JyA/ICdzY3JvbGxMZWZ0JyA6ICdzY3JvbGxUb3AnO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgZWxlbWVudFtwcm9wXSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRbcHJvcF07XG59XG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNjcm9sbGFibGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjbGllbnRXaWR0aCAtIHdpZHRoIG9mIHNjcm9sbGFibGUgYXJlYS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjbGllbnRIZWlnaHQgLSBoZWlnaHQgb2Ygc2Nyb2xsYWJsZSBhcmVhLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNjcm9sbFdpZHRoIC0gd2lkdGggb2YgaW5uZXIgY29udGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzY3JvbGxIZWlnaHQgLSBoZWlnaHQgb2YgaW5uZXIgY29udGVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjbGllbnRYIC0gWCBvZiBzY3JvbGxhYmxlIGFyZWEsIGRvY3VtZW50IGNvb3JkaW5hdGUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2xpZW50WSAtIFQgb2Ygc2Nyb2xsYWJsZSBhcmVhLCBkb2N1bWVudCBjb29yZGluYXRlLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzV2luZG93XSAtIGB0cnVlYCBpZiBlbGVtZW50IGlzIHdpbmRvdy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RvbnRTY3JvbGxdIC0gYHRydWVgIG1ha2VzIGl0IHNraXAgc2Nyb2xsIHRoYXQgZ2V0cyBzY3JvbGxXaWR0aC9IZWlnaHQuXG4gKiBAcmV0dXJucyB7U2Nyb2xsYWJsZX0gSW5mb3JtYXRpb24gZm9yIHNjcm9sbC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFNjcm9sbGFibGUoZWxlbWVudCwgaXNXaW5kb3csIGRvbnRTY3JvbGwpIHtcbiAgdmFyIHNjcm9sbGFibGUgPSB7fTtcbiAgdmFyIGNtcFN0eWxlSHRtbCwgY21wU3R5bGVCb2R5LCBjbXBTdHlsZUVsZW1lbnQ7IC8vIGNsaWVudFdpZHRoL0hlaWdodFxuXG4gIChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgc2Nyb2xsYWJsZS5jbGllbnRXaWR0aCA9IHRhcmdldC5jbGllbnRXaWR0aDtcbiAgICBzY3JvbGxhYmxlLmNsaWVudEhlaWdodCA9IHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gIH0pKGlzV2luZG93ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogZWxlbWVudCk7IC8vIHNjcm9sbFdpZHRoL0hlaWdodFxuXG4gIC8qXG4gICAgR2Vja28gYnVnLCBib3R0b20tcGFkZGluZyBvZiBlbGVtZW50IGlzIHJlZHVjZWQuXG4gICAgQmxpbmsgZm9yIEFuZHJvaWQgYnVnLCBib3JkZXJzIG9mIDxodG1sPiBpcyByZW5kZXJlZCBidXQgdGhvc2UgYXJlIG5vdCBhZGRlZCB0byBzY3JvbGxXL0guXG4gICAgVGhlbiwgbW92ZSBpdCB0byBtYXggc2Nyb2xsIHBvc2l0aW9uIChzdWZmaWNpZW50bHkgbGFyZ2VyIHZhbHVlcykgZm9yY2libHksIGFuZCBnZXQgc2Nyb2xsIHBvc2l0aW9uLlxuICAqL1xuXG5cbiAgdmFyIG1heFNjcm9sbExlZnQgPSAwLFxuICAgICAgbWF4U2Nyb2xsVG9wID0gMDtcblxuICBpZiAoIWRvbnRTY3JvbGwpIHtcbiAgICB2YXIgY3VyU2Nyb2xsTGVmdCwgY3VyU2Nyb2xsVG9wO1xuXG4gICAgaWYgKGlzV2luZG93KSB7XG4gICAgICBjdXJTY3JvbGxMZWZ0ID0gc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgJ3gnKTtcbiAgICAgIGN1clNjcm9sbFRvcCA9IHNjcm9sbFhZV2luZG93KGVsZW1lbnQsICd5Jyk7XG4gICAgICBjbXBTdHlsZUh0bWwgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJycpO1xuICAgICAgY21wU3R5bGVCb2R5ID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5LCAnJyk7XG4gICAgICBtYXhTY3JvbGxMZWZ0ID0gc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgJ3gnLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggKyBzY3JvbGxhYmxlLmNsaWVudFdpZHRoICsgLy8gQmxpbmsgZm9yIEFuZHJvaWQgYnVnLCBzY3JvbGwqIHJldHVybnMgc2l6ZSBvZiBzbWFsbGVyIGJvZHlcbiAgICAgIFsnbWFyZ2luTGVmdCcsICdtYXJnaW5SaWdodCcsICdib3JkZXJMZWZ0V2lkdGgnLCAnYm9yZGVyUmlnaHRXaWR0aCcsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nUmlnaHQnXS5yZWR1Y2UoZnVuY3Rpb24gKGxlbiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gbGVuICsgKHBhcnNlRmxvYXQoY21wU3R5bGVIdG1sW3Byb3BdKSB8fCAwKSArIChwYXJzZUZsb2F0KGNtcFN0eWxlQm9keVtwcm9wXSkgfHwgMCk7XG4gICAgICB9LCAwKSk7XG4gICAgICBtYXhTY3JvbGxUb3AgPSBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCAneScsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgKyBzY3JvbGxhYmxlLmNsaWVudEhlaWdodCArIFsnbWFyZ2luVG9wJywgJ21hcmdpbkJvdHRvbScsICdib3JkZXJUb3BXaWR0aCcsICdib3JkZXJCb3R0b21XaWR0aCcsICdwYWRkaW5nVG9wJywgJ3BhZGRpbmdCb3R0b20nXS5yZWR1Y2UoZnVuY3Rpb24gKGxlbiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gbGVuICsgKHBhcnNlRmxvYXQoY21wU3R5bGVIdG1sW3Byb3BdKSB8fCAwKSArIChwYXJzZUZsb2F0KGNtcFN0eWxlQm9keVtwcm9wXSkgfHwgMCk7XG4gICAgICB9LCAwKSk7XG4gICAgICBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCAneCcsIGN1clNjcm9sbExlZnQpO1xuICAgICAgc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgJ3knLCBjdXJTY3JvbGxUb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJTY3JvbGxMZWZ0ID0gc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsICd4Jyk7XG4gICAgICBjdXJTY3JvbGxUb3AgPSBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgJ3knKTtcbiAgICAgIGNtcFN0eWxlRWxlbWVudCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpO1xuICAgICAgbWF4U2Nyb2xsTGVmdCA9IHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCAneCcsIGVsZW1lbnQuc2Nyb2xsV2lkdGggKyBzY3JvbGxhYmxlLmNsaWVudFdpZHRoICsgLy8gQmxpbmsgZm9yIEFuZHJvaWQgYnVnLCBzY3JvbGwqIHJldHVybnMgc2l6ZSBvZiBzbWFsbGVyIGJvZHlcbiAgICAgIFsnbWFyZ2luTGVmdCcsICdtYXJnaW5SaWdodCcsICdib3JkZXJMZWZ0V2lkdGgnLCAnYm9yZGVyUmlnaHRXaWR0aCcsICdwYWRkaW5nTGVmdCcsICdwYWRkaW5nUmlnaHQnXS5yZWR1Y2UoZnVuY3Rpb24gKGxlbiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gbGVuICsgKHBhcnNlRmxvYXQoY21wU3R5bGVFbGVtZW50W3Byb3BdKSB8fCAwKTtcbiAgICAgIH0sIDApKTtcbiAgICAgIG1heFNjcm9sbFRvcCA9IHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCAneScsIGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ICsgc2Nyb2xsYWJsZS5jbGllbnRIZWlnaHQgKyBbJ21hcmdpblRvcCcsICdtYXJnaW5Cb3R0b20nLCAnYm9yZGVyVG9wV2lkdGgnLCAnYm9yZGVyQm90dG9tV2lkdGgnLCAncGFkZGluZ1RvcCcsICdwYWRkaW5nQm90dG9tJ10ucmVkdWNlKGZ1bmN0aW9uIChsZW4sIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIGxlbiArIChwYXJzZUZsb2F0KGNtcFN0eWxlRWxlbWVudFtwcm9wXSkgfHwgMCk7XG4gICAgICB9LCAwKSk7XG4gICAgICBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgJ3gnLCBjdXJTY3JvbGxMZWZ0KTtcbiAgICAgIHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCAneScsIGN1clNjcm9sbFRvcCk7XG4gICAgfVxuICB9XG5cbiAgc2Nyb2xsYWJsZS5zY3JvbGxXaWR0aCA9IHNjcm9sbGFibGUuY2xpZW50V2lkdGggKyBtYXhTY3JvbGxMZWZ0O1xuICBzY3JvbGxhYmxlLnNjcm9sbEhlaWdodCA9IHNjcm9sbGFibGUuY2xpZW50SGVpZ2h0ICsgbWF4U2Nyb2xsVG9wOyAvLyBjbGllbnRYL1lcblxuICB2YXIgcmVjdDtcblxuICBpZiAoaXNXaW5kb3cpIHtcbiAgICBzY3JvbGxhYmxlLmNsaWVudFggPSBzY3JvbGxhYmxlLmNsaWVudFkgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIHBhZGRpbmctYm94XG4gICAgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBpZiAoIWNtcFN0eWxlRWxlbWVudCkge1xuICAgICAgY21wU3R5bGVFbGVtZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAnJyk7XG4gICAgfVxuXG4gICAgc2Nyb2xsYWJsZS5jbGllbnRYID0gcmVjdC5sZWZ0ICsgKHBhcnNlRmxvYXQoY21wU3R5bGVFbGVtZW50LmJvcmRlckxlZnRXaWR0aCkgfHwgMCk7XG4gICAgc2Nyb2xsYWJsZS5jbGllbnRZID0gcmVjdC50b3AgKyAocGFyc2VGbG9hdChjbXBTdHlsZUVsZW1lbnQuYm9yZGVyVG9wV2lkdGgpIHx8IDApO1xuICB9XG5cbiAgcmV0dXJuIHNjcm9sbGFibGU7XG59IC8vIFsvQVVUTy1TQ1JPTExdXG5cblxuZnVuY3Rpb24gY29weVRyZWUob2JqKSB7XG4gIHJldHVybiAhb2JqID8gb2JqIDogaXNPYmplY3Qob2JqKSA/IE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChjb3B5T2JqLCBrZXkpIHtcbiAgICBjb3B5T2JqW2tleV0gPSBjb3B5VHJlZShvYmpba2V5XSk7XG4gICAgcmV0dXJuIGNvcHlPYmo7XG4gIH0sIHt9KSA6IEFycmF5LmlzQXJyYXkob2JqKSA/IG9iai5tYXAoY29weVRyZWUpIDogb2JqO1xufVxuXG5mdW5jdGlvbiBoYXNDaGFuZ2VkKGEsIGIpIHtcbiAgdmFyIHR5cGVBLCBrZXlzQTtcbiAgcmV0dXJuIF90eXBlb2YoYSkgIT09IF90eXBlb2YoYikgfHwgKHR5cGVBID0gaXNPYmplY3QoYSkgPyAnb2JqJyA6IEFycmF5LmlzQXJyYXkoYSkgPyAnYXJyYXknIDogJycpICE9PSAoaXNPYmplY3QoYikgPyAnb2JqJyA6IEFycmF5LmlzQXJyYXkoYikgPyAnYXJyYXknIDogJycpIHx8ICh0eXBlQSA9PT0gJ29iaicgPyBoYXNDaGFuZ2VkKGtleXNBID0gT2JqZWN0LmtleXMoYSkuc29ydCgpLCBPYmplY3Qua2V5cyhiKS5zb3J0KCkpIHx8IGtleXNBLnNvbWUoZnVuY3Rpb24gKHByb3ApIHtcbiAgICByZXR1cm4gaGFzQ2hhbmdlZChhW3Byb3BdLCBiW3Byb3BdKTtcbiAgfSkgOiB0eXBlQSA9PT0gJ2FycmF5JyA/IGEubGVuZ3RoICE9PSBiLmxlbmd0aCB8fCBhLnNvbWUoZnVuY3Rpb24gKGFWYWwsIGkpIHtcbiAgICByZXR1cm4gaGFzQ2hhbmdlZChhVmFsLCBiW2ldKTtcbiAgfSkgOiBhICE9PSBiKTtcbn1cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29ubmVjdGVkIGVsZW1lbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBpc0VsZW1lbnQoZWxlbWVudCkge1xuICByZXR1cm4gISEoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSAmJiAvLyBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgdHlwZW9mIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09PSAnZnVuY3Rpb24nICYmICEoZWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkb2N1bWVudCkgJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0RJU0NPTk5FQ1RFRCkpO1xufVxuLyoqXG4gKiBBbiBvYmplY3QgdGhhdCBzaW11bGF0ZXMgYERPTVJlY3RgIHRvIGluZGljYXRlIGEgYm91bmRpbmctYm94LlxuICogQHR5cGVkZWYge09iamVjdH0gQkJveFxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSBsZWZ0IC0gZG9jdW1lbnQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSB0b3AgLSBkb2N1bWVudCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IHJpZ2h0IC0gZG9jdW1lbnQgY29vcmRpbmF0ZVxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSBib3R0b20gLSBkb2N1bWVudCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IHggLSBTdWJzdGl0dXRlcyBmb3IgbGVmdFxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSB5IC0gU3Vic3RpdHV0ZXMgZm9yIHRvcFxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSB3aWR0aFxuICogQHByb3BlcnR5IHsobnVtYmVyfG51bGwpfSBoZWlnaHRcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBiQm94IC0gQSB0YXJnZXQgb2JqZWN0LlxuICogQHJldHVybnMgeyhCQm94fG51bGwpfSBBIG5vcm1hbGl6ZWQgYEJCb3hgLCBvciBudWxsIGlmIGBiQm94YCBpcyBpbnZhbGlkLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRCQm94KGJCb3gpIHtcbiAgaWYgKCFpc09iamVjdChiQm94KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHZhbHVlO1xuXG4gIGlmIChpc0Zpbml0ZSh2YWx1ZSA9IGJCb3gubGVmdCkgfHwgaXNGaW5pdGUodmFsdWUgPSBiQm94LngpKSB7XG4gICAgYkJveC5sZWZ0ID0gYkJveC54ID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoaXNGaW5pdGUodmFsdWUgPSBiQm94LnRvcCkgfHwgaXNGaW5pdGUodmFsdWUgPSBiQm94LnkpKSB7XG4gICAgYkJveC50b3AgPSBiQm94LnkgPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZShiQm94LndpZHRoKSAmJiBiQm94LndpZHRoID49IDApIHtcbiAgICBiQm94LnJpZ2h0ID0gYkJveC5sZWZ0ICsgYkJveC53aWR0aDtcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShiQm94LnJpZ2h0KSAmJiBiQm94LnJpZ2h0ID49IGJCb3gubGVmdCkge1xuICAgIGJCb3gud2lkdGggPSBiQm94LnJpZ2h0IC0gYkJveC5sZWZ0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGlzRmluaXRlKGJCb3guaGVpZ2h0KSAmJiBiQm94LmhlaWdodCA+PSAwKSB7XG4gICAgYkJveC5ib3R0b20gPSBiQm94LnRvcCArIGJCb3guaGVpZ2h0O1xuICB9IGVsc2UgaWYgKGlzRmluaXRlKGJCb3guYm90dG9tKSAmJiBiQm94LmJvdHRvbSA+PSBiQm94LnRvcCkge1xuICAgIGJCb3guaGVpZ2h0ID0gYkJveC5ib3R0b20gLSBiQm94LnRvcDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBiQm94O1xufVxuLyoqXG4gKiBBIHZhbHVlIHRoYXQgaXMgUGl4ZWxzIG9yIFJhdGlvXG4gKiBAdHlwZWRlZiB7e3ZhbHVlOiBudW1iZXIsIGlzUmF0aW86IGJvb2xlYW59fSBQUFZhbHVlXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZFBQVmFsdWUodmFsdWUpIHtcbiAgLy8gR2V0IFBQVmFsdWUgZnJvbSBzdHJpbmcgKGFsbCBgL3NgIHdlcmUgYWxyZWFkeSByZW1vdmVkKVxuICBmdW5jdGlvbiBzdHJpbmcyUFBWYWx1ZShpblN0cmluZykge1xuICAgIHZhciBtYXRjaGVzID0gL14oLis/KSglKT8kLy5leGVjKGluU3RyaW5nKTtcbiAgICB2YXIgdmFsdWUsIGlzUmF0aW87XG4gICAgcmV0dXJuIG1hdGNoZXMgJiYgaXNGaW5pdGUodmFsdWUgPSBwYXJzZUZsb2F0KG1hdGNoZXNbMV0pKSA/IHtcbiAgICAgIHZhbHVlOiAoaXNSYXRpbyA9ICEhKG1hdGNoZXNbMl0gJiYgdmFsdWUpKSA/IHZhbHVlIC8gMTAwIDogdmFsdWUsXG4gICAgICBpc1JhdGlvOiBpc1JhdGlvXG4gICAgfSA6IG51bGw7IC8vIDAlIC0+IDBcbiAgfVxuXG4gIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIGlzUmF0aW86IGZhbHNlXG4gIH0gOiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gc3RyaW5nMlBQVmFsdWUodmFsdWUucmVwbGFjZSgvXFxzL2csICcnKSkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBwcFZhbHVlMk9wdGlvblZhbHVlKHBwVmFsdWUpIHtcbiAgcmV0dXJuIHBwVmFsdWUuaXNSYXRpbyA/IFwiXCIuY29uY2F0KHBwVmFsdWUudmFsdWUgKiAxMDAsIFwiJVwiKSA6IHBwVmFsdWUudmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVQUFZhbHVlKHBwVmFsdWUsIGJhc2VPcmlnaW4sIGJhc2VTaXplKSB7XG4gIHJldHVybiB0eXBlb2YgcHBWYWx1ZSA9PT0gJ251bWJlcicgPyBwcFZhbHVlIDogYmFzZU9yaWdpbiArIHBwVmFsdWUudmFsdWUgKiAocHBWYWx1ZS5pc1JhdGlvID8gYmFzZVNpemUgOiAxKTtcbn1cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgc2ltdWxhdGVzIEJCb3ggYnV0IHByb3BlcnRpZXMgYXJlIFBQVmFsdWUuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQUEJCb3hcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBiQm94IC0gQSB0YXJnZXQgb2JqZWN0LlxuICogQHJldHVybnMgeyhQUEJCb3h8bnVsbCl9IEEgbm9ybWFsaXplZCBgUFBCQm94YCwgb3IgbnVsbCBpZiBgYkJveGAgaXMgaW52YWxpZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkUFBCQm94KGJCb3gpIHtcbiAgaWYgKCFpc09iamVjdChiQm94KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBwVmFsdWU7XG5cbiAgaWYgKChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3gubGVmdCkpIHx8IChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3gueCkpKSB7XG4gICAgYkJveC5sZWZ0ID0gYkJveC54ID0gcHBWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICgocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LnRvcCkpIHx8IChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3gueSkpKSB7XG4gICAgYkJveC50b3AgPSBiQm94LnkgPSBwcFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3gud2lkdGgpKSAmJiBwcFZhbHVlLnZhbHVlID49IDApIHtcbiAgICBiQm94LndpZHRoID0gcHBWYWx1ZTtcbiAgICBkZWxldGUgYkJveC5yaWdodDtcbiAgfSBlbHNlIGlmIChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3gucmlnaHQpKSB7XG4gICAgYkJveC5yaWdodCA9IHBwVmFsdWU7XG4gICAgZGVsZXRlIGJCb3gud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC5oZWlnaHQpKSAmJiBwcFZhbHVlLnZhbHVlID49IDApIHtcbiAgICBiQm94LmhlaWdodCA9IHBwVmFsdWU7XG4gICAgZGVsZXRlIGJCb3guYm90dG9tO1xuICB9IGVsc2UgaWYgKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC5ib3R0b20pKSB7XG4gICAgYkJveC5ib3R0b20gPSBwcFZhbHVlO1xuICAgIGRlbGV0ZSBiQm94LmhlaWdodDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBiQm94O1xufVxuXG5mdW5jdGlvbiBwcEJCb3gyT3B0aW9uT2JqZWN0KHBwQkJveCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMocHBCQm94KS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgcHJvcCkge1xuICAgIG9ialtwcm9wXSA9IHBwVmFsdWUyT3B0aW9uVmFsdWUocHBCQm94W3Byb3BdKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59IC8vIFBQQkJveCAtPiBCQm94XG5cblxuZnVuY3Rpb24gcmVzb2x2ZVBQQkJveChwcEJCb3gsIGJhc2VCQm94KSB7XG4gIHZhciBwcm9wMkF4aXMgPSB7XG4gICAgbGVmdDogJ3gnLFxuICAgIHJpZ2h0OiAneCcsXG4gICAgeDogJ3gnLFxuICAgIHdpZHRoOiAneCcsXG4gICAgdG9wOiAneScsXG4gICAgYm90dG9tOiAneScsXG4gICAgeTogJ3knLFxuICAgIGhlaWdodDogJ3knXG4gIH0sXG4gICAgICBiYXNlT3JpZ2luWFkgPSB7XG4gICAgeDogYmFzZUJCb3gubGVmdCxcbiAgICB5OiBiYXNlQkJveC50b3BcbiAgfSxcbiAgICAgIGJhc2VTaXplWFkgPSB7XG4gICAgeDogYmFzZUJCb3gud2lkdGgsXG4gICAgeTogYmFzZUJCb3guaGVpZ2h0XG4gIH07XG4gIHJldHVybiB2YWxpZEJCb3goT2JqZWN0LmtleXMocHBCQm94KS5yZWR1Y2UoZnVuY3Rpb24gKGJCb3gsIHByb3ApIHtcbiAgICBiQm94W3Byb3BdID0gcmVzb2x2ZVBQVmFsdWUocHBCQm94W3Byb3BdLCBwcm9wID09PSAnd2lkdGgnIHx8IHByb3AgPT09ICdoZWlnaHQnID8gMCA6IGJhc2VPcmlnaW5YWVtwcm9wMkF4aXNbcHJvcF1dLCBiYXNlU2l6ZVhZW3Byb3AyQXhpc1twcm9wXV0pO1xuICAgIHJldHVybiBiQm94O1xuICB9LCB7fSkpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gZ2V0UGFkZGluZ0JveCAtIEdldCBwYWRkaW5nLWJveCBpbnN0ZWFkIG9mIGJvcmRlci1ib3ggYXMgYm91bmRpbmctYm94LlxuICogQHJldHVybnMge0JCb3h9IEEgYm91bmRpbmctYm94IG9mIGBlbGVtZW50YC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldEJCb3goZWxlbWVudCwgZ2V0UGFkZGluZ0JveCkge1xuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBiQm94ID0ge1xuICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICB0b3A6IHJlY3QudG9wLFxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgfTtcbiAgYkJveC5sZWZ0ICs9IHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgYkJveC50b3AgKz0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gIGlmIChnZXRQYWRkaW5nQm94KSB7XG4gICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpLFxuICAgICAgICBib3JkZXJUb3AgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKSB8fCAwLFxuICAgICAgICBib3JkZXJSaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCkgfHwgMCxcbiAgICAgICAgYm9yZGVyQm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgfHwgMCxcbiAgICAgICAgYm9yZGVyTGVmdCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwO1xuICAgIGJCb3gubGVmdCArPSBib3JkZXJMZWZ0O1xuICAgIGJCb3gudG9wICs9IGJvcmRlclRvcDtcbiAgICBiQm94LndpZHRoIC09IGJvcmRlckxlZnQgKyBib3JkZXJSaWdodDtcbiAgICBiQm94LmhlaWdodCAtPSBib3JkZXJUb3AgKyBib3JkZXJCb3R0b207XG4gIH1cblxuICByZXR1cm4gdmFsaWRCQm94KGJCb3gpO1xufVxuLyoqXG4gKiBPcHRpbWl6ZSBhbiBlbGVtZW50IGZvciBhbmltYXRpb24uXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gZ3B1VHJpZ2dlciAtIEluaXRpYWxpemUgZm9yIFNWR0VsZW1lbnQgaWYgYHRydWVgLlxuICogQHJldHVybnMge0VsZW1lbnR9IEEgdGFyZ2V0IGVsZW1lbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBpbml0QW5pbShlbGVtZW50LCBncHVUcmlnZ2VyKSB7XG4gIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gIHN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yID0gJ3RyYW5zcGFyZW50JzsgLy8gT25seSB3aGVuIGl0IGhhcyBubyBzaGFkb3dcblxuICB2YXIgY3NzUHJvcEJveFNoYWRvdyA9IENTU1ByZWZpeC5nZXROYW1lKCdib3hTaGFkb3cnKSxcbiAgICAgIGJveFNoYWRvdyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKVtjc3NQcm9wQm94U2hhZG93XTtcblxuICBpZiAoIWJveFNoYWRvdyB8fCBib3hTaGFkb3cgPT09ICdub25lJykge1xuICAgIHN0eWxlW2Nzc1Byb3BCb3hTaGFkb3ddID0gJzAgMCAxcHggdHJhbnNwYXJlbnQnO1xuICB9XG5cbiAgaWYgKGdwdVRyaWdnZXIgJiYgY3NzUHJvcFRyYW5zZm9ybSkge1xuICAgIHN0eWxlW2Nzc1Byb3BUcmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZVooMCknO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHNldERyYWdnYWJsZUN1cnNvcihlbGVtZW50LCBvcmdDdXJzb3IpIHtcbiAgaWYgKGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yID09IG51bGwpIHtcbiAgICBpZiAoY3NzV2FudGVkVmFsdWVEcmFnZ2FibGVDdXJzb3IgIT09IGZhbHNlKSB7XG4gICAgICBjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciA9IENTU1ByZWZpeC5nZXRWYWx1ZSgnY3Vyc29yJywgY3NzV2FudGVkVmFsdWVEcmFnZ2FibGVDdXJzb3IpO1xuICAgIH0gLy8gVGhlIHdhbnRlZCB2YWx1ZSB3YXMgZGVuaWVkLCBvciBjaGFuZ2luZyBpcyBub3Qgd2FudGVkLlxuXG5cbiAgICBpZiAoY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgPT0gbnVsbCkge1xuICAgICAgY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgPSBmYWxzZTtcbiAgICB9XG4gIH0gLy8gVXBkYXRlIGl0IHRvIGNoYW5nZSBhIHN0YXRlIGV2ZW4gaWYgY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgaXMgZmFsc2UuXG5cblxuICBlbGVtZW50LnN0eWxlLmN1cnNvciA9IGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yID09PSBmYWxzZSA/IG9yZ0N1cnNvciA6IGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yO1xufVxuXG5mdW5jdGlvbiBzZXREcmFnZ2luZ0N1cnNvcihlbGVtZW50KSB7XG4gIGlmIChjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yID09IG51bGwpIHtcbiAgICBpZiAoY3NzV2FudGVkVmFsdWVEcmFnZ2luZ0N1cnNvciAhPT0gZmFsc2UpIHtcbiAgICAgIGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgPSBDU1NQcmVmaXguZ2V0VmFsdWUoJ2N1cnNvcicsIGNzc1dhbnRlZFZhbHVlRHJhZ2dpbmdDdXJzb3IpO1xuICAgIH0gLy8gVGhlIHdhbnRlZCB2YWx1ZSB3YXMgZGVuaWVkLCBvciBjaGFuZ2luZyBpcyBub3Qgd2FudGVkLlxuXG5cbiAgICBpZiAoY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciA9PSBudWxsKSB7XG4gICAgICBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgIT09IGZhbHNlKSB7XG4gICAgZWxlbWVudC5zdHlsZS5jdXJzb3IgPSBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yO1xuICB9XG59IC8vIFtTVkddXG5cbi8qKlxuICogR2V0IFNWRyBjb29yZGluYXRlcyBmcm9tIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFggLSB2aWV3cG9ydCBYLlxuICogQHBhcmFtIHtudW1iZXJ9IGNsaWVudFkgLSB2aWV3cG9ydCBZLlxuICogQHJldHVybnMge1NWR1BvaW50fSBTVkcgY29vcmRpbmF0ZXMuXG4gKi9cblxuXG5mdW5jdGlvbiB2aWV3UG9pbnQyU3ZnUG9pbnQocHJvcHMsIGNsaWVudFgsIGNsaWVudFkpIHtcbiAgdmFyIHN2Z1BvaW50ID0gcHJvcHMuc3ZnUG9pbnQ7XG4gIHN2Z1BvaW50LnggPSBjbGllbnRYO1xuICBzdmdQb2ludC55ID0gY2xpZW50WTtcbiAgcmV0dXJuIHN2Z1BvaW50Lm1hdHJpeFRyYW5zZm9ybShwcm9wcy5zdmdDdG1FbGVtZW50LmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59IC8vIFsvU1ZHXVxuXG4vKipcbiAqIE1vdmUgYnkgYHRyYW5zbGF0ZWAuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3tsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyfX0gcG9zaXRpb24gLSBOZXcgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGl0IHdhcyBtb3ZlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vdmVUcmFuc2xhdGUocHJvcHMsIHBvc2l0aW9uKSB7XG4gIHZhciBlbGVtZW50QkJveCA9IHByb3BzLmVsZW1lbnRCQm94O1xuXG4gIGlmIChwb3NpdGlvbi5sZWZ0ICE9PSBlbGVtZW50QkJveC5sZWZ0IHx8IHBvc2l0aW9uLnRvcCAhPT0gZWxlbWVudEJCb3gudG9wKSB7XG4gICAgdmFyIG9mZnNldCA9IHByb3BzLmh0bWxPZmZzZXQ7XG4gICAgcHJvcHMuZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2Zvcm1dID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdCwgXCJweCwgXCIpLmNvbmNhdChwb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wLCBcInB4KVwiKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn0gLy8gW0xFRlRUT1BdXG5cbi8qKlxuICogTW92ZSBieSBgbGVmdGAgYW5kIGB0b3BgLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHt7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlcn19IHBvc2l0aW9uIC0gTmV3IHBvc2l0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpdCB3YXMgbW92ZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBtb3ZlTGVmdFRvcChwcm9wcywgcG9zaXRpb24pIHtcbiAgdmFyIGVsZW1lbnRCQm94ID0gcHJvcHMuZWxlbWVudEJCb3gsXG4gICAgICBlbGVtZW50U3R5bGUgPSBwcm9wcy5lbGVtZW50U3R5bGUsXG4gICAgICBvZmZzZXQgPSBwcm9wcy5odG1sT2Zmc2V0O1xuICB2YXIgbW92ZWQgPSBmYWxzZTtcblxuICBpZiAocG9zaXRpb24ubGVmdCAhPT0gZWxlbWVudEJCb3gubGVmdCkge1xuICAgIGVsZW1lbnRTdHlsZS5sZWZ0ID0gcG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0ICsgJ3B4JztcbiAgICBtb3ZlZCA9IHRydWU7XG4gIH1cblxuICBpZiAocG9zaXRpb24udG9wICE9PSBlbGVtZW50QkJveC50b3ApIHtcbiAgICBlbGVtZW50U3R5bGUudG9wID0gcG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcCArICdweCc7XG4gICAgbW92ZWQgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIG1vdmVkO1xufSAvLyBbL0xFRlRUT1BdXG4vLyBbU1ZHXVxuXG4vKipcbiAqIE1vdmUgU1ZHRWxlbWVudC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7e2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9fSBwb3NpdGlvbiAtIE5ldyBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaXQgd2FzIG1vdmVkLlxuICovXG5cblxuZnVuY3Rpb24gbW92ZVN2Zyhwcm9wcywgcG9zaXRpb24pIHtcbiAgdmFyIGVsZW1lbnRCQm94ID0gcHJvcHMuZWxlbWVudEJCb3g7XG5cbiAgaWYgKHBvc2l0aW9uLmxlZnQgIT09IGVsZW1lbnRCQm94LmxlZnQgfHwgcG9zaXRpb24udG9wICE9PSBlbGVtZW50QkJveC50b3ApIHtcbiAgICB2YXIgb2Zmc2V0ID0gcHJvcHMuc3ZnT2Zmc2V0LFxuICAgICAgICBvcmlnaW5CQm94ID0gcHJvcHMuc3ZnT3JpZ2luQkJveCxcbiAgICAgICAgcG9pbnQgPSB2aWV3UG9pbnQyU3ZnUG9pbnQocHJvcHMsIHBvc2l0aW9uLmxlZnQgLSB3aW5kb3cucGFnZVhPZmZzZXQsIHBvc2l0aW9uLnRvcCAtIHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gICAgcHJvcHMuc3ZnVHJhbnNmb3JtLnNldFRyYW5zbGF0ZShwb2ludC54ICsgb2Zmc2V0LnggLSBvcmlnaW5CQm94LngsIHBvaW50LnkgKyBvZmZzZXQueSAtIG9yaWdpbkJCb3gueSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59IC8vIFsvU1ZHXVxuXG4vKipcbiAqIFNldCBgcHJvcHMuZWxlbWVudGAgcG9zaXRpb24uXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3tsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyfX0gcG9zaXRpb24gLSBOZXcgcG9zaXRpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JDaGVja10gLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aXRoIHZhbGlkIHBvc2l0aW9uLCBjYW5jZWwgbW92aW5nIGlmIGl0IHJldHVybnMgYGZhbHNlYC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaXQgd2FzIG1vdmVkLlxuICovXG5cblxuZnVuY3Rpb24gbW92ZShwcm9wcywgcG9zaXRpb24sIGNiQ2hlY2spIHtcbiAgdmFyIGVsZW1lbnRCQm94ID0gcHJvcHMuZWxlbWVudEJCb3g7XG5cbiAgZnVuY3Rpb24gZml4KCkge1xuICAgIGlmIChwcm9wcy5taW5MZWZ0ID49IHByb3BzLm1heExlZnQpIHtcbiAgICAgIC8vIERpc2FibGVkXG4gICAgICBwb3NpdGlvbi5sZWZ0ID0gZWxlbWVudEJCb3gubGVmdDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLmxlZnQgPCBwcm9wcy5taW5MZWZ0KSB7XG4gICAgICBwb3NpdGlvbi5sZWZ0ID0gcHJvcHMubWluTGVmdDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLmxlZnQgPiBwcm9wcy5tYXhMZWZ0KSB7XG4gICAgICBwb3NpdGlvbi5sZWZ0ID0gcHJvcHMubWF4TGVmdDtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMubWluVG9wID49IHByb3BzLm1heFRvcCkge1xuICAgICAgLy8gRGlzYWJsZWRcbiAgICAgIHBvc2l0aW9uLnRvcCA9IGVsZW1lbnRCQm94LnRvcDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLnRvcCA8IHByb3BzLm1pblRvcCkge1xuICAgICAgcG9zaXRpb24udG9wID0gcHJvcHMubWluVG9wO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24udG9wID4gcHJvcHMubWF4VG9wKSB7XG4gICAgICBwb3NpdGlvbi50b3AgPSBwcm9wcy5tYXhUb3A7XG4gICAgfVxuICB9XG5cbiAgZml4KCk7XG5cbiAgaWYgKGNiQ2hlY2spIHtcbiAgICBpZiAoY2JDaGVjayhwb3NpdGlvbikgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZml4KCk7IC8vIEFnYWluXG4gIH1cblxuICB2YXIgbW92ZWQgPSBwcm9wcy5tb3ZlRWxtKHByb3BzLCBwb3NpdGlvbik7XG5cbiAgaWYgKG1vdmVkKSB7XG4gICAgLy8gVXBkYXRlIGVsZW1lbnRCQm94XG4gICAgcHJvcHMuZWxlbWVudEJCb3ggPSB2YWxpZEJCb3goe1xuICAgICAgbGVmdDogcG9zaXRpb24ubGVmdCxcbiAgICAgIHRvcDogcG9zaXRpb24udG9wLFxuICAgICAgd2lkdGg6IGVsZW1lbnRCQm94LndpZHRoLFxuICAgICAgaGVpZ2h0OiBlbGVtZW50QkJveC5oZWlnaHRcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBtb3ZlZDtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZSBIVE1MRWxlbWVudCBmb3IgYHRyYW5zbGF0ZWAsIGFuZCBnZXQgYG9mZnNldGAgdGhhdCBpcyB1c2VkIGJ5IGBtb3ZlVHJhbnNsYXRlYC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHtCQm94fSBDdXJyZW50IEJCb3ggd2l0aG91dCBhbmltYXRpb24sIGkuZS4gbGVmdC90b3AgcHJvcGVydGllcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXRUcmFuc2xhdGUocHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSBwcm9wcy5lbGVtZW50LFxuICAgICAgZWxlbWVudFN0eWxlID0gcHJvcHMuZWxlbWVudFN0eWxlLFxuICAgICAgY3VyUG9zaXRpb24gPSBnZXRCQm94KGVsZW1lbnQpLFxuICAgICAgLy8gR2V0IEJCb3ggYmVmb3JlIGNoYW5nZSBzdHlsZS5cbiAgUkVTVE9SRV9QUk9QUyA9IFsnZGlzcGxheScsICdtYXJnaW5Ub3AnLCAnbWFyZ2luQm90dG9tJywgJ3dpZHRoJywgJ2hlaWdodCddO1xuICBSRVNUT1JFX1BST1BTLnVuc2hpZnQoY3NzUHJvcFRyYW5zZm9ybSk7IC8vIFJlc2V0IGB0cmFuc2l0aW9uLXByb3BlcnR5YCBldmVyeSB0aW1lIGJlY2F1c2UgaXQgbWlnaHQgYmUgY2hhbmdlZCBmcmVxdWVudGx5LlxuXG4gIHZhciBvcmdUcmFuc2l0aW9uUHJvcGVydHkgPSBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eV07XG4gIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5XSA9ICdub25lJzsgLy8gRGlzYWJsZSBhbmltYXRpb25cblxuICB2YXIgZml4UG9zaXRpb24gPSBnZXRCQm94KGVsZW1lbnQpO1xuXG4gIGlmICghcHJvcHMub3JnU3R5bGUpIHtcbiAgICBwcm9wcy5vcmdTdHlsZSA9IFJFU1RPUkVfUFJPUFMucmVkdWNlKGZ1bmN0aW9uIChvcmdTdHlsZSwgcHJvcCkge1xuICAgICAgb3JnU3R5bGVbcHJvcF0gPSBlbGVtZW50U3R5bGVbcHJvcF0gfHwgJyc7XG4gICAgICByZXR1cm4gb3JnU3R5bGU7XG4gICAgfSwge30pO1xuICAgIHByb3BzLmxhc3RTdHlsZSA9IHt9O1xuICB9IGVsc2Uge1xuICAgIFJFU1RPUkVfUFJPUFMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgLy8gU2tpcCB0aGlzIGlmIGl0IHNlZW1zIHVzZXIgY2hhbmdlZCBpdC4gKGl0IGNhbid0IGNoZWNrIHBlcmZlY3RseS4pXG4gICAgICBpZiAocHJvcHMubGFzdFN0eWxlW3Byb3BdID09IG51bGwgfHwgZWxlbWVudFN0eWxlW3Byb3BdID09PSBwcm9wcy5sYXN0U3R5bGVbcHJvcF0pIHtcbiAgICAgICAgZWxlbWVudFN0eWxlW3Byb3BdID0gcHJvcHMub3JnU3R5bGVbcHJvcF07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgb3JnU2l6ZSA9IGdldEJCb3goZWxlbWVudCksXG4gICAgICBjbXBTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKTsgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy10cmFuc2Zvcm1zLTEvI3RyYW5zZm9ybWFibGUtZWxlbWVudFxuXG4gIGlmIChjbXBTdHlsZS5kaXNwbGF5ID09PSAnaW5saW5lJykge1xuICAgIGVsZW1lbnRTdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgWydUb3AnLCAnQm90dG9tJ10uZm9yRWFjaChmdW5jdGlvbiAoZGlyUHJvcCkge1xuICAgICAgdmFyIHBhZGRpbmcgPSBwYXJzZUZsb2F0KGNtcFN0eWxlW1wicGFkZGluZ1wiLmNvbmNhdChkaXJQcm9wKV0pOyAvLyBwYWRkaW5nVG9wL0JvdHRvbSBtYWtlIHBhZGRpbmcgYnV0IGRvbid0IG1ha2Ugc3BhY2UgLT4gbmVnYXRpdmUgbWFyZ2luIGluIGlubGluZS1ibG9ja1xuICAgICAgLy8gbWFyZ2luVG9wL0JvdHRvbSBkb24ndCB3b3JrIGluIGlubGluZSBlbGVtZW50IC0+IGAwYCBpbiBpbmxpbmUtYmxvY2tcblxuICAgICAgZWxlbWVudFN0eWxlW1wibWFyZ2luXCIuY29uY2F0KGRpclByb3ApXSA9IHBhZGRpbmcgPyBcIi1cIi5jb25jYXQocGFkZGluZywgXCJweFwiKSA6ICcwJztcbiAgICB9KTtcbiAgfVxuXG4gIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoMCwgMCknOyAvLyBHZXQgZG9jdW1lbnQgb2Zmc2V0LlxuXG4gIHZhciBuZXdCQm94ID0gZ2V0QkJveChlbGVtZW50KTtcbiAgdmFyIG9mZnNldCA9IHByb3BzLmh0bWxPZmZzZXQgPSB7XG4gICAgbGVmdDogbmV3QkJveC5sZWZ0ID8gLW5ld0JCb3gubGVmdCA6IDAsXG4gICAgdG9wOiBuZXdCQm94LnRvcCA/IC1uZXdCQm94LnRvcCA6IDBcbiAgfTsgLy8gYXZvaWQgYC0wYFxuICAvLyBSZXN0b3JlIHBvc2l0aW9uXG5cbiAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2Zvcm1dID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KGN1clBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdCwgXCJweCwgXCIpLmNvbmNhdChjdXJQb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wLCBcInB4KVwiKTsgLy8gUmVzdG9yZSBzaXplXG5cbiAgWyd3aWR0aCcsICdoZWlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgaWYgKG5ld0JCb3hbcHJvcF0gIT09IG9yZ1NpemVbcHJvcF0pIHtcbiAgICAgIC8vIElnbm9yZSBgYm94LXNpemluZ2BcbiAgICAgIGVsZW1lbnRTdHlsZVtwcm9wXSA9IG9yZ1NpemVbcHJvcF0gKyAncHgnO1xuICAgICAgbmV3QkJveCA9IGdldEJCb3goZWxlbWVudCk7XG5cbiAgICAgIGlmIChuZXdCQm94W3Byb3BdICE9PSBvcmdTaXplW3Byb3BdKSB7XG4gICAgICAgIC8vIFJldHJ5XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wXSA9IG9yZ1NpemVbcHJvcF0gLSAobmV3QkJveFtwcm9wXSAtIG9yZ1NpemVbcHJvcF0pICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wcy5sYXN0U3R5bGVbcHJvcF0gPSBlbGVtZW50U3R5bGVbcHJvcF07XG4gIH0pOyAvLyBSZXN0b3JlIGB0cmFuc2l0aW9uLXByb3BlcnR5YFxuXG4gIGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gIC8qIGZvcmNlIHJlZmxvdyAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXG4gIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5XSA9IG9yZ1RyYW5zaXRpb25Qcm9wZXJ0eTtcblxuICBpZiAoZml4UG9zaXRpb24ubGVmdCAhPT0gY3VyUG9zaXRpb24ubGVmdCB8fCBmaXhQb3NpdGlvbi50b3AgIT09IGN1clBvc2l0aW9uLnRvcCkge1xuICAgIC8vIEl0IHNlZW1zIHRoYXQgaXQgaXMgbW92aW5nLlxuICAgIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNmb3JtXSA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdChmaXhQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnQsIFwicHgsIFwiKS5jb25jYXQoZml4UG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcCwgXCJweClcIik7XG4gIH1cblxuICByZXR1cm4gZml4UG9zaXRpb247XG59IC8vIFtMRUZUVE9QXVxuXG4vKipcbiAqIEluaXRpYWxpemUgSFRNTEVsZW1lbnQgZm9yIGBsZWZ0YCBhbmQgYHRvcGAsIGFuZCBnZXQgYG9mZnNldGAgdGhhdCBpcyB1c2VkIGJ5IGBtb3ZlTGVmdFRvcGAuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7QkJveH0gQ3VycmVudCBCQm94IHdpdGhvdXQgYW5pbWF0aW9uLCBpLmUuIGxlZnQvdG9wIHByb3BlcnRpZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBpbml0TGVmdFRvcChwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHByb3BzLmVsZW1lbnQsXG4gICAgICBlbGVtZW50U3R5bGUgPSBwcm9wcy5lbGVtZW50U3R5bGUsXG4gICAgICBjdXJQb3NpdGlvbiA9IGdldEJCb3goZWxlbWVudCksXG4gICAgICAvLyBHZXQgQkJveCBiZWZvcmUgY2hhbmdlIHN0eWxlLlxuICBSRVNUT1JFX1BST1BTID0gWydwb3NpdGlvbicsICdtYXJnaW5Ub3AnLCAnbWFyZ2luUmlnaHQnLCAnbWFyZ2luQm90dG9tJywgJ21hcmdpbkxlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0J107IC8vIFJlc2V0IGB0cmFuc2l0aW9uLXByb3BlcnR5YCBldmVyeSB0aW1lIGJlY2F1c2UgaXQgbWlnaHQgYmUgY2hhbmdlZCBmcmVxdWVudGx5LlxuXG4gIHZhciBvcmdUcmFuc2l0aW9uUHJvcGVydHkgPSBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eV07XG4gIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5XSA9ICdub25lJzsgLy8gRGlzYWJsZSBhbmltYXRpb25cblxuICB2YXIgZml4UG9zaXRpb24gPSBnZXRCQm94KGVsZW1lbnQpO1xuXG4gIGlmICghcHJvcHMub3JnU3R5bGUpIHtcbiAgICBwcm9wcy5vcmdTdHlsZSA9IFJFU1RPUkVfUFJPUFMucmVkdWNlKGZ1bmN0aW9uIChvcmdTdHlsZSwgcHJvcCkge1xuICAgICAgb3JnU3R5bGVbcHJvcF0gPSBlbGVtZW50U3R5bGVbcHJvcF0gfHwgJyc7XG4gICAgICByZXR1cm4gb3JnU3R5bGU7XG4gICAgfSwge30pO1xuICAgIHByb3BzLmxhc3RTdHlsZSA9IHt9O1xuICB9IGVsc2Uge1xuICAgIFJFU1RPUkVfUFJPUFMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgLy8gU2tpcCB0aGlzIGlmIGl0IHNlZW1zIHVzZXIgY2hhbmdlZCBpdC4gKGl0IGNhbid0IGNoZWNrIHBlcmZlY3RseS4pXG4gICAgICBpZiAocHJvcHMubGFzdFN0eWxlW3Byb3BdID09IG51bGwgfHwgZWxlbWVudFN0eWxlW3Byb3BdID09PSBwcm9wcy5sYXN0U3R5bGVbcHJvcF0pIHtcbiAgICAgICAgZWxlbWVudFN0eWxlW3Byb3BdID0gcHJvcHMub3JnU3R5bGVbcHJvcF07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgb3JnU2l6ZSA9IGdldEJCb3goZWxlbWVudCk7XG4gIGVsZW1lbnRTdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gIGVsZW1lbnRTdHlsZS5sZWZ0ID0gZWxlbWVudFN0eWxlLnRvcCA9IGVsZW1lbnRTdHlsZS5tYXJnaW4gPSAnMCc7IC8vIEdldCBkb2N1bWVudCBvZmZzZXQuXG5cbiAgdmFyIG5ld0JCb3ggPSBnZXRCQm94KGVsZW1lbnQpO1xuICB2YXIgb2Zmc2V0ID0gcHJvcHMuaHRtbE9mZnNldCA9IHtcbiAgICBsZWZ0OiBuZXdCQm94LmxlZnQgPyAtbmV3QkJveC5sZWZ0IDogMCxcbiAgICB0b3A6IG5ld0JCb3gudG9wID8gLW5ld0JCb3gudG9wIDogMFxuICB9OyAvLyBhdm9pZCBgLTBgXG4gIC8vIFJlc3RvcmUgcG9zaXRpb25cblxuICBlbGVtZW50U3R5bGUubGVmdCA9IGN1clBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdCArICdweCc7XG4gIGVsZW1lbnRTdHlsZS50b3AgPSBjdXJQb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wICsgJ3B4JzsgLy8gUmVzdG9yZSBzaXplXG5cbiAgWyd3aWR0aCcsICdoZWlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgaWYgKG5ld0JCb3hbcHJvcF0gIT09IG9yZ1NpemVbcHJvcF0pIHtcbiAgICAgIC8vIElnbm9yZSBgYm94LXNpemluZ2BcbiAgICAgIGVsZW1lbnRTdHlsZVtwcm9wXSA9IG9yZ1NpemVbcHJvcF0gKyAncHgnO1xuICAgICAgbmV3QkJveCA9IGdldEJCb3goZWxlbWVudCk7XG5cbiAgICAgIGlmIChuZXdCQm94W3Byb3BdICE9PSBvcmdTaXplW3Byb3BdKSB7XG4gICAgICAgIC8vIFJldHJ5XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wXSA9IG9yZ1NpemVbcHJvcF0gLSAobmV3QkJveFtwcm9wXSAtIG9yZ1NpemVbcHJvcF0pICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wcy5sYXN0U3R5bGVbcHJvcF0gPSBlbGVtZW50U3R5bGVbcHJvcF07XG4gIH0pOyAvLyBSZXN0b3JlIGB0cmFuc2l0aW9uLXByb3BlcnR5YFxuXG4gIGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gIC8qIGZvcmNlIHJlZmxvdyAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXG4gIGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5XSA9IG9yZ1RyYW5zaXRpb25Qcm9wZXJ0eTtcblxuICBpZiAoZml4UG9zaXRpb24ubGVmdCAhPT0gY3VyUG9zaXRpb24ubGVmdCB8fCBmaXhQb3NpdGlvbi50b3AgIT09IGN1clBvc2l0aW9uLnRvcCkge1xuICAgIC8vIEl0IHNlZW1zIHRoYXQgaXQgaXMgbW92aW5nLlxuICAgIGVsZW1lbnRTdHlsZS5sZWZ0ID0gZml4UG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0ICsgJ3B4JztcbiAgICBlbGVtZW50U3R5bGUudG9wID0gZml4UG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcCArICdweCc7XG4gIH1cblxuICByZXR1cm4gZml4UG9zaXRpb247XG59IC8vIFsvTEVGVFRPUF1cbi8vIFtTVkddXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBTVkdFbGVtZW50LCBhbmQgZ2V0IGBvZmZzZXRgIHRoYXQgaXMgdXNlZCBieSBgbW92ZVN2Z2AuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7QkJveH0gQ3VycmVudCBCQm94IHdpdGhvdXQgYW5pbWF0aW9uLCBpLmUuIGxlZnQvdG9wIHByb3BlcnRpZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBpbml0U3ZnKHByb3BzKSB7XG4gIHZhciBlbGVtZW50ID0gcHJvcHMuZWxlbWVudCxcbiAgICAgIHN2Z1RyYW5zZm9ybSA9IHByb3BzLnN2Z1RyYW5zZm9ybSxcbiAgICAgIGN1clJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgLy8gR2V0IFJlY3QgYmVmb3JlIGNoYW5nZSBwb3NpdGlvbi5cbiAgZml4UG9zaXRpb24gPSBnZXRCQm94KGVsZW1lbnQpO1xuICBzdmdUcmFuc2Zvcm0uc2V0VHJhbnNsYXRlKDAsIDApO1xuICB2YXIgb3JpZ2luQkJveCA9IHByb3BzLnN2Z09yaWdpbkJCb3ggPSBlbGVtZW50LmdldEJCb3goKSxcbiAgICAgIC8vIFRyeSB0byBnZXQgU1ZHIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24uXG4gIG5ld1JlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgb3JpZ2luUG9pbnQgPSB2aWV3UG9pbnQyU3ZnUG9pbnQocHJvcHMsIG5ld1JlY3QubGVmdCwgbmV3UmVjdC50b3ApLFxuICAgICAgLy8gR2Vja28gYnVnLCBnZXRTY3JlZW5DVE0gcmV0dXJucyBpbmNvcnJlY3QgQ1RNLCBhbmQgb3JpZ2luUG9pbnQgbWlnaHQgbm90IGJlIGN1cnJlbnQgcG9zaXRpb24uXG4gIG9mZnNldCA9IHByb3BzLnN2Z09mZnNldCA9IHtcbiAgICB4OiBvcmlnaW5CQm94LnggLSBvcmlnaW5Qb2ludC54LFxuICAgIHk6IG9yaWdpbkJCb3gueSAtIG9yaWdpblBvaW50LnlcbiAgfSxcbiAgICAgIC8vIFJlc3RvcmUgcG9zaXRpb25cbiAgY3VyUG9pbnQgPSB2aWV3UG9pbnQyU3ZnUG9pbnQocHJvcHMsIGN1clJlY3QubGVmdCwgY3VyUmVjdC50b3ApO1xuICBzdmdUcmFuc2Zvcm0uc2V0VHJhbnNsYXRlKGN1clBvaW50LnggKyBvZmZzZXQueCAtIG9yaWdpbkJCb3gueCwgY3VyUG9pbnQueSArIG9mZnNldC55IC0gb3JpZ2luQkJveC55KTtcbiAgcmV0dXJuIGZpeFBvc2l0aW9uO1xufSAvLyBbL1NWR11cblxuLyoqXG4gKiBTZXQgYGVsZW1lbnRCQm94YCwgYGNvbnRhaW5tZW50QkJveGAsIGBtaW4vbWF4YGBMZWZ0L1RvcGAgYW5kIGBzbmFwVGFyZ2V0c2AuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2V2ZW50VHlwZV0gLSBBIHR5cGUgb2YgZXZlbnQgdGhhdCBraWNrZWQgdGhpcyBtZXRob2QuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXRCQm94KHByb3BzLCBldmVudFR5cGUpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICB2YXIgZG9jQkJveCA9IGdldEJCb3goZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSxcbiAgICAgIGVsZW1lbnRCQm94ID0gcHJvcHMuZWxlbWVudEJCb3ggPSBwcm9wcy5pbml0RWxtKHByb3BzKSxcbiAgICAgIC8vIHJlc2V0IG9mZnNldCBldGMuXG4gIGNvbnRhaW5tZW50QkJveCA9IHByb3BzLmNvbnRhaW5tZW50QkJveCA9IHByb3BzLmNvbnRhaW5tZW50SXNCQm94ID8gcmVzb2x2ZVBQQkJveChwcm9wcy5vcHRpb25zLmNvbnRhaW5tZW50LCBkb2NCQm94KSB8fCBkb2NCQm94IDogZ2V0QkJveChwcm9wcy5vcHRpb25zLmNvbnRhaW5tZW50LCB0cnVlKTtcbiAgcHJvcHMubWluTGVmdCA9IGNvbnRhaW5tZW50QkJveC5sZWZ0O1xuICBwcm9wcy5tYXhMZWZ0ID0gY29udGFpbm1lbnRCQm94LnJpZ2h0IC0gZWxlbWVudEJCb3gud2lkdGg7XG4gIHByb3BzLm1pblRvcCA9IGNvbnRhaW5tZW50QkJveC50b3A7XG4gIHByb3BzLm1heFRvcCA9IGNvbnRhaW5tZW50QkJveC5ib3R0b20gLSBlbGVtZW50QkJveC5oZWlnaHQ7IC8vIEFkanVzdCBwb3NpdGlvblxuXG4gIG1vdmUocHJvcHMsIHtcbiAgICBsZWZ0OiBlbGVtZW50QkJveC5sZWZ0LFxuICAgIHRvcDogZWxlbWVudEJCb3gudG9wXG4gIH0pOyAvLyBbU05BUF1cbiAgLy8gU25hcC10YXJnZXRzXG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IFNuYXBUYXJnZXRcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt4XSAtIEEgY29vcmRpbmF0ZSBpdCBtb3ZlcyB0by4gSXQgaGFzIHggb3IgeSBvciBib3RoLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3ldXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3Jhdml0eVhTdGFydF0gLSBHcmF2aXR5IHpvbmUuIEl0IGhhcyAqU3RhcnQgb3IgKkVuZCBvciBib3RoLCBhbmQgKlgqIG9yICpZKiBvciBib3RoLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2dyYXZpdHlYRW5kXVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2dyYXZpdHlZU3RhcnRdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3Jhdml0eVlFbmRdXG4gICAqL1xuXG4gIGlmIChwcm9wcy5wYXJzZWRTbmFwVGFyZ2V0cykge1xuICAgIHZhciBlbGVtZW50U2l6ZVhZID0ge1xuICAgICAgeDogZWxlbWVudEJCb3gud2lkdGgsXG4gICAgICB5OiBlbGVtZW50QkJveC5oZWlnaHRcbiAgICB9LFxuICAgICAgICBtaW5YWSA9IHtcbiAgICAgIHg6IHByb3BzLm1pbkxlZnQsXG4gICAgICB5OiBwcm9wcy5taW5Ub3BcbiAgICB9LFxuICAgICAgICBtYXhYWSA9IHtcbiAgICAgIHg6IHByb3BzLm1heExlZnQsXG4gICAgICB5OiBwcm9wcy5tYXhUb3BcbiAgICB9LFxuICAgICAgICBwcm9wMkF4aXMgPSB7XG4gICAgICBsZWZ0OiAneCcsXG4gICAgICByaWdodDogJ3gnLFxuICAgICAgeDogJ3gnLFxuICAgICAgd2lkdGg6ICd4JyxcbiAgICAgIHhTdGFydDogJ3gnLFxuICAgICAgeEVuZDogJ3gnLFxuICAgICAgeFN0ZXA6ICd4JyxcbiAgICAgIHRvcDogJ3knLFxuICAgICAgYm90dG9tOiAneScsXG4gICAgICB5OiAneScsXG4gICAgICBoZWlnaHQ6ICd5JyxcbiAgICAgIHlTdGFydDogJ3knLFxuICAgICAgeUVuZDogJ3knLFxuICAgICAgeVN0ZXA6ICd5J1xuICAgIH0sXG4gICAgICAgIHNuYXBUYXJnZXRzID0gcHJvcHMucGFyc2VkU25hcFRhcmdldHMucmVkdWNlKGZ1bmN0aW9uIChzbmFwVGFyZ2V0cywgcGFyc2VkU25hcFRhcmdldCkge1xuICAgICAgdmFyIGJhc2VSZWN0ID0gcGFyc2VkU25hcFRhcmdldC5iYXNlID09PSAnY29udGFpbm1lbnQnID8gY29udGFpbm1lbnRCQm94IDogZG9jQkJveCxcbiAgICAgICAgICBiYXNlT3JpZ2luWFkgPSB7XG4gICAgICAgIHg6IGJhc2VSZWN0LmxlZnQsXG4gICAgICAgIHk6IGJhc2VSZWN0LnRvcFxuICAgICAgfSxcbiAgICAgICAgICBiYXNlU2l6ZVhZID0ge1xuICAgICAgICB4OiBiYXNlUmVjdC53aWR0aCxcbiAgICAgICAgeTogYmFzZVJlY3QuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBCYXNpY2FsbHksIHNoYWxsb3cgY29weSBmcm9tIHBhcnNlZFNuYXBUYXJnZXQsIGFuZCBpdCBjYW4gaGF2ZSByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICAgKiBAdHlwZWRlZiB7e3g6IChudW1iZXJ8UFBWYWx1ZSksIHksIHhTdGFydCwgeEVuZCwgeFN0ZXAsIHlTdGFydCwgeUVuZCwgeVN0ZXB9fSBUYXJnZXRYWVxuICAgICAgICogQHByb3BlcnR5IHtzdHJpbmdbXX0gW2Nvcm5lcnNdIC0gQXBwbGllZCB2YWx1ZS5cbiAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IFtzaWRlc11cbiAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2VudGVyXG4gICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3hHcmF2aXR5XSAtIE92ZXJyaWRlIHBhcnNlZFNuYXBUYXJnZXQuZ3Jhdml0eS5cbiAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbeUdyYXZpdHldXG4gICAgICAgKi9cbiAgICAgIC8vIEFkZCBzaW5nbGUgUG9pbnQgb3IgTGluZSAoaS5lLiB0YXJnZXRYWSBoYXMgbm8gKlN0ZXApXG5cbiAgICAgIGZ1bmN0aW9uIGFkZFNuYXBUYXJnZXQodGFyZ2V0WFkpIHtcbiAgICAgICAgaWYgKHRhcmdldFhZLmNlbnRlciA9PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0WFkuY2VudGVyID0gcGFyc2VkU25hcFRhcmdldC5jZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0WFkueEdyYXZpdHkgPT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldFhZLnhHcmF2aXR5ID0gcGFyc2VkU25hcFRhcmdldC5ncmF2aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldFhZLnlHcmF2aXR5ID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRYWS55R3Jhdml0eSA9IHBhcnNlZFNuYXBUYXJnZXQuZ3Jhdml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRYWS54ICE9IG51bGwgJiYgdGFyZ2V0WFkueSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gUG9pbnRcbiAgICAgICAgICB0YXJnZXRYWS54ID0gcmVzb2x2ZVBQVmFsdWUodGFyZ2V0WFkueCwgYmFzZU9yaWdpblhZLngsIGJhc2VTaXplWFkueCk7XG4gICAgICAgICAgdGFyZ2V0WFkueSA9IHJlc29sdmVQUFZhbHVlKHRhcmdldFhZLnksIGJhc2VPcmlnaW5YWS55LCBiYXNlU2l6ZVhZLnkpO1xuXG4gICAgICAgICAgaWYgKHRhcmdldFhZLmNlbnRlcikge1xuICAgICAgICAgICAgdGFyZ2V0WFkueCAtPSBlbGVtZW50U2l6ZVhZLnggLyAyO1xuICAgICAgICAgICAgdGFyZ2V0WFkueSAtPSBlbGVtZW50U2l6ZVhZLnkgLyAyO1xuICAgICAgICAgICAgdGFyZ2V0WFkuY29ybmVycyA9IFsndGwnXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAodGFyZ2V0WFkuY29ybmVycyB8fCBwYXJzZWRTbmFwVGFyZ2V0LmNvcm5lcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICAgICAgdmFyIHggPSB0YXJnZXRYWS54IC0gKGNvcm5lciA9PT0gJ3RyJyB8fCBjb3JuZXIgPT09ICdicicgPyBlbGVtZW50U2l6ZVhZLnggOiAwKSxcbiAgICAgICAgICAgICAgICB5ID0gdGFyZ2V0WFkueSAtIChjb3JuZXIgPT09ICdibCcgfHwgY29ybmVyID09PSAnYnInID8gZWxlbWVudFNpemVYWS55IDogMCk7XG5cbiAgICAgICAgICAgIGlmICh4ID49IG1pblhZLnggJiYgeCA8PSBtYXhYWS54ICYmIHkgPj0gbWluWFkueSAmJiB5IDw9IG1heFhZLnkpIHtcbiAgICAgICAgICAgICAgdmFyIHNuYXBUYXJnZXQgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBncmF2aXR5WFN0YXJ0ID0geCAtIHRhcmdldFhZLnhHcmF2aXR5LFxuICAgICAgICAgICAgICAgICAgZ3Jhdml0eVhFbmQgPSB4ICsgdGFyZ2V0WFkueEdyYXZpdHksXG4gICAgICAgICAgICAgICAgICBncmF2aXR5WVN0YXJ0ID0geSAtIHRhcmdldFhZLnlHcmF2aXR5LFxuICAgICAgICAgICAgICAgICAgZ3Jhdml0eVlFbmQgPSB5ICsgdGFyZ2V0WFkueUdyYXZpdHk7XG5cbiAgICAgICAgICAgICAgaWYgKGdyYXZpdHlYU3RhcnQgPiBtaW5YWS54KSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldC5ncmF2aXR5WFN0YXJ0ID0gZ3Jhdml0eVhTdGFydDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChncmF2aXR5WEVuZCA8IG1heFhZLngpIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0LmdyYXZpdHlYRW5kID0gZ3Jhdml0eVhFbmQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZ3Jhdml0eVlTdGFydCA+IG1pblhZLnkpIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0LmdyYXZpdHlZU3RhcnQgPSBncmF2aXR5WVN0YXJ0O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGdyYXZpdHlZRW5kIDwgbWF4WFkueSkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXQuZ3Jhdml0eVlFbmQgPSBncmF2aXR5WUVuZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNuYXBUYXJnZXRzLnB1c2goc25hcFRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTGluZVxuICAgICAgICAgIHZhciBzcGVjQXhpcyA9IHRhcmdldFhZLnggIT0gbnVsbCA/ICd4JyA6ICd5JyxcbiAgICAgICAgICAgICAgcmFuZ2VBeGlzID0gc3BlY0F4aXMgPT09ICd4JyA/ICd5JyA6ICd4JyxcbiAgICAgICAgICAgICAgc3RhcnRQcm9wID0gXCJcIi5jb25jYXQocmFuZ2VBeGlzLCBcIlN0YXJ0XCIpLFxuICAgICAgICAgICAgICBlbmRQcm9wID0gXCJcIi5jb25jYXQocmFuZ2VBeGlzLCBcIkVuZFwiKSxcbiAgICAgICAgICAgICAgZ3Jhdml0eVByb3AgPSBcIlwiLmNvbmNhdChzcGVjQXhpcywgXCJHcmF2aXR5XCIpLFxuICAgICAgICAgICAgICBzcGVjQXhpc0wgPSBzcGVjQXhpcy50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgICByYW5nZUF4aXNMID0gcmFuZ2VBeGlzLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICAgIGdyYXZpdHlTcGVjU3RhcnRQcm9wID0gXCJncmF2aXR5XCIuY29uY2F0KHNwZWNBeGlzTCwgXCJTdGFydFwiKSxcbiAgICAgICAgICAgICAgZ3Jhdml0eVNwZWNFbmRQcm9wID0gXCJncmF2aXR5XCIuY29uY2F0KHNwZWNBeGlzTCwgXCJFbmRcIiksXG4gICAgICAgICAgICAgIGdyYXZpdHlSYW5nZVN0YXJ0UHJvcCA9IFwiZ3Jhdml0eVwiLmNvbmNhdChyYW5nZUF4aXNMLCBcIlN0YXJ0XCIpLFxuICAgICAgICAgICAgICBncmF2aXR5UmFuZ2VFbmRQcm9wID0gXCJncmF2aXR5XCIuY29uY2F0KHJhbmdlQXhpc0wsIFwiRW5kXCIpO1xuICAgICAgICAgIHRhcmdldFhZW3NwZWNBeGlzXSA9IHJlc29sdmVQUFZhbHVlKHRhcmdldFhZW3NwZWNBeGlzXSwgYmFzZU9yaWdpblhZW3NwZWNBeGlzXSwgYmFzZVNpemVYWVtzcGVjQXhpc10pO1xuICAgICAgICAgIHRhcmdldFhZW3N0YXJ0UHJvcF0gPSByZXNvbHZlUFBWYWx1ZSh0YXJnZXRYWVtzdGFydFByb3BdLCBiYXNlT3JpZ2luWFlbcmFuZ2VBeGlzXSwgYmFzZVNpemVYWVtyYW5nZUF4aXNdKTtcbiAgICAgICAgICB0YXJnZXRYWVtlbmRQcm9wXSA9IHJlc29sdmVQUFZhbHVlKHRhcmdldFhZW2VuZFByb3BdLCBiYXNlT3JpZ2luWFlbcmFuZ2VBeGlzXSwgYmFzZVNpemVYWVtyYW5nZUF4aXNdKSAtIGVsZW1lbnRTaXplWFlbcmFuZ2VBeGlzXTsgLy8gUmVkdWNlIHRoZSBlbmQgb2YgdGhlIGxpbmUuXG5cbiAgICAgICAgICBpZiAodGFyZ2V0WFlbc3RhcnRQcm9wXSA+IHRhcmdldFhZW2VuZFByb3BdIHx8IC8vIFNtYWxsZXIgdGhhbiBlbGVtZW50IHNpemUuXG4gICAgICAgICAgdGFyZ2V0WFlbc3RhcnRQcm9wXSA+IG1heFhZW3JhbmdlQXhpc10gfHwgdGFyZ2V0WFlbZW5kUHJvcF0gPCBtaW5YWVtyYW5nZUF4aXNdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRhcmdldFhZLmNlbnRlcikge1xuICAgICAgICAgICAgdGFyZ2V0WFlbc3BlY0F4aXNdIC09IGVsZW1lbnRTaXplWFlbc3BlY0F4aXNdIC8gMjtcbiAgICAgICAgICAgIHRhcmdldFhZLnNpZGVzID0gWydzdGFydCddO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICh0YXJnZXRYWS5zaWRlcyB8fCBwYXJzZWRTbmFwVGFyZ2V0LnNpZGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICB2YXIgeHkgPSB0YXJnZXRYWVtzcGVjQXhpc10gLSAoc2lkZSA9PT0gJ2VuZCcgPyBlbGVtZW50U2l6ZVhZW3NwZWNBeGlzXSA6IDApO1xuXG4gICAgICAgICAgICBpZiAoeHkgPj0gbWluWFlbc3BlY0F4aXNdICYmIHh5IDw9IG1heFhZW3NwZWNBeGlzXSkge1xuICAgICAgICAgICAgICB2YXIgc25hcFRhcmdldCA9IHt9LFxuICAgICAgICAgICAgICAgICAgZ3Jhdml0eVNwZWNTdGFydCA9IHh5IC0gdGFyZ2V0WFlbZ3Jhdml0eVByb3BdLFxuICAgICAgICAgICAgICAgICAgZ3Jhdml0eVNwZWNFbmQgPSB4eSArIHRhcmdldFhZW2dyYXZpdHlQcm9wXTtcbiAgICAgICAgICAgICAgc25hcFRhcmdldFtzcGVjQXhpc10gPSB4eTtcblxuICAgICAgICAgICAgICBpZiAoZ3Jhdml0eVNwZWNTdGFydCA+IG1pblhZW3NwZWNBeGlzXSkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXRbZ3Jhdml0eVNwZWNTdGFydFByb3BdID0gZ3Jhdml0eVNwZWNTdGFydDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChncmF2aXR5U3BlY0VuZCA8IG1heFhZW3NwZWNBeGlzXSkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXRbZ3Jhdml0eVNwZWNFbmRQcm9wXSA9IGdyYXZpdHlTcGVjRW5kO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHRhcmdldFhZW3N0YXJ0UHJvcF0gPiBtaW5YWVtyYW5nZUF4aXNdKSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldFtncmF2aXR5UmFuZ2VTdGFydFByb3BdID0gdGFyZ2V0WFlbc3RhcnRQcm9wXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh0YXJnZXRYWVtlbmRQcm9wXSA8IG1heFhZW3JhbmdlQXhpc10pIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0W2dyYXZpdHlSYW5nZUVuZFByb3BdID0gdGFyZ2V0WFlbZW5kUHJvcF07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzbmFwVGFyZ2V0cy5wdXNoKHNuYXBUYXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBiQm94O1xuXG4gICAgICBpZiAoKGJCb3ggPSBwYXJzZWRTbmFwVGFyZ2V0LmVsZW1lbnQgPyBnZXRCQm94KHBhcnNlZFNuYXBUYXJnZXQuZWxlbWVudCkgOiBudWxsKSB8fCAvLyBFbGVtZW50XG4gICAgICBwYXJzZWRTbmFwVGFyZ2V0LnBwQkJveCkge1xuICAgICAgICBpZiAocGFyc2VkU25hcFRhcmdldC5wcEJCb3gpIHtcbiAgICAgICAgICBiQm94ID0gcmVzb2x2ZVBQQkJveChwYXJzZWRTbmFwVGFyZ2V0LnBwQkJveCwgYmFzZVJlY3QpO1xuICAgICAgICB9IC8vIEJCb3hcblxuXG4gICAgICAgIGlmIChiQm94KSB7XG4gICAgICAgICAgLy8gRHJvcCBpbnZhbGlkIEJCb3guXG4gICAgICAgICAgLy8gRXhwYW5kIGludG8gNCBsaW5lcy5cbiAgICAgICAgICBwYXJzZWRTbmFwVGFyZ2V0LmVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhlblggPSBwYXJzZWRTbmFwVGFyZ2V0LmdyYXZpdHksXG4gICAgICAgICAgICAgICAgbGVuZ3RoZW5ZID0gcGFyc2VkU25hcFRhcmdldC5ncmF2aXR5O1xuXG4gICAgICAgICAgICBpZiAoZWRnZSA9PT0gJ291dHNpZGUnKSB7XG4gICAgICAgICAgICAgIC8vIFNuYXAgaXQgd2hlbiBhIHBhcnQgb2YgdGhlIGVsZW1lbnQgaXMgcGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICAgICAgICAgIGxlbmd0aGVuWCArPSBlbGVtZW50QkJveC53aWR0aDtcbiAgICAgICAgICAgICAgbGVuZ3RoZW5ZICs9IGVsZW1lbnRCQm94LmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHhTdGFydCA9IGJCb3gubGVmdCAtIGxlbmd0aGVuWCxcbiAgICAgICAgICAgICAgICB4RW5kID0gYkJveC5yaWdodCArIGxlbmd0aGVuWCxcbiAgICAgICAgICAgICAgICB5U3RhcnQgPSBiQm94LnRvcCAtIGxlbmd0aGVuWSxcbiAgICAgICAgICAgICAgICB5RW5kID0gYkJveC5ib3R0b20gKyBsZW5ndGhlblk7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IGVkZ2UgPT09ICdpbnNpZGUnID8gJ3N0YXJ0JyA6ICdlbmQnO1xuICAgICAgICAgICAgYWRkU25hcFRhcmdldCh7XG4gICAgICAgICAgICAgIHhTdGFydDogeFN0YXJ0LFxuICAgICAgICAgICAgICB4RW5kOiB4RW5kLFxuICAgICAgICAgICAgICB5OiBiQm94LnRvcCxcbiAgICAgICAgICAgICAgc2lkZXM6IFtzaWRlXSxcbiAgICAgICAgICAgICAgY2VudGVyOiBmYWxzZVxuICAgICAgICAgICAgfSk7IC8vIFRvcFxuXG4gICAgICAgICAgICBhZGRTbmFwVGFyZ2V0KHtcbiAgICAgICAgICAgICAgeDogYkJveC5sZWZ0LFxuICAgICAgICAgICAgICB5U3RhcnQ6IHlTdGFydCxcbiAgICAgICAgICAgICAgeUVuZDogeUVuZCxcbiAgICAgICAgICAgICAgc2lkZXM6IFtzaWRlXSxcbiAgICAgICAgICAgICAgY2VudGVyOiBmYWxzZVxuICAgICAgICAgICAgfSk7IC8vIExlZnRcblxuICAgICAgICAgICAgc2lkZSA9IGVkZ2UgPT09ICdpbnNpZGUnID8gJ2VuZCcgOiAnc3RhcnQnO1xuICAgICAgICAgICAgYWRkU25hcFRhcmdldCh7XG4gICAgICAgICAgICAgIHhTdGFydDogeFN0YXJ0LFxuICAgICAgICAgICAgICB4RW5kOiB4RW5kLFxuICAgICAgICAgICAgICB5OiBiQm94LmJvdHRvbSxcbiAgICAgICAgICAgICAgc2lkZXM6IFtzaWRlXSxcbiAgICAgICAgICAgICAgY2VudGVyOiBmYWxzZVxuICAgICAgICAgICAgfSk7IC8vIEJvdHRvbVxuXG4gICAgICAgICAgICBhZGRTbmFwVGFyZ2V0KHtcbiAgICAgICAgICAgICAgeDogYkJveC5yaWdodCxcbiAgICAgICAgICAgICAgeVN0YXJ0OiB5U3RhcnQsXG4gICAgICAgICAgICAgIHlFbmQ6IHlFbmQsXG4gICAgICAgICAgICAgIHNpZGVzOiBbc2lkZV0sXG4gICAgICAgICAgICAgIGNlbnRlcjogZmFsc2VcbiAgICAgICAgICAgIH0pOyAvLyBSaWdodFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXhwYW5kZWQgPSBbWyd4JywgJ3knLCAneFN0YXJ0JywgJ3hFbmQnLCAneFN0ZXAnLCAneVN0YXJ0JywgJ3lFbmQnLCAneVN0ZXAnXS5yZWR1Y2UoZnVuY3Rpb24gKHRhcmdldFhZLCBwcm9wKSB7XG4gICAgICAgICAgaWYgKHBhcnNlZFNuYXBUYXJnZXRbcHJvcF0pIHtcbiAgICAgICAgICAgIHRhcmdldFhZW3Byb3BdID0gcmVzb2x2ZVBQVmFsdWUocGFyc2VkU25hcFRhcmdldFtwcm9wXSwgcHJvcCA9PT0gJ3hTdGVwJyB8fCBwcm9wID09PSAneVN0ZXAnID8gMCA6IGJhc2VPcmlnaW5YWVtwcm9wMkF4aXNbcHJvcF1dLCBiYXNlU2l6ZVhZW3Byb3AyQXhpc1twcm9wXV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0YXJnZXRYWTtcbiAgICAgICAgfSwge30pXTtcbiAgICAgICAgWyd4JywgJ3knXS5mb3JFYWNoKGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0UHJvcCA9IFwiXCIuY29uY2F0KGF4aXMsIFwiU3RhcnRcIiksXG4gICAgICAgICAgICAgIGVuZFByb3AgPSBcIlwiLmNvbmNhdChheGlzLCBcIkVuZFwiKSxcbiAgICAgICAgICAgICAgc3RlcFByb3AgPSBcIlwiLmNvbmNhdChheGlzLCBcIlN0ZXBcIiksXG4gICAgICAgICAgICAgIGdyYXZpdHlQcm9wID0gXCJcIi5jb25jYXQoYXhpcywgXCJHcmF2aXR5XCIpO1xuICAgICAgICAgIGV4cGFuZGVkID0gZXhwYW5kZWQucmVkdWNlKGZ1bmN0aW9uIChleHBhbmRlZCwgdGFyZ2V0WFkpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRhcmdldFhZW3N0YXJ0UHJvcF0sXG4gICAgICAgICAgICAgICAgZW5kID0gdGFyZ2V0WFlbZW5kUHJvcF0sXG4gICAgICAgICAgICAgICAgc3RlcCA9IHRhcmdldFhZW3N0ZXBQcm9wXTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0ICE9IG51bGwgJiYgZW5kICE9IG51bGwgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgICAgICAgICAgIHJldHVybiBleHBhbmRlZDtcbiAgICAgICAgICAgIH0gLy8gc3RhcnQgPj0gZW5kXG5cblxuICAgICAgICAgICAgaWYgKHN0ZXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAoc3RlcCA8IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwYW5kZWQ7XG4gICAgICAgICAgICAgIH0gLy8gc3RlcCA+PSAycHggLT4gRXhwYW5kIGJ5IHN0ZXBcblxuXG4gICAgICAgICAgICAgIHZhciBncmF2aXR5ID0gc3RlcCAvIDI7IC8vIG1heFxuXG4gICAgICAgICAgICAgIGdyYXZpdHkgPSBwYXJzZWRTbmFwVGFyZ2V0LmdyYXZpdHkgPiBncmF2aXR5ID8gZ3Jhdml0eSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgY3VyVmFsdWUgPSBzdGFydDsgY3VyVmFsdWUgPD0gZW5kOyBjdXJWYWx1ZSArPSBzdGVwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cGFuZGVkWFkgPSBPYmplY3Qua2V5cyh0YXJnZXRYWSkucmVkdWNlKGZ1bmN0aW9uIChleHBhbmRlZFhZLCBwcm9wKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gc3RhcnRQcm9wICYmIHByb3AgIT09IGVuZFByb3AgJiYgcHJvcCAhPT0gc3RlcFByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWRYWVtwcm9wXSA9IHRhcmdldFhZW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXhwYW5kZWRYWTtcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRYWVtheGlzXSA9IGN1clZhbHVlO1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkWFlbZ3Jhdml0eVByb3BdID0gZ3Jhdml0eTtcbiAgICAgICAgICAgICAgICBleHBhbmRlZC5wdXNoKGV4cGFuZGVkWFkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHBhbmRlZC5wdXNoKHRhcmdldFhZKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGV4cGFuZGVkO1xuICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGFuZGVkLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldFhZKSB7XG4gICAgICAgICAgYWRkU25hcFRhcmdldCh0YXJnZXRYWSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc25hcFRhcmdldHM7XG4gICAgfSwgW10pO1xuICAgIHByb3BzLnNuYXBUYXJnZXRzID0gc25hcFRhcmdldHMubGVuZ3RoID8gc25hcFRhcmdldHMgOiBudWxsO1xuICB9IC8vIFsvU05BUF1cbiAgLy8gW0FVVE8tU0NST0xMXVxuXG5cbiAgdmFyIGF1dG9TY3JvbGwgPSB7fSxcbiAgICAgIGF1dG9TY3JvbGxPcHRpb25zID0gcHJvcHMub3B0aW9ucy5hdXRvU2Nyb2xsO1xuXG4gIGlmIChhdXRvU2Nyb2xsT3B0aW9ucykge1xuICAgIGF1dG9TY3JvbGwuaXNXaW5kb3cgPSBhdXRvU2Nyb2xsT3B0aW9ucy50YXJnZXQgPT09IHdpbmRvdztcbiAgICBhdXRvU2Nyb2xsLnRhcmdldCA9IGF1dG9TY3JvbGxPcHRpb25zLnRhcmdldDtcbiAgICB2YXIgZG9udFNjcm9sbCA9IGV2ZW50VHlwZSA9PT0gJ3Njcm9sbCcsXG4gICAgICAgIC8vIEF2b2lkIGR1cGxpY2F0ZWQgY2FsbGluZ1xuICAgIHNjcm9sbGFibGUgPSBnZXRTY3JvbGxhYmxlKGF1dG9TY3JvbGxPcHRpb25zLnRhcmdldCwgYXV0b1Njcm9sbC5pc1dpbmRvdywgZG9udFNjcm9sbCksXG4gICAgICAgIHNjcm9sbGFibGVCQm94ID0gdmFsaWRCQm94KHtcbiAgICAgIGxlZnQ6IHNjcm9sbGFibGUuY2xpZW50WCxcbiAgICAgIHRvcDogc2Nyb2xsYWJsZS5jbGllbnRZLFxuICAgICAgd2lkdGg6IHNjcm9sbGFibGUuY2xpZW50V2lkdGgsXG4gICAgICBoZWlnaHQ6IHNjcm9sbGFibGUuY2xpZW50SGVpZ2h0XG4gICAgfSk7XG5cbiAgICBpZiAoIWRvbnRTY3JvbGwpIHtcbiAgICAgIGF1dG9TY3JvbGwuc2Nyb2xsV2lkdGggPSBzY3JvbGxhYmxlLnNjcm9sbFdpZHRoO1xuICAgICAgYXV0b1Njcm9sbC5zY3JvbGxIZWlnaHQgPSBzY3JvbGxhYmxlLnNjcm9sbEhlaWdodDtcbiAgICB9IGVsc2UgaWYgKHByb3BzLmF1dG9TY3JvbGwpIHtcbiAgICAgIGF1dG9TY3JvbGwuc2Nyb2xsV2lkdGggPSBwcm9wcy5hdXRvU2Nyb2xsLnNjcm9sbFdpZHRoO1xuICAgICAgYXV0b1Njcm9sbC5zY3JvbGxIZWlnaHQgPSBwcm9wcy5hdXRvU2Nyb2xsLnNjcm9sbEhlaWdodDtcbiAgICB9XG5cbiAgICBbWydYJywgJ1dpZHRoJywgJ2xlZnQnLCAncmlnaHQnXSwgWydZJywgJ0hlaWdodCcsICd0b3AnLCAnYm90dG9tJ11dLmZvckVhY2goZnVuY3Rpb24gKGF4aXMpIHtcbiAgICAgIHZhciB4eSA9IGF4aXNbMF0sXG4gICAgICAgICAgd2ggPSBheGlzWzFdLFxuICAgICAgICAgIGJhY2sgPSBheGlzWzJdLFxuICAgICAgICAgIGZvcndhcmQgPSBheGlzWzNdLFxuICAgICAgICAgIG1heEFicyA9IChhdXRvU2Nyb2xsW1wic2Nyb2xsXCIuY29uY2F0KHdoKV0gfHwgMCkgLSBzY3JvbGxhYmxlW1wiY2xpZW50XCIuY29uY2F0KHdoKV0sXG4gICAgICAgICAgbWluID0gYXV0b1Njcm9sbE9wdGlvbnNbXCJtaW5cIi5jb25jYXQoeHkpXSB8fCAwO1xuICAgICAgdmFyIG1heCA9IGlzRmluaXRlKGF1dG9TY3JvbGxPcHRpb25zW1wibWF4XCIuY29uY2F0KHh5KV0pID8gYXV0b1Njcm9sbE9wdGlvbnNbXCJtYXhcIi5jb25jYXQoeHkpXSA6IG1heEFicztcblxuICAgICAgaWYgKG1pbiA8IG1heCAmJiBtaW4gPCBtYXhBYnMpIHtcbiAgICAgICAgaWYgKG1heCA+IG1heEFicykge1xuICAgICAgICAgIG1heCA9IG1heEFicztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lcyA9IFtdLFxuICAgICAgICAgICAgZWxlbWVudFNpemUgPSBlbGVtZW50QkJveFt3aC50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gYXV0b1Njcm9sbE9wdGlvbnMuc2Vuc2l0aXZpdHkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAvLyBuZWFyIC0+IGZhclxuICAgICAgICAgIHZhciBzZW5zaXRpdml0eSA9IGF1dG9TY3JvbGxPcHRpb25zLnNlbnNpdGl2aXR5W2ldLFxuICAgICAgICAgICAgICBzcGVlZCA9IGF1dG9TY3JvbGxPcHRpb25zLnNwZWVkW2ldOyAvLyBiYWNrXG5cbiAgICAgICAgICBsaW5lcy5wdXNoKHtcbiAgICAgICAgICAgIGRpcjogLTEsXG4gICAgICAgICAgICBzcGVlZDogc3BlZWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogc2Nyb2xsYWJsZUJCb3hbYmFja10gKyBzZW5zaXRpdml0eVxuICAgICAgICAgIH0pOyAvLyBmb3J3YXJkXG5cbiAgICAgICAgICBsaW5lcy5wdXNoKHtcbiAgICAgICAgICAgIGRpcjogMSxcbiAgICAgICAgICAgIHNwZWVkOiBzcGVlZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzY3JvbGxhYmxlQkJveFtmb3J3YXJkXSAtIHNlbnNpdGl2aXR5IC0gZWxlbWVudFNpemVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1dG9TY3JvbGxbeHkudG9Mb3dlckNhc2UoKV0gPSB7XG4gICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgbGluZXM6IGxpbmVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm9wcy5hdXRvU2Nyb2xsID0gYXV0b1Njcm9sbC54IHx8IGF1dG9TY3JvbGwueSA/IGF1dG9TY3JvbGwgOiBudWxsOyAvLyBbL0FVVE8tU0NST0xMXVxufVxuLyoqXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGRyYWdFbmQocHJvcHMpIHtcbiAgc2Nyb2xsRnJhbWUuc3RvcCgpOyAvLyBbQVVUTy1TQ1JPTEwvXVxuXG4gIHNldERyYWdnYWJsZUN1cnNvcihwcm9wcy5vcHRpb25zLmhhbmRsZSwgcHJvcHMub3JnQ3Vyc29yKTtcbiAgYm9keS5zdHlsZS5jdXJzb3IgPSBjc3NPcmdWYWx1ZUJvZHlDdXJzb3I7XG5cbiAgaWYgKHByb3BzLm9wdGlvbnMuekluZGV4ICE9PSBmYWxzZSkge1xuICAgIHByb3BzLmVsZW1lbnRTdHlsZS56SW5kZXggPSBwcm9wcy5vcmdaSW5kZXg7XG4gIH1cblxuICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QpIHtcbiAgICBib2R5LnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XSA9IGNzc09yZ1ZhbHVlQm9keVVzZXJTZWxlY3Q7XG4gIH1cblxuICB2YXIgY2xhc3NMaXN0ID0gbUNsYXNzTGlzdChwcm9wcy5lbGVtZW50KTtcblxuICBpZiAobW92aW5nQ2xhc3MpIHtcbiAgICBjbGFzc0xpc3QucmVtb3ZlKG1vdmluZ0NsYXNzKTtcbiAgfVxuXG4gIGlmIChkcmFnZ2luZ0NsYXNzKSB7XG4gICAgY2xhc3NMaXN0LnJlbW92ZShkcmFnZ2luZ0NsYXNzKTtcbiAgfVxuXG4gIGFjdGl2ZVByb3BzID0gbnVsbDtcbiAgcG9pbnRlckV2ZW50LmNhbmNlbCgpOyAvLyBSZXNldCBwb2ludGVyIChhY3RpdmVQcm9wcyBtdXN0IGJlIG51bGwgYmVjYXVzZSB0aGlzIGNhbGxzIGVuZEhhbmRsZXIpXG5cbiAgaWYgKHByb3BzLm9uRHJhZ0VuZCkge1xuICAgIHByb3BzLm9uRHJhZ0VuZCh7XG4gICAgICBsZWZ0OiBwcm9wcy5lbGVtZW50QkJveC5sZWZ0LFxuICAgICAgdG9wOiBwcm9wcy5lbGVtZW50QkJveC50b3BcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3tjbGllbnRYLCBjbGllbnRZfX0gcG9pbnRlclhZIC0gVGhpcyBtaWdodCBiZSBNb3VzZUV2ZW50LCBUb3VjaCBvZiBUb3VjaEV2ZW50IG9yIE9iamVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaXQgc3RhcnRlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRyYWdTdGFydChwcm9wcywgcG9pbnRlclhZKSB7XG4gIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChwcm9wcy5vbkRyYWdTdGFydCAmJiBwcm9wcy5vbkRyYWdTdGFydChwb2ludGVyWFkpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhY3RpdmVQcm9wcykge1xuICAgIGRyYWdFbmQoYWN0aXZlUHJvcHMpO1xuICB9IC8vIGFjdGl2ZUl0ZW0gaXMgbm9ybWFsbHkgbnVsbCBieSBwb2ludGVyRXZlbnQuZW5kLlxuXG5cbiAgc2V0RHJhZ2dpbmdDdXJzb3IocHJvcHMub3B0aW9ucy5oYW5kbGUpO1xuICBib2R5LnN0eWxlLmN1cnNvciA9IGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgfHwgLy8gSWYgaXQgaXMgYGZhbHNlYCBvciBgJydgXG4gIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHByb3BzLm9wdGlvbnMuaGFuZGxlLCAnJykuY3Vyc29yO1xuXG4gIGlmIChwcm9wcy5vcHRpb25zLnpJbmRleCAhPT0gZmFsc2UpIHtcbiAgICBwcm9wcy5lbGVtZW50U3R5bGUuekluZGV4ID0gcHJvcHMub3B0aW9ucy56SW5kZXg7XG4gIH1cblxuICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QpIHtcbiAgICBib2R5LnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XSA9ICdub25lJztcbiAgfVxuXG4gIGlmIChkcmFnZ2luZ0NsYXNzKSB7XG4gICAgbUNsYXNzTGlzdChwcm9wcy5lbGVtZW50KS5hZGQoZHJhZ2dpbmdDbGFzcyk7XG4gIH1cblxuICBhY3RpdmVQcm9wcyA9IHByb3BzO1xuICBoYXNNb3ZlZCA9IGZhbHNlO1xuICBwb2ludGVyT2Zmc2V0LmxlZnQgPSBwcm9wcy5lbGVtZW50QkJveC5sZWZ0IC0gKHBvaW50ZXJYWS5jbGllbnRYICsgd2luZG93LnBhZ2VYT2Zmc2V0KTtcbiAgcG9pbnRlck9mZnNldC50b3AgPSBwcm9wcy5lbGVtZW50QkJveC50b3AgLSAocG9pbnRlclhZLmNsaWVudFkgKyB3aW5kb3cucGFnZVlPZmZzZXQpO1xuICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHtPYmplY3R9IG5ld09wdGlvbnMgLSBOZXcgb3B0aW9ucy5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cblxuZnVuY3Rpb24gX3NldE9wdGlvbnMocHJvcHMsIG5ld09wdGlvbnMpIHtcbiAgdmFyIG9wdGlvbnMgPSBwcm9wcy5vcHRpb25zO1xuICB2YXIgbmVlZHNJbml0QkJveDsgLy8gY29udGFpbm1lbnRcblxuICBpZiAobmV3T3B0aW9ucy5jb250YWlubWVudCkge1xuICAgIHZhciBiQm94O1xuXG4gICAgaWYgKGlzRWxlbWVudChuZXdPcHRpb25zLmNvbnRhaW5tZW50KSkge1xuICAgICAgLy8gU3BlY2lmaWMgZWxlbWVudFxuICAgICAgaWYgKG5ld09wdGlvbnMuY29udGFpbm1lbnQgIT09IG9wdGlvbnMuY29udGFpbm1lbnQpIHtcbiAgICAgICAgb3B0aW9ucy5jb250YWlubWVudCA9IG5ld09wdGlvbnMuY29udGFpbm1lbnQ7XG4gICAgICAgIHByb3BzLmNvbnRhaW5tZW50SXNCQm94ID0gZmFsc2U7XG4gICAgICAgIG5lZWRzSW5pdEJCb3ggPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKGJCb3ggPSB2YWxpZFBQQkJveChjb3B5VHJlZShuZXdPcHRpb25zLmNvbnRhaW5tZW50KSkpICYmIC8vIGJCb3hcbiAgICBoYXNDaGFuZ2VkKGJCb3gsIG9wdGlvbnMuY29udGFpbm1lbnQpKSB7XG4gICAgICBvcHRpb25zLmNvbnRhaW5tZW50ID0gYkJveDtcbiAgICAgIHByb3BzLmNvbnRhaW5tZW50SXNCQm94ID0gdHJ1ZTtcbiAgICAgIG5lZWRzSW5pdEJCb3ggPSB0cnVlO1xuICAgIH1cbiAgfSAvLyBbU05BUF1cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gU25hcE9wdGlvbnNcbiAgICogQHByb3BlcnR5IHtTbmFwVGFyZ2V0T3B0aW9uc1tdfSB0YXJnZXRzXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3Jhdml0eV1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtjb3JuZXJdXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2lkZV1cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbY2VudGVyXVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2VkZ2VdXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYmFzZV1cbiAgICovXG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IFNuYXBUYXJnZXRPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxzdHJpbmcpfSBbeF0gLSBwaXhlbHMgfCAnPG4+JScgfCB7c3RhcnQsIGVuZH0gfCB7c3RlcCwgc3RhcnQsIGVuZH1cbiAgICogQHByb3BlcnR5IHsobnVtYmVyfHN0cmluZyl9IFt5XVxuICAgKiBAcHJvcGVydHkgeyhFbGVtZW50fE9iamVjdCl9IFtib3VuZGluZ0JveF0gLSBPYmplY3QgaGFzIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RyaW5nIG9yIG51bWJlciBmcm9tIFBQQkJveC5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtncmF2aXR5XVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Nvcm5lcl1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaWRlXVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjZW50ZXJdXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZWRnZV1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtiYXNlXVxuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gUGFyc2VkU25hcFRhcmdldFxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt4XSAtIChpbnB1dDogcGl4ZWxzIHwgJzxuPiUnKVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt5XVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt4U3RhcnRdIC0gKGlucHV0OiB7c3RhcnQsIGVuZH0gfCB7c3RlcCwgc3RhcnQsIGVuZH0pXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3hFbmRdXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3hTdGVwXSAtIChpbnB1dDoge3N0ZXAsIHN0YXJ0LCBlbmR9KVxuICAgKiBAcHJvcGVydHkge1BQVmFsdWV9IFt5U3RhcnRdXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3lFbmRdXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3lTdGVwXVxuICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IFtlbGVtZW50XVxuICAgKiBAcHJvcGVydHkge1BQQkJveH0gW3BwQkJveF1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGdyYXZpdHlcbiAgICogQHByb3BlcnR5IHtzdHJpbmdbXX0gY29ybmVyc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ1tdfSBzaWRlc1xuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNlbnRlclxuICAgKiBAcHJvcGVydHkge3N0cmluZ1tdfSBlZGdlc1xuICAgKiBAcHJvcGVydHkge3N0cmluZ30gYmFzZVxuICAgKi9cbiAgLy8gTm9ybWFsaXplIGBncmF2aXR5YCwgYGNvcm5lcmAsIGBzaWRlYCwgYGNlbnRlcmAsIGBlZGdlYCwgYGJhc2VgXG5cblxuICBmdW5jdGlvbiBjb21tb25TbmFwT3B0aW9ucyhvcHRpb25zLCBuZXdPcHRpb25zKSB7XG4gICAgZnVuY3Rpb24gY2xlYW5TdHJpbmcoaW5TdHJpbmcpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaW5TdHJpbmcgPT09ICdzdHJpbmcnID8gaW5TdHJpbmcucmVwbGFjZSgvWywgXSsvZywgJyAnKS50cmltKCkudG9Mb3dlckNhc2UoKSA6IG51bGw7XG4gICAgfSAvLyBncmF2aXR5XG5cblxuICAgIGlmIChpc0Zpbml0ZShuZXdPcHRpb25zLmdyYXZpdHkpICYmIG5ld09wdGlvbnMuZ3Jhdml0eSA+IDApIHtcbiAgICAgIG9wdGlvbnMuZ3Jhdml0eSA9IG5ld09wdGlvbnMuZ3Jhdml0eTtcbiAgICB9IC8vIGNvcm5lclxuXG5cbiAgICB2YXIgY29ybmVyID0gY2xlYW5TdHJpbmcobmV3T3B0aW9ucy5jb3JuZXIpO1xuXG4gICAgaWYgKGNvcm5lcikge1xuICAgICAgaWYgKGNvcm5lciAhPT0gJ2FsbCcpIHtcbiAgICAgICAgdmFyIGFkZGVkID0ge30sXG4gICAgICAgICAgICBjb3JuZXJzID0gY29ybmVyLnNwbGl0KC9cXHMvKS5yZWR1Y2UoZnVuY3Rpb24gKGNvcm5lcnMsIGNvcm5lcikge1xuICAgICAgICAgIGNvcm5lciA9IGNvcm5lci50cmltKCkucmVwbGFjZSgvXiguKS4qPy0oLikuKiQvLCAnJDEkMicpO1xuXG4gICAgICAgICAgaWYgKChjb3JuZXIgPSBjb3JuZXIgPT09ICd0bCcgfHwgY29ybmVyID09PSAnbHQnID8gJ3RsJyA6IGNvcm5lciA9PT0gJ3RyJyB8fCBjb3JuZXIgPT09ICdydCcgPyAndHInIDogY29ybmVyID09PSAnYmwnIHx8IGNvcm5lciA9PT0gJ2xiJyA/ICdibCcgOiBjb3JuZXIgPT09ICdicicgfHwgY29ybmVyID09PSAncmInID8gJ2JyJyA6IG51bGwpICYmICFhZGRlZFtjb3JuZXJdKSB7XG4gICAgICAgICAgICBjb3JuZXJzLnB1c2goY29ybmVyKTtcbiAgICAgICAgICAgIGFkZGVkW2Nvcm5lcl0gPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb3JuZXJzO1xuICAgICAgICB9LCBbXSksXG4gICAgICAgICAgICBjb3JuZXJzTGVuID0gY29ybmVycy5sZW5ndGg7XG4gICAgICAgIGNvcm5lciA9ICFjb3JuZXJzTGVuID8gbnVsbCA6IGNvcm5lcnNMZW4gPT09IDQgPyAnYWxsJyA6IGNvcm5lcnMuam9pbignICcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29ybmVyKSB7XG4gICAgICAgIG9wdGlvbnMuY29ybmVyID0gY29ybmVyO1xuICAgICAgfVxuICAgIH0gLy8gc2lkZVxuXG5cbiAgICB2YXIgc2lkZSA9IGNsZWFuU3RyaW5nKG5ld09wdGlvbnMuc2lkZSk7XG5cbiAgICBpZiAoc2lkZSkge1xuICAgICAgaWYgKHNpZGUgPT09ICdzdGFydCcgfHwgc2lkZSA9PT0gJ2VuZCcgfHwgc2lkZSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIG9wdGlvbnMuc2lkZSA9IHNpZGU7XG4gICAgICB9IGVsc2UgaWYgKHNpZGUgPT09ICdzdGFydCBlbmQnIHx8IHNpZGUgPT09ICdlbmQgc3RhcnQnKSB7XG4gICAgICAgIG9wdGlvbnMuc2lkZSA9ICdib3RoJztcbiAgICAgIH1cbiAgICB9IC8vIGNlbnRlclxuXG5cbiAgICBpZiAodHlwZW9mIG5ld09wdGlvbnMuY2VudGVyID09PSAnYm9vbGVhbicpIHtcbiAgICAgIG9wdGlvbnMuY2VudGVyID0gbmV3T3B0aW9ucy5jZW50ZXI7XG4gICAgfSAvLyBlZGdlXG5cblxuICAgIHZhciBlZGdlID0gY2xlYW5TdHJpbmcobmV3T3B0aW9ucy5lZGdlKTtcblxuICAgIGlmIChlZGdlKSB7XG4gICAgICBpZiAoZWRnZSA9PT0gJ2luc2lkZScgfHwgZWRnZSA9PT0gJ291dHNpZGUnIHx8IGVkZ2UgPT09ICdib3RoJykge1xuICAgICAgICBvcHRpb25zLmVkZ2UgPSBlZGdlO1xuICAgICAgfSBlbHNlIGlmIChlZGdlID09PSAnaW5zaWRlIG91dHNpZGUnIHx8IGVkZ2UgPT09ICdvdXRzaWRlIGluc2lkZScpIHtcbiAgICAgICAgb3B0aW9ucy5lZGdlID0gJ2JvdGgnO1xuICAgICAgfVxuICAgIH0gLy8gYmFzZVxuXG5cbiAgICB2YXIgYmFzZSA9IHR5cGVvZiBuZXdPcHRpb25zLmJhc2UgPT09ICdzdHJpbmcnID8gbmV3T3B0aW9ucy5iYXNlLnRyaW0oKS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcblxuICAgIGlmIChiYXNlICYmIChiYXNlID09PSAnY29udGFpbm1lbnQnIHx8IGJhc2UgPT09ICdkb2N1bWVudCcpKSB7XG4gICAgICBvcHRpb25zLmJhc2UgPSBiYXNlO1xuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zO1xuICB9IC8vIHNuYXBcblxuXG4gIGlmIChuZXdPcHRpb25zLnNuYXAgIT0gbnVsbCkge1xuICAgIHZhciBuZXdTbmFwT3B0aW9ucyA9IGlzT2JqZWN0KG5ld09wdGlvbnMuc25hcCkgJiYgbmV3T3B0aW9ucy5zbmFwLnRhcmdldHMgIT0gbnVsbCA/IG5ld09wdGlvbnMuc25hcCA6IHtcbiAgICAgIHRhcmdldHM6IG5ld09wdGlvbnMuc25hcFxuICAgIH0sXG4gICAgICAgIHNuYXBUYXJnZXRzT3B0aW9ucyA9IFtdLFxuICAgICAgICBzbmFwT3B0aW9ucyA9IGNvbW1vblNuYXBPcHRpb25zKHtcbiAgICAgIHRhcmdldHM6IHNuYXBUYXJnZXRzT3B0aW9uc1xuICAgIH0sIG5ld1NuYXBPcHRpb25zKTsgLy8gU2V0IGRlZmF1bHQgb3B0aW9ucyBpbnRvIHRvcCBsZXZlbC5cblxuICAgIGlmICghc25hcE9wdGlvbnMuZ3Jhdml0eSkge1xuICAgICAgc25hcE9wdGlvbnMuZ3Jhdml0eSA9IFNOQVBfR1JBVklUWTtcbiAgICB9XG5cbiAgICBpZiAoIXNuYXBPcHRpb25zLmNvcm5lcikge1xuICAgICAgc25hcE9wdGlvbnMuY29ybmVyID0gU05BUF9DT1JORVI7XG4gICAgfVxuXG4gICAgaWYgKCFzbmFwT3B0aW9ucy5zaWRlKSB7XG4gICAgICBzbmFwT3B0aW9ucy5zaWRlID0gU05BUF9TSURFO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc25hcE9wdGlvbnMuY2VudGVyICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHNuYXBPcHRpb25zLmNlbnRlciA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghc25hcE9wdGlvbnMuZWRnZSkge1xuICAgICAgc25hcE9wdGlvbnMuZWRnZSA9IFNOQVBfRURHRTtcbiAgICB9XG5cbiAgICBpZiAoIXNuYXBPcHRpb25zLmJhc2UpIHtcbiAgICAgIHNuYXBPcHRpb25zLmJhc2UgPSBTTkFQX0JBU0U7XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlZFNuYXBUYXJnZXRzID0gKEFycmF5LmlzQXJyYXkobmV3U25hcE9wdGlvbnMudGFyZ2V0cykgPyBuZXdTbmFwT3B0aW9ucy50YXJnZXRzIDogW25ld1NuYXBPcHRpb25zLnRhcmdldHNdKS5yZWR1Y2UoZnVuY3Rpb24gKHBhcnNlZFNuYXBUYXJnZXRzLCB0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkU25hcFRhcmdldHM7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VsZW1lbnRQcmUgPSBpc0VsZW1lbnQodGFyZ2V0KSxcbiAgICAgICAgICAvLyBQcmUtY2hlY2sgZGlyZWN0IHZhbHVlXG4gICAgICBwcEJCb3hQcmUgPSB2YWxpZFBQQkJveChjb3B5VHJlZSh0YXJnZXQpKSxcbiAgICAgICAgICAvLyBQcmUtY2hlY2sgZGlyZWN0IHZhbHVlXG4gICAgICBuZXdTbmFwVGFyZ2V0T3B0aW9ucyA9IGlzRWxlbWVudFByZSB8fCBwcEJCb3hQcmUgPyB7XG4gICAgICAgIGJvdW5kaW5nQm94OiB0YXJnZXRcbiAgICAgIH0gOiAvLyBEaXJlY3QgRWxlbWVudCB8IFBQQkJveFxuICAgICAgaXNPYmplY3QodGFyZ2V0KSAmJiB0YXJnZXQuc3RhcnQgPT0gbnVsbCAmJiB0YXJnZXQuZW5kID09IG51bGwgJiYgdGFyZ2V0LnN0ZXAgPT0gbnVsbCA/IHRhcmdldCA6IC8vIFNuYXBUYXJnZXRPcHRpb25zXG4gICAgICB7XG4gICAgICAgIHg6IHRhcmdldCxcbiAgICAgICAgeTogdGFyZ2V0XG4gICAgICB9LFxuICAgICAgICAgIC8vIE90aGVycywgaXQgbWlnaHQgYmUge3N0ZXAsIHN0YXJ0LCBlbmR9XG4gICAgICBleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzID0gW10sXG4gICAgICAgICAgc25hcFRhcmdldE9wdGlvbnMgPSB7fSxcbiAgICAgICAgICBuZXdPcHRpb25zQkJveCA9IG5ld1NuYXBUYXJnZXRPcHRpb25zLmJvdW5kaW5nQm94O1xuICAgICAgdmFyIHBwQkJveDtcblxuICAgICAgaWYgKGlzRWxlbWVudFByZSB8fCBpc0VsZW1lbnQobmV3T3B0aW9uc0JCb3gpKSB7XG4gICAgICAgIC8vIEVsZW1lbnRcbiAgICAgICAgZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cy5wdXNoKHtcbiAgICAgICAgICBlbGVtZW50OiBuZXdPcHRpb25zQkJveFxuICAgICAgICB9KTtcbiAgICAgICAgc25hcFRhcmdldE9wdGlvbnMuYm91bmRpbmdCb3ggPSBuZXdPcHRpb25zQkJveDtcbiAgICAgIH0gZWxzZSBpZiAocHBCQm94ID0gcHBCQm94UHJlIHx8IHZhbGlkUFBCQm94KGNvcHlUcmVlKG5ld09wdGlvbnNCQm94KSkpIHtcbiAgICAgICAgLy8gT2JqZWN0IC0+IFBQQkJveFxuICAgICAgICBleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzLnB1c2goe1xuICAgICAgICAgIHBwQkJveDogcHBCQm94XG4gICAgICAgIH0pO1xuICAgICAgICBzbmFwVGFyZ2V0T3B0aW9ucy5ib3VuZGluZ0JveCA9IHBwQkJveDJPcHRpb25PYmplY3QocHBCQm94KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpbnZhbGlkOyAvLyBgdHJ1ZWAgaWYgdmFsaWQgUFBWYWx1ZSB3YXMgZ2l2ZW4gYnV0IHRoZSBjb250YWluZWQgdmFsdWUgaXMgaW52YWxpZC5cblxuICAgICAgICB2YXIgcGFyc2VkWFkgPSBbJ3gnLCAneSddLnJlZHVjZShmdW5jdGlvbiAocGFyc2VkWFksIGF4aXMpIHtcbiAgICAgICAgICB2YXIgbmV3T3B0aW9uc1hZID0gbmV3U25hcFRhcmdldE9wdGlvbnNbYXhpc107XG4gICAgICAgICAgdmFyIHBwVmFsdWU7XG5cbiAgICAgICAgICBpZiAocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShuZXdPcHRpb25zWFkpKSB7XG4gICAgICAgICAgICAvLyBwaXhlbHMgfCAnPG4+JSdcbiAgICAgICAgICAgIHBhcnNlZFhZW2F4aXNdID0gcHBWYWx1ZTtcbiAgICAgICAgICAgIHNuYXBUYXJnZXRPcHRpb25zW2F4aXNdID0gcHBWYWx1ZTJPcHRpb25WYWx1ZShwcFZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8ge3N0YXJ0LCBlbmR9IHwge3N0ZXAsIHN0YXJ0LCBlbmR9XG4gICAgICAgICAgICB2YXIgc3RhcnQsIGVuZCwgc3RlcDtcblxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG5ld09wdGlvbnNYWSkpIHtcbiAgICAgICAgICAgICAgc3RhcnQgPSB2YWxpZFBQVmFsdWUobmV3T3B0aW9uc1hZLnN0YXJ0KTtcbiAgICAgICAgICAgICAgZW5kID0gdmFsaWRQUFZhbHVlKG5ld09wdGlvbnNYWS5lbmQpO1xuICAgICAgICAgICAgICBzdGVwID0gdmFsaWRQUFZhbHVlKG5ld09wdGlvbnNYWS5zdGVwKTtcblxuICAgICAgICAgICAgICBpZiAoc3RhcnQgJiYgZW5kICYmIHN0YXJ0LmlzUmF0aW8gPT09IGVuZC5pc1JhdGlvICYmIHN0YXJ0LnZhbHVlID49IGVuZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0ID49IGVuZFxuICAgICAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YXJ0ID0gcGFyc2VkWFlbXCJcIi5jb25jYXQoYXhpcywgXCJTdGFydFwiKV0gPSBzdGFydCB8fCB7XG4gICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICBpc1JhdGlvOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVuZCA9IHBhcnNlZFhZW1wiXCIuY29uY2F0KGF4aXMsIFwiRW5kXCIpXSA9IGVuZCB8fCB7XG4gICAgICAgICAgICAgIHZhbHVlOiAxLFxuICAgICAgICAgICAgICBpc1JhdGlvOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc25hcFRhcmdldE9wdGlvbnNbYXhpc10gPSB7XG4gICAgICAgICAgICAgIHN0YXJ0OiBwcFZhbHVlMk9wdGlvblZhbHVlKHN0YXJ0KSxcbiAgICAgICAgICAgICAgZW5kOiBwcFZhbHVlMk9wdGlvblZhbHVlKGVuZClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgICAgIGlmIChzdGVwLmlzUmF0aW8gPyBzdGVwLnZhbHVlID4gMCA6IHN0ZXAudmFsdWUgPj0gMikge1xuICAgICAgICAgICAgICAgIC8vIHN0ZXAgPiAwJSB8fCBzdGVwID49IDJweFxuICAgICAgICAgICAgICAgIHBhcnNlZFhZW1wiXCIuY29uY2F0KGF4aXMsIFwiU3RlcFwiKV0gPSBzdGVwO1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXRPcHRpb25zW2F4aXNdLnN0ZXAgPSBwcFZhbHVlMk9wdGlvblZhbHVlKHN0ZXApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHBhcnNlZFhZO1xuICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgaWYgKGludmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VkU25hcFRhcmdldHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VkWFkueFN0YXJ0ICYmICFwYXJzZWRYWS54U3RlcCAmJiBwYXJzZWRYWS55U3RhcnQgJiYgIXBhcnNlZFhZLnlTdGVwKSB7XG4gICAgICAgICAgLy8gRXhwYW5kIGludG8gNCBsaW5lcy4gVGhpcyBpcyBub3QgQkJveCwgYW5kIGBlZGdlYCBpcyBpZ25vcmVkLlxuICAgICAgICAgIGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMucHVzaCh7XG4gICAgICAgICAgICB4U3RhcnQ6IHBhcnNlZFhZLnhTdGFydCxcbiAgICAgICAgICAgIHhFbmQ6IHBhcnNlZFhZLnhFbmQsXG4gICAgICAgICAgICB5OiBwYXJzZWRYWS55U3RhcnRcbiAgICAgICAgICB9LCAvLyBUb3BcbiAgICAgICAgICB7XG4gICAgICAgICAgICB4U3RhcnQ6IHBhcnNlZFhZLnhTdGFydCxcbiAgICAgICAgICAgIHhFbmQ6IHBhcnNlZFhZLnhFbmQsXG4gICAgICAgICAgICB5OiBwYXJzZWRYWS55RW5kXG4gICAgICAgICAgfSwgLy8gQm90dG9tXG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogcGFyc2VkWFkueFN0YXJ0LFxuICAgICAgICAgICAgeVN0YXJ0OiBwYXJzZWRYWS55U3RhcnQsXG4gICAgICAgICAgICB5RW5kOiBwYXJzZWRYWS55RW5kXG4gICAgICAgICAgfSwgLy8gTGVmdFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHg6IHBhcnNlZFhZLnhFbmQsXG4gICAgICAgICAgICB5U3RhcnQ6IHBhcnNlZFhZLnlTdGFydCxcbiAgICAgICAgICAgIHlFbmQ6IHBhcnNlZFhZLnlFbmRcbiAgICAgICAgICB9IC8vIFJpZ2h0XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzLnB1c2gocGFyc2VkWFkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzLmxlbmd0aCkge1xuICAgICAgICBzbmFwVGFyZ2V0c09wdGlvbnMucHVzaChjb21tb25TbmFwT3B0aW9ucyhzbmFwVGFyZ2V0T3B0aW9ucywgbmV3U25hcFRhcmdldE9wdGlvbnMpKTsgLy8gQ29weSBjb21tb24gU25hcE9wdGlvbnNcblxuICAgICAgICB2YXIgY29ybmVyID0gc25hcFRhcmdldE9wdGlvbnMuY29ybmVyIHx8IHNuYXBPcHRpb25zLmNvcm5lcixcbiAgICAgICAgICAgIHNpZGUgPSBzbmFwVGFyZ2V0T3B0aW9ucy5zaWRlIHx8IHNuYXBPcHRpb25zLnNpZGUsXG4gICAgICAgICAgICBlZGdlID0gc25hcFRhcmdldE9wdGlvbnMuZWRnZSB8fCBzbmFwT3B0aW9ucy5lZGdlLFxuICAgICAgICAgICAgY29tbW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICBncmF2aXR5OiBzbmFwVGFyZ2V0T3B0aW9ucy5ncmF2aXR5IHx8IHNuYXBPcHRpb25zLmdyYXZpdHksXG4gICAgICAgICAgYmFzZTogc25hcFRhcmdldE9wdGlvbnMuYmFzZSB8fCBzbmFwT3B0aW9ucy5iYXNlLFxuICAgICAgICAgIGNlbnRlcjogdHlwZW9mIHNuYXBUYXJnZXRPcHRpb25zLmNlbnRlciA9PT0gJ2Jvb2xlYW4nID8gc25hcFRhcmdldE9wdGlvbnMuY2VudGVyIDogc25hcE9wdGlvbnMuY2VudGVyLFxuICAgICAgICAgIGNvcm5lcnM6IGNvcm5lciA9PT0gJ2FsbCcgPyBTTkFQX0FMTF9DT1JORVJTIDogY29ybmVyLnNwbGl0KCcgJyksXG4gICAgICAgICAgLy8gU3BsaXRcbiAgICAgICAgICBzaWRlczogc2lkZSA9PT0gJ2JvdGgnID8gU05BUF9BTExfU0lERVMgOiBbc2lkZV0sXG4gICAgICAgICAgLy8gU3BsaXRcbiAgICAgICAgICBlZGdlczogZWRnZSA9PT0gJ2JvdGgnID8gU05BUF9BTExfRURHRVMgOiBbZWRnZV0gLy8gU3BsaXRcblxuICAgICAgICB9O1xuICAgICAgICBleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnNlZFNuYXBUYXJnZXQpIHtcbiAgICAgICAgICAvLyBTZXQgY29tbW9uIFNuYXBPcHRpb25zXG4gICAgICAgICAgWydncmF2aXR5JywgJ2Nvcm5lcnMnLCAnc2lkZXMnLCAnY2VudGVyJywgJ2VkZ2VzJywgJ2Jhc2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgIHBhcnNlZFNuYXBUYXJnZXRbb3B0aW9uXSA9IGNvbW1vbk9wdGlvbnNbb3B0aW9uXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwYXJzZWRTbmFwVGFyZ2V0cy5wdXNoKHBhcnNlZFNuYXBUYXJnZXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlZFNuYXBUYXJnZXRzO1xuICAgIH0sIFtdKTtcblxuICAgIGlmIChwYXJzZWRTbmFwVGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIG9wdGlvbnMuc25hcCA9IHNuYXBPcHRpb25zOyAvLyBVcGRhdGUgYWx3YXlzXG5cbiAgICAgIGlmIChoYXNDaGFuZ2VkKHBhcnNlZFNuYXBUYXJnZXRzLCBwcm9wcy5wYXJzZWRTbmFwVGFyZ2V0cykpIHtcbiAgICAgICAgcHJvcHMucGFyc2VkU25hcFRhcmdldHMgPSBwYXJzZWRTbmFwVGFyZ2V0cztcbiAgICAgICAgbmVlZHNJbml0QkJveCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKG5ld09wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3NuYXAnKSAmJiBwcm9wcy5wYXJzZWRTbmFwVGFyZ2V0cykge1xuICAgIG9wdGlvbnMuc25hcCA9IHByb3BzLnBhcnNlZFNuYXBUYXJnZXRzID0gcHJvcHMuc25hcFRhcmdldHMgPSB2b2lkIDA7XG4gIH0gLy8gWy9TTkFQXVxuICAvLyBbQVVUTy1TQ1JPTExdXG5cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IEF1dG9TY3JvbGxPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7KEVsZW1lbnR8V2luZG93KX0gdGFyZ2V0XG4gICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHNwZWVkXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHNlbnNpdGl2aXR5XG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWF1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhYXVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW21pblldXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4WV1cbiAgICovXG4gIC8vIGF1dG9TY3JvbGxcblxuXG4gIGlmIChuZXdPcHRpb25zLmF1dG9TY3JvbGwpIHtcbiAgICB2YXIgbmV3QXV0b1Njcm9sbE9wdGlvbnMgPSBpc09iamVjdChuZXdPcHRpb25zLmF1dG9TY3JvbGwpID8gbmV3T3B0aW9ucy5hdXRvU2Nyb2xsIDoge1xuICAgICAgdGFyZ2V0OiBuZXdPcHRpb25zLmF1dG9TY3JvbGwgPT09IHRydWUgPyB3aW5kb3cgOiBuZXdPcHRpb25zLmF1dG9TY3JvbGxcbiAgICB9LFxuICAgICAgICBhdXRvU2Nyb2xsT3B0aW9ucyA9IHt9OyAvLyB0YXJnZXRcblxuICAgIGF1dG9TY3JvbGxPcHRpb25zLnRhcmdldCA9IGlzRWxlbWVudChuZXdBdXRvU2Nyb2xsT3B0aW9ucy50YXJnZXQpID8gbmV3QXV0b1Njcm9sbE9wdGlvbnMudGFyZ2V0IDogd2luZG93OyAvLyBzcGVlZFxuXG4gICAgYXV0b1Njcm9sbE9wdGlvbnMuc3BlZWQgPSBbXTtcbiAgICAoQXJyYXkuaXNBcnJheShuZXdBdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZCkgPyBuZXdBdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZCA6IFtuZXdBdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZF0pLmV2ZXJ5KGZ1bmN0aW9uIChzcGVlZCwgaSkge1xuICAgICAgaWYgKGkgPD0gMiAmJiBpc0Zpbml0ZShzcGVlZCkpIHtcbiAgICAgICAgYXV0b1Njcm9sbE9wdGlvbnMuc3BlZWRbaV0gPSBzcGVlZDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIGlmICghYXV0b1Njcm9sbE9wdGlvbnMuc3BlZWQubGVuZ3RoKSB7XG4gICAgICBhdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZCA9IEFVVE9TQ1JPTExfU1BFRUQ7XG4gICAgfSAvLyBzZW5zaXRpdml0eVxuXG5cbiAgICB2YXIgbmV3U2Vuc2l0aXZpdHkgPSBBcnJheS5pc0FycmF5KG5ld0F1dG9TY3JvbGxPcHRpb25zLnNlbnNpdGl2aXR5KSA/IG5ld0F1dG9TY3JvbGxPcHRpb25zLnNlbnNpdGl2aXR5IDogW25ld0F1dG9TY3JvbGxPcHRpb25zLnNlbnNpdGl2aXR5XTtcbiAgICBhdXRvU2Nyb2xsT3B0aW9ucy5zZW5zaXRpdml0eSA9IGF1dG9TY3JvbGxPcHRpb25zLnNwZWVkLm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgICAgcmV0dXJuIGlzRmluaXRlKG5ld1NlbnNpdGl2aXR5W2ldKSA/IG5ld1NlbnNpdGl2aXR5W2ldIDogQVVUT1NDUk9MTF9TRU5TSVRJVklUWVtpXTtcbiAgICB9KTsgLy8gbWluKiwgbWF4KlxuXG4gICAgWydYJywgJ1knXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgIHZhciBvcHRpb25NaW4gPSBcIm1pblwiLmNvbmNhdChvcHRpb24pLFxuICAgICAgICAgIG9wdGlvbk1heCA9IFwibWF4XCIuY29uY2F0KG9wdGlvbik7XG5cbiAgICAgIGlmIChpc0Zpbml0ZShuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NaW5dKSAmJiBuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NaW5dID49IDApIHtcbiAgICAgICAgYXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWluXSA9IG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1pbl07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Zpbml0ZShuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NYXhdKSAmJiBuZXdBdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NYXhdID49IDAgJiYgKCFhdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NaW5dIHx8IG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1heF0gPj0gYXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWluXSkpIHtcbiAgICAgICAgYXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWF4XSA9IG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1heF07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaGFzQ2hhbmdlZChhdXRvU2Nyb2xsT3B0aW9ucywgb3B0aW9ucy5hdXRvU2Nyb2xsKSkge1xuICAgICAgb3B0aW9ucy5hdXRvU2Nyb2xsID0gYXV0b1Njcm9sbE9wdGlvbnM7XG4gICAgICBuZWVkc0luaXRCQm94ID0gdHJ1ZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobmV3T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXV0b1Njcm9sbCcpKSB7XG4gICAgaWYgKG9wdGlvbnMuYXV0b1Njcm9sbCkge1xuICAgICAgbmVlZHNJbml0QkJveCA9IHRydWU7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5hdXRvU2Nyb2xsID0gdm9pZCAwO1xuICB9IC8vIFsvQVVUTy1TQ1JPTExdXG5cblxuICBpZiAobmVlZHNJbml0QkJveCkge1xuICAgIGluaXRCQm94KHByb3BzKTtcbiAgfSAvLyBoYW5kbGVcblxuXG4gIGlmIChpc0VsZW1lbnQobmV3T3B0aW9ucy5oYW5kbGUpICYmIG5ld09wdGlvbnMuaGFuZGxlICE9PSBvcHRpb25zLmhhbmRsZSkge1xuICAgIGlmIChvcHRpb25zLmhhbmRsZSkge1xuICAgICAgLy8gUmVzdG9yZVxuICAgICAgb3B0aW9ucy5oYW5kbGUuc3R5bGUuY3Vyc29yID0gcHJvcHMub3JnQ3Vyc29yO1xuXG4gICAgICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QpIHtcbiAgICAgICAgb3B0aW9ucy5oYW5kbGUuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdID0gcHJvcHMub3JnVXNlclNlbGVjdDtcbiAgICAgIH1cblxuICAgICAgcG9pbnRlckV2ZW50LnJlbW92ZVN0YXJ0SGFuZGxlcihvcHRpb25zLmhhbmRsZSwgcHJvcHMucG9pbnRlckV2ZW50SGFuZGxlcklkKTtcbiAgICB9XG5cbiAgICB2YXIgaGFuZGxlID0gb3B0aW9ucy5oYW5kbGUgPSBuZXdPcHRpb25zLmhhbmRsZTtcbiAgICBwcm9wcy5vcmdDdXJzb3IgPSBoYW5kbGUuc3R5bGUuY3Vyc29yO1xuICAgIHNldERyYWdnYWJsZUN1cnNvcihoYW5kbGUsIHByb3BzLm9yZ0N1cnNvcik7XG5cbiAgICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QpIHtcbiAgICAgIHByb3BzLm9yZ1VzZXJTZWxlY3QgPSBoYW5kbGUuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdO1xuICAgICAgaGFuZGxlLnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XSA9ICdub25lJztcbiAgICB9XG5cbiAgICBwb2ludGVyRXZlbnQuYWRkU3RhcnRIYW5kbGVyKGhhbmRsZSwgcHJvcHMucG9pbnRlckV2ZW50SGFuZGxlcklkKTtcbiAgfSAvLyB6SW5kZXhcblxuXG4gIGlmIChpc0Zpbml0ZShuZXdPcHRpb25zLnpJbmRleCkgfHwgbmV3T3B0aW9ucy56SW5kZXggPT09IGZhbHNlKSB7XG4gICAgb3B0aW9ucy56SW5kZXggPSBuZXdPcHRpb25zLnpJbmRleDtcblxuICAgIGlmIChwcm9wcyA9PT0gYWN0aXZlUHJvcHMpIHtcbiAgICAgIHByb3BzLmVsZW1lbnRTdHlsZS56SW5kZXggPSBvcHRpb25zLnpJbmRleCA9PT0gZmFsc2UgPyBwcm9wcy5vcmdaSW5kZXggOiBvcHRpb25zLnpJbmRleDtcbiAgICB9XG4gIH0gLy8gbGVmdC90b3BcblxuXG4gIHZhciBwb3NpdGlvbiA9IHtcbiAgICBsZWZ0OiBwcm9wcy5lbGVtZW50QkJveC5sZWZ0LFxuICAgIHRvcDogcHJvcHMuZWxlbWVudEJCb3gudG9wXG4gIH07XG4gIHZhciBuZWVkc01vdmU7XG5cbiAgaWYgKGlzRmluaXRlKG5ld09wdGlvbnMubGVmdCkgJiYgbmV3T3B0aW9ucy5sZWZ0ICE9PSBwb3NpdGlvbi5sZWZ0KSB7XG4gICAgcG9zaXRpb24ubGVmdCA9IG5ld09wdGlvbnMubGVmdDtcbiAgICBuZWVkc01vdmUgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGlzRmluaXRlKG5ld09wdGlvbnMudG9wKSAmJiBuZXdPcHRpb25zLnRvcCAhPT0gcG9zaXRpb24udG9wKSB7XG4gICAgcG9zaXRpb24udG9wID0gbmV3T3B0aW9ucy50b3A7XG4gICAgbmVlZHNNb3ZlID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZWVkc01vdmUpIHtcbiAgICBtb3ZlKHByb3BzLCBwb3NpdGlvbik7XG4gIH0gLy8gRXZlbnQgbGlzdGVuZXJzXG5cblxuICBbJ29uRHJhZycsICdvbk1vdmUnLCAnb25EcmFnU3RhcnQnLCAnb25Nb3ZlU3RhcnQnLCAnb25EcmFnRW5kJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zW29wdGlvbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IG5ld09wdGlvbnNbb3B0aW9uXTtcbiAgICAgIHByb3BzW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl0uYmluZChwcm9wcy5pbnMpO1xuICAgIH0gZWxzZSBpZiAobmV3T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICYmIG5ld09wdGlvbnNbb3B0aW9uXSA9PSBudWxsKSB7XG4gICAgICBvcHRpb25zW29wdGlvbl0gPSBwcm9wc1tvcHRpb25dID0gdm9pZCAwO1xuICAgIH1cbiAgfSk7XG59XG5cbnZhciBQbGFpbkRyYWdnYWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBgUGxhaW5EcmFnZ2FibGVgIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUYXJnZXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMuXG4gICAqL1xuICBmdW5jdGlvbiBQbGFpbkRyYWdnYWJsZShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYWluRHJhZ2dhYmxlKTtcblxuICAgIHZhciBwcm9wcyA9IHtcbiAgICAgIGluczogdGhpcyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgLy8gSW5pdGlhbCBvcHRpb25zIChub3QgZGVmYXVsdClcbiAgICAgICAgekluZGV4OiBaSU5ERVggLy8gSW5pdGlhbCBzdGF0ZS5cblxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfaWQnLCB7XG4gICAgICB2YWx1ZTogKytpbnNJZFxuICAgIH0pO1xuICAgIHByb3BzLl9pZCA9IHRoaXMuX2lkO1xuICAgIGluc1Byb3BzW3RoaXMuX2lkXSA9IHByb3BzO1xuXG4gICAgaWYgKCFpc0VsZW1lbnQoZWxlbWVudCkgfHwgZWxlbWVudCA9PT0gYm9keSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGVsZW1lbnQgaXMgbm90IGFjY2VwdGVkLicpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3B0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB2YXIgZ3B1VHJpZ2dlciA9IHRydWU7IC8vIFtTVkddXG5cbiAgICB2YXIgb3duZXJTdmc7IC8vIFNWR0VsZW1lbnQgd2hpY2ggaXMgbm90IHJvb3Qgdmlld1xuXG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIChvd25lclN2ZyA9IGVsZW1lbnQub3duZXJTVkdFbGVtZW50KSkge1xuICAgICAgLy8gSXQgbWVhbnMgYGluc3RhbmNlb2YgU1ZHTG9jYXRhYmxlYCAobWFueSBicm93c2VycyBkb24ndCBoYXZlIFNWR0xvY2F0YWJsZSlcbiAgICAgIGlmICghZWxlbWVudC5nZXRCQm94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBlbGVtZW50IGlzIG5vdCBhY2NlcHRlZC4gKFNWR0xvY2F0YWJsZSknKTtcbiAgICAgIH0gLy8gVHJpZGVudCBhbmQgRWRnZSBidWcsIFNWR1NWR0VsZW1lbnQgZG9lc24ndCBoYXZlIFNWR0FuaW1hdGVkVHJhbnNmb3JtTGlzdD9cblxuXG4gICAgICBpZiAoIWVsZW1lbnQudHJhbnNmb3JtKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBlbGVtZW50IGlzIG5vdCBhY2NlcHRlZC4gKFNWR0FuaW1hdGVkVHJhbnNmb3JtTGlzdCknKTtcbiAgICAgIH0gLy8gVHJpZGVudCBidWcsIHJldHVybmVkIHZhbHVlIG11c3QgYmUgdXNlZCAoVGhhdCBpcyBub3QgZ2l2ZW4gdmFsdWUpLlxuXG5cbiAgICAgIHByb3BzLnN2Z1RyYW5zZm9ybSA9IGVsZW1lbnQudHJhbnNmb3JtLmJhc2VWYWwuYXBwZW5kSXRlbShvd25lclN2Zy5jcmVhdGVTVkdUcmFuc2Zvcm0oKSk7XG4gICAgICBwcm9wcy5zdmdQb2ludCA9IG93bmVyU3ZnLmNyZWF0ZVNWR1BvaW50KCk7IC8vIEdlY2tvIGJ1Zywgdmlldy5nZXRTY3JlZW5DVE0gcmV0dXJucyBDVE0gd2l0aCByb290IHZpZXcuXG5cbiAgICAgIHZhciBzdmdWaWV3ID0gZWxlbWVudC5uZWFyZXN0Vmlld3BvcnRFbGVtZW50O1xuICAgICAgcHJvcHMuc3ZnQ3RtRWxlbWVudCA9ICFJU19HRUNLTyA/IHN2Z1ZpZXcgOiBzdmdWaWV3LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhvd25lclN2Zy5uYW1lc3BhY2VVUkksICdyZWN0JykpO1xuICAgICAgZ3B1VHJpZ2dlciA9IGZhbHNlO1xuICAgICAgcHJvcHMuaW5pdEVsbSA9IGluaXRTdmc7XG4gICAgICBwcm9wcy5tb3ZlRWxtID0gbW92ZVN2ZztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gWy9TVkddXG5cbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuXG4gICAgICAvKiBbU1ZHL10gKi9cbiAgICAgIHZhciBjc3NQcm9wV2lsbENoYW5nZSA9IENTU1ByZWZpeC5nZXROYW1lKCd3aWxsQ2hhbmdlJyk7XG5cbiAgICAgIGlmIChjc3NQcm9wV2lsbENoYW5nZSkge1xuICAgICAgICBncHVUcmlnZ2VyID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghb3B0aW9ucy5sZWZ0VG9wICYmIGNzc1Byb3BUcmFuc2Zvcm0pIHtcbiAgICAgICAgLy8gdHJhbnNsYXRlXG4gICAgICAgIGlmIChjc3NQcm9wV2lsbENoYW5nZSkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGVbY3NzUHJvcFdpbGxDaGFuZ2VdID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wcy5pbml0RWxtID0gaW5pdFRyYW5zbGF0ZTtcbiAgICAgICAgcHJvcHMubW92ZUVsbSA9IG1vdmVUcmFuc2xhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBsZWZ0IGFuZCB0b3BcbiAgICAgICAgLy8gW0xFRlRUT1BdXG4gICAgICAgIGlmIChjc3NQcm9wV2lsbENoYW5nZSkge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGVbY3NzUHJvcFdpbGxDaGFuZ2VdID0gJ2xlZnQsIHRvcCc7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wcy5pbml0RWxtID0gaW5pdExlZnRUb3A7XG4gICAgICAgIHByb3BzLm1vdmVFbG0gPSBtb3ZlTGVmdFRvcDsgLy8gWy9MRUZUVE9QXVxuXG4gICAgICAgIC8qIFtMRUZUVE9QL11cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgdHJhbnNmb3JtYCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICBbTEVGVFRPUC9dICovXG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIGluZGVudCAqL1xuXG4gICAgICAvKiBbU1ZHL10gKi9cblxuICAgIH0gLy8gW1NWRy9dXG5cblxuICAgIHByb3BzLmVsZW1lbnQgPSBpbml0QW5pbShlbGVtZW50LCBncHVUcmlnZ2VyKTtcbiAgICBwcm9wcy5lbGVtZW50U3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgIHByb3BzLm9yZ1pJbmRleCA9IHByb3BzLmVsZW1lbnRTdHlsZS56SW5kZXg7XG5cbiAgICBpZiAoZHJhZ2dhYmxlQ2xhc3MpIHtcbiAgICAgIG1DbGFzc0xpc3QoZWxlbWVudCkuYWRkKGRyYWdnYWJsZUNsYXNzKTtcbiAgICB9XG5cbiAgICBwcm9wcy5wb2ludGVyRXZlbnRIYW5kbGVySWQgPSBwb2ludGVyRXZlbnQucmVnU3RhcnRIYW5kbGVyKGZ1bmN0aW9uIChwb2ludGVyWFkpIHtcbiAgICAgIHJldHVybiBkcmFnU3RhcnQocHJvcHMsIHBvaW50ZXJYWSk7XG4gICAgfSk7IC8vIERlZmF1bHQgb3B0aW9uc1xuXG4gICAgaWYgKCFvcHRpb25zLmNvbnRhaW5tZW50KSB7XG4gICAgICB2YXIgcGFyZW50O1xuICAgICAgb3B0aW9ucy5jb250YWlubWVudCA9IChwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpICYmIGlzRWxlbWVudChwYXJlbnQpID8gcGFyZW50IDogYm9keTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuaGFuZGxlKSB7XG4gICAgICBvcHRpb25zLmhhbmRsZSA9IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX3NldE9wdGlvbnMocHJvcHMsIG9wdGlvbnMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBsYWluRHJhZ2dhYmxlLCBbe1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgdmFyIHByb3BzID0gaW5zUHJvcHNbdGhpcy5faWRdO1xuICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7IC8vIFRvIHJlc3RvcmUgZWxlbWVudCBhbmQgcmVzZXQgcG9pbnRlclxuXG4gICAgICBwb2ludGVyRXZlbnQudW5yZWdTdGFydEhhbmRsZXIocG9pbnRlckV2ZW50LnJlbW92ZVN0YXJ0SGFuZGxlcihwcm9wcy5vcHRpb25zLmhhbmRsZSwgcHJvcHMucG9pbnRlckV2ZW50SGFuZGxlcklkKSk7XG4gICAgICBkZWxldGUgaW5zUHJvcHNbdGhpcy5faWRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE5ldyBvcHRpb25zLlxuICAgICAqIEByZXR1cm5zIHtQbGFpbkRyYWdnYWJsZX0gQ3VycmVudCBpbnN0YW5jZSBpdHNlbGYuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwb3NpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgICAgIGluaXRCQm94KGluc1Byb3BzW3RoaXMuX2lkXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzYWJsZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0uZGlzYWJsZWQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdmFyIHByb3BzID0gaW5zUHJvcHNbdGhpcy5faWRdO1xuXG4gICAgICBpZiAoKHZhbHVlID0gISF2YWx1ZSkgIT09IHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHByb3BzLmRpc2FibGVkID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzID09PSBhY3RpdmVQcm9wcykge1xuICAgICAgICAgICAgZHJhZ0VuZChwcm9wcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJvcHMub3B0aW9ucy5oYW5kbGUuc3R5bGUuY3Vyc29yID0gcHJvcHMub3JnQ3Vyc29yO1xuXG4gICAgICAgICAgaWYgKGNzc1Byb3BVc2VyU2VsZWN0KSB7XG4gICAgICAgICAgICBwcm9wcy5vcHRpb25zLmhhbmRsZS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF0gPSBwcm9wcy5vcmdVc2VyU2VsZWN0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkcmFnZ2FibGVDbGFzcykge1xuICAgICAgICAgICAgbUNsYXNzTGlzdChwcm9wcy5lbGVtZW50KS5yZW1vdmUoZHJhZ2dhYmxlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXREcmFnZ2FibGVDdXJzb3IocHJvcHMub3B0aW9ucy5oYW5kbGUsIHByb3BzLm9yZ0N1cnNvcik7XG5cbiAgICAgICAgICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QpIHtcbiAgICAgICAgICAgIHByb3BzLm9wdGlvbnMuaGFuZGxlLnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XSA9ICdub25lJztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZHJhZ2dhYmxlQ2xhc3MpIHtcbiAgICAgICAgICAgIG1DbGFzc0xpc3QocHJvcHMuZWxlbWVudCkuYWRkKGRyYWdnYWJsZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZWxlbWVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5lbGVtZW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWN0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY29weVRyZWUoaW5zUHJvcHNbdGhpcy5faWRdLmVsZW1lbnRCQm94KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGVmdFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5lbGVtZW50QkJveC5sZWZ0O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBsZWZ0OiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRvcFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5lbGVtZW50QkJveC50b3A7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIHRvcDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb250YWlubWVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHByb3BzID0gaW5zUHJvcHNbdGhpcy5faWRdO1xuICAgICAgcmV0dXJuIHByb3BzLmNvbnRhaW5tZW50SXNCQm94ID8gcHBCQm94Mk9wdGlvbk9iamVjdChwcm9wcy5vcHRpb25zLmNvbnRhaW5tZW50KSA6IHByb3BzLm9wdGlvbnMuY29udGFpbm1lbnQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIGNvbnRhaW5tZW50OiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSAvLyBbU05BUF1cblxuICB9LCB7XG4gICAga2V5OiBcInNuYXBcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBjb3B5VHJlZShpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5zbmFwKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgc25hcDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gLy8gWy9TTkFQXVxuICAgIC8vIFtBVVRPLVNDUk9MTF1cblxuICB9LCB7XG4gICAga2V5OiBcImF1dG9TY3JvbGxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBjb3B5VHJlZShpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5hdXRvU2Nyb2xsKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgYXV0b1Njcm9sbDogdmFsdWVcbiAgICAgIH0pO1xuICAgIH0gLy8gWy9BVVRPLVNDUk9MTF1cblxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLmhhbmRsZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgaGFuZGxlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInpJbmRleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLnpJbmRleDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgekluZGV4OiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uRHJhZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLm9uRHJhZztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgb25EcmFnOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW92ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLm9uTW92ZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgb25Nb3ZlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uRHJhZ1N0YXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMub25EcmFnU3RhcnQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIG9uRHJhZ1N0YXJ0OiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uTW92ZVN0YXJ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMub25Nb3ZlU3RhcnQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIG9uTW92ZVN0YXJ0OiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uRHJhZ0VuZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLm9uRHJhZ0VuZDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgb25EcmFnRW5kOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZHJhZ2dhYmxlQ3Vyc29yXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gY3NzV2FudGVkVmFsdWVEcmFnZ2FibGVDdXJzb3I7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKGNzc1dhbnRlZFZhbHVlRHJhZ2dhYmxlQ3Vyc29yICE9PSB2YWx1ZSkge1xuICAgICAgICBjc3NXYW50ZWRWYWx1ZURyYWdnYWJsZUN1cnNvciA9IHZhbHVlO1xuICAgICAgICBjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciA9IG51bGw7IC8vIFJlc2V0XG5cbiAgICAgICAgT2JqZWN0LmtleXMoaW5zUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgdmFyIHByb3BzID0gaW5zUHJvcHNbaWRdO1xuXG4gICAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzID09PSBhY3RpdmVQcm9wcyAmJiBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldERyYWdnYWJsZUN1cnNvcihwcm9wcy5vcHRpb25zLmhhbmRsZSwgcHJvcHMub3JnQ3Vyc29yKTtcblxuICAgICAgICAgIGlmIChwcm9wcyA9PT0gYWN0aXZlUHJvcHMpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgaXMgYGZhbHNlYCwgY29weSBjdXJzb3IgYWdhaW4uXG4gICAgICAgICAgICBib2R5LnN0eWxlLmN1cnNvciA9IGNzc09yZ1ZhbHVlQm9keUN1cnNvcjtcbiAgICAgICAgICAgIGJvZHkuc3R5bGUuY3Vyc29yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocHJvcHMub3B0aW9ucy5oYW5kbGUsICcnKS5jdXJzb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ2dpbmdDdXJzb3JcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBjc3NXYW50ZWRWYWx1ZURyYWdnaW5nQ3Vyc29yO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIGlmIChjc3NXYW50ZWRWYWx1ZURyYWdnaW5nQ3Vyc29yICE9PSB2YWx1ZSkge1xuICAgICAgICBjc3NXYW50ZWRWYWx1ZURyYWdnaW5nQ3Vyc29yID0gdmFsdWU7XG4gICAgICAgIGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgPSBudWxsOyAvLyBSZXNldFxuXG4gICAgICAgIGlmIChhY3RpdmVQcm9wcykge1xuICAgICAgICAgIHNldERyYWdnaW5nQ3Vyc29yKGFjdGl2ZVByb3BzLm9wdGlvbnMuaGFuZGxlKTtcblxuICAgICAgICAgIGlmIChjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc2V0RHJhZ2dhYmxlQ3Vyc29yKGFjdGl2ZVByb3BzLm9wdGlvbnMuaGFuZGxlLCBhY3RpdmVQcm9wcy5vcmdDdXJzb3IpOyAvLyBkcmFnZ2FibGVDdXJzb3JcblxuICAgICAgICAgICAgYm9keS5zdHlsZS5jdXJzb3IgPSBjc3NPcmdWYWx1ZUJvZHlDdXJzb3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYm9keS5zdHlsZS5jdXJzb3IgPSBjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yIHx8IC8vIElmIGl0IGlzIGBmYWxzZWAgb3IgYCcnYFxuICAgICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGFjdGl2ZVByb3BzLm9wdGlvbnMuaGFuZGxlLCAnJykuY3Vyc29yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYWdnYWJsZUNsYXNzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gZHJhZ2dhYmxlQ2xhc3M7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgJycgOiB2b2lkIDA7XG5cbiAgICAgIGlmICh2YWx1ZSAhPT0gZHJhZ2dhYmxlQ2xhc3MpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoaW5zUHJvcHMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgdmFyIHByb3BzID0gaW5zUHJvcHNbaWRdO1xuXG4gICAgICAgICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzTGlzdCA9IG1DbGFzc0xpc3QocHJvcHMuZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmIChkcmFnZ2FibGVDbGFzcykge1xuICAgICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGRyYWdnYWJsZUNsYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRyYWdnYWJsZUNsYXNzID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRyYWdnaW5nQ2xhc3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBkcmFnZ2luZ0NsYXNzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZSArICcnIDogdm9pZCAwO1xuXG4gICAgICBpZiAodmFsdWUgIT09IGRyYWdnaW5nQ2xhc3MpIHtcbiAgICAgICAgaWYgKGFjdGl2ZVByb3BzKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTGlzdCA9IG1DbGFzc0xpc3QoYWN0aXZlUHJvcHMuZWxlbWVudCk7XG5cbiAgICAgICAgICBpZiAoZHJhZ2dpbmdDbGFzcykge1xuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShkcmFnZ2luZ0NsYXNzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRyYWdnaW5nQ2xhc3MgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibW92aW5nQ2xhc3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBtb3ZpbmdDbGFzcztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyAnJyA6IHZvaWQgMDtcblxuICAgICAgaWYgKHZhbHVlICE9PSBtb3ZpbmdDbGFzcykge1xuICAgICAgICBpZiAoYWN0aXZlUHJvcHMgJiYgaGFzTW92ZWQpIHtcbiAgICAgICAgICB2YXIgY2xhc3NMaXN0ID0gbUNsYXNzTGlzdChhY3RpdmVQcm9wcy5lbGVtZW50KTtcblxuICAgICAgICAgIGlmIChtb3ZpbmdDbGFzcykge1xuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZShtb3ZpbmdDbGFzcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtb3ZpbmdDbGFzcyA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQbGFpbkRyYWdnYWJsZTtcbn0oKTtcblxucG9pbnRlckV2ZW50LmFkZE1vdmVIYW5kbGVyKGRvY3VtZW50LCBmdW5jdGlvbiAocG9pbnRlclhZKSB7XG4gIGlmICghYWN0aXZlUHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcG9zaXRpb24gPSB7XG4gICAgbGVmdDogcG9pbnRlclhZLmNsaWVudFggKyB3aW5kb3cucGFnZVhPZmZzZXQgKyBwb2ludGVyT2Zmc2V0LmxlZnQsXG4gICAgdG9wOiBwb2ludGVyWFkuY2xpZW50WSArIHdpbmRvdy5wYWdlWU9mZnNldCArIHBvaW50ZXJPZmZzZXQudG9wXG4gIH07XG5cbiAgaWYgKG1vdmUoYWN0aXZlUHJvcHMsIHBvc2l0aW9uLCAvLyBbU05BUF1cbiAgYWN0aXZlUHJvcHMuc25hcFRhcmdldHMgPyBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAvLyBTbmFwXG4gICAgdmFyIGlMZW4gPSBhY3RpdmVQcm9wcy5zbmFwVGFyZ2V0cy5sZW5ndGg7XG4gICAgdmFyIHNuYXBwZWRYID0gZmFsc2UsXG4gICAgICAgIHNuYXBwZWRZID0gZmFsc2UsXG4gICAgICAgIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgaUxlbiAmJiAoIXNuYXBwZWRYIHx8ICFzbmFwcGVkWSk7IGkrKykge1xuICAgICAgdmFyIHNuYXBUYXJnZXQgPSBhY3RpdmVQcm9wcy5zbmFwVGFyZ2V0c1tpXTtcblxuICAgICAgaWYgKChzbmFwVGFyZ2V0LmdyYXZpdHlYU3RhcnQgPT0gbnVsbCB8fCBwb3NpdGlvbi5sZWZ0ID49IHNuYXBUYXJnZXQuZ3Jhdml0eVhTdGFydCkgJiYgKHNuYXBUYXJnZXQuZ3Jhdml0eVhFbmQgPT0gbnVsbCB8fCBwb3NpdGlvbi5sZWZ0IDw9IHNuYXBUYXJnZXQuZ3Jhdml0eVhFbmQpICYmIChzbmFwVGFyZ2V0LmdyYXZpdHlZU3RhcnQgPT0gbnVsbCB8fCBwb3NpdGlvbi50b3AgPj0gc25hcFRhcmdldC5ncmF2aXR5WVN0YXJ0KSAmJiAoc25hcFRhcmdldC5ncmF2aXR5WUVuZCA9PSBudWxsIHx8IHBvc2l0aW9uLnRvcCA8PSBzbmFwVGFyZ2V0LmdyYXZpdHlZRW5kKSkge1xuICAgICAgICBpZiAoIXNuYXBwZWRYICYmIHNuYXBUYXJnZXQueCAhPSBudWxsKSB7XG4gICAgICAgICAgcG9zaXRpb24ubGVmdCA9IHNuYXBUYXJnZXQueDtcbiAgICAgICAgICBzbmFwcGVkWCA9IHRydWU7XG4gICAgICAgICAgaSA9IC0xOyAvLyBSZXN0YXJ0IGxvb3BcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc25hcHBlZFkgJiYgc25hcFRhcmdldC55ICE9IG51bGwpIHtcbiAgICAgICAgICBwb3NpdGlvbi50b3AgPSBzbmFwVGFyZ2V0Lnk7XG4gICAgICAgICAgc25hcHBlZFkgPSB0cnVlO1xuICAgICAgICAgIGkgPSAtMTsgLy8gUmVzdGFydCBsb29wXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwb3NpdGlvbi5zbmFwcGVkID0gc25hcHBlZFggfHwgc25hcHBlZFk7XG4gICAgcmV0dXJuIGFjdGl2ZVByb3BzLm9uRHJhZyA/IGFjdGl2ZVByb3BzLm9uRHJhZyhwb3NpdGlvbikgOiB0cnVlO1xuICB9IDogLy8gWy9TTkFQXVxuICBhY3RpdmVQcm9wcy5vbkRyYWcpKSB7XG4gICAgLy8gW0FVVE8tU0NST0xMXVxuICAgIHZhciB4eU1vdmVBcmdzID0ge30sXG4gICAgICAgIGF1dG9TY3JvbGwgPSBhY3RpdmVQcm9wcy5hdXRvU2Nyb2xsO1xuXG4gICAgaWYgKGF1dG9TY3JvbGwpIHtcbiAgICAgIHZhciBjbGllbnRYWSA9IHtcbiAgICAgICAgeDogYWN0aXZlUHJvcHMuZWxlbWVudEJCb3gubGVmdCAtIHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgeTogYWN0aXZlUHJvcHMuZWxlbWVudEJCb3gudG9wIC0gd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICB9O1xuICAgICAgWyd4JywgJ3knXS5mb3JFYWNoKGZ1bmN0aW9uIChheGlzKSB7XG4gICAgICAgIGlmIChhdXRvU2Nyb2xsW2F4aXNdKSB7XG4gICAgICAgICAgdmFyIG1pbiA9IGF1dG9TY3JvbGxbYXhpc10ubWluLFxuICAgICAgICAgICAgICBtYXggPSBhdXRvU2Nyb2xsW2F4aXNdLm1heDtcbiAgICAgICAgICBhdXRvU2Nyb2xsW2F4aXNdLmxpbmVzLnNvbWUoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIGlmIChsaW5lLmRpciA9PT0gLTEgPyBjbGllbnRYWVtheGlzXSA8PSBsaW5lLnBvc2l0aW9uIDogY2xpZW50WFlbYXhpc10gPj0gbGluZS5wb3NpdGlvbikge1xuICAgICAgICAgICAgICB4eU1vdmVBcmdzW2F4aXNdID0ge1xuICAgICAgICAgICAgICAgIGRpcjogbGluZS5kaXIsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IGxpbmUuc3BlZWQgLyAxMDAwLFxuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh4eU1vdmVBcmdzLnggfHwgeHlNb3ZlQXJncy55KSB7XG4gICAgICBzY3JvbGxGcmFtZS5tb3ZlKGF1dG9TY3JvbGwudGFyZ2V0LCB4eU1vdmVBcmdzLCBhdXRvU2Nyb2xsLmlzV2luZG93ID8gc2Nyb2xsWFlXaW5kb3cgOiBzY3JvbGxYWUVsZW1lbnQpO1xuICAgICAgcG9zaXRpb24uYXV0b1Njcm9sbCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbEZyYW1lLnN0b3AoKTtcbiAgICB9IC8vIFsvQVVUTy1TQ1JPTExdXG5cblxuICAgIGlmICghaGFzTW92ZWQpIHtcbiAgICAgIGhhc01vdmVkID0gdHJ1ZTtcblxuICAgICAgaWYgKG1vdmluZ0NsYXNzKSB7XG4gICAgICAgIG1DbGFzc0xpc3QoYWN0aXZlUHJvcHMuZWxlbWVudCkuYWRkKG1vdmluZ0NsYXNzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGl2ZVByb3BzLm9uTW92ZVN0YXJ0KSB7XG4gICAgICAgIGFjdGl2ZVByb3BzLm9uTW92ZVN0YXJ0KHBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlUHJvcHMub25Nb3ZlKSB7XG4gICAgICBhY3RpdmVQcm9wcy5vbk1vdmUocG9zaXRpb24pO1xuICAgIH1cbiAgfVxufSk7XG57XG4gIGZ1bmN0aW9uIGVuZEhhbmRsZXIoKSB7XG4gICAgaWYgKGFjdGl2ZVByb3BzKSB7XG4gICAgICBkcmFnRW5kKGFjdGl2ZVByb3BzKTtcbiAgICB9XG4gIH1cblxuICBwb2ludGVyRXZlbnQuYWRkRW5kSGFuZGxlcihkb2N1bWVudCwgZW5kSGFuZGxlcik7XG4gIHBvaW50ZXJFdmVudC5hZGRDYW5jZWxIYW5kbGVyKGRvY3VtZW50LCBlbmRIYW5kbGVyKTtcbn1cbntcbiAgZnVuY3Rpb24gaW5pdERvYygpIHtcbiAgICBjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5ID0gQ1NTUHJlZml4LmdldE5hbWUoJ3RyYW5zaXRpb25Qcm9wZXJ0eScpO1xuICAgIGNzc1Byb3BUcmFuc2Zvcm0gPSBDU1NQcmVmaXguZ2V0TmFtZSgndHJhbnNmb3JtJyk7XG4gICAgY3NzT3JnVmFsdWVCb2R5Q3Vyc29yID0gYm9keS5zdHlsZS5jdXJzb3I7XG5cbiAgICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QgPSBDU1NQcmVmaXguZ2V0TmFtZSgndXNlclNlbGVjdCcpKSB7XG4gICAgICBjc3NPcmdWYWx1ZUJvZHlVc2VyU2VsZWN0ID0gYm9keS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF07XG4gICAgfSAvLyBJbml0IGFjdGl2ZSBpdGVtIHdoZW4gbGF5b3V0IGlzIGNoYW5nZWQsIGFuZCBpbml0IG90aGVycyBsYXRlci5cblxuXG4gICAgdmFyIExBWllfSU5JVF9ERUxBWSA9IDIwMDtcbiAgICB2YXIgaW5pdERvbmVJdGVtcyA9IHt9LFxuICAgICAgICBsYXp5SW5pdFRpbWVyO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tJbml0QkJveChwcm9wcywgZXZlbnRUeXBlKSB7XG4gICAgICBpZiAocHJvcHMuaW5pdEVsbSkge1xuICAgICAgICAvLyBFYXN5IGNoZWNraW5nIGZvciBpbnN0YW5jZSB3aXRob3V0IGVycm9ycy5cbiAgICAgICAgaW5pdEJCb3gocHJvcHMsIGV2ZW50VHlwZSk7XG4gICAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYnJhY2Utc3R5bGVcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRBbGwoZXZlbnRUeXBlKSB7XG4gICAgICBjbGVhclRpbWVvdXQobGF6eUluaXRUaW1lcik7XG4gICAgICBPYmplY3Qua2V5cyhpbnNQcm9wcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKCFpbml0RG9uZUl0ZW1zW2lkXSkge1xuICAgICAgICAgIGNoZWNrSW5pdEJCb3goaW5zUHJvcHNbaWRdLCBldmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGluaXREb25lSXRlbXMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgbGF5b3V0Q2hhbmdpbmcgPSBmYWxzZTsgLy8gR2Vja28gYnVnLCBtdWx0aXBsZSBjYWxsaW5nIGJ5IGByZXNpemVgLlxuXG4gICAgdmFyIGxheW91dENoYW5nZSA9IEFuaW1FdmVudC5hZGQoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAobGF5b3V0Q2hhbmdpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsYXlvdXRDaGFuZ2luZyA9IHRydWU7XG5cbiAgICAgIGlmIChhY3RpdmVQcm9wcykge1xuICAgICAgICBjaGVja0luaXRCQm94KGFjdGl2ZVByb3BzLCBldmVudC50eXBlKTtcbiAgICAgICAgcG9pbnRlckV2ZW50Lm1vdmUoKTtcbiAgICAgICAgaW5pdERvbmVJdGVtc1thY3RpdmVQcm9wcy5faWRdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY2xlYXJUaW1lb3V0KGxhenlJbml0VGltZXIpO1xuICAgICAgbGF6eUluaXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpbml0QWxsKGV2ZW50LnR5cGUpO1xuICAgICAgfSwgTEFaWV9JTklUX0RFTEFZKTtcbiAgICAgIGxheW91dENoYW5naW5nID0gZmFsc2U7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGxheW91dENoYW5nZSwgdHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGxheW91dENoYW5nZSwgdHJ1ZSk7XG4gIH1cblxuICBpZiAoYm9keSA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICBpbml0RG9jKCk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgaW5pdERvYygpO1xuICAgIH0sIHRydWUpO1xuICB9XG59XG4vKiBbU05BUC9dXG5QbGFpbkRyYWdnYWJsZS5saW1pdCA9IHRydWU7XG5bU05BUC9dICovXG5cbmV4cG9ydCBkZWZhdWx0IFBsYWluRHJhZ2dhYmxlOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbk1vYmlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW5Nb2JpbGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJjb25zdCBjb25kaXRpb25zID0ge1xyXG4gICAgJz0nOiAnPT0nLFxyXG4gICAgJzw+JzogJyE9JyxcclxuICAgICc+JzogJz4nLFxyXG4gICAgJz49JzogJz49JyxcclxuICAgICc8JzogJzwnLFxyXG4gICAgJzw9JzogJzw9JyxcclxuICAgICdBTkQnOiAnJiYnLFxyXG4gICAgJ09SJzogJ3x8JyxcclxuICAgICdOT1QnOiAnIScsXHJcbn07XHJcbmNvbnN0IG9wZXJhdGlvbnMgPSB7XHJcbiAgICAnPC0nOiAoeCwgeSkgPT4geyByZXR1cm4geSB9LFxyXG4gICAgJys9JzogKHgsIHkpID0+IHsgcmV0dXJuIHggKyB5IH0sXHJcbiAgICAnLT0nOiAoeCwgeSkgPT4geyByZXR1cm4geCAtIHkgfSxcclxuICAgICcqPSc6ICh4LCB5KSA9PiB7IHJldHVybiB4ICogeSB9LFxyXG4gICAgJy89JzogKHgsIHkpID0+IHsgcmV0dXJuIHggLyB5IH0sXHJcbiAgICAnJT0nOiAoeCwgeSkgPT4geyByZXR1cm4geCAlIHkgfSxcclxuICAgICcqKj0nOiAoeCwgeSkgPT4geyByZXR1cm4geCAqKiB5IH0sXHJcbiAgICAnPDw9JzogKHgsIHkpID0+IHsgcmV0dXJuIHggPDwgeSB9LFxyXG4gICAgJz4+PSc6ICh4LCB5KSA9PiB7IHJldHVybiB4ID4+IHkgfSxcclxuICAgICc+Pj49JzogKHgsIHkpID0+IHsgcmV0dXJuIHggPj4+IHkgfSxcclxuICAgICcmPSc6ICh4LCB5KSA9PiB7IHJldHVybiB4ICYgeSB9LFxyXG4gICAgJ149JzogKHgsIHkpID0+IHsgcmV0dXJuIHggXiB5IH0sXHJcbiAgICAnfD0nOiAoeCwgeSkgPT4geyByZXR1cm4geCB8IHkgfSxcclxufTtcclxuZnVuY3Rpb24gRElWKHgsIHkpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKHggLyB5KVxyXG59XHJcbmZ1bmN0aW9uIE1PRCh4LCB5KSB7XHJcbiAgICByZXR1cm4geCAlIHlcclxufVxyXG5mdW5jdGlvbiBJTlQoeCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoeClcclxufVxyXG5jb25zdCBhbGxvd2VkRnVuY3Rpb25zID0gW1xyXG4gICAgJ01hdGguYWJzJywgJ01hdGguYWNvcycsICdNYXRoLmFzaW4nLCAnTWF0aC5hdGFuJywgJ01hdGguYXRhbjInLCAnTWF0aC5jZWlsJyxcclxuICAgICdNYXRoLmNvcycsICdNYXRoLmV4cCcsICdNYXRoLmZsb29yJywgJ01hdGgubG9nJywgJ01hdGgubWF4JywgJ01hdGgubWluJyxcclxuICAgICdNYXRoLnBvdycsICdNYXRoLnJhbmRvbScsICdNYXRoLnJvdW5kJywgJ01hdGguc2luJywgJ01hdGguc3FydCcsICdNYXRoLnRhbicsXHJcbiAgICAnRElWJywgJ01PRCcsICdJTlQnLFxyXG5dO1xyXG5jb25zdCB0aW1lb3V0ID0gMTAwMDtcclxuLy8gR2xvYmFsc1xyXG5cclxuY29uc3Qgb3BlcmF0aW9uUGF0dGVybiA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbnMpLm1hcChlc2NhcGVSZWdFeHApLmpvaW4oJ3wnKTtcclxuY29uc3QgcmVnZXhQYXR0ZXJuID0gbmV3IFJlZ0V4cChgKFtePTw+XSspXFxcXHMqKCR7b3BlcmF0aW9uUGF0dGVybn0pXFxcXHMqKFtePTw+XSspYCk7XHJcblxyXG5mdW5jdGlvbiBzYWZlRXZhbChleHByZXNzaW9uKSB7XHJcbiAgICBjb25zdCBhbGxvd2VkRnVuY3Rpb25OYW1lcyA9IGFsbG93ZWRGdW5jdGlvbnMubWFwKGZ1bmMgPT4gZnVuYy5zcGxpdCgnLicpWzFdIHx8IGZ1bmMpO1xyXG4gICAgY29uc3Qgc2FuaXRpemVkRXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSgvKFthLXpBLVpfJF1bYS16QS1aMC05XyRdKilcXHMqXFwoL2csIChtYXRjaCwgcDEpID0+IHtcclxuICAgICAgICBpZiAoIWFsbG93ZWRGdW5jdGlvbk5hbWVzLmluY2x1ZGVzKHAxKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uICcgKyBwMSArICcoKSB7IHJldHVybiAwOyB9KCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXRjaDtcclxuICAgIH0pO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiAoJyArIHNhbml0aXplZEV4cHJlc3Npb24gKyAnKScpKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZXZhbHVhdGluZyBleHByZXNzaW9uOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUXVvdGVkU3RyaW5nKHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci5sZW5ndGggPiAxICYmIChzdHJbMF0gPT09IHN0cltzdHIubGVuZ3RoIC0gMV0pICYmIChzdHJbMF0gPT09ICdcIicgfHwgc3RyWzBdID09PSBcIidcIik7XHJcbn1cclxuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbk5vZGVTdGFydChpZCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2NrLScgKyBpZCkuY2hpbGROb2Rlc1sxXS5jbGFzc0xpc3QuYWRkKCdvdXRsaW5lJyk7XHJcbn1cclxuZnVuY3Rpb24gb25Ob2RlRW5kKGlkKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmxvY2stJyArIGlkKS5jaGlsZE5vZGVzWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ291dGxpbmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25DaGFydEZpbmlzaCgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydW4tYnV0dG9uJykuZGlzYWJsZWQgPSBmYWxzZVxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1bi1idXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdydW5uaW5nLWJ1dHRvbicpXHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXktaWNvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdXNlLWljb24nKS5jbGFzc0xpc3QuYWRkKCdoaWRlJylcclxufVxyXG5cclxuLy8gQVNTVU1FIHN0YXJ0IGlzIGF0IGlkIDAgLS0tLT4gcnVuTm9kZShjaGFydF9qc29uLCBcIjBcIikgdG8gc3RhcnQgdGhlIHJ1blxyXG5mdW5jdGlvbiBydW5Ob2RlKGNoYXJ0LCBpZCwgdmFycyA9IHt9KSB7XHJcbiAgICBsZXQgdHlwZSA9IGNoYXJ0Wydub2RlcyddW2lkXVsndHlwZSddO1xyXG4gICAgbGV0IGNvbnRlbnQgPSBjaGFydFsnbm9kZXMnXVtpZF1bJ2NvbnRlbnQnXTtcclxuICAgIGxldCBjb25uZWN0aW9uID0gY2hhcnRbJ3dpcmVzJ11baWRdO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGNvbnRlbnQgKyAnLCcsICd2YXJpYWJsZXM6ICcsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFycykpKTtcclxuICAgIG9uTm9kZVN0YXJ0KGlkKTtcclxuXHJcbiAgICBpZiAodHlwZSA9PSAnZGVjaXNpb24nKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoY29uZGl0aW9ucykuZm9yRWFjaCgoY29uZGl0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChjb25kaXRpb24sICdnJyk7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UocmVnZXgsIGNvbmRpdGlvbnNbY29uZGl0aW9uXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmtleXModmFycykuZm9yRWFjaCgodmFyaWFibGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHZhcmlhYmxlLCAnZycpO1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCB2YXJzW3ZhcmlhYmxlXSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCB0cnV0aHkgPSBzYWZlRXZhbChjb250ZW50KTtcclxuICAgICAgICBpZiAodHJ1dGh5KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBydW5Ob2RlKGNoYXJ0LCBjb25uZWN0aW9uWzBdLCB2YXJzKTsgb25Ob2RlRW5kKGlkKTsgfSwgdGltZW91dCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHJ1bk5vZGUoY2hhcnQsIGNvbm5lY3Rpb25bMV0sIHZhcnMpOyBvbk5vZGVFbmQoaWQpOyB9LCB0aW1lb3V0KVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZSAhPSAndGVybWluYWwnKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ3Byb2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQuc3BsaXQoJ1xcbicpLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFssIGxlZnRPcGVyYW5kLCBvcGVyYXRpb24sIHJpZ2h0T3BlcmFuZF0gPSBsaW5lLm1hdGNoKHJlZ2V4UGF0dGVybik7XHJcbiAgICAgICAgICAgICAgICBsZXQgW2xlZnRyZXAsIHJpZ2h0cmVwXSA9IFtsZWZ0T3BlcmFuZCwgcmlnaHRPcGVyYW5kXTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhcnMpLmZvckVhY2goKHZhcmlhYmxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHZhcmlhYmxlLCAnZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnRyZXAgPSBsZWZ0cmVwLnJlcGxhY2UocmVnZXgsIHZhcnNbdmFyaWFibGVdKTtcclxuICAgICAgICAgICAgICAgICAgICByaWdodHJlcCA9IHJpZ2h0cmVwLnJlcGxhY2UocmVnZXgsIHZhcnNbdmFyaWFibGVdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHZhcnMpLmluY2x1ZGVzKGxlZnRPcGVyYW5kKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcnNbbGVmdE9wZXJhbmRdID0gb3BlcmF0aW9uc1tvcGVyYXRpb25dKHNhZmVFdmFsKGxlZnRyZXApLCBzYWZlRXZhbChyaWdodHJlcCkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXJzW2xlZnRPcGVyYW5kXSA9IG9wZXJhdGlvbnNbb3BlcmF0aW9uXSgwLCBzYWZlRXZhbChyaWdodHJlcCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PSAnaW5wdXRPdXRwdXQnKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ2lucHV0JykpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2YXJOYW1lcyA9IGNvbnRlbnQucmVwbGFjZShcImlucHV0IFwiLCBcIlwiKS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dFZhbHVlID0gcGFyc2VGbG9hdChwcm9tcHQoXCJFbnRlciB2YWx1ZSBmb3IgXCIgKyB2YXJOYW1lc1tpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhcnNbdmFyTmFtZXNbaV1dID0gaW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoJ291dHB1dCcpIHx8IGNvbnRlbnQuc3RhcnRzV2l0aCgncHJpbnQnKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dHMgPSBjb250ZW50LnJlcGxhY2UoXCJvdXRwdXQgXCIsIFwiXCIpLnJlcGxhY2UoXCJwcmludCBcIiwgXCJcIikuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGxldCBldmFsdWF0ZWRWYWx1ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFyTmFtZSA9IG91dHB1dHNbaV0udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmhhc093blByb3BlcnR5KHZhck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRlZFZhbHVlcy5wdXNoKHZhcnNbdmFyTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1F1b3RlZFN0cmluZyh2YXJOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyTmFtZSA9IHZhck5hbWUuc3Vic3RyaW5nKDEsIHZhck5hbWUubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGVkVmFsdWVzLnB1c2godmFyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWxlcnQoZXZhbHVhdGVkVmFsdWVzLmpvaW4oJyAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHJ1bk5vZGUoY2hhcnQsIGNvbm5lY3Rpb24sIHZhcnMpOyBvbk5vZGVFbmQoaWQpOyB9LCB0aW1lb3V0KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoY29udGVudCA9PSAnc3RhcnQnKSB7XHJcbiAgICAgICAgICAgIC8vIFNUQVJUXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBydW5Ob2RlKGNoYXJ0LCBjb25uZWN0aW9uLCB2YXJzKTsgb25Ob2RlRW5kKGlkKTsgfSwgdGltZW91dClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBFTkRcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IG9uTm9kZUVuZChpZCk7IG9uQ2hhcnRGaW5pc2goKTsgfSwgdGltZW91dClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJ1bk5vZGUgIiwiY2xhc3MgUG9pbnRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVQb2ludGVyKSB7XHJcbiAgICAgICAgLyoqIFVuaXF1ZSBJRCBmb3IgdGhpcyBwb2ludGVyICovXHJcbiAgICAgICAgdGhpcy5pZCA9IC0xO1xyXG4gICAgICAgIHRoaXMubmF0aXZlUG9pbnRlciA9IG5hdGl2ZVBvaW50ZXI7XHJcbiAgICAgICAgdGhpcy5wYWdlWCA9IG5hdGl2ZVBvaW50ZXIucGFnZVg7XHJcbiAgICAgICAgdGhpcy5wYWdlWSA9IG5hdGl2ZVBvaW50ZXIucGFnZVk7XHJcbiAgICAgICAgdGhpcy5jbGllbnRYID0gbmF0aXZlUG9pbnRlci5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMuY2xpZW50WSA9IG5hdGl2ZVBvaW50ZXIuY2xpZW50WTtcclxuICAgICAgICBpZiAoc2VsZi5Ub3VjaCAmJiBuYXRpdmVQb2ludGVyIGluc3RhbmNlb2YgVG91Y2gpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IG5hdGl2ZVBvaW50ZXIuaWRlbnRpZmllcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNQb2ludGVyRXZlbnQobmF0aXZlUG9pbnRlcikpIHtcclxuICAgICAgICAgICAgLy8gaXMgUG9pbnRlckV2ZW50XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBuYXRpdmVQb2ludGVyLnBvaW50ZXJJZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gZXhwYW5kZWQgc2V0IG9mIFBvaW50ZXJzIGZvciBoaWdoLXJlc29sdXRpb24gaW5wdXRzLlxyXG4gICAgICovXHJcbiAgICBnZXRDb2FsZXNjZWQoKSB7XHJcbiAgICAgICAgaWYgKCdnZXRDb2FsZXNjZWRFdmVudHMnIGluIHRoaXMubmF0aXZlUG9pbnRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5hdGl2ZVBvaW50ZXJcclxuICAgICAgICAgICAgICAgIC5nZXRDb2FsZXNjZWRFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgocCkgPT4gbmV3IFBvaW50ZXIocCkpO1xyXG4gICAgICAgICAgICAvLyBGaXJlZm94IHNvbWV0aW1lcyByZXR1cm5zIGFuIGVtcHR5IGxpc3QgaGVyZS4gSSdtIG5vdCBzdXJlIGl0J3MgZG9pbmcgdGhlIHJpZ2h0IHRoaW5nLlxyXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL3BvaW50ZXJldmVudHMvaXNzdWVzLzQwOVxyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3RoaXNdO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGlzUG9pbnRlckV2ZW50ID0gKGV2ZW50KSA9PiAncG9pbnRlcklkJyBpbiBldmVudDtcclxuY29uc3QgaXNUb3VjaEV2ZW50ID0gKGV2ZW50KSA9PiAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50O1xyXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogVHJhY2sgcG9pbnRlcnMgYWNyb3NzIGEgcGFydGljdWxhciBlbGVtZW50XHJcbiAqL1xyXG5jbGFzcyBQb2ludGVyVHJhY2tlciB7XHJcbiAgICAvKipcclxuICAgICAqIFRyYWNrIHBvaW50ZXJzIGFjcm9zcyBhIHBhcnRpY3VsYXIgZWxlbWVudFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgdG8gbW9uaXRvci5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKF9lbGVtZW50LCB7IHN0YXJ0ID0gKCkgPT4gdHJ1ZSwgbW92ZSA9IG5vb3AsIGVuZCA9IG5vb3AsIHJhd1VwZGF0ZXMgPSBmYWxzZSwgYXZvaWRQb2ludGVyRXZlbnRzID0gZmFsc2UsIH0gPSB7fSkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBfZWxlbWVudDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tlZCBwb2ludGVycyB3aGVuIHRoZXkgd2VyZSBwcmVzc2VkL3RvdWNoZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ZXJzID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGF0ZXN0IHN0YXRlIG9mIHRoZSB0cmFja2VkIHBvaW50ZXJzLiBDb250YWlucyB0aGUgc2FtZSBudW1iZXIgb2YgcG9pbnRlcnMsIGFuZCBpbiB0aGUgc2FtZVxyXG4gICAgICAgICAqIG9yZGVyIGFzIHRoaXMuc3RhcnRQb2ludGVycy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludGVycyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVmb3ggaGFzIGEgYnVnIHdoZXJlIHRvdWNoLWJhc2VkIHBvaW50ZXIgZXZlbnRzIGhhdmUgYSBgYnV0dG9uc2Agb2YgMCwgd2hlbiB0aGlzIHNob3VsZG4ndFxyXG4gICAgICAgICAqIGhhcHBlbi4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTcyOTQ0MFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVXN1YWxseSB3ZSB0cmVhdCBgYnV0dG9ucyA9PT0gMGAgYXMgbm8tbG9uZ2VyLXByZXNzZWQuIFRoaXMgc2V0IGFsbG93cyB1cyB0byBleGNsdWRlIHRoZXNlXHJcbiAgICAgICAgICogYnVnZ3kgRmlyZWZveCBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fZXhjbHVkZUZyb21CdXR0b25zQ2hlY2sgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdGVuZXIgZm9yIG1vdXNlL3BvaW50ZXIgc3RhcnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IFRoaXMgd2lsbCBvbmx5IGJlIGEgTW91c2VFdmVudCBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgcG9pbnRlciBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcG9pbnRlclN0YXJ0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgYnVnZ3kgRmlyZWZveCBjYXNlLiBTZWUgX2V4Y2x1ZGVGcm9tQnV0dG9uc0NoZWNrLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXhjbHVkZUZyb21CdXR0b25zQ2hlY2suYWRkKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIShldmVudC5idXR0b25zICYgMSAvKiBMZWZ0TW91c2VPclRvdWNoT3JQZW5Eb3duICovKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSBuZXcgUG9pbnRlcihldmVudCk7XHJcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgdHJhY2tpbmcgdGhpcyBwb2ludGVyLCBpZ25vcmUgdGhpcyBldmVudC5cclxuICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIHdpdGggbW91c2UgZXZlbnRzIHdoZW4gbXVsdGlwbGUgYnV0dG9ucyBhcmUgcHJlc3NlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvaW50ZXJzLnNvbWUoKHApID0+IHAuaWQgPT09IHBvaW50ZXIuaWQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RyaWdnZXJQb2ludGVyU3RhcnQocG9pbnRlciwgZXZlbnQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBBZGQgbGlzdGVuZXJzIGZvciBhZGRpdGlvbmFsIGV2ZW50cy5cclxuICAgICAgICAgICAgLy8gVGhlIGxpc3RlbmVycyBtYXkgYWxyZWFkeSBleGlzdCwgYnV0IG5vIGhhcm0gaW4gYWRkaW5nIHRoZW0gYWdhaW4uXHJcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhcHR1cmluZ0VsZW1lbnQgPSBldmVudC50YXJnZXQgJiYgJ3NldFBvaW50ZXJDYXB0dXJlJyBpbiBldmVudC50YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICA/IGV2ZW50LnRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNhcHR1cmluZ0VsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9yYXdVcGRhdGVzID8gJ3BvaW50ZXJyYXd1cGRhdGUnIDogJ3BvaW50ZXJtb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuX3BvaW50ZXJFbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNb3VzZUV2ZW50XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX3BvaW50ZXJFbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0ZW5lciBmb3IgdG91Y2hzdGFydC5cclxuICAgICAgICAgKiBPbmx5IHVzZWQgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RvdWNoU3RhcnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB0b3VjaCBvZiBBcnJheS5mcm9tKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlclBvaW50ZXJTdGFydChuZXcgUG9pbnRlcih0b3VjaCksIGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdGVuZXIgZm9yIHBvaW50ZXIvbW91c2UvdG91Y2ggbW92ZSBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWlzVG91Y2hFdmVudChldmVudCkgJiZcclxuICAgICAgICAgICAgICAgICghaXNQb2ludGVyRXZlbnQoZXZlbnQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2V4Y2x1ZGVGcm9tQnV0dG9uc0NoZWNrLmhhcyhldmVudC5wb2ludGVySWQpKSAmJlxyXG4gICAgICAgICAgICAgICAgZXZlbnQuYnV0dG9ucyA9PT0gMCAvKiBOb25lICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaW4gYSBudW1iZXIgb2YgYnVnZ3kgY2FzZXMgd2hlcmUgdGhlIGJyb3dzZXIgZmFpbGVkIHRvIGRlbGl2ZXIgYSBwb2ludGVydXBcclxuICAgICAgICAgICAgICAgIC8vIG9yIHBvaW50ZXJjYW5jZWwuIElmIHdlIHNlZSB0aGUgcG9pbnRlciBtb3Zpbmcgd2l0aG91dCBhbnkgYnV0dG9ucyBkb3duLCBzeW50aGVzaXplIGFuIGVuZC5cclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvcG9pbnRlcmV2ZW50cy9pc3N1ZXMvNDA3XHJcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL3BvaW50ZXJldmVudHMvaXNzdWVzLzQwOFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRlckVuZChldmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNQb2ludGVycyA9IHRoaXMuY3VycmVudFBvaW50ZXJzLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRQb2ludGVycyA9IGlzVG91Y2hFdmVudChldmVudClcclxuICAgICAgICAgICAgICAgID8gQXJyYXkuZnJvbShldmVudC5jaGFuZ2VkVG91Y2hlcykubWFwKCh0KSA9PiBuZXcgUG9pbnRlcih0KSlcclxuICAgICAgICAgICAgICAgIDogW25ldyBQb2ludGVyKGV2ZW50KV07XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrZWRDaGFuZ2VkUG9pbnRlcnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludGVyIG9mIGNoYW5nZWRQb2ludGVycykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRQb2ludGVycy5maW5kSW5kZXgoKHApID0+IHAuaWQgPT09IHBvaW50ZXIuaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gTm90IGEgcG9pbnRlciB3ZSdyZSB0cmFja2luZ1xyXG4gICAgICAgICAgICAgICAgdHJhY2tlZENoYW5nZWRQb2ludGVycy5wdXNoKHBvaW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRlcnNbaW5kZXhdID0gcG9pbnRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHJhY2tlZENoYW5nZWRQb2ludGVycy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDYWxsYmFjayhwcmV2aW91c1BvaW50ZXJzLCB0cmFja2VkQ2hhbmdlZFBvaW50ZXJzLCBldmVudCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxsIHRoZSBlbmQgY2FsbGJhY2sgZm9yIHRoaXMgcG9pbnRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBwb2ludGVyIFBvaW50ZXJcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgUmVsYXRlZCBldmVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RyaWdnZXJQb2ludGVyRW5kID0gKHBvaW50ZXIsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIE1haW4gYnV0dG9uIHN0aWxsIGRvd24/XHJcbiAgICAgICAgICAgIC8vIFdpdGggbW91c2UgZXZlbnRzLCB5b3UgZ2V0IGEgbW91c2V1cCBwZXIgbW91c2UgYnV0dG9uLCBzbyB0aGUgbGVmdCBidXR0b24gbWlnaHQgc3RpbGwgYmUgZG93bi5cclxuICAgICAgICAgICAgaWYgKCFpc1RvdWNoRXZlbnQoZXZlbnQpICYmXHJcbiAgICAgICAgICAgICAgICBldmVudC5idXR0b25zICYgMSAvKiBMZWZ0TW91c2VPclRvdWNoT3JQZW5Eb3duICovKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRQb2ludGVycy5maW5kSW5kZXgoKHApID0+IHAuaWQgPT09IHBvaW50ZXIuaWQpO1xyXG4gICAgICAgICAgICAvLyBOb3QgYSBwb2ludGVyIHdlJ3JlIGludGVyZXN0ZWQgaW4/XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2ludGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLl9leGNsdWRlRnJvbUJ1dHRvbnNDaGVjay5kZWxldGUocG9pbnRlci5pZCk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBldmVudC50eXBlIG1pZ2h0IGJlIGEgJ21vdmUnIGV2ZW50IGR1ZSB0byB3b3JrYXJvdW5kcyBmb3Igd2VpcmQgbW91c2UgYmVoYXZpb3VyLlxyXG4gICAgICAgICAgICAvLyBTZWUgX21vdmUgZm9yIGRldGFpbHMuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbGxlZCA9ICEoZXZlbnQudHlwZSA9PT0gJ21vdXNldXAnIHx8XHJcbiAgICAgICAgICAgICAgICBldmVudC50eXBlID09PSAndG91Y2hlbmQnIHx8XHJcbiAgICAgICAgICAgICAgICBldmVudC50eXBlID09PSAncG9pbnRlcnVwJyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZENhbGxiYWNrKHBvaW50ZXIsIGV2ZW50LCBjYW5jZWxsZWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3RlbmVyIGZvciBtb3VzZS9wb2ludGVyIGVuZHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgVGhpcyB3aWxsIG9ubHkgYmUgYSBNb3VzZUV2ZW50IGlmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBwb2ludGVyIGV2ZW50cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wb2ludGVyRW5kID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fdHJpZ2dlclBvaW50ZXJFbmQobmV3IFBvaW50ZXIoZXZlbnQpLCBldmVudCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQb2ludGVycy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3Jhd1VwZGF0ZXMgPyAncG9pbnRlcnJhd3VwZGF0ZScgOiAncG9pbnRlcm1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vdXNlRXZlbnRcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3RlbmVyIGZvciB0b3VjaGVuZC5cclxuICAgICAgICAgKiBPbmx5IHVzZWQgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RvdWNoRW5kID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG91Y2ggb2YgQXJyYXkuZnJvbShldmVudC5jaGFuZ2VkVG91Y2hlcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJQb2ludGVyRW5kKG5ldyBQb2ludGVyKHRvdWNoKSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9zdGFydENhbGxiYWNrID0gc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5fbW92ZUNhbGxiYWNrID0gbW92ZTtcclxuICAgICAgICB0aGlzLl9lbmRDYWxsYmFjayA9IGVuZDtcclxuICAgICAgICB0aGlzLl9yYXdVcGRhdGVzID0gcmF3VXBkYXRlcyAmJiAnb25wb2ludGVycmF3dXBkYXRlJyBpbiB3aW5kb3c7XHJcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xyXG4gICAgICAgIGlmIChzZWxmLlBvaW50ZXJFdmVudCAmJiAhYXZvaWRQb2ludGVyRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl90b3VjaFN0YXJ0KTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLlxyXG4gICAgICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fcG9pbnRlclN0YXJ0KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl90b3VjaFN0YXJ0KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl90b3VjaEVuZCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fcmF3VXBkYXRlcyA/ICdwb2ludGVycmF3dXBkYXRlJyA6ICdwb2ludGVybW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGwgdGhlIHN0YXJ0IGNhbGxiYWNrIGZvciB0aGlzIHBvaW50ZXIsIGFuZCB0cmFjayBpdCBpZiB0aGUgdXNlciB3YW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRlciBQb2ludGVyXHJcbiAgICAgKiBAcGFyYW0gZXZlbnQgUmVsYXRlZCBldmVudFxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGUgcG9pbnRlciBpcyBiZWluZyB0cmFja2VkLlxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlclBvaW50ZXJTdGFydChwb2ludGVyLCBldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRDYWxsYmFjayhwb2ludGVyLCBldmVudCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludGVycy5wdXNoKHBvaW50ZXIpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb2ludGVycy5wdXNoKHBvaW50ZXIpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFBvaW50ZXJUcmFja2VyIGFzIGRlZmF1bHQgfTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCBQbGFpbkRyYWdnYWJsZSBmcm9tICdwbGFpbi1kcmFnZ2FibGUnXHJcbmltcG9ydCBMZWFkZXJMaW5lIGZyb20gJ2xlYWRlci1saW5lLW5ldydcclxuaW1wb3J0IFBvaW50ZXJUcmFja2VyIGZyb20gJ3BvaW50ZXItdHJhY2tlcidcclxuXHJcbmltcG9ydCAnLi4vY3NzL2luZGV4LmNzcydcclxuaW1wb3J0ICcuLi9jc3MvbWFpbi5jc3MnXHJcbmltcG9ydCAnLi4vY3NzL21haW5Nb2JpbGUuY3NzJztcclxuXHJcbmltcG9ydCBydW5Ob2RlIGZyb20gJy4vcnVuQ2hhcnQuanMnXHJcbmltcG9ydCBmbG93Y2hhcnRKc29uIGZyb20gJy4uL2pzb24vZmxvd2NoYXJ0Lmpzb24nXHJcblxyXG5jb25zdCBmbG93Y2hhcnRCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93Y2hhcnQtYm9hcmQnKVxyXG5jb25zdCBmbG93Y2hhcnRCb2FyZENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93Y2hhcnQtYm9hcmQtY29udGFpbmVyJylcclxuXHJcbi8vIHRlbXBsYXRlc1xyXG5jb25zdCB0ZXJtaW5hbFRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlcm1pbmFsLXRlbXBsYXRlJylcclxuY29uc3QgcHJvY2Vzc1RlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2Nlc3MtdGVtcGxhdGUnKVxyXG5jb25zdCBkZWNpc2lvblRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlY2lzaW9uLXRlbXBsYXRlJylcclxuY29uc3QgaW5wdXRPdXRwdXRUZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC1vdXRwdXQtdGVtcGxhdGUnKVxyXG5cclxuLy8gdW4tbmVlZGVkXHJcbmNvbnN0IGZsb3djaGFydFN5bWJvbHMgPSBbJ3Rlcm1pbmFsJywgJ3Byb2Nlc3MnLCAnZGVjaXNpb24nLCAnaW5wdXRPdXRwdXQnXVxyXG5jb25zdCBhbGxUb29scyA9IFsnaGFuZCcsICdlZGl0JywgJ2Nvbm5lY3QnLCAnZXJhc2UnXVxyXG5cclxuLy8gdGVzdCBidXR0b25cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3QtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyB0ZXN0IGJ1dHRvbiBjb2RlIGhlcmVcclxuICAgIGNvbnNvbGUubG9nKCd0ZXN0IGJ1dHRvbicpXHJcbn0pXHJcblxyXG4vLyBmbG93QmxvY2tcclxuZnVuY3Rpb24gY3JlYXRlTGluZShzdGFydCwgZW5kLCBsYWJlbCA9IHVuZGVmaW5lZCwgbGluZUNvbG9yID0gdW5kZWZpbmVkLCBkYXNoZWQgPSBmYWxzZSkge1xyXG4gICAgY29uc3QgbGFiZWxPYmogPSB7XHJcbiAgICAgICAgdGV4dDogbGFiZWwsXHJcbiAgICAgICAgY29sb3I6ICdhbGljZWJsdWUnLFxyXG4gICAgICAgIG91dGxpbmVDb2xvcjogJycsXHJcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBMZWFkZXJMaW5lKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXJ0KSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZW5kKSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN0YXJ0UGx1ZzogJ2Rpc2MnLFxyXG4gICAgICAgICAgICBzaXplOiA0LCBzdGFydFBsdWdTaXplOiAxLjUsIHN0YXJ0UGx1Z091dGxpbmVTaXplOiAyLjUsXHJcbiAgICAgICAgICAgIGNvbG9yOiBsaW5lQ29sb3IgPT0gdW5kZWZpbmVkID8gJyNmMGY4ZmYnIDogbGluZUNvbG9yLCBwYXRoOiAnZmx1aWQnLFxyXG4gICAgICAgICAgICBkcm9wU2hhZG93OiB0cnVlLFxyXG4gICAgICAgICAgICBtaWRkbGVMYWJlbDogTGVhZGVyTGluZS5jYXB0aW9uTGFiZWwobGFiZWxPYmopLFxyXG4gICAgICAgICAgICBkYXNoOiBkYXNoZWQgPyB7IGFuaW1hdGlvbjogZGFzaGVkIH0gOiBmYWxzZSxcclxuICAgICAgICB9KVxyXG59XHJcbmNsYXNzIEZsb3dCbG9jayB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCwgdHlwZSwgY29udGVudCwgcG9zKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcclxuICAgICAgICBbdGhpcy5wb3N4LCB0aGlzLnBvc3ldID0gcG9zO1xyXG4gICAgICAgIFt0aGlzLmVsZW1lbnQsIHRoaXMuZHJhZ2dhYmxlXSA9IHRoaXMuY3JlYXRlRmxvd0Jsb2NrKHR5cGUsIGlkLCBjb250ZW50KVxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMgPSBbXTtcclxuICAgICAgICB0aGlzLmRyYWdnYWJsZVsnb25Nb3ZlJ10gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZm9yRWFjaCgoYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgYy5wb3NpdGlvbigpXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBibG9jay0ke3RoaXMuaWR9YCkuc3R5bGUudHJhbnNmb3JtLm1hdGNoKC9bLStdP1xcZCsoLlxcZCspPy9nKS5tYXAoTnVtYmVyKVxyXG4gICAgICAgICAgICB0aGlzLnBvc3ggPSBtYXRjaFswXVxyXG4gICAgICAgICAgICB0aGlzLnBvc3kgPSBtYXRjaFsxXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVGbG93QmxvY2soKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnRcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSAndGVybWluYWwnKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSB0ZXJtaW5hbFRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gJ3Byb2Nlc3MnKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBwcm9jZXNzVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gJ2RlY2lzaW9uJykge1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZGVjaXNpb25UZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAnaW5wdXRPdXRwdXQnKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBpbnB1dE91dHB1dFRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRJZCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWlkXScpXHJcbiAgICAgICAgY29uc3QgZWxlbWVudENvbnRlbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50XScpXHJcbiAgICAgICAgY29uc3QgZWxlbWVudEVkaXQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1lZGl0XScpXHJcbiAgICAgICAgY29uc3QgZWxlbWVudEVkaXRMYWJlbCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWlucHV0LW91dHB1dC1sYWJlbF0nKVxyXG5cclxuICAgICAgICBlbGVtZW50SWQuaWQgPSBgYmxvY2stJHt0aGlzLmlkfWBcclxuICAgICAgICBlbGVtZW50Q29udGVudC50ZXh0Q29udGVudCA9IHRoaXMuY29udGVudFxyXG5cclxuICAgICAgICBlbGVtZW50SWQuY2xhc3NMaXN0LmFkZCgnZHJhZ2dhYmxlJylcclxuICAgICAgICBlbGVtZW50SWQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3RoaXMucG9zeH1weCwke3RoaXMucG9zeX1weClgXHJcbiAgICAgICAgaWYgKGVsZW1lbnRFZGl0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudEVkaXRMYWJlbCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRDb250ZW50LnRleHRDb250ZW50ID0gdGhpcy5jb250ZW50LnNwbGl0KCcgJykuc2xpY2UoMSkuam9pbignICcpXHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudEVkaXRMYWJlbC50ZXh0Q29udGVudCA9IHRoaXMuY29udGVudC5zcGxpdCgnICcpWzBdXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50RWRpdC52YWx1ZSA9IHRoaXMuY29udGVudC5zcGxpdCgnICcpLnNsaWNlKDEpLmpvaW4oJyAnKVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudEVkaXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQuc3BsaXQoJyAnKVswXSArICcgJyArIGVsZW1lbnRFZGl0LnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudENvbnRlbnQudGV4dENvbnRlbnQgPSBlbGVtZW50RWRpdC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudENvbnRlbnQudGV4dENvbnRlbnQgPSB0aGlzLmNvbnRlbnRcclxuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50RWRpdC52YWx1ZSA9IHRoaXMuY29udGVudFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudEVkaXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBlbGVtZW50RWRpdC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRDb250ZW50LnRleHRDb250ZW50ID0gZWxlbWVudEVkaXQudmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmxvd2NoYXJ0Qm9hcmQuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudERyYWdnYWJsZSA9IG5ldyBQbGFpbkRyYWdnYWJsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHt0aGlzLmlkfWApKVxyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHt0aGlzLmlkfWApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFRvb2wgPT0gJ2VyYXNlJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSAhPSAndGVybWluYWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtRmxvd0Jsb2NrKHRoaXMuaWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBhbGxvdyBhdXRvU2Nyb2xsIG9ubHkgd2hlbiBhIG1vdXNlIGV4aXN0XHJcbiAgICAgICAgaWYgKFwib250b3VjaHN0YXJ0XCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWxlbWVudERyYWdnYWJsZS5hdXRvU2Nyb2xsID0gZmxvd2NoYXJ0Qm9hcmRDb250YWluZXJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBbZWxlbWVudCwgZWxlbWVudERyYWdnYWJsZV1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVGbG93QmxvY2soZnVuYywgd2hhdFRvVXBkYXRlKSB7XHJcbiAgICAgICAgdGhpcy5kcmFnZ2FibGVbZnVuY10gPSB3aGF0VG9VcGRhdGVcclxuICAgIH1cclxufVxyXG5cclxuLy8gY2hhcnRcclxubGV0IGNvbm5lY3Rpb25zID0ge31cclxubGV0IGZsb3dCbG9ja3MgPSB7fVxyXG5sZXQgY29ubmVjdGlvbkF0dHJzID0ge31cclxubGV0IGdsb2JhbF9pbmRleCA9IC0xXHJcblxyXG5mdW5jdGlvbiBhZGRGbG93QmxvY2sodHlwZSwgY29udGVudCwgcG9zID0gWzAsIDBdKSB7XHJcbiAgICBsZXQgbmV3QmxvY2sgPSBuZXcgRmxvd0Jsb2NrKGdsb2JhbF9pbmRleCArIDEsIHR5cGUsIGNvbnRlbnQsIHBvcylcclxuICAgIGZsb3dCbG9ja3NbU3RyaW5nKGdsb2JhbF9pbmRleCArIDEpXSA9IG5ld0Jsb2NrXHJcbiAgICBnbG9iYWxfaW5kZXgrK1xyXG59XHJcbmZ1bmN0aW9uIHJlbUZsb3dCbG9jayhpZCkge1xyXG4gICAgLy8gcmVtb3ZlIGF0dGFjaGVkIGNvbm5lY3Rpb25zIHRvIGZsb3dibG9ja1xyXG4gICAgbGV0IGN1cnJDb25uZWN0aW9ucyA9XHJcbiAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpLm1hcChzdHIgPT4gc3RyLnNwbGl0KCc6JykpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlbMF0gPT0gaWQgfHwga2V5WzFdID09IGlkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICBjdXJyQ29ubmVjdGlvbnMuZm9yRWFjaChrID0+IHsgcmVtQ29ubmVjdGlvbihrWzBdLCBrWzFdKSB9KVxyXG5cclxuICAgIC8vIHJlbW92ZSBmbG93YmxvY2tcclxuICAgIGZsb3dCbG9ja3NbU3RyaW5nKGlkKV0uZHJhZ2dhYmxlLnJlbW92ZSgpXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHtpZH1gKS5yZW1vdmUoKVxyXG4gICAgZGVsZXRlIGZsb3dCbG9ja3NbU3RyaW5nKGlkKV1cclxuXHJcbiAgICAvLyBkZWNyZW1lbnQgZmxvd2Jsb2NrIGlkc1xyXG4gICAgbGV0IGdpZHMgPSBPYmplY3Qua2V5cyhmbG93QmxvY2tzKS5tYXAoc3RyID0+IE51bWJlcihzdHIpKVxyXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGtleSA+IE51bWJlcihpZClcclxuICAgICAgICB9KVxyXG4gICAgZ2lkcy5mb3JFYWNoKGsgPT4ge1xyXG4gICAgICAgIGZsb3dCbG9ja3NbU3RyaW5nKGsgLSAxKV0gPSBmbG93QmxvY2tzW1N0cmluZyhrKV1cclxuICAgICAgICBmbG93QmxvY2tzW1N0cmluZyhrIC0gMSldLmlkLS1cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHtrfWApLmlkID0gYGJsb2NrLSR7ayAtIDF9YFxyXG4gICAgfSlcclxuICAgIGRlbGV0ZSBmbG93QmxvY2tzW1N0cmluZyhNYXRoLm1heCguLi5naWRzKSldXHJcblxyXG4gICAgLy8gZGVjcmVtZW50IGNvbm5lY3Rpb24gaWRzXHJcbiAgICBPYmplY3Qua2V5cyhjb25uZWN0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdCgnOicpLm1hcChzdHIgPT4gTnVtYmVyKHN0cikpXHJcbiAgICAgICAgaWYgKHBhcnRzWzBdID4gTnVtYmVyKGlkKSkgcGFydHNbMF0tLVxyXG4gICAgICAgIGlmIChwYXJ0c1sxXSA+IE51bWJlcihpZCkpIHBhcnRzWzFdLS1cclxuICAgICAgICBsZXQgdG1wID0gY29ubmVjdGlvbnNba2V5XVxyXG4gICAgICAgIGRlbGV0ZSBjb25uZWN0aW9uc1trZXldXHJcbiAgICAgICAgY29ubmVjdGlvbnNbcGFydHMuam9pbignOicpXSA9IHRtcFxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBkZWNyZW1lbnQgY29ubmVjdGlvbkF0dHJzIGlkc1xyXG4gICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbkF0dHJzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgbGV0IHBhcnRzID0ga2V5LnNwbGl0KCc6JykubWFwKHN0ciA9PiBOdW1iZXIoc3RyKSlcclxuICAgICAgICBpZiAocGFydHNbMF0gPiBOdW1iZXIoaWQpKSBwYXJ0c1swXS0tXHJcbiAgICAgICAgaWYgKHBhcnRzWzFdID4gTnVtYmVyKGlkKSkgcGFydHNbMV0tLVxyXG4gICAgICAgIGxldCB0bXAgPSBjb25uZWN0aW9uQXR0cnNba2V5XVxyXG4gICAgICAgIGRlbGV0ZSBjb25uZWN0aW9uQXR0cnNba2V5XVxyXG4gICAgICAgIGNvbm5lY3Rpb25BdHRyc1twYXJ0cy5qb2luKCc6JyldID0gdG1wXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICBnbG9iYWxfaW5kZXgtLVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDb25uZWN0aW9uKGZyb21JZCwgdG9JZCwgYXR0ciA9IG51bGwpIHtcclxuICAgIGxldCBjaWQgPSBgJHtmcm9tSWR9OiR7dG9JZH1gXHJcbiAgICBsZXQgc3RhcnROb2RlID0gZmxvd0Jsb2Nrc1tmcm9tSWRdXHJcbiAgICBsZXQgZW5kTm9kZSA9IGZsb3dCbG9ja3NbdG9JZF1cclxuXHJcbiAgICBpZiAoYXR0cikgY29ubmVjdGlvbkF0dHJzW2NpZF0gPSBhdHRyXHJcbiAgICBpZiAoYXR0ciA9PSAneScpIHtcclxuICAgICAgICBjb25uZWN0aW9uc1tjaWRdID0gY3JlYXRlTGluZShgYmxvY2stJHtmcm9tSWR9YCwgYGJsb2NrLSR7dG9JZH1gLCAnWWVzJywgJyMyOTk2NGEnKVxyXG4gICAgfSBlbHNlIGlmIChhdHRyID09ICduJykge1xyXG4gICAgICAgIGNvbm5lY3Rpb25zW2NpZF0gPSBjcmVhdGVMaW5lKGBibG9jay0ke2Zyb21JZH1gLCBgYmxvY2stJHt0b0lkfWAsICdObycsICcjYmEyYjJiJylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29ubmVjdGlvbnNbY2lkXSA9IGNyZWF0ZUxpbmUoYGJsb2NrLSR7ZnJvbUlkfWAsIGBibG9jay0ke3RvSWR9YClcclxuICAgIH1cclxuICAgIHN0YXJ0Tm9kZS5jb25uZWN0aW9ucy5wdXNoKGNvbm5lY3Rpb25zW2NpZF0pXHJcbiAgICBlbmROb2RlLmNvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbnNbY2lkXSlcclxufVxyXG5mdW5jdGlvbiByZW1Db25uZWN0aW9uKGZyb21JZCwgdG9JZCkge1xyXG4gICAgbGV0IGNpZCA9IGAke2Zyb21JZH06JHt0b0lkfWBcclxuXHJcbiAgICBmbG93QmxvY2tzW2Zyb21JZF0uY29ubmVjdGlvbnMuc3BsaWNlKGZsb3dCbG9ja3NbZnJvbUlkXS5jb25uZWN0aW9ucy5pbmRleE9mKGNvbm5lY3Rpb25zW2NpZF0pLCAxKVxyXG4gICAgZmxvd0Jsb2Nrc1t0b0lkXS5jb25uZWN0aW9ucy5zcGxpY2UoZmxvd0Jsb2Nrc1t0b0lkXS5jb25uZWN0aW9ucy5pbmRleE9mKGNvbm5lY3Rpb25zW2NpZF0pLCAxKVxyXG5cclxuICAgIGNvbm5lY3Rpb25zW2NpZF0ucmVtb3ZlKClcclxuXHJcbiAgICBkZWxldGUgY29ubmVjdGlvbnNbY2lkXVxyXG4gICAgZGVsZXRlIGNvbm5lY3Rpb25BdHRyc1tjaWRdXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9iamVjdGlmeUNoYXJ0KCkge1xyXG4gICAgbGV0IHJlcyA9IHsgJ3dpcmVzJzoge30sICdub2Rlcyc6IHt9IH1cclxuICAgIC8vIGFkZCBub2Rlc1xyXG4gICAgT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGxldCBmID0gZmxvd0Jsb2Nrc1trZXldXHJcbiAgICAgICAgcmVzWydub2RlcyddW2tleV0gPSB7XHJcbiAgICAgICAgICAgIFwicG9zeFwiOiBmLnBvc3gsXHJcbiAgICAgICAgICAgIFwicG9zeVwiOiBmLnBvc3ksXHJcbiAgICAgICAgICAgIFwidHlwZVwiOiBmLnR5cGUsXHJcbiAgICAgICAgICAgIFwiY29udGVudFwiOiBmLmNvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIGFkZCBjb25uZWN0aW9uc1xyXG4gICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBsZXQgcGFydHMgPSBrZXkuc3BsaXQoJzonKVxyXG4gICAgICAgIGlmIChrZXkgaW4gY29ubmVjdGlvbkF0dHJzKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJ0c1swXSBpbiByZXNbJ3dpcmVzJ10pIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkF0dHJzW2tleV0gPT0gJ3knKSByZXNbJ3dpcmVzJ11bcGFydHNbMF1dWzBdID0gcGFydHNbMV1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbm5lY3Rpb25BdHRyc1trZXldID09ICduJykgcmVzWyd3aXJlcyddW3BhcnRzWzBdXVsxXSA9IHBhcnRzWzFdXHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbm5lY3Rpb25BdHRyc1trZXldID09ICd5JykgcmVzWyd3aXJlcyddW3BhcnRzWzBdXSA9IFtwYXJ0c1sxXSwgLTFdXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbm5lY3Rpb25BdHRyc1trZXldID09ICduJykgcmVzWyd3aXJlcyddW3BhcnRzWzBdXSA9IFstMSwgcGFydHNbMV1dXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzWyd3aXJlcyddW3BhcnRzWzBdXSA9IHBhcnRzWzFdXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIHJldHVybiByZXNcclxufVxyXG5mdW5jdGlvbiBwZXJzb25pZnlDaGFydChvYmplY3QpIHtcclxuICAgIGxldCBuID0gT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykubGVuZ3RoXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgcmVtRmxvd0Jsb2NrKDApXHJcblxyXG4gICAgT2JqZWN0LmtleXMob2JqZWN0Wydub2RlcyddKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgYWRkRmxvd0Jsb2NrKG9iamVjdFsnbm9kZXMnXVtrZXldWyd0eXBlJ10sXHJcbiAgICAgICAgICAgIG9iamVjdFsnbm9kZXMnXVtrZXldWydjb250ZW50J10sXHJcbiAgICAgICAgICAgIFtvYmplY3RbJ25vZGVzJ11ba2V5XVsncG9zeCddLCBvYmplY3RbJ25vZGVzJ11ba2V5XVsncG9zeSddXSlcclxuICAgIH0pXHJcbiAgICBPYmplY3Qua2V5cyhvYmplY3RbJ3dpcmVzJ10pLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBpZiAodHlwZW9mIChvYmplY3RbJ3dpcmVzJ11ba2V5XSkgPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgYWRkQ29ubmVjdGlvbihrZXksIG9iamVjdFsnd2lyZXMnXVtrZXldKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFkZENvbm5lY3Rpb24oa2V5LCBvYmplY3RbJ3dpcmVzJ11ba2V5XVswXSwgJ3knKVxyXG4gICAgICAgICAgICBhZGRDb25uZWN0aW9uKGtleSwgb2JqZWN0Wyd3aXJlcyddW2tleV1bMV0sICduJylcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcblxyXG4vLyNyZWdpb24gdG9vbHNcclxubGV0IGN1cnJlbnRUb29sXHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idXR0b24nKVxyXG5jb25zdCBjb25uZWN0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3QtYnV0dG9uJylcclxuY29uc3QgbW92ZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlLWJ1dHRvbicpXHJcbmNvbnN0IGVyYXNlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VyYXNlLWJ1dHRvbicpXHJcbmNvbnN0IHJ1bkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydW4tYnV0dG9uJylcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMCwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGVuYWJsZUVkaXQodHJ1ZSlcclxuICAgICAgICBjdXJyZW50VG9vbCA9ICdlZGl0J1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbnNba2V5XS5wb3NpdGlvbigpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59KVxyXG5jb25uZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdG9nZ2xlU3dpdGNoKFtlZGl0QnV0dG9uLCBjb25uZWN0QnV0dG9uLCBtb3ZlQnV0dG9uLCBlcmFzZUJ1dHRvbl0sIDEsICdhY3RpdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlRHJhZ2dhYmxlcyhmYWxzZSlcclxuICAgICAgICBlbmFibGVFZGl0KGZhbHNlKVxyXG4gICAgICAgIGN1cnJlbnRUb29sID0gJ2Nvbm5lY3QnXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnQnKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBPYmplY3Qua2V5cyhjb25uZWN0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uc1trZXldLnBvc2l0aW9uKClcclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn0pXHJcbm1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMiwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKHRydWUpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBjdXJyZW50VG9vbCA9ICdtb3ZlJ1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbnNba2V5XS5wb3NpdGlvbigpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59KVxyXG5lcmFzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRvZ2dsZVN3aXRjaChbZWRpdEJ1dHRvbiwgY29ubmVjdEJ1dHRvbiwgbW92ZUJ1dHRvbiwgZXJhc2VCdXR0b25dLCAzLCAnYWN0aXZlJywgKCkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZURyYWdnYWJsZXMoZmFsc2UpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBjdXJyZW50VG9vbCA9ICdlcmFzZSdcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbm5lY3Rpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25zW2tleV0ucG9zaXRpb24oKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxufSlcclxucnVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYgKHJ1bkJ1dHRvbi5kaXNhYmxlZCA9PSB0cnVlKSByZXR1cm5cclxuXHJcbiAgICBydW5CdXR0b24uZGlzYWJsZWQgPSB0cnVlXHJcbiAgICBydW5CdXR0b24uY2xhc3NMaXN0LmFkZCgncnVubmluZy1idXR0b24nKVxyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5LWljb24nKS5jbGFzc0xpc3QuYWRkKCdoaWRlJylcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXVzZS1pY29uJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXHJcblxyXG4gICAgcnVuTm9kZShvYmplY3RpZnlDaGFydCgpLCAnMCcpXHJcbn0pXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVTd2l0Y2godG9nZ2xlU3dpdGNoZXMgPSBbXSwgaW5kZXgsIGFjdGl2ZUNsYXNzLCBvbkFjdGl2YXRlRnVuYyA9ICgpID0+IHsgfSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2dnbGVTd2l0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRvZ2dsZVN3aXRjaGVzW2ldLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpXHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU3dpdGNoZXNbaW5kZXhdLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpXHJcbiAgICBvbkFjdGl2YXRlRnVuYygpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZURyYWdnYWJsZXMoZW5hYmxlKSB7XHJcbiAgICBpZiAoZW5hYmxlKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBmbG93QmxvY2tzW2tleV0uZHJhZ2dhYmxlLmRpc2FibGVkID0gZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBmbG93QmxvY2tzW2tleV0uZHJhZ2dhYmxlLmRpc2FibGVkID0gdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZUVkaXQoZW5hYmxlKSB7XHJcbiAgICBpZiAoZW5hYmxlKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnRdJykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWtleS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygndGVybWluYWwnKSkge1xyXG4gICAgICAgICAgICAgICAga2V5LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWVkaXRdJykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBrZXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50XScpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgaWYgKCFrZXkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZXJtaW5hbCcpKSB7XHJcbiAgICAgICAgICAgICAgICBrZXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stZWRpdF0nKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGtleS5jbGFzc0xpc3QuYWRkKCdoaWRlJylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyNlbmRyZWdpb25cclxuXHJcbi8vI3JlZ2lvbiBzaWRlIFBhbmVsIFxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvY2VzcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaW5pdEFkZEJsb2NrKCdwcm9jZXNzJywgJ3Byb2Nlc3MnKVxyXG59KVxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVjaXNpb24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGluaXRBZGRCbG9jaygnZGVjaXNpb24nLCAnZGVjaXNpb24nKVxyXG59KVxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGluaXRBZGRCbG9jaygnaW5wdXRPdXRwdXQnLCAnaW5wdXQnKVxyXG59KVxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpbml0QWRkQmxvY2soJ2lucHV0T3V0cHV0JywgJ291dHB1dCcpXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBpbml0QWRkQmxvY2soZmxvd0NoYXJ0U3ltYm9sLCBjb250ZW50KSB7XHJcbiAgICBhZGRGbG93QmxvY2soZmxvd0NoYXJ0U3ltYm9sLCBjb250ZW50LCBbMCwgMF0pXHJcblxyXG4gICAgaWYgKGN1cnJlbnRUb29sID09ICdoYW5kJykge1xyXG4gICAgICAgIHRvZ2dsZURyYWdnYWJsZXModHJ1ZSlcclxuICAgICAgICBlbmFibGVFZGl0KGZhbHNlKVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRUb29sID09ICdlZGl0Jykge1xyXG4gICAgICAgIHRvZ2dsZURyYWdnYWJsZXMoZmFsc2UpXHJcbiAgICAgICAgZW5hYmxlRWRpdCh0cnVlKVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRUb29sID09ICdjb25uZWN0Jykge1xyXG4gICAgICAgIHRvZ2dsZURyYWdnYWJsZXMoZmFsc2UpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChjdXJyZW50VG9vbCA9PSAnZXJhc2UnKSB7XHJcbiAgICAgICAgdG9nZ2xlRHJhZ2dhYmxlcyhmYWxzZSlcclxuICAgICAgICBlbmFibGVFZGl0KGZhbHNlKVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuLy8jZW5kcmVnaW9uXHJcblxyXG5sZXQgaXNEcmFnZ2luZ0Jsb2NrID0gZmFsc2VcclxubGV0IGRyYWdnaW5nQmxvY2tcclxubGV0IGxpbmVcclxubGV0IGRlY2lzaW9uTGluZVxyXG5cclxuLy8gY29ubmVjdGlvbnMgdG9vbFxyXG5jb25zdCBwb2ludGVyVHJhY2tlciA9IG5ldyBQb2ludGVyVHJhY2tlcihmbG93Y2hhcnRCb2FyZCwge1xyXG4gICAgc3RhcnQocG9pbnRlciwgZXZlbnQpIHtcclxuICAgICAgICBpZiAoY3VycmVudFRvb2wgIT0gJ2Nvbm5lY3QnKSByZXR1cm4gZmFsc2VcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJhY2tlcicpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb2ludGVyLmNsaWVudFh9cHgsY2FsYygke3BvaW50ZXIuY2xpZW50WX1weCAtIDVyZW0pKWBcclxuXHJcbiAgICAgICAgbGV0IHRlbXAgPSBldmVudC50YXJnZXRcclxuXHJcbiAgICAgICAgaWYgKHRlbXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdmbG93Y2hhcnQtYmxvY2snKSkge1xyXG4gICAgICAgICAgICBkcmFnZ2luZ0Jsb2NrID0gdGVtcC5wYXJlbnRFbGVtZW50XHJcbiAgICAgICAgICAgIGlzRHJhZ2dpbmdCbG9jayA9IHRydWVcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmFja2VyJykuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3BvaW50ZXIuY2xpZW50WH1weCxjYWxjKCR7cG9pbnRlci5jbGllbnRZfXB4IC0gNXJlbSkpYFxyXG4gICAgICAgICAgICBsaW5lID0gY3JlYXRlTGluZShkcmFnZ2luZ0Jsb2NrLmlkLCAndHJhY2tlcicsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKVxyXG4gICAgICAgICAgICBkZWNpc2lvbkxpbmUgPSB1bmRlZmluZWRcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wLmdldEF0dHJpYnV0ZSgnZGF0YS1mbG93Y2hhcnQtYmxvY2stZHJhZ2dpbmcnKSA9PSAneWVzJykge1xyXG4gICAgICAgICAgICBkcmFnZ2luZ0Jsb2NrID0gdGVtcC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCAvLyAuZ3JlYXRHcmFuZFBhcmVudCgpXHJcbiAgICAgICAgICAgIGxpbmUgPSBjcmVhdGVMaW5lKGRyYWdnaW5nQmxvY2suaWQsICd0cmFja2VyJywgJ1llcycsICcjMjk5NjRhJywgdHJ1ZSlcclxuICAgICAgICAgICAgZGVjaXNpb25MaW5lID0gJ3knXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGVtcC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWRyYWdnaW5nJykgPT0gJ25vJykge1xyXG4gICAgICAgICAgICBkcmFnZ2luZ0Jsb2NrID0gdGVtcC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCAvLyAuZ3JlYXRHcmFuZFBhcmVudCgpXHJcbiAgICAgICAgICAgIGxpbmUgPSBjcmVhdGVMaW5lKGRyYWdnaW5nQmxvY2suaWQsICd0cmFja2VyJywgJ05vJywgJyNiYTJiMmInLCB0cnVlKVxyXG4gICAgICAgICAgICBkZWNpc2lvbkxpbmUgPSAnbidcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdmUocHJldmlvdXNQb2ludGVycywgY2hhbmdlZFBvaW50ZXJzLCBldmVudCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gZXZlbnQudGFyZ2V0XHJcblxyXG4gICAgICAgIGZsb3djaGFydEJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25vU2Nyb2xsJylcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RyYWNrZXInKS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7Y2hhbmdlZFBvaW50ZXJzWzBdLmNsaWVudFh9cHgsY2FsYygke2NoYW5nZWRQb2ludGVyc1swXS5jbGllbnRZfXB4IC0gNXJlbSkpYFxyXG4gICAgICAgIGxpbmUucG9zaXRpb24oKVxyXG4gICAgfSxcclxuICAgIGVuZChwb2ludGVyLCBldmVudCwgY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgbGV0IHRlbXAgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHBvaW50ZXIuY2xpZW50WCwgcG9pbnRlci5jbGllbnRZKVxyXG5cclxuICAgICAgICBmbG93Y2hhcnRCb2FyZENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdub1Njcm9sbCcpXHJcblxyXG4gICAgICAgIGlmICh0ZW1wICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGVtcCA9IHRlbXAucGFyZW50RWxlbWVudC5pZCAhPSAnJyA/IHRlbXAucGFyZW50RWxlbWVudCA6IHRlbXAucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkcmFnZ2luZ0Jsb2NrICE9IHRlbXAgJiYgdGVtcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZW1wLmNsYXNzTGlzdC5jb250YWlucygnYmxvY2stY29udGFpbmVyJykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFydElkID0gZHJhZ2dpbmdCbG9jay5pZC5yZXBsYWNlKCdibG9jay0nLCAnJylcclxuICAgICAgICAgICAgICAgIGxldCBlbmRJZCA9IHRlbXAuaWQucmVwbGFjZSgnYmxvY2stJywgJycpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChmbG93QmxvY2tzW3N0YXJ0SWRdLnR5cGUgPT0gJ3Rlcm1pbmFsJyAmJiBmbG93QmxvY2tzW3N0YXJ0SWRdLmNvbnRlbnQgPT0gJ2VuZCcpIHx8IChmbG93QmxvY2tzW2VuZElkXS50eXBlID09ICd0ZXJtaW5hbCcgJiYgZmxvd0Jsb2Nrc1tlbmRJZF0uY29udGVudCA9PSAnc3RhcnQnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzQ29ubmVjdGlvbkV4aXN0aW5nID0gZmFsc2VcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3BsaXQoJzonKVswXSA9PSBzdGFydElkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnNwbGl0KCc6JylbMV0gPT0gZW5kSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Nvbm5lY3Rpb25FeGlzdGluZyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGNvbm5lY3Rpb25BdHRycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQXR0cnNba2V5XSA9PSBkZWNpc2lvbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtQ29ubmVjdGlvbihzdGFydElkLCBrZXkuc3BsaXQoJzonKVsxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbUNvbm5lY3Rpb24oc3RhcnRJZCwga2V5LnNwbGl0KCc6JylbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Nvbm5lY3Rpb25FeGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDb25uZWN0aW9uKHN0YXJ0SWQsIGVuZElkLCBkZWNpc2lvbkxpbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluZS5yZW1vdmUoKVxyXG4gICAgICAgIGlzRHJhZ2dpbmdCbG9jayA9IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgYXZvaWRQb2ludGVyRXZlbnRzOiB0cnVlLFxyXG4gICAgcmF3VXBkYXRlczogZmFsc2UsXHJcbn0pXHJcblxyXG5mbG93Y2hhcnRCb2FyZENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcbiAgICBPYmplY3Qua2V5cyhjb25uZWN0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGNvbm5lY3Rpb25zW2tleV0ucG9zaXRpb24oKVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4vLyBsb2FkIHRoZSBkZWZhdWx0IGZsb3djaGFydCBqc29uXHJcbnBlcnNvbmlmeUNoYXJ0KGZsb3djaGFydEpzb24pIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9