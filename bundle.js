/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/index.css":
/*!*****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/index.css ***!
  \*****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `:root {
    --shadow-color: 0deg 0% 0%;
    --shadow-down-low:
        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px 0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),
        0px 2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);
    --shadow-down-medium:
        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.11),
        0px 1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),
        0px 4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),
        0px 9.9px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);
    --shadow-down-high:
        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px 2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),
        0px 5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),
        0px 8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),
        -0.1px 14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),
        -0.1px 22.1px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),
        -0.1px 33.6px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),
        -0.2px 49.5px 55.7px -2.5px hsl(var(--shadow-color) / 0.1);

    --shadow-up-low:
        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px -0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),
        0px -2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);
    --shadow-up-medium:
        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.11),
        0px -1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),
        0px -4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),
        -0.1px -10px 11.3px -2.5px hsl(var(--shadow-color) / 0.11);
    --shadow-up-high:
        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),
        0px -2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),
        0px -5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),
        -0.1px -8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),
        -0.1px -14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),
        -0.2px -22.2px 25px -1.8px hsl(var(--shadow-color) / 0.1),
        -0.2px -33.8px 38px -2.1px hsl(var(--shadow-color) / 0.1),
        -0.4px -49.8px 56px -2.5px hsl(var(--shadow-color) / 0.1);

    --shadow-right-low:
        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),
        0.8px 0px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),
        2px 0px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);
    --shadow-right-medium:
        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.11),
        1.6px 0px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),
        4.1px 0.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),
        9.9px 0.1px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);
    --shadow-right-high:
        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),
        2.9px 0px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),
        5.4px 0.1px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),
        8.8px 0.1px 9.9px -1.1px hsl(var(--shadow-color) / 0.1),
        14.1px 0.2px 15.9px -1.4px hsl(var(--shadow-color) / 0.1),
        22.1px 0.3px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),
        33.6px 0.5px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),
        49.4px 0.7px 55.6px -2.5px hsl(var(--shadow-color) / 0.1);
}

html,
body {
    margin: 0;
    padding: 0;
    overflow: hidden;
}

body {
    color: #E6EDF3;
    background-color: #0D1117;
    min-height: 100dvh;

}

body * {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

    margin: 0;
    padding: 0;
}

body *::-webkit-scrollbar {
    cursor: grab;
    width: 0.5rem;
}

body *::-webkit-scrollbar-track {
    cursor: grab;
    background: #21262D;
}

body *::-webkit-scrollbar-thumb {
    cursor: grab;
    background: #454f5e;
    border-radius: 1rem;
}

.title {
    display: flex;
    align-items: center;
    justify-content: space-around;

    width: 100%;
    height: 5rem;
    background-color: #010409;
    border-bottom: #21262D solid 0.5pt;

    box-shadow: var(--shadow-down-high);
}

.title h1 {
    width: 60%;
    padding-left: 5%;
    display: flex;
}

.title h2 {
    width: 30%;
    padding-right: 5%;
    display: flex;
    justify-content: end;
}

.title h2 a {
    color: aliceblue;
}

.title h2 a:hover {
    text-decoration: 2pt aliceblue underline;
}

a {
    text-decoration: none;
    color: #76a6d0;
}

a:hover {
    text-decoration: 2pt #93b8d9 underline;
}

.hide {
    display: none;
}

#tracker {
    position: absolute;
    user-select: none;
    pointer-events: none;
}`, "",{"version":3,"sources":["webpack://./src/css/index.css"],"names":[],"mappings":"AAAA;IACI,0BAA0B;IAC1B;;;2DAGuD;IACvD;;;;+DAI2D;IAC3D;;;;;;;;kEAQ8D;;IAE9D;;;4DAGwD;IACxD;;;;kEAI8D;IAC9D;;;;;;;;iEAQ6D;;IAE7D;;;2DAGuD;IACvD;;;;iEAI6D;IAC7D;;;;;;;;iEAQ6D;AACjE;;AAEA;;IAEI,SAAS;IACT,UAAU;IACV,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,yBAAyB;IACzB,kBAAkB;;AAEtB;;AAEA;IACI,mJAAmJ;;IAEnJ,SAAS;IACT,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,6BAA6B;;IAE7B,WAAW;IACX,YAAY;IACZ,yBAAyB;IACzB,kCAAkC;;IAElC,mCAAmC;AACvC;;AAEA;IACI,UAAU;IACV,gBAAgB;IAChB,aAAa;AACjB;;AAEA;IACI,UAAU;IACV,iBAAiB;IACjB,aAAa;IACb,oBAAoB;AACxB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,wCAAwC;AAC5C;;AAEA;IACI,qBAAqB;IACrB,cAAc;AAClB;;AAEA;IACI,sCAAsC;AAC1C;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,oBAAoB;AACxB","sourcesContent":[":root {\r\n    --shadow-color: 0deg 0% 0%;\r\n    --shadow-down-low:\r\n        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px 0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),\r\n        0px 2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);\r\n    --shadow-down-medium:\r\n        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.11),\r\n        0px 1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),\r\n        0px 4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),\r\n        0px 9.9px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);\r\n    --shadow-down-high:\r\n        0px 0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px 2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),\r\n        0px 5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),\r\n        0px 8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px 14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px 22.1px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px 33.6px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.2px 49.5px 55.7px -2.5px hsl(var(--shadow-color) / 0.1);\r\n\r\n    --shadow-up-low:\r\n        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px -0.8px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),\r\n        0px -2px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);\r\n    --shadow-up-medium:\r\n        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.11),\r\n        0px -1.6px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),\r\n        0px -4.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),\r\n        -0.1px -10px 11.3px -2.5px hsl(var(--shadow-color) / 0.11);\r\n    --shadow-up-high:\r\n        0px -0.5px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0px -2.9px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),\r\n        0px -5.4px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px -8.9px 10px -1.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.1px -14.2px 16px -1.4px hsl(var(--shadow-color) / 0.1),\r\n        -0.2px -22.2px 25px -1.8px hsl(var(--shadow-color) / 0.1),\r\n        -0.2px -33.8px 38px -2.1px hsl(var(--shadow-color) / 0.1),\r\n        -0.4px -49.8px 56px -2.5px hsl(var(--shadow-color) / 0.1);\r\n\r\n    --shadow-right-low:\r\n        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        0.8px 0px 0.9px -1.2px hsl(var(--shadow-color) / 0.1),\r\n        2px 0px 2.3px -2.5px hsl(var(--shadow-color) / 0.1);\r\n    --shadow-right-medium:\r\n        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.11),\r\n        1.6px 0px 1.8px -0.8px hsl(var(--shadow-color) / 0.11),\r\n        4.1px 0.1px 4.6px -1.7px hsl(var(--shadow-color) / 0.11),\r\n        9.9px 0.1px 11.1px -2.5px hsl(var(--shadow-color) / 0.11);\r\n    --shadow-right-high:\r\n        0.5px 0px 0.6px hsl(var(--shadow-color) / 0.1),\r\n        2.9px 0px 3.3px -0.4px hsl(var(--shadow-color) / 0.1),\r\n        5.4px 0.1px 6.1px -0.7px hsl(var(--shadow-color) / 0.1),\r\n        8.8px 0.1px 9.9px -1.1px hsl(var(--shadow-color) / 0.1),\r\n        14.1px 0.2px 15.9px -1.4px hsl(var(--shadow-color) / 0.1),\r\n        22.1px 0.3px 24.9px -1.8px hsl(var(--shadow-color) / 0.1),\r\n        33.6px 0.5px 37.8px -2.1px hsl(var(--shadow-color) / 0.1),\r\n        49.4px 0.7px 55.6px -2.5px hsl(var(--shadow-color) / 0.1);\r\n}\r\n\r\nhtml,\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow: hidden;\r\n}\r\n\r\nbody {\r\n    color: #E6EDF3;\r\n    background-color: #0D1117;\r\n    min-height: 100dvh;\r\n\r\n}\r\n\r\nbody * {\r\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nbody *::-webkit-scrollbar {\r\n    cursor: grab;\r\n    width: 0.5rem;\r\n}\r\n\r\nbody *::-webkit-scrollbar-track {\r\n    cursor: grab;\r\n    background: #21262D;\r\n}\r\n\r\nbody *::-webkit-scrollbar-thumb {\r\n    cursor: grab;\r\n    background: #454f5e;\r\n    border-radius: 1rem;\r\n}\r\n\r\n.title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n\r\n    width: 100%;\r\n    height: 5rem;\r\n    background-color: #010409;\r\n    border-bottom: #21262D solid 0.5pt;\r\n\r\n    box-shadow: var(--shadow-down-high);\r\n}\r\n\r\n.title h1 {\r\n    width: 60%;\r\n    padding-left: 5%;\r\n    display: flex;\r\n}\r\n\r\n.title h2 {\r\n    width: 30%;\r\n    padding-right: 5%;\r\n    display: flex;\r\n    justify-content: end;\r\n}\r\n\r\n.title h2 a {\r\n    color: aliceblue;\r\n}\r\n\r\n.title h2 a:hover {\r\n    text-decoration: 2pt aliceblue underline;\r\n}\r\n\r\na {\r\n    text-decoration: none;\r\n    color: #76a6d0;\r\n}\r\n\r\na:hover {\r\n    text-decoration: 2pt #93b8d9 underline;\r\n}\r\n\r\n.hide {\r\n    display: none;\r\n}\r\n\r\n#tracker {\r\n    position: absolute;\r\n    user-select: none;\r\n    pointer-events: none;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/main.css":
/*!****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/main.css ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.main-content {
    height: calc(100dvh - 5rem - 0.5pt);

    display: grid;
    grid-template-columns: max-content 7fr;

    overflow: hidden;
}

.add-blocks-panel-container {
    overflow: hidden;
    background-color: #010409;

    border-right: #21262D solid 0.5pt;
    box-shadow: var(--shadow-right-high);
}

.add-blocks-panel {
    height: calc(100% - 3rem);
    padding: 1.5rem;

    display: flex;
    flex-direction: column;
    justify-content: start;
    align-items: center;

    gap: 1rem;

    overflow-x: hidden;
    overflow-y: auto;
}

.add-blocks-panel-container * {
    user-select: none;
}

.add-blocks-panel-container div {
    cursor: pointer;
}

.add-blocks-panel-container .building-mode {
    height: 3rem;
    width: 100%;

    display: flex;
    align-items: center;

    border-bottom: #21262D solid 0.5pt;
}

.add-blocks-panel-container .building-mode button {
    cursor: pointer;

    background: none;
    color: aliceblue;
    border: none;

    height: 100%;
    width: 100%;

    display: flex;
    justify-content: center;
    align-items: center;

    transition: background-color 250ms ease-in-out;
}

.add-blocks-panel-container .building-mode button>svg {
    height: 100%;
}

.add-blocks-panel-container .building-mode button .active {
    display: none;
}

.add-blocks-panel-container .building-mode .active {
    background-color: #21262D;
}

.add-blocks-panel-container .building-mode .active .inactive {
    display: none;
}

.add-blocks-panel-container .building-mode .active .active {
    display: block;
}

.add-blocks-panel-container .building-mode button {
    border-left: #21262D solid 0.5pt;
}

.flowchart-board {
    overflow: hidden;
    height: 100%;
}

.block-container {
    width: fit-content;
    height: fit-content;
}

.flowchart-block {
    padding: 1rem;
    min-width: 5rem;
    min-height: 2rem;
    border-radius: 0.5rem;

    width: fit-content;
    height: fit-content;

    background-color: aliceblue;
    color: #0D1117;

    display: flex;
    justify-content: center;
    align-items: center;

    box-shadow: var(--shadow-down-medium);
}

.flowchart-block input {
    width: 5rem;
    height: 2rem;
    border-radius: 0.5rem;
    border: none;
    background-color: transparent;
    font-size: 1.5em;
    font-weight: bold;
}

.flowchart-block .active {
    pointer-events: none;
    user-select: none;
}

.terminal {
    border-radius: 3rem;
}

.process {
    /* nothing currently */
}

.decision {
    transform: rotate(45deg) scale(75%);

    aspect-ratio: 1/1;
}

.decision * {
    transform: rotate(-45deg) scale(125%);
}

.input-output {
    transform: skew(-15deg);
}

.input-output * {
    transform: skew(15deg);
}

.circle {
    width: 1rem;
    height: 1rem;

    background-color: aliceblue;
    border: #0D1117 2pt solid;

    position: absolute;
    top: 90%;
    border-radius: 100%;
}

.draggable {
    position: absolute;
}

@keyframes flash_outline {
    0%,100% {
        outline: none;
    }
    50% {
        outline: 5px solid #1c98d2;
    }
}`, "",{"version":3,"sources":["webpack://./src/css/main.css"],"names":[],"mappings":"AAAA;IACI,mCAAmC;;IAEnC,aAAa;IACb,sCAAsC;;IAEtC,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;IAChB,yBAAyB;;IAEzB,iCAAiC;IACjC,oCAAoC;AACxC;;AAEA;IACI,yBAAyB;IACzB,eAAe;;IAEf,aAAa;IACb,sBAAsB;IACtB,sBAAsB;IACtB,mBAAmB;;IAEnB,SAAS;;IAET,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,YAAY;IACZ,WAAW;;IAEX,aAAa;IACb,mBAAmB;;IAEnB,kCAAkC;AACtC;;AAEA;IACI,eAAe;;IAEf,gBAAgB;IAChB,gBAAgB;IAChB,YAAY;;IAEZ,YAAY;IACZ,WAAW;;IAEX,aAAa;IACb,uBAAuB;IACvB,mBAAmB;;IAEnB,8CAA8C;AAClD;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,eAAe;IACf,gBAAgB;IAChB,qBAAqB;;IAErB,kBAAkB;IAClB,mBAAmB;;IAEnB,2BAA2B;IAC3B,cAAc;;IAEd,aAAa;IACb,uBAAuB;IACvB,mBAAmB;;IAEnB,qCAAqC;AACzC;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,qBAAqB;IACrB,YAAY;IACZ,6BAA6B;IAC7B,gBAAgB;IAChB,iBAAiB;AACrB;;AAEA;IACI,oBAAoB;IACpB,iBAAiB;AACrB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,mCAAmC;;IAEnC,iBAAiB;AACrB;;AAEA;IACI,qCAAqC;AACzC;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,YAAY;;IAEZ,2BAA2B;IAC3B,yBAAyB;;IAEzB,kBAAkB;IAClB,QAAQ;IACR,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI;QACI,aAAa;IACjB;IACA;QACI,0BAA0B;IAC9B;AACJ","sourcesContent":[".main-content {\r\n    height: calc(100dvh - 5rem - 0.5pt);\r\n\r\n    display: grid;\r\n    grid-template-columns: max-content 7fr;\r\n\r\n    overflow: hidden;\r\n}\r\n\r\n.add-blocks-panel-container {\r\n    overflow: hidden;\r\n    background-color: #010409;\r\n\r\n    border-right: #21262D solid 0.5pt;\r\n    box-shadow: var(--shadow-right-high);\r\n}\r\n\r\n.add-blocks-panel {\r\n    height: calc(100% - 3rem);\r\n    padding: 1.5rem;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: start;\r\n    align-items: center;\r\n\r\n    gap: 1rem;\r\n\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n}\r\n\r\n.add-blocks-panel-container * {\r\n    user-select: none;\r\n}\r\n\r\n.add-blocks-panel-container div {\r\n    cursor: pointer;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode {\r\n    height: 3rem;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    border-bottom: #21262D solid 0.5pt;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    cursor: pointer;\r\n\r\n    background: none;\r\n    color: aliceblue;\r\n    border: none;\r\n\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    transition: background-color 250ms ease-in-out;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button>svg {\r\n    height: 100%;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button .active {\r\n    display: none;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active {\r\n    background-color: #21262D;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active .inactive {\r\n    display: none;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode .active .active {\r\n    display: block;\r\n}\r\n\r\n.add-blocks-panel-container .building-mode button {\r\n    border-left: #21262D solid 0.5pt;\r\n}\r\n\r\n.flowchart-board {\r\n    overflow: hidden;\r\n    height: 100%;\r\n}\r\n\r\n.block-container {\r\n    width: fit-content;\r\n    height: fit-content;\r\n}\r\n\r\n.flowchart-block {\r\n    padding: 1rem;\r\n    min-width: 5rem;\r\n    min-height: 2rem;\r\n    border-radius: 0.5rem;\r\n\r\n    width: fit-content;\r\n    height: fit-content;\r\n\r\n    background-color: aliceblue;\r\n    color: #0D1117;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    box-shadow: var(--shadow-down-medium);\r\n}\r\n\r\n.flowchart-block input {\r\n    width: 5rem;\r\n    height: 2rem;\r\n    border-radius: 0.5rem;\r\n    border: none;\r\n    background-color: transparent;\r\n    font-size: 1.5em;\r\n    font-weight: bold;\r\n}\r\n\r\n.flowchart-block .active {\r\n    pointer-events: none;\r\n    user-select: none;\r\n}\r\n\r\n.terminal {\r\n    border-radius: 3rem;\r\n}\r\n\r\n.process {\r\n    /* nothing currently */\r\n}\r\n\r\n.decision {\r\n    transform: rotate(45deg) scale(75%);\r\n\r\n    aspect-ratio: 1/1;\r\n}\r\n\r\n.decision * {\r\n    transform: rotate(-45deg) scale(125%);\r\n}\r\n\r\n.input-output {\r\n    transform: skew(-15deg);\r\n}\r\n\r\n.input-output * {\r\n    transform: skew(15deg);\r\n}\r\n\r\n.circle {\r\n    width: 1rem;\r\n    height: 1rem;\r\n\r\n    background-color: aliceblue;\r\n    border: #0D1117 2pt solid;\r\n\r\n    position: absolute;\r\n    top: 90%;\r\n    border-radius: 100%;\r\n}\r\n\r\n.draggable {\r\n    position: absolute;\r\n}\r\n\r\n@keyframes flash_outline {\r\n    0%,100% {\r\n        outline: none;\r\n    }\r\n    50% {\r\n        outline: 5px solid #1c98d2;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/css/mainMobile.css":
/*!**********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/css/mainMobile.css ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `@media screen and (orientation: portrait) {
    .main-content {
        display: flex;
        flex-direction: column-reverse;

        overflow: hidden;
    }

    .add-blocks-panel-container {
        border-top: #21262D solid 0.5pt;
        box-shadow: var(--shadow-deviation-high);
    }

    .add-blocks-panel {
        padding: 0;
        flex-direction: row;
        overflow-x: scroll;
        overflow-y: hidden;
    }
}`, "",{"version":3,"sources":["webpack://./src/css/mainMobile.css"],"names":[],"mappings":"AAAA;IACI;QACI,aAAa;QACb,8BAA8B;;QAE9B,gBAAgB;IACpB;;IAEA;QACI,+BAA+B;QAC/B,wCAAwC;IAC5C;;IAEA;QACI,UAAU;QACV,mBAAmB;QACnB,kBAAkB;QAClB,kBAAkB;IACtB;AACJ","sourcesContent":["@media screen and (orientation: portrait) {\r\n    .main-content {\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n\r\n        overflow: hidden;\r\n    }\r\n\r\n    .add-blocks-panel-container {\r\n        border-top: #21262D solid 0.5pt;\r\n        box-shadow: var(--shadow-deviation-high);\r\n    }\r\n\r\n    .add-blocks-panel {\r\n        padding: 0;\r\n        flex-direction: row;\r\n        overflow-x: scroll;\r\n        overflow-y: hidden;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/leader-line-new/leader-line.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/leader-line-new/leader-line.min.js ***!
  \*********************************************************/
/***/ (function(module) {

/*! LeaderLine v1.1.5 (c) anseki https://anseki.github.io/leader-line/ */
var LeaderLine=function(){"use strict";var te,M,I,C,L,o,t,h,f,p,n,a,e,x,b,l,r,i,k,w,s,u,c,A="leader-line",V=1,P=2,N=3,T=4,W={top:V,right:P,bottom:N,left:T},B=1,R=2,F=3,G=4,D=5,z={straight:B,arc:R,fluid:F,magnet:G,grid:D},ne="behind",d=A+"-defs",y='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:#fff}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:#000}.leader-line-caps-mask-anchor{stroke:#000}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:transparent}.leader-line-line-mask-shape{stroke:#fff}.leader-line-line-outline-mask-shape{stroke:#000}.leader-line-plug-mask-shape{fill:#fff;stroke:#000}.leader-line-plug-outline-mask-shape{fill:#000;stroke:#fff}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',ae={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},j={behind:ne,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},ie={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},H=[V,P,N,T],U="auto",oe={x:"left",y:"top",width:"width",height:"height"},Z=80,Y=4,X=5,q=120,Q=8,K=3.75,J=10,$=30,ee=.5522847,le=.25*Math.PI,m=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,re="http://www.w3.org/2000/svg",S="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,se=!S&&!!document.uniqueID,ue="MozAppearance"in document.documentElement.style,he=!(S||ue||!window.chrome||!window.CSS),pe=!S&&!se&&!ue&&!he&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,ce=se||S?.2:.1,de={path:F,lineColor:"coral",lineSize:4,plugSE:[ne,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},fe=(s={}.toString,u={}.hasOwnProperty.toString,c=u.call(Object),function(e){var t,n;return e&&"[object Object]"===s.call(e)&&(!(t=Object.getPrototypeOf(e))||(n=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof n&&u.call(n)===c)}),ye=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},g=(x={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},b=1e3/60/2,l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,b)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},i=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},k=[],w=0,{add:function(n,e,t,a,i,o,l){var r,s,u,h,p,c,d,f,y,m,S,g,_,v=++w;function E(e,t){return{value:n(t),timeRatio:e,outputRatio:t}}if("string"==typeof i&&(i=x[i]),n=n||function(){},t<b)s=[E(0,0),E(1,1)];else{if(u=b/t,s=[E(0,0)],0===i[0]&&0===i[1]&&1===i[2]&&1===i[3])for(p=u;p<=1;p+=u)s.push(E(p,p));else for(c=h=(p=u)/10;c<=1;c+=h)_=g=S=m=y=void 0,m=(y=(f=c)*f)*f,_=3*(S=1-f)*y,p<=(d={x:(g=S*S*3*f)*i[0]+_*i[2]+m,y:g*i[1]+_*i[3]+m}).x&&(s.push(E(d.x,d.y)),p+=u);s.push(E(1,1))}return r={animId:v,frameCallback:e,duration:t,count:a,frames:s,reverse:!!o},k.push(r),!1!==l&&ke(r,l),v},remove:function(n){var a;k.some(function(e,t){return e.animId===n&&(a=t,!(e.framesStart=null))})&&k.splice(a,1)},start:function(t,n,a){k.some(function(e){return e.animId===t&&(e.reverse=!!n,ke(e,a),!0)})},stop:function(t,n){var a;return k.some(function(e){return e.animId===t&&(n?null!=e.lastFrame&&(a=e.frames[e.lastFrame].timeRatio):(a=(Date.now()-e.framesStart)/e.duration,e.reverse&&(a=1-a),a<0?a=0:1<a&&(a=1)),!(e.framesStart=null))}),a},validTiming:function(t){return"string"==typeof t?x[t]:Array.isArray(t)&&[0,1,2,3].every(function(e){return i(t[e])&&0<=t[e]&&t[e]<=1})?[t[0],t[1],t[2],t[3]]:null}}),_=function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function i(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var o={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},l=-1!==e.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=o[e]?o[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var n=null,a=(this._prevCommand=t).toUpperCase();return"H"===a||"V"===a?n=[this._parseNumber()]:"M"===a||"L"===a||"T"===a?n=[this._parseNumber(),this._parseNumber()]:"S"===a||"Q"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===a&&(this._skipOptionalSpaces(),n=[]),null===n||0<=n.indexOf(null)?null:{type:t,values:n}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return o[e]?o[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,a=0,i=1,o=1,l=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var r=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==r)for(var s=this._currentIndex-1,u=1;r<=s;)t+=u*(this._string[s]-"0"),--s,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,a+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==l&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,o=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var h=t+a;return h*=i,e&&(h*=Math.pow(10,o*e)),l===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),h)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};function a(e){if(!e||0===e.length)return[];var t=new i(e),n=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){var a=t.parseSegment();if(null===a)break;n.push(a)}return n}function r(e){return e.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})}function d(e){var m=[],S=null,g=null,_=null,v=null,E=null,x=null,b=null;return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p,c,d,f,y;"M"===e.type?(f=e.values[0],y=e.values[1],m.push({type:"M",values:[f,y]}),v=x=f,E=b=y):"C"===e.type?(a=e.values[0],i=e.values[1],t=e.values[2],n=e.values[3],f=e.values[4],y=e.values[5],m.push({type:"C",values:[a,i,t,n,f,y]}),g=t,_=n,v=f,E=y):"L"===e.type?(f=e.values[0],y=e.values[1],m.push({type:"L",values:[f,y]}),v=f,E=y):"H"===e.type?(f=e.values[0],m.push({type:"L",values:[f,E]}),v=f):"V"===e.type?(y=e.values[0],m.push({type:"L",values:[v,y]}),E=y):"S"===e.type?(t=e.values[0],n=e.values[1],f=e.values[2],y=e.values[3],l="C"===S||"S"===S?(o=v+(v-g),E+(E-_)):(o=v,E),m.push({type:"C",values:[o,l,t,n,f,y]}),g=t,_=n,v=f,E=y):"T"===e.type?(f=e.values[0],y=e.values[1],i="Q"===S||"T"===S?(a=v+(v-g),E+(E-_)):(a=v,E),o=v+2*(a-v)/3,l=E+2*(i-E)/3,r=f+2*(a-f)/3,s=y+2*(i-y)/3,m.push({type:"C",values:[o,l,r,s,f,y]}),g=a,_=i,v=f,E=y):"Q"===e.type?(a=e.values[0],i=e.values[1],f=e.values[2],y=e.values[3],o=v+2*(a-v)/3,l=E+2*(i-E)/3,r=f+2*(a-f)/3,s=y+2*(i-y)/3,m.push({type:"C",values:[o,l,r,s,f,y]}),g=a,_=i,v=f,E=y):"A"===e.type?(u=e.values[0],h=e.values[1],p=e.values[2],c=e.values[3],d=e.values[4],f=e.values[5],y=e.values[6],0===u||0===h?(m.push({type:"C",values:[v,E,f,y,f,y]}),v=f,E=y):v===f&&E===y||U(v,E,f,y,u,h,p,c,d).forEach(function(e){m.push({type:"C",values:e}),v=f,E=y})):"Z"===e.type&&(m.push(e),v=x,E=b),S=e.type}),m}var n=e.SVGPathElement.prototype.setAttribute,s=e.SVGPathElement.prototype.removeAttribute,f=e.Symbol?e.Symbol():"__cachedPathData",y=e.Symbol?e.Symbol():"__cachedNormalizedPathData",U=function(e,t,n,a,i,o,l,r,s,u){function h(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var p,c,d,f,y,m,S,g,_,v,E,x,b,k,w,O=(p=l,Math.PI*p/180),M=[];u?(k=u[0],w=u[1],x=u[2],b=u[3]):(e=(c=h(e,t,-O)).x,t=c.y,1<(m=(f=(e-(n=(d=h(n,a,-O)).x))/2)*f/(i*i)+(y=(t-(a=d.y))/2)*y/(o*o))&&(i*=m=Math.sqrt(m),o*=m),_=(S=i*i)*(g=o*o)-S*y*y-g*f*f,v=S*y*y+g*f*f,x=(E=(r===s?-1:1)*Math.sqrt(Math.abs(_/v)))*i*y/o+(e+n)/2,b=E*-o*f/i+(t+a)/2,k=Math.asin(parseFloat(((t-b)/o).toFixed(9))),w=Math.asin(parseFloat(((a-b)/o).toFixed(9))),e<x&&(k=Math.PI-k),n<x&&(w=Math.PI-w),k<0&&(k=2*Math.PI+k),w<0&&(w=2*Math.PI+w),s&&w<k&&(k-=2*Math.PI),!s&&k<w&&(w-=2*Math.PI));var I,C,L,A=w-k;Math.abs(A)>120*Math.PI/180&&(I=w,C=n,L=a,w=s&&k<w?k+120*Math.PI/180*1:k+120*Math.PI/180*-1,n=x+i*Math.cos(w),a=b+o*Math.sin(w),M=U(n,a,C,L,i,o,l,0,s,[w,I,x,b])),A=w-k;var V=Math.cos(k),P=Math.sin(k),N=Math.cos(w),T=Math.sin(w),W=Math.tan(A/4),B=4/3*i*W,R=4/3*o*W,F=[e,t],G=[e+B*P,t-R*V],D=[n+B*T,a-R*N],z=[n,a];if(G[0]=2*F[0]-G[0],G[1]=2*F[1]-G[1],u)return[G,D,z].concat(M);M=[G,D,z].concat(M).join().split(",");var j=[],H=[];return M.forEach(function(e,t){t%2?H.push(h(M[t-1],M[t],O).y):H.push(h(M[t],M[t+1],O).x),6===H.length&&(j.push(H),H=[])}),j};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[f]=null,this[y]=null),n.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[f]=null,this[y]=null),s.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[y])return r(this[y]);this[f]?n=r(this[f]):(n=a(this.getAttribute("d")||""),this[f]=r(n));var t=d((s=[],c=p=h=u=null,n.forEach(function(e){var t,n,a,i,o,l,r=e.type;"M"===r?(o=e.values[0],l=e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"m"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"L"===r?(o=e.values[0],l=e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"l"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"C"===r?(t=e.values[0],n=e.values[1],a=e.values[2],i=e.values[3],o=e.values[4],l=e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"c"===r?(t=u+e.values[0],n=h+e.values[1],a=u+e.values[2],i=h+e.values[3],o=u+e.values[4],l=h+e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"Q"===r?(t=e.values[0],n=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"q"===r?(t=u+e.values[0],n=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"A"===r?(o=e.values[5],l=e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"a"===r?(o=u+e.values[5],l=h+e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"H"===r?(o=e.values[0],s.push({type:"H",values:[o]}),u=o):"h"===r?(o=u+e.values[0],s.push({type:"H",values:[o]}),u=o):"V"===r?(l=e.values[0],s.push({type:"V",values:[l]}),h=l):"v"===r?(l=h+e.values[0],s.push({type:"V",values:[l]}),h=l):"S"===r?(a=e.values[0],i=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"s"===r?(a=u+e.values[0],i=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"T"===r?(o=e.values[0],l=e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"t"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"Z"!==r&&"z"!==r||(s.push({type:"Z",values:[]}),u=p,h=c)}),s));return this[y]=r(t),t}if(this[f])return r(this[f]);var s,u,h,p,c,n=a(this.getAttribute("d")||"");return this[f]=r(n),n},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)l?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,a=e.length;n<a;n+=1){var i=e[n];0<n&&(t+=" "),t+=i.type,i.values&&0<i.values.length&&(t+=" "+i.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,a=this.width.baseVal.value,i=this.height.baseVal.value,o=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,l=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;a/2<o&&(o=a/2),i/2<l&&(l=i/2);var r=(r=[{type:"M",values:[t+o,n]},{type:"H",values:[t+a-o]},{type:"A",values:[o,l,0,0,1,t+a,n+l]},{type:"V",values:[n+i-l]},{type:"A",values:[o,l,0,0,1,t+a-o,n+i]},{type:"H",values:[t+o]},{type:"A",values:[o,l,0,0,1,t,n+i-l]},{type:"V",values:[n+l]},{type:"A",values:[o,l,0,0,1,t+o,n]},{type:"Z",values:[]}]).filter(function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]});return e&&!0===e.normalize&&(r=d(r)),r},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.r.baseVal.value,i=[{type:"M",values:[t+a,n]},{type:"A",values:[a,a,0,0,1,t,n+a]},{type:"A",values:[a,a,0,0,1,t-a,n]},{type:"A",values:[a,a,0,0,1,t,n-a]},{type:"A",values:[a,a,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(i=d(i)),i},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.rx.baseVal.value,i=this.ry.baseVal.value,o=[{type:"M",values:[t+a,n]},{type:"A",values:[a,i,0,0,1,t,n+i]},{type:"A",values:[a,i,0,0,1,t-a,n]},{type:"A",values:[a,i,0,0,1,t,n-i]},{type:"A",values:[a,i,0,0,1,t+a,n]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(o=d(o)),o},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()},v=(a={},xe.m=n=[function(e,t,n){n.r(t);var a=500,i=[],o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},r=Date.now(),s=void 0;function u(){var n=void 0,e=void 0;s&&(l.call(window,s),s=null),i.forEach(function(e){var t;(t=e.event)&&(e.event=null,e.listener(t),n=!0)}),n?(r=Date.now(),e=!0):Date.now()-r<a&&(e=!0),e&&(s=o.call(window,u))}function h(n){var a=-1;return i.some(function(e,t){return e.listener===n&&(a=t,!0)}),a}var p={add:function(e){var t=void 0;return-1===h(e)?(i.push(t={listener:e}),function(e){t.event=e,s||u()}):null},remove:function(e){var t;-1<(t=h(e))&&(i.splice(t,1),!i.length&&s&&(l.call(window,s),s=null))}};t.default=p}],xe.c=a,xe.d=function(e,t,n){xe.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},xe.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},xe.t=function(t,e){if(1&e&&(t=xe(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(xe.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)xe.d(n,a,function(e){return t[e]}.bind(null,a));return n},xe.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return xe.d(t,"a",t),t},xe.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},xe.p="",xe(xe.s=0).default),me={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:ne},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:ne},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:ne},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},E={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},O="fade",Se=[],ge={},_e=0,ve={},Ee=0;function xe(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,xe),t.l=!0,t.exports}function be(){var i=Date.now(),o=!1;e&&(r.call(window,e),e=null),k.forEach(function(e){var t,n,a;if(e.framesStart){if((t=i-e.framesStart)>=e.duration&&e.count&&e.loopsLeft<=1)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);if(t>e.duration){if(n=Math.floor(t/e.duration),e.count){if(n>=e.loopsLeft)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);e.loopsLeft-=n}e.framesStart+=e.duration*n,t=i-e.framesStart}e.reverse&&(t=e.duration-t),a=e.frames[e.lastFrame=Math.round(t/b)],!1!==e.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?o=!0:e.framesStart=null}}),o&&(e=l.call(window,be))}function ke(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,be()}function we(t,n){var e,a;return typeof t!=typeof n||(e=fe(t)?"obj":Array.isArray(t)?"array":"")!=(fe(n)?"obj":Array.isArray(n)?"array":"")||("obj"===e?we(a=Object.keys(t).sort(),Object.keys(n).sort())||a.some(function(e){return we(t[e],n[e])}):"array"===e?t.length!==n.length||t.some(function(e,t){return we(e,n[t])}):t!==n)}function Oe(n){return n?fe(n)?Object.keys(n).reduce(function(e,t){return e[t]=Oe(n[t]),e},{}):Array.isArray(n)?n.map(Oe):n:n}function Me(e){var t,n,a,i=1,o=e=(e+"").trim();function l(e){var t=1,n=m.exec(e);return n&&(t=parseFloat(n[1]),n[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(n=t[1].toLowerCase(),a=t[2].trim().split(/\s*,\s*/),"rgba"===n&&4===a.length?(i=l(a[3]),o="rgb("+a.slice(0,3).join(", ")+")"):"hsla"===n&&4===a.length?(i=l(a[3]),o="hsl("+a.slice(0,3).join(", ")+")"):"hwb"===n&&4===a.length?(i=l(a[3]),o="hwb("+a.slice(0,3).join(", ")+")"):"gray"===n&&2===a.length?(i=l(a[1]),o="gray("+a[0]+")"):"device-cmyk"===n&&5<=a.length&&(i=l(a[4]),o="device-cmyk("+a.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?o=t[1]?(i=parseInt(t[2],16)/255,"#"+t[1]):(i=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(i=0),[i,o]}function Ie(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function Ce(e,t){var n,a,i,o,l={};if(!(i=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(a in n=e.getBoundingClientRect())l[a]=n[a];if(!t){if(!(o=i.defaultView))return console.error("Cannot get window that contains the element."),null;l.left+=o.pageXOffset,l.right+=o.pageXOffset,l.top+=o.pageYOffset,l.bottom+=o.pageYOffset}return l}function Le(e,t){var n,a,i=[],o=e;for(t=t||window;;){if(!(n=o.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(a=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(a===t)break;if(!(o=a.frameElement))return console.error("`baseWindow` was not found."),null;i.unshift(o)}return i}function Ae(e,t){var n,a,o=0,l=0;return(a=Le(e,t=t||window))?a.length?(a.forEach(function(e,t){var n,a,i=Ce(e,0<t);o+=i.left,l+=i.top,a=(n=e).ownerDocument.defaultView.getComputedStyle(n,""),i={left:n.clientLeft+parseFloat(a.paddingLeft),top:n.clientTop+parseFloat(a.paddingTop)},o+=i.left,l+=i.top}),(n=Ce(e,!0)).left+=o,n.right+=o,n.top+=l,n.bottom+=l,n):Ce(e):null}function Ve(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}function Pe(e,t,n){var a=t.x-e.x,i=t.y-e.y;return{x:e.x+a*n,y:e.y+i*n,angle:Math.atan2(i,a)/(Math.PI/180)}}function Ne(e,t,n){var a=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(a)*n,y:t.y+Math.sin(a)*n*-1}}function Te(e,t,n,a,i){var o=i*i,l=o*i,r=1-i,s=r*r,u=s*r,h=u*e.x+3*s*i*t.x+3*r*o*n.x+l*a.x,p=u*e.y+3*s*i*t.y+3*r*o*n.y+l*a.y,c=e.x+2*i*(t.x-e.x)+o*(n.x-2*t.x+e.x),d=e.y+2*i*(t.y-e.y)+o*(n.y-2*t.y+e.y),f=t.x+2*i*(n.x-t.x)+o*(a.x-2*n.x+t.x),y=t.y+2*i*(n.y-t.y)+o*(a.y-2*n.y+t.y),m=r*e.x+i*t.x,S=r*e.y+i*t.y,g=r*n.x+i*a.x,_=r*n.y+i*a.y,v=90-180*Math.atan2(c-f,d-y)/Math.PI;return{x:h,y:p,fromP2:{x:c,y:d},toP1:{x:f,y:y},fromP1:{x:m,y:S},toP2:{x:g,y:_},angle:v+=180<v?-180:180}}function We(n,a,i,o,e){function l(e,t,n,a,i){return e*(e*(-3*t+9*n-9*a+3*i)+6*t-12*n+6*a)-3*t+3*n}var r,s,u,h,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],c=0,d=(e=null==e||1<e?1:e<0?0:e)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(e,t){s=l(r=d*e+d,n.x,a.x,i.x,o.x),u=l(r,n.y,a.y,i.y,o.y),h=s*s+u*u,c+=p[t]*Math.sqrt(h)}),d*c}function Be(e,t,n,a,i){for(var o,l=.5,r=1-l;o=We(e,t,n,a,r),!(Math.abs(o-i)<=.01);)r+=(o<i?1:-1)*(l/=2);return r}function Re(e,n){var a;return e.forEach(function(e){var t=n?e.map(function(e){var t={x:e.x,y:e.y};return n(t),t}):e;(a=a||[{type:"M",values:[t[0].x,t[0].y]}]).push(t.length?2===t.length?{type:"L",values:[t[1].x,t[1].y]}:{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]}:{type:"Z",values:[]})}),a}function Fe(e){var n=[],a=0;return e.forEach(function(e){var t=(2===e.length?Ve:We).apply(null,e);n.push(t),a+=t}),{segsLen:n,lenAll:a}}function Ge(e,a){return null==e||null==a||e.length!==a.length||e.some(function(e,t){var n=a[t];return e.type!==n.type||e.values.some(function(e,t){return e!==n.values[t]})})}function De(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function ze(e,t,n){var a;e.events[t]&&-1<(a=e.events[t].indexOf(n))&&e.events[t].splice(a,1)}function je(e){t&&clearTimeout(t),Se.push(e),t=setTimeout(function(){Se.forEach(function(e){e()}),Se=[]},0)}function He(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Ue(e){e.reflowTargets.forEach(function(e){var n;n=e,setTimeout(function(){var e=n.parentNode,t=n.nextSibling;e.insertBefore(e.removeChild(n),t)},0)}),e.reflowTargets=[]}function Ze(e,t,n,a,i,o,l){var r,s,u;"auto-start-reverse"===n?("boolean"!=typeof h&&(t.setAttribute("orient","auto-start-reverse"),h=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),h?t.setAttribute("orient",n):((r=i.createSVGTransform()).setRotate(180,0,0),o.transform.baseVal.appendItem(r),t.setAttribute("orient","auto"),u=!0)):(t.setAttribute("orient",n),!1===h&&o.transform.baseVal.clear()),s=t.viewBox.baseVal,u?(s.x=-a.right,s.y=-a.bottom):(s.x=a.left,s.y=a.top),s.width=a.width,s.height=a.height,se&&He(e,l)}function Ye(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Xe(n,a){Object.keys(a).forEach(function(e){var t=a[e];n[e]=null!=t.iniValue?t.hasSE?[t.iniValue,t.iniValue]:t.iniValue:t.hasSE?t.hasProps?[{},{}]:[]:t.hasProps?{}:null})}function qe(t,e,n,a,i){return a!==e[n]&&(e[n]=a,i&&i.forEach(function(e){e(t,a,n)}),!0)}function Qe(e){function t(e,t){return e+parseFloat(t)}var n=e.document,a=e.getComputedStyle(n.documentElement,""),i=e.getComputedStyle(n.body,""),o={x:0,y:0};return"static"!==i.position?(o.x-=[a.marginLeft,a.borderLeftWidth,a.paddingLeft,i.marginLeft,i.borderLeftWidth].reduce(t,0),o.y-=[a.marginTop,a.borderTopWidth,a.paddingTop,i.marginTop,i.borderTopWidth].reduce(t,0)):"static"!==a.position&&(o.x-=[a.marginLeft,a.borderLeftWidth].reduce(t,0),o.y-=[a.marginTop,a.borderTopWidth].reduce(t,0)),o}function Ke(e){var t,n=e.document;n.getElementById(d)||(t=(new e.DOMParser).parseFromString(y,"image/svg+xml"),n.body.appendChild(t.documentElement),_(e))}function Je(u){var _,f,v,e,n,a,i,y,s,h,p,t,o,l,r,c,d,m,S,g=u.options,E=u.curStats,x=u.aplStats,b=E.position_socketXYSE,k=!1;function w(e,t){var n=t===V?{x:e.left+e.width/2,y:e.top}:t===P?{x:e.right,y:e.top+e.height/2}:t===N?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return n.socketId=t,n}function O(e){return{x:e.x,y:e.y}}if(E.position_path=g.path,E.position_lineStrokeWidth=E.line_strokeWidth,E.position_socketGravitySE=_=Oe(g.socketGravitySE),f=[0,1].map(function(e){var t,n,a,i=g.anchorSE[e],o=u.optionIsAttach.anchorSE[e],l=!1!==o?ve[i._id]:null,r=!1!==o&&l.conf.getStrokeWidth?l.conf.getStrokeWidth(l,u):0,s=!1!==o&&l.conf.getBBoxNest?l.conf.getBBoxNest(l,u,r):Ae(i,u.baseWindow);return E.capsMaskAnchor_pathDataSE[e]=!1!==o&&l.conf.getPathData?l.conf.getPathData(l,u,r):(n=null!=(t=s).right?t.right:t.left+t.width,a=null!=t.bottom?t.bottom:t.top+t.height,[{type:"M",values:[t.left,t.top]},{type:"L",values:[n,t.top]},{type:"L",values:[n,a]},{type:"L",values:[t.left,a]},{type:"Z",values:[]}]),E.capsMaskAnchor_strokeWidthSE[e]=r,s}),i=-1,g.socketSE[0]&&g.socketSE[1]?(b[0]=w(f[0],g.socketSE[0]),b[1]=w(f[1],g.socketSE[1])):(g.socketSE[0]||g.socketSE[1]?(a=g.socketSE[0]?(n=0,1):(n=1,0),b[n]=w(f[n],g.socketSE[n]),(e=H.map(function(e){return w(f[a],e)})).forEach(function(e){var t=Ve(e,b[n]);(t<i||-1===i)&&(b[a]=e,i=t)})):(e=H.map(function(e){return w(f[1],e)}),H.map(function(e){return w(f[0],e)}).forEach(function(n){e.forEach(function(e){var t=Ve(n,e);(t<i||-1===i)&&(b[0]=n,b[1]=e,i=t)})})),[0,1].forEach(function(e){var t,n;g.socketSE[e]||(f[e].width||f[e].height?f[e].width||b[e].socketId!==T&&b[e].socketId!==P?f[e].height||b[e].socketId!==V&&b[e].socketId!==N||(b[e].socketId=0<=b[e?0:1].y-f[e].top?N:V):b[e].socketId=0<=b[e?0:1].x-f[e].left?P:T:(t=b[e?0:1].x-f[e].left,n=b[e?0:1].y-f[e].top,b[e].socketId=Math.abs(t)>=Math.abs(n)?0<=t?P:T:0<=n?N:V))})),E.position_path!==x.position_path||E.position_lineStrokeWidth!==x.position_lineStrokeWidth||[0,1].some(function(e){return E.position_plugOverheadSE[e]!==x.position_plugOverheadSE[e]||(i=b[e],o=x.position_socketXYSE[e],i.x!==o.x||i.y!==o.y||i.socketId!==o.socketId)||(t=_[e],n=x.position_socketGravitySE[e],(a=null==t?"auto":Array.isArray(t)?"array":"number")!=(null==n?"auto":Array.isArray(n)?"array":"number")||("array"==a?t[0]!==n[0]||t[1]!==n[1]:t!==n));var t,n,a,i,o})){switch(u.pathList.baseVal=v=[],u.pathList.animVal=null,E.position_path){case B:v.push([O(b[0]),O(b[1])]);break;case R:t="number"==typeof _[0]&&0<_[0]||"number"==typeof _[1]&&0<_[1],o=le*(t?-1:1),l=Math.atan2(b[1].y-b[0].y,b[1].x-b[0].x),r=o-l,c=Math.PI-l-o,d=Ve(b[0],b[1])/Math.sqrt(2)*ee,m={x:b[0].x+Math.cos(r)*d,y:b[0].y+Math.sin(r)*d*-1},S={x:b[1].x+Math.cos(c)*d,y:b[1].y+Math.sin(c)*d*-1},v.push([O(b[0]),m,S,O(b[1])]);break;case F:case G:s=[_[0],E.position_path===G?0:_[1]],h=[],p=[],b.forEach(function(e,t){var n,a,i,o,l=s[t],r=Array.isArray(l)?{x:l[0],y:l[1]}:"number"==typeof l?e.socketId===V?{x:0,y:-l}:e.socketId===P?{x:l,y:0}:e.socketId===N?{x:0,y:l}:{x:-l,y:0}:(n=b[t?0:1],i=0<(a=E.position_plugOverheadSE[t])?q+(Q<a?(a-Q)*K:0):Z+(E.position_lineStrokeWidth>Y?(E.position_lineStrokeWidth-Y)*X:0),e.socketId===V?((o=(e.y-n.y)/2)<i&&(o=i),{x:0,y:-o}):e.socketId===P?((o=(n.x-e.x)/2)<i&&(o=i),{x:o,y:0}):e.socketId===N?((o=(n.y-e.y)/2)<i&&(o=i),{x:0,y:o}):((o=(e.x-n.x)/2)<i&&(o=i),{x:-o,y:0}));h[t]=e.x+r.x,p[t]=e.y+r.y}),v.push([O(b[0]),{x:h[0],y:p[0]},{x:h[1],y:p[1]},O(b[1])]);break;case D:!function(){var a,o=1,l=2,r=3,s=4,u=[[],[]],h=[];function p(e){return e===o?r:e===l?s:e===r?o:l}function c(e){return e===l||e===s?"x":"y"}function d(e,t,n){var a={x:e.x,y:e.y};if(n){if(n===p(e.dirId))throw new Error("Invalid dirId: "+n);a.dirId=n}else a.dirId=e.dirId;return a.dirId===o?a.y-=t:a.dirId===l?a.x+=t:a.dirId===r?a.y+=t:a.x-=t,a}function f(e,t){return t.dirId===o?e.y<=t.y:t.dirId===l?e.x>=t.x:t.dirId===r?e.y>=t.y:e.x<=t.x}function y(e,t){return t.dirId===o||t.dirId===r?e.x===t.x:e.y===t.y}function m(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function S(e,t,n){return Math.abs(t[n]-e[n])}function g(e,t,n){return"x"===n?e.x<t.x?l:s:e.y<t.y?r:o}for(b.forEach(function(e,t){var n,a=O(e),i=_[t];n=Array.isArray(i)?i[0]<0?[s,-i[0]]:0<i[0]?[l,i[0]]:i[1]<0?[o,-i[1]]:0<i[1]?[r,i[1]]:[e.socketId,0]:"number"!=typeof i?[e.socketId,$]:0<=i?[e.socketId,i]:[p(e.socketId),-i],a.dirId=n[0],i=n[1],u[t].push(a),h[t]=d(a,i)});function(){var e,t,a,i,n=[f(h[1],h[0]),f(h[0],h[1])],o=[c(h[0].dirId),c(h[1].dirId)];if(o[0]===o[1]){if(n[0]&&n[1])return void(y(h[1],h[0])||(h[0][o[0]]===h[1][o[1]]?(u[0].push(h[0]),u[1].push(h[1])):(e=h[0][o[0]]+(h[1][o[1]]-h[0][o[0]])/2,u[0].push(d(h[0],Math.abs(e-h[0][o[0]]))),u[1].push(d(h[1],Math.abs(e-h[1][o[1]]))))));n[0]!==n[1]?(t=m(n),(a=S(h[t.notContain],h[t.contain],o[t.notContain]))<$&&(h[t.notContain]=d(h[t.notContain],$-a)),u[t.notContain].push(h[t.notContain]),h[t.notContain]=d(h[t.notContain],$,y(h[t.contain],h[t.notContain])?"x"===o[t.notContain]?r:l:g(h[t.notContain],h[t.contain],"x"===o[t.notContain]?"y":"x"))):(a=S(h[0],h[1],"x"===o[0]?"y":"x"),u.forEach(function(e,t){var n=0===t?1:0;e.push(h[t]),h[t]=d(h[t],$,2*$<=a?g(h[t],h[n],"x"===o[t]?"y":"x"):"x"===o[t]?r:l)}))}else{if(n[0]&&n[1])return void(y(h[1],h[0])?u[1].push(h[1]):y(h[0],h[1])?u[0].push(h[0]):u[0].push("x"===o[0]?{x:h[1].x,y:h[0].y}:{x:h[0].x,y:h[1].y}));n[0]!==n[1]?(t=m(n),u[t.notContain].push(h[t.notContain]),h[t.notContain]=d(h[t.notContain],$,S(h[t.notContain],h[t.contain],o[t.contain])>=$?g(h[t.notContain],h[t.contain],o[t.contain]):h[t.contain].dirId)):(i=[{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}],u.forEach(function(e,t){var n=0===t?1:0,a=S(i[t],i[n],o[t]);a<$&&(h[t]=d(h[t],$-a)),e.push(h[t]),h[t]=d(h[t],$,g(h[t],h[n],o[n]))}))}return 1}(););u[1].reverse(),u[0].concat(u[1]).forEach(function(e,t){var n={x:e.x,y:e.y};0<t&&v.push([a,n]),a=n})}()}y=[],E.position_plugOverheadSE.forEach(function(e,t){var n,a,i,o,l,r,s,u,h,p,c,d=!t;0<e?2===(n=v[a=d?0:v.length-1]).length?(y[a]=y[a]||Ve.apply(null,n),y[a]>J&&(y[a]-e<J&&(e=y[a]-J),i=Pe(n[0],n[1],(d?e:y[a]-e)/y[a]),v[a]=d?[i,n[1]]:[n[0],i],y[a]-=e)):(y[a]=y[a]||We.apply(null,n),y[a]>J&&(y[a]-e<J&&(e=y[a]-J),i=Te(n[0],n[1],n[2],n[3],Be(n[0],n[1],n[2],n[3],d?e:y[a]-e)),l=d?(o=n[0],i.toP1):(o=n[3],i.fromP2),r=Math.atan2(o.y-i.y,i.x-o.x),s=Ve(i,l),i.x=o.x+Math.cos(r)*e,i.y=o.y+Math.sin(r)*e*-1,l.x=i.x+Math.cos(r)*s,l.y=i.y+Math.sin(r)*s*-1,v[a]=d?[i,i.toP1,i.toP2,n[3]]:[n[0],i.fromP1,i.fromP2,i],y[a]=null)):e<0&&(n=v[a=d?0:v.length-1],u=b[t].socketId,h=u===T||u===P?"x":"y",e<(c=-f[t]["x"==h?"width":"height"])&&(e=c),p=e*(u===T||u===V?-1:1),2===n.length?n[d?0:n.length-1][h]+=p:(d?[0,1]:[n.length-2,n.length-1]).forEach(function(e){n[e][h]+=p}),y[a]=null)}),x.position_socketXYSE=Oe(b),x.position_plugOverheadSE=Oe(E.position_plugOverheadSE),x.position_path=E.position_path,x.position_lineStrokeWidth=E.position_lineStrokeWidth,x.position_socketGravitySE=Oe(_),k=!0,u.events.apl_position&&u.events.apl_position.forEach(function(e){e(u,v)})}return k}function $e(t,n){n!==t.isShown&&(!!n!=!!t.isShown&&(t.svg.style.visibility=n?"":"hidden"),t.isShown=n,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(e){e(t,n)}))}function et(e,t){var n,a,i,o,l,h,p,c,d,f,r,s,u,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P,N,T,W,B,R,F,G,D,z,j,H,U,Z,Y,X,q,Q,K,J,$,ee={};t.line&&(ee.line=(a=(n=e).options,i=n.curStats,o=n.events,l=!1,l=qe(n,i,"line_color",a.lineColor,o.cur_line_color)||l,l=qe(n,i,"line_colorTra",Me(i.line_color)[0]<1)||l,l=qe(n,i,"line_strokeWidth",a.lineSize,o.cur_line_strokeWidth)||l)),(t.plug||ee.line)&&(ee.plug=(p=(h=e).options,c=h.curStats,d=h.events,f=!1,[0,1].forEach(function(e){var t,n,a,i,o,l,r,s,u=p.plugSE[e];f=qe(h,c.plug_enabledSE,e,u!==ne)||f,f=qe(h,c.plug_plugSE,e,u)||f,f=qe(h,c.plug_colorSE,e,s=p.plugColorSE[e]||c.line_color,d.cur_plug_colorSE)||f,f=qe(h,c.plug_colorTraSE,e,Me(s)[0]<1)||f,u!==ne&&(i=n=(t=ae[ie[u]]).widthR*p.plugSizeSE[e],o=a=t.heightR*p.plugSizeSE[e],pe&&(i*=c.line_strokeWidth,o*=c.line_strokeWidth),f=qe(h,c.plug_markerWidthSE,e,i)||f,f=qe(h,c.plug_markerHeightSE,e,o)||f,c.capsMaskMarker_markerWidthSE[e]=n,c.capsMaskMarker_markerHeightSE[e]=a),c.plugOutline_plugSE[e]=c.capsMaskMarker_plugSE[e]=u,c.plug_enabledSE[e]?(s=c.line_strokeWidth/de.lineSize*p.plugSizeSE[e],c.position_plugOverheadSE[e]=t.overhead*s,c.viewBox_plugBCircleSE[e]=t.bCircle*s,l=t.sideLen*s,r=t.backLen*s):(c.position_plugOverheadSE[e]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[e]=l=r=0),qe(h,c.attach_plugSideLenSE,e,l,d.cur_attach_plugSideLenSE),qe(h,c.attach_plugBackLenSE,e,r,d.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[e]=!c.plug_enabledSE[e]}),f=qe(h,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||f)),(t.lineOutline||ee.line)&&(ee.lineOutline=(u=(r=e).options,y=r.curStats,m=!1,m=qe(r,y,"lineOutline_enabled",u.lineOutlineEnabled)||m,m=qe(r,y,"lineOutline_color",u.lineOutlineColor)||m,m=qe(r,y,"lineOutline_colorTra",Me(y.lineOutline_color)[0]<1)||m,s=y.line_strokeWidth*u.lineOutlineSize,m=qe(r,y,"lineOutline_strokeWidth",y.line_strokeWidth-2*s)||m,m=qe(r,y,"lineOutline_inStrokeWidth",y.lineOutline_colorTra?y.lineOutline_strokeWidth+2*ce:y.line_strokeWidth-s)||m)),(t.plugOutline||ee.line||ee.plug||ee.lineOutline)&&(ee.plugOutline=(g=(S=e).options,_=S.curStats,v=!1,[0,1].forEach(function(e){var t,n=_.plugOutline_plugSE[e],a=n!==ne?ae[ie[n]]:null;v=qe(S,_.plugOutline_enabledSE,e,g.plugOutlineEnabledSE[e]&&_.plug_enabled&&_.plug_enabledSE[e]&&!!a&&!!a.outlineBase)||v,v=qe(S,_.plugOutline_colorSE,e,t=g.plugOutlineColorSE[e]||_.lineOutline_color)||v,v=qe(S,_.plugOutline_colorTraSE,e,Me(t)[0]<1)||v,a&&a.outlineBase&&((t=g.plugOutlineSizeSE[e])>a.outlineMax&&(t=a.outlineMax),t*=2*a.outlineBase,v=qe(S,_.plugOutline_strokeWidthSE,e,t)||v,v=qe(S,_.plugOutline_inStrokeWidthSE,e,_.plugOutline_colorTraSE[e]?t-ce/(_.line_strokeWidth/de.lineSize)/g.plugSizeSE[e]*2:t/2)||v)}),v)),(t.faces||ee.line||ee.plug||ee.lineOutline||ee.plugOutline)&&(ee.faces=(b=(E=e).curStats,k=E.aplStats,w=E.events,O=!1,!b.line_altColor&&qe(E,k,"line_color",x=b.line_color,w.apl_line_color)&&(E.lineFace.style.stroke=x,O=!0),qe(E,k,"line_strokeWidth",x=b.line_strokeWidth,w.apl_line_strokeWidth)&&(E.lineShape.style.strokeWidth=x+"px",O=!0,(ue||se)&&(He(E,E.lineShape),se&&(He(E,E.lineFace),He(E,E.lineMaskCaps)))),qe(E,k,"lineOutline_enabled",x=b.lineOutline_enabled,w.apl_lineOutline_enabled)&&(E.lineOutlineFace.style.display=x?"inline":"none",O=!0),b.lineOutline_enabled&&(qe(E,k,"lineOutline_color",x=b.lineOutline_color,w.apl_lineOutline_color)&&(E.lineOutlineFace.style.stroke=x,O=!0),qe(E,k,"lineOutline_strokeWidth",x=b.lineOutline_strokeWidth,w.apl_lineOutline_strokeWidth)&&(E.lineOutlineMaskShape.style.strokeWidth=x+"px",O=!0,se&&(He(E,E.lineOutlineMaskCaps),He(E,E.lineOutlineFace))),qe(E,k,"lineOutline_inStrokeWidth",x=b.lineOutline_inStrokeWidth,w.apl_lineOutline_inStrokeWidth)&&(E.lineMaskShape.style.strokeWidth=x+"px",O=!0,se&&(He(E,E.lineOutlineMaskCaps),He(E,E.lineOutlineFace)))),qe(E,k,"plug_enabled",x=b.plug_enabled,w.apl_plug_enabled)&&(E.plugsFace.style.display=x?"inline":"none",O=!0),b.plug_enabled&&[0,1].forEach(function(n){var e=b.plug_plugSE[n],t=e!==ne?ae[ie[e]]:null,a=Ye(n,t);qe(E,k.plug_enabledSE,n,x=b.plug_enabledSE[n],w.apl_plug_enabledSE)&&(E.plugsFace.style[a.prop]=x?"url(#"+E.plugMarkerIdSE[n]+")":"none",O=!0),b.plug_enabledSE[n]&&(qe(E,k.plug_plugSE,n,e,w.apl_plug_plugSE)&&(E.plugFaceSE[n].href.baseVal="#"+t.elmId,Ze(E,E.plugMarkerSE[n],a.orient,t.bBox,E.svg,E.plugMarkerShapeSE[n],E.plugsFace),O=!0,ue&&He(E,E.plugsFace)),qe(E,k.plug_colorSE,n,x=b.plug_colorSE[n],w.apl_plug_colorSE)&&(E.plugFaceSE[n].style.fill=x,O=!0,(he||pe||se)&&!b.line_colorTra&&He(E,se?E.lineMaskCaps:E.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(e){var t="plug_"+e+"SE";qe(E,k[t],n,x=b[t][n],w["apl_"+t])&&(E.plugMarkerSE[n][e].baseVal.value=x,O=!0)}),qe(E,k.plugOutline_enabledSE,n,x=b.plugOutline_enabledSE[n],w.apl_plugOutline_enabledSE)&&(x?(E.plugFaceSE[n].style.mask="url(#"+E.plugMaskIdSE[n]+")",E.plugOutlineFaceSE[n].style.display="inline"):(E.plugFaceSE[n].style.mask="none",E.plugOutlineFaceSE[n].style.display="none"),O=!0),b.plugOutline_enabledSE[n]&&(qe(E,k.plugOutline_plugSE,n,e,w.apl_plugOutline_plugSE)&&(E.plugOutlineFaceSE[n].href.baseVal=E.plugMaskShapeSE[n].href.baseVal=E.plugOutlineMaskShapeSE[n].href.baseVal="#"+t.elmId,[E.plugMaskSE[n],E.plugOutlineMaskSE[n]].forEach(function(e){e.x.baseVal.value=t.bBox.left,e.y.baseVal.value=t.bBox.top,e.width.baseVal.value=t.bBox.width,e.height.baseVal.value=t.bBox.height}),O=!0),qe(E,k.plugOutline_colorSE,n,x=b.plugOutline_colorSE[n],w.apl_plugOutline_colorSE)&&(E.plugOutlineFaceSE[n].style.fill=x,O=!0,se&&(He(E,E.lineMaskCaps),He(E,E.lineOutlineMaskCaps))),qe(E,k.plugOutline_strokeWidthSE,n,x=b.plugOutline_strokeWidthSE[n],w.apl_plugOutline_strokeWidthSE)&&(E.plugOutlineMaskShapeSE[n].style.strokeWidth=x+"px",O=!0),qe(E,k.plugOutline_inStrokeWidthSE,n,x=b.plugOutline_inStrokeWidthSE[n],w.apl_plugOutline_inStrokeWidthSE)&&(E.plugMaskShapeSE[n].style.strokeWidth=x+"px",O=!0)))}),O)),(t.position||ee.line||ee.plug)&&(ee.position=Je(e)),(t.path||ee.position)&&(ee.path=(C=(M=e).curStats,L=M.aplStats,A=M.pathList.animVal||M.pathList.baseVal,V=C.path_edge,P=!1,A&&(V.x1=V.x2=A[0][0].x,V.y1=V.y2=A[0][0].y,C.path_pathData=I=Re(A,function(e){e.x<V.x1&&(V.x1=e.x),e.y<V.y1&&(V.y1=e.y),e.x>V.x2&&(V.x2=e.x),e.y>V.y2&&(V.y2=e.y)}),Ge(I,L.path_pathData)&&(M.linePath.setPathData(I),L.path_pathData=I,P=!0,se?(He(M,M.plugsFace),He(M,M.lineMaskCaps)):ue&&He(M,M.linePath),M.events.apl_path&&M.events.apl_path.forEach(function(e){e(M,I)}))),P)),ee.viewBox=(T=(N=e).curStats,W=N.aplStats,B=T.path_edge,R=T.viewBox_bBox,F=W.viewBox_bBox,G=N.svg.viewBox.baseVal,D=N.svg.style,z=!1,j=Math.max(T.line_strokeWidth/2,T.viewBox_plugBCircleSE[0]||0,T.viewBox_plugBCircleSE[1]||0),H={x1:B.x1-j,y1:B.y1-j,x2:B.x2+j,y2:B.y2+j},N.events.new_edge4viewBox&&N.events.new_edge4viewBox.forEach(function(e){e(N,H)}),R.x=T.lineMask_x=T.lineOutlineMask_x=T.maskBGRect_x=H.x1,R.y=T.lineMask_y=T.lineOutlineMask_y=T.maskBGRect_y=H.y1,R.width=H.x2-H.x1,R.height=H.y2-H.y1,["x","y","width","height"].forEach(function(e){var t;(t=R[e])!==F[e]&&(G[e]=F[e]=t,D[oe[e]]=t+("x"===e||"y"===e?N.bodyOffset[e]:0)+"px",z=!0)}),z),ee.mask=(Y=(U=e).curStats,X=U.aplStats,q=!1,Y.plug_enabled?[0,1].forEach(function(e){Y.capsMaskMarker_enabledSE[e]=Y.plug_enabledSE[e]&&Y.plug_colorTraSE[e]||Y.plugOutline_enabledSE[e]&&Y.plugOutline_colorTraSE[e]}):Y.capsMaskMarker_enabledSE[0]=Y.capsMaskMarker_enabledSE[1]=!1,Y.capsMaskMarker_enabled=Y.capsMaskMarker_enabledSE[0]||Y.capsMaskMarker_enabledSE[1],Y.lineMask_outlineMode=Y.lineOutline_enabled,Y.caps_enabled=Y.capsMaskMarker_enabled||Y.capsMaskAnchor_enabledSE[0]||Y.capsMaskAnchor_enabledSE[1],Y.lineMask_enabled=Y.caps_enabled||Y.lineMask_outlineMode,(Y.lineMask_enabled&&!Y.lineMask_outlineMode||Y.lineOutline_enabled)&&["x","y"].forEach(function(e){var t="maskBGRect_"+e;qe(U,X,t,Z=Y[t])&&(U.maskBGRect[e].baseVal.value=Z,q=!0)}),qe(U,X,"lineMask_enabled",Z=Y.lineMask_enabled)&&(U.lineFace.style.mask=Z?"url(#"+U.lineMaskId+")":"none",q=!0,pe&&He(U,U.lineMask)),Y.lineMask_enabled&&(qe(U,X,"lineMask_outlineMode",Z=Y.lineMask_outlineMode)&&(Z?(U.lineMaskBG.style.display="none",U.lineMaskShape.style.display="inline"):(U.lineMaskBG.style.display="inline",U.lineMaskShape.style.display="none"),q=!0),["x","y"].forEach(function(e){var t="lineMask_"+e;qe(U,X,t,Z=Y[t])&&(U.lineMask[e].baseVal.value=Z,q=!0)}),qe(U,X,"caps_enabled",Z=Y.caps_enabled)&&(U.lineMaskCaps.style.display=U.lineOutlineMaskCaps.style.display=Z?"inline":"none",q=!0,pe&&He(U,U.capsMaskLine)),Y.caps_enabled&&([0,1].forEach(function(e){var t;qe(U,X.capsMaskAnchor_enabledSE,e,Z=Y.capsMaskAnchor_enabledSE[e])&&(U.capsMaskAnchorSE[e].style.display=Z?"inline":"none",q=!0,pe&&He(U,U.lineMask)),Y.capsMaskAnchor_enabledSE[e]&&(Ge(t=Y.capsMaskAnchor_pathDataSE[e],X.capsMaskAnchor_pathDataSE[e])&&(U.capsMaskAnchorSE[e].setPathData(t),X.capsMaskAnchor_pathDataSE[e]=t,q=!0),qe(U,X.capsMaskAnchor_strokeWidthSE,e,Z=Y.capsMaskAnchor_strokeWidthSE[e])&&(U.capsMaskAnchorSE[e].style.strokeWidth=Z+"px",q=!0))}),qe(U,X,"capsMaskMarker_enabled",Z=Y.capsMaskMarker_enabled)&&(U.capsMaskLine.style.display=Z?"inline":"none",q=!0),Y.capsMaskMarker_enabled&&[0,1].forEach(function(n){var e=Y.capsMaskMarker_plugSE[n],t=e!==ne?ae[ie[e]]:null,a=Ye(n,t);qe(U,X.capsMaskMarker_enabledSE,n,Z=Y.capsMaskMarker_enabledSE[n])&&(U.capsMaskLine.style[a.prop]=Z?"url(#"+U.lineMaskMarkerIdSE[n]+")":"none",q=!0),Y.capsMaskMarker_enabledSE[n]&&(qe(U,X.capsMaskMarker_plugSE,n,e)&&(U.capsMaskMarkerShapeSE[n].href.baseVal="#"+t.elmId,Ze(U,U.capsMaskMarkerSE[n],a.orient,t.bBox,U.svg,U.capsMaskMarkerShapeSE[n],U.capsMaskLine),q=!0,ue&&(He(U,U.capsMaskLine),He(U,U.lineFace))),["markerWidth","markerHeight"].forEach(function(e){var t="capsMaskMarker_"+e+"SE";qe(U,X[t],n,Z=Y[t][n])&&(U.capsMaskMarkerSE[n][e].baseVal.value=Z,q=!0)}))}))),Y.lineOutline_enabled&&["x","y"].forEach(function(e){var t="lineOutlineMask_"+e;qe(U,X,t,Z=Y[t])&&(U.lineOutlineMask[e].baseVal.value=Z,q=!0)}),q),t.effect&&(J=(Q=e).curStats,$=Q.aplStats,Object.keys(te).forEach(function(e){var t=te[e],n=e+"_enabled",a=e+"_options",i=J[a];qe(Q,$,n,K=J[n])?(K&&($[a]=Oe(i)),t[K?"init":"remove"](Q)):K&&we(i,$[a])&&(t.remove(Q),$[n]=!0,$[a]=Oe(i),t.init(Q))})),(he||pe)&&ee.line&&!ee.path&&He(e,e.lineShape),he&&ee.plug&&!ee.line&&He(e,e.plugsFace),Ue(e)}function tt(e,t){return{duration:ye(e.duration)&&0<e.duration?e.duration:t.duration,timing:g.validTiming(e.timing)?e.timing:Oe(t.timing)}}function nt(e,t,n,a){var i,o=e.curStats,l=e.aplStats,r={};function s(){["show_on","show_effect","show_animOptions"].forEach(function(e){l[e]=o[e]})}o.show_on=t,n&&M[n]&&(o.show_effect=n,o.show_animOptions=tt(fe(a)?a:{},M[n].defaultAnimOptions)),r.show_on=o.show_on!==l.show_on,r.show_effect=o.show_effect!==l.show_effect,r.show_animOptions=we(o.show_animOptions,l.show_animOptions),r.show_effect||r.show_animOptions?o.show_inAnim?(i=r.show_effect?M[l.show_effect].stop(e,!0,!0):M[l.show_effect].stop(e),s(),M[l.show_effect].init(e,i)):r.show_on&&(l.show_effect&&r.show_effect&&M[l.show_effect].stop(e,!0,!0),s(),M[l.show_effect].init(e)):r.show_on&&(s(),M[l.show_effect].start(e))}function at(e,t,n){var a={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,a))&&(e.attachments.push(t),t.boundTargets.push(a),1)}function it(n,a,e){var i=n.attachments.indexOf(a);-1<i&&n.attachments.splice(i,1),a.boundTargets.some(function(e,t){return e.props===n&&(a.conf.unbind&&a.conf.unbind(a,e),i=t,!0)})&&(a.boundTargets.splice(i,1),e||je(function(){a.boundTargets.length||o(a)}))}function ot(s,u){var e,i,a,t,n,o,l,r,h,p,c,d,f,y,m,S,g,_=s.options,v={};function E(e,t,n,a,i){var o={};return n?null!=a?(o.container=e[n],o.key=a):(o.container=e,o.key=n):(o.container=e,o.key=t),o.default=i,o.acceptsAuto=null==o.default,o}function x(e,t,n,a,i,o,l){var r,s,u,h=E(e,n,i,o,l);return null!=t[n]&&(s=(t[n]+"").toLowerCase())&&(h.acceptsAuto&&s===U||(u=a[s]))&&u!==h.container[h.key]&&(h.container[h.key]=u,r=!0),null!=h.container[h.key]||h.acceptsAuto||(h.container[h.key]=h.default,r=!0),r}function b(e,t,n,a,i,o,l,r,s){var u,h,p,c,d=E(e,n,i,o,l);if(!a){if(null==d.default)throw new Error("Invalid `type`: "+n);a=typeof d.default}return null!=t[n]&&(d.acceptsAuto&&(t[n]+"").toLowerCase()===U||(p=h=t[n],("number"===(c=a)?ye(p):typeof p===c)&&(h=s&&"string"===a&&h?h.trim():h,1)&&(!r||r(h))))&&h!==d.container[d.key]&&(d.container[d.key]=h,u=!0),null!=d.container[d.key]||d.acceptsAuto||(d.container[d.key]=d.default,u=!0),u}if(u=u||{},["start","end"].forEach(function(e,t){var n=u[e],a=!1;if(n&&(Ie(n)||(a=L(n,"anchor")))&&n!==_.anchorSE[t]){if(!1!==s.optionIsAttach.anchorSE[t]&&it(s,ve[_.anchorSE[t]._id]),a&&!at(s,ve[n._id],e))throw new Error("Can't bind attachment");_.anchorSE[t]=n,s.optionIsAttach.anchorSE[t]=a,i=v.position=!0}}),!_.anchorSE[0]||!_.anchorSE[1]||_.anchorSE[0]===_.anchorSE[1])throw new Error("`start` and `end` are required.");function k(e){var t=o.appendChild(S.createElementNS(re,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t}function w(e){var t=o.appendChild(S.createElementNS(re,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function O(e){return[e.width,e.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),e}i&&(e=function(e,t){var n,a,i;if(!(n=Le(e))||!(a=Le(t)))throw new Error("Cannot get frames.");return n.length&&a.length&&(n.reverse(),a.reverse(),n.some(function(t){return a.some(function(e){return e===t&&(i=e.contentWindow,!0)})})),i||window}(!1!==s.optionIsAttach.anchorSE[0]?ve[_.anchorSE[0]._id].element:_.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?ve[_.anchorSE[1]._id].element:_.anchorSE[1]))!==s.baseWindow&&(t=e,m=(a=s).aplStats,S=t.document,g=A+"-"+a._id,a.pathList={},Xe(m,me),Object.keys(te).forEach(function(e){var t=e+"_enabled";m[t]&&(te[e].remove(a),m[t]=!1)}),a.baseWindow&&a.svg&&a.baseWindow.document.body.removeChild(a.svg),Ke(a.baseWindow=t),a.bodyOffset=Qe(t),a.svg=n=S.createElementNS(re,"svg"),n.className.baseVal=A,n.viewBox.baseVal||n.setAttribute("viewBox","0 0 0 0"),a.defs=o=n.appendChild(S.createElementNS(re,"defs")),a.linePath=r=o.appendChild(S.createElementNS(re,"path")),r.id=h=g+"-line-path",r.className.baseVal=A+"-line-path",pe&&(r.style.fill="none"),a.lineShape=r=o.appendChild(S.createElementNS(re,"use")),r.id=p=g+"-line-shape",r.href.baseVal="#"+h,(l=o.appendChild(S.createElementNS(re,"g"))).id=c=g+"-caps",a.capsMaskAnchorSE=[0,1].map(function(){var e=l.appendChild(S.createElementNS(re,"path"));return e.className.baseVal=A+"-caps-mask-anchor",e}),a.lineMaskMarkerIdSE=[g+"-caps-mask-marker-0",g+"-caps-mask-marker-1"],a.capsMaskMarkerSE=[0,1].map(function(e){return w(a.lineMaskMarkerIdSE[e])}),a.capsMaskMarkerShapeSE=[0,1].map(function(e){var t=a.capsMaskMarkerSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-caps-mask-marker-shape",t}),a.capsMaskLine=r=l.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-caps-mask-line",r.href.baseVal="#"+p,a.maskBGRect=r=O(o.appendChild(S.createElementNS(re,"rect"))),r.id=d=g+"-mask-bg-rect",r.className.baseVal=A+"-mask-bg-rect",pe&&(r.style.fill="white"),a.lineMask=O(k(a.lineMaskId=g+"-line-mask")),a.lineMaskBG=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+d,a.lineMaskShape=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-line-mask-shape",r.href.baseVal="#"+h,r.style.display="none",a.lineMaskCaps=r=a.lineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+c,a.lineOutlineMask=O(k(f=g+"-line-outline-mask")),(r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use"))).href.baseVal="#"+d,a.lineOutlineMaskShape=r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-line-outline-mask-shape",r.href.baseVal="#"+h,a.lineOutlineMaskCaps=r=a.lineOutlineMask.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+c,a.face=n.appendChild(S.createElementNS(re,"g")),a.lineFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+p,a.lineOutlineFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.href.baseVal="#"+p,r.style.mask="url(#"+f+")",r.style.display="none",a.plugMaskIdSE=[g+"-plug-mask-0",g+"-plug-mask-1"],a.plugMaskSE=[0,1].map(function(e){return k(a.plugMaskIdSE[e])}),a.plugMaskShapeSE=[0,1].map(function(e){var t=a.plugMaskSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-plug-mask-shape",t}),y=[],a.plugOutlineMaskSE=[0,1].map(function(e){return k(y[e]=g+"-plug-outline-mask-"+e)}),a.plugOutlineMaskShapeSE=[0,1].map(function(e){var t=a.plugOutlineMaskSE[e].appendChild(S.createElementNS(re,"use"));return t.className.baseVal=A+"-plug-outline-mask-shape",t}),a.plugMarkerIdSE=[g+"-plug-marker-0",g+"-plug-marker-1"],a.plugMarkerSE=[0,1].map(function(e){var t=w(a.plugMarkerIdSE[e]);return pe&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t}),a.plugMarkerShapeSE=[0,1].map(function(e){return a.plugMarkerSE[e].appendChild(S.createElementNS(re,"g"))}),a.plugFaceSE=[0,1].map(function(e){return a.plugMarkerShapeSE[e].appendChild(S.createElementNS(re,"use"))}),a.plugOutlineFaceSE=[0,1].map(function(e){var t=a.plugMarkerShapeSE[e].appendChild(S.createElementNS(re,"use"));return t.style.mask="url(#"+y[e]+")",t.style.display="none",t}),a.plugsFace=r=a.face.appendChild(S.createElementNS(re,"use")),r.className.baseVal=A+"-plugs-face",r.href.baseVal="#"+p,r.style.display="none",a.curStats.show_inAnim?(a.isShown=1,M[m.show_effect].stop(a,!0)):a.isShown||(n.style.visibility="hidden"),S.body.appendChild(n),[0,1,2].forEach(function(e){var t,n=a.options.labelSEM[e];n&&L(n,"label")&&(t=ve[n._id]).conf.initSvg&&t.conf.initSvg(t,a)}),v.line=v.plug=v.lineOutline=v.plugOutline=v.faces=v.effect=!0),v.position=x(_,u,"path",z,null,null,de.path)||v.position,v.position=x(_,u,"startSocket",W,"socketSE",0)||v.position,v.position=x(_,u,"endSocket",W,"socketSE",1)||v.position,[u.startSocketGravity,u.endSocketGravity].forEach(function(e,t){var n,a,i=!1;null!=e&&(Array.isArray(e)?ye(e[0])&&ye(e[1])&&(i=[e[0],e[1]],Array.isArray(_.socketGravitySE[t])&&(n=i,a=_.socketGravitySE[t],n.length===a.length&&n.every(function(e,t){return e===a[t]}))&&(i=!1)):((e+"").toLowerCase()===U?i=null:ye(e)&&0<=e&&(i=e),i===_.socketGravitySE[t]&&(i=!1)),!1!==i&&(_.socketGravitySE[t]=i,v.position=!0))}),v.line=b(_,u,"color",null,"lineColor",null,de.lineColor,null,!0)||v.line,v.line=b(_,u,"size",null,"lineSize",null,de.lineSize,function(e){return 0<e})||v.line,["startPlug","endPlug"].forEach(function(e,t){v.plug=x(_,u,e,j,"plugSE",t,de.plugSE[t])||v.plug,v.plug=b(_,u,e+"Color","string","plugColorSE",t,null,null,!0)||v.plug,v.plug=b(_,u,e+"Size",null,"plugSizeSE",t,de.plugSizeSE[t],function(e){return 0<e})||v.plug}),v.lineOutline=b(_,u,"outline",null,"lineOutlineEnabled",null,de.lineOutlineEnabled)||v.lineOutline,v.lineOutline=b(_,u,"outlineColor",null,"lineOutlineColor",null,de.lineOutlineColor,null,!0)||v.lineOutline,v.lineOutline=b(_,u,"outlineSize",null,"lineOutlineSize",null,de.lineOutlineSize,function(e){return 0<e&&e<=.48})||v.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(e,t){v.plugOutline=b(_,u,e,null,"plugOutlineEnabledSE",t,de.plugOutlineEnabledSE[t])||v.plugOutline,v.plugOutline=b(_,u,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||v.plugOutline,v.plugOutline=b(_,u,e+"Size",null,"plugOutlineSizeSE",t,de.plugOutlineSizeSE[t],function(e){return 1<=e})||v.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(e,t){var n,a,i,o=u[e],l=_.labelSEM[t]&&!s.optionIsAttach.labelSEM[t]?ve[_.labelSEM[t]._id].text:_.labelSEM[t],r=!1;if((n="string"==typeof o)&&(o=o.trim()),(n||o&&(r=L(o,"label")))&&o!==l){if(_.labelSEM[t]&&(it(s,ve[_.labelSEM[t]._id]),_.labelSEM[t]=""),o){if(r?(a=ve[(i=o)._id]).boundTargets.slice().forEach(function(e){a.conf.removeOption(a,e)}):i=new C(I.captionLabel,[o]),!at(s,ve[i._id],e))throw new Error("Can't bind attachment");_.labelSEM[t]=i}s.optionIsAttach.labelSEM[t]=r}}),Object.keys(te).forEach(function(a){var e,t,o=te[a],n=a+"_enabled",i=a+"_options";function l(a){var i={};return o.optionsConf.forEach(function(e){var t=e[0],n=e[3];null==e[4]||i[n]||(i[n]=[]),("function"==typeof t?t:"id"===t?x:b).apply(null,[i,a].concat(e.slice(1)))}),i}function r(e){var t,n=a+"_animOptions";return e.hasOwnProperty("animation")?fe(e.animation)?t=s.curStats[n]=tt(e.animation,o.defaultAnimOptions):(t=!!e.animation,s.curStats[n]=t?tt({},o.defaultAnimOptions):null):(t=!!o.defaultEnabled,s.curStats[n]=t?tt({},o.defaultAnimOptions):null),t}u.hasOwnProperty(a)&&(e=u[a],fe(e)?(s.curStats[n]=!0,t=s.curStats[i]=l(e),o.anim&&(s.curStats[i].animation=r(e))):(t=s.curStats[n]=!!e)&&(s.curStats[i]=l({}),o.anim&&(s.curStats[i].animation=r({}))),we(t,_[a])&&(_[a]=t,v.effect=!0))}),et(s,v)}function lt(e,t,n){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Xe(a.curStats,me),Xe(a.aplStats,me),Object.keys(te).forEach(function(e){var t=te[e].stats;Xe(a.curStats,t),Xe(a.aplStats,t),a.options[e]=!1}),Xe(a.curStats,E),Xe(a.aplStats,E),a.curStats.show_effect=O,a.curStats.show_animOptions=Oe(M[O].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++_e}),a._id=this._id,ge[this._id]=a,1===arguments.length&&(n=e,e=null),n=n||{},(e||t)&&(n=Oe(n),e&&(n.start=e),t&&(n.end=t)),a.isShown=a.aplStats.show_on=!n.hide,this.setOptions(n)}function rt(n){return function(e){var t={};t[n]=e,this.setOptions(t)}}function st(e,t){var n,a={conf:e,curStats:{},aplStats:{},boundTargets:[]},i={};e.argOptions.every(function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0])))&&(i[e.optionName]=t.shift(),!0)}),n=t.length&&fe(t[0])?Oe(t[0]):{},Object.keys(i).forEach(function(e){n[e]=i[e]}),e.stats&&(Xe(a.curStats,e.stats),Xe(a.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++Ee}),Object.defineProperty(this,"isRemoved",{get:function(){return!ve[this._id]}}),a._id=this._id,e.init&&!e.init(a,n)||(ve[this._id]=a)}return te={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){De(e,"apl_line_strokeWidth",te.dash.update),e.lineFace.style.strokeDashoffset=0,te.dash.update(e)},remove:function(e){var t=e.curStats;ze(e,"apl_line_strokeWidth",te.dash.update),t.dash_animId&&(g.remove(t.dash_animId),t.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Xe(e.aplStats,te.dash.stats)},update:function(t){var e,n=t.curStats,a=t.aplStats,i=a.dash_options,o=!1;n.dash_len=i.len||2*a.line_strokeWidth,n.dash_gap=i.gap||a.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,o=qe(t,a,"dash_len",n.dash_len)||o,(o=qe(t,a,"dash_gap",n.dash_gap)||o)&&(t.lineFace.style.strokeDasharray=a.dash_len+","+a.dash_gap),n.dash_animOptions?(o=qe(t,a,"dash_maxOffset",n.dash_maxOffset),a.dash_animOptions&&(o||we(n.dash_animOptions,a.dash_animOptions))&&(n.dash_animId&&(e=g.stop(n.dash_animId),g.remove(n.dash_animId)),a.dash_animOptions=null),a.dash_animOptions||(n.dash_animId=g.add(function(e){return(1-e)*a.dash_maxOffset+"px"},function(e){t.lineFace.style.strokeDashoffset=e},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),a.dash_animOptions=Oe(n.dash_animOptions))):a.dash_animOptions&&(n.dash_animId&&(g.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,a.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var t,a=e.baseWindow.document,n=e.defs,i=A+"-"+e._id+"-gradient";e.efc_gradient_gradient=t=n.appendChild(a.createElementNS(re,"linearGradient")),t.id=i,t.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x1,t.y1,t.x2,t.y2].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(t){var n=e.efc_gradient_gradient.appendChild(a.createElementNS(re,"stop"));try{n.offset.baseVal=t}catch(e){if(e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw e;n.setAttribute("offset",t)}return n}),De(e,"cur_plug_colorSE",te.gradient.update),De(e,"apl_path",te.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+i+")",te.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),ze(e,"cur_plug_colorSE",te.gradient.update),ze(e,"apl_path",te.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Xe(e.aplStats,te.gradient.stats)},update:function(a){var e,t,i=a.curStats,o=a.aplStats,n=o.gradient_options,l=a.pathList.animVal||a.pathList.baseVal;[0,1].forEach(function(e){i.gradient_colorSE[e]=n.colorSE[e]||i.plug_colorSE[e]}),t=l[0][0],i.gradient_pointSE[0]={x:t.x,y:t.y},t=(e=l[l.length-1])[e.length-1],i.gradient_pointSE[1]={x:t.x,y:t.y},[0,1].forEach(function(t){var n;qe(a,o.gradient_colorSE,t,n=i.gradient_colorSE[t])&&(pe?(n=Me(n),a.efc_gradient_stopSE[t].style.stopColor=n[1],a.efc_gradient_stopSE[t].style.stopOpacity=n[0]):a.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach(function(e){(n=i.gradient_pointSE[t][e])!==o.gradient_pointSE[t][e]&&(a.efc_gradient_gradient[e+(t+1)].baseVal.value=o.gradient_pointSE[t][e]=n)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var e,n,a,i,o,l=t.baseWindow.document,r=t.defs,s=A+"-"+t._id+"-dropShadow",u=(e=l,n=s,o={},"boolean"!=typeof p&&(p=!!window.SVGFEDropShadowElement&&!pe),o.elmsAppend=[o.elmFilter=a=e.createElementNS(re,"filter")],a.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,a.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),a.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),a.id=n,p?(o.elmOffset=o.elmBlur=i=a.appendChild(e.createElementNS(re,"feDropShadow")),o.styleFlood=i.style):(o.elmBlur=a.appendChild(e.createElementNS(re,"feGaussianBlur")),o.elmOffset=i=a.appendChild(e.createElementNS(re,"feOffset")),i.result.baseVal="offsetblur",i=a.appendChild(e.createElementNS(re,"feFlood")),o.styleFlood=i.style,(i=a.appendChild(e.createElementNS(re,"feComposite"))).in2.baseVal="offsetblur",i.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(i=a.appendChild(e.createElementNS(re,"feMerge"))).appendChild(e.createElementNS(re,"feMergeNode")),i.appendChild(e.createElementNS(re,"feMergeNode")).in1.baseVal="SourceGraphic"),o);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(e){t["efc_dropShadow_"+e]=u[e]}),u.elmsAppend.forEach(function(e){r.appendChild(e)}),t.face.setAttribute("filter","url(#"+s+")"),De(t,"new_edge4viewBox",te.dropShadow.adjustEdge),te.dropShadow.update(t)},remove:function(e){var t=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(e){t.removeChild(e)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),ze(e,"new_edge4viewBox",te.dropShadow.adjustEdge),et(e,{}),e.face.removeAttribute("filter"),Xe(e.aplStats,te.dropShadow.stats)},update:function(e){var t,n,a=e.curStats,i=e.aplStats,o=i.dropShadow_options;a.dropShadow_dx=t=o.dx,qe(e,i,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),a.dropShadow_dy=t=o.dy,qe(e,i,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),a.dropShadow_blur=t=o.blur,qe(e,i,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&et(e,{}),a.dropShadow_color=t=o.color,qe(e,i,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),a.dropShadow_opacity=t=o.opacity,qe(e,i,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(a,i){var e,t,o=a.curStats,l=a.aplStats;null!=o.dropShadow_dx&&(e=3*o.dropShadow_blur,(t={x1:i.x1-e+o.dropShadow_dx,y1:i.y1-e+o.dropShadow_dy,x2:i.x2+e+o.dropShadow_dx,y2:i.y2+e+o.dropShadow_dy}).x1<i.x1&&(i.x1=t.x1),t.y1<i.y1&&(i.y1=t.y1),t.x2>i.x2&&(i.x2=t.x2),t.y2>i.y2&&(i.y2=t.y2),["x","y"].forEach(function(e){var t,n="dropShadow_"+e;o[n]=t=i[e+"1"],qe(a,l,n,t)&&(a.efc_dropShadow_elmFilter[e].baseVal.value=t)}))}}},Object.keys(te).forEach(function(e){var t=te[e],n=t.stats;n[e+"_enabled"]={iniValue:!1},n[e+"_options"]={hasProps:!0},t.anim&&(n[e+"_animOptions"]={},n[e+"_animId"]={})}),M={none:{defaultAnimOptions:{},init:function(e,t){var n=e.curStats;n.show_animId&&(g.remove(n.show_animId),n.show_animId=null),M.none.start(e,t)},start:function(e,t){M.none.stop(e,!0)},stop:function(e,t,n){var a=e.curStats;return n=null!=n?n:e.aplStats.show_on,a.show_inAnim=!1,t&&$e(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(n,e){var t=n.curStats,a=n.aplStats;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){return e},function(e,t){t?M.fade.stop(n,!0):(n.svg.style.opacity=e+"",se&&(He(n,n.svg),Ue(n)))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),M.fade.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),$e(e,1),a.show_inAnim=!0,g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",$e(e,n)),a}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(n,e){var t=n.curStats,a=n.aplStats,l=n.pathList.baseVal,i=Fe(l),r=i.segsLen,s=i.lenAll;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){var t,n,a,i,o=-1;if(0===e)n=[[l[0][0],l[0][0]]];else if(1===e)n=l;else{for(t=s*e,n=[];t>=r[++o];)n.push(l[o]),t-=r[o];t&&(2===(a=l[o]).length?n.push([a[0],Pe(a[0],a[1],t/r[o])]):(i=Te(a[0],a[1],a[2],a[3],Be(a[0],a[1],a[2],a[3],t)),n.push([a[0],i.fromP1,i.fromP2,i])))}return n},function(e,t){t?M.draw.stop(n,!0):(n.pathList.animVal=e,et(n,{path:!0}))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),M.draw.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),$e(e,1),a.show_inAnim=!0,De(e,"apl_position",M.draw.update),g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],et(e,{path:!0}),$e(e,n)),a},update:function(e){ze(e,"apl_position",M.draw.update),e.curStats.show_inAnim?M.draw.init(e,M.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(e){var t=e[0],n=e[1],a=e[2];Object.defineProperty(lt.prototype,t,{get:function(){var e=null!=a?ge[this._id].options[n][a]:n?ge[this._id].options[n]:ge[this._id].options[t];return null==e?U:Oe(e)},set:rt(t),enumerable:!0})}),[["path",z],["startSocket",W,"socketSE",0],["endSocket",W,"socketSE",1],["startPlug",j,"plugSE",0],["endPlug",j,"plugSE",1]].forEach(function(e){var a=e[0],i=e[1],o=e[2],l=e[3];Object.defineProperty(lt.prototype,a,{get:function(){var t,n=null!=l?ge[this._id].options[o][l]:o?ge[this._id].options[o]:ge[this._id].options[a];return n?Object.keys(i).some(function(e){return i[e]===n&&(t=e,!0)})?t:new Error("It's broken"):U},set:rt(a),enumerable:!0})}),Object.keys(te).forEach(function(n){var a=te[n];Object.defineProperty(lt.prototype,n,{get:function(){var u,e,t=ge[this._id].options[n];return fe(t)?(u=t,e=a.optionsConf.reduce(function(e,t){var n,a=t[0],i=t[1],o=t[2],l=t[3],r=t[4],s=null!=r?u[l][r]:l?u[l]:u[i];return e[i]="id"===a?s?Object.keys(o).some(function(e){return o[e]===s&&(n=e,!0)})?n:new Error("It's broken"):U:null==s?U:Oe(s),e},{}),a.anim&&(e.animation=Oe(u.animation)),e):t},set:rt(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(e,n){Object.defineProperty(lt.prototype,e,{get:function(){var e=ge[this._id],t=e.options;return t.labelSEM[n]&&!e.optionIsAttach.labelSEM[n]?ve[t.labelSEM[n]._id].text:t.labelSEM[n]||""},set:rt(e),enumerable:!0})}),lt.prototype.setOptions=function(e){return ot(ge[this._id],e),this},lt.prototype.position=function(){return et(ge[this._id],{position:!0}),this},lt.prototype.remove=function(){var t=ge[this._id],n=t.curStats;Object.keys(te).forEach(function(e){var t=e+"_animId";n[t]&&g.remove(n[t])}),n.show_animId&&g.remove(n.show_animId),t.attachments.slice().forEach(function(e){it(t,e)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete ge[this._id]},lt.prototype.show=function(e,t){return nt(ge[this._id],!0,e,t),this},lt.prototype.hide=function(e,t){return nt(ge[this._id],!1,e,t),this},o=function(t){t&&ve[t._id]&&(t.boundTargets.slice().forEach(function(e){it(e.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete ve[t._id])},st.prototype.remove=function(){var t=this,n=ve[t._id];n&&(n.boundTargets.slice().forEach(function(e){n.conf.removeOption(n,e)}),je(function(){var e=ve[t._id];e&&(console.error("LeaderLineAttachment was not removed by removeOption"),o(e))}))},C=st,window.LeaderLineAttachment=C,L=function(e,t){return e instanceof C&&(!(e.isRemoved||t&&ve[e._id].conf.type!==t)||null)},I={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie}],init:function(e,t){return e.element=I.pointAnchor.checkElement(t.element),e.x=I.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=I.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var n=t.props,a={},i=e.element,o=n.options.anchorSE["start"===t.optionName?1:0];i===o&&(i=o===document.body?new C(I.pointAnchor,[i]):document.body),a[t.optionName]=i,ot(n,a)},getBBoxNest:function(e,t){var n=Ae(e.element,t.baseWindow),a=n.width,i=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?a:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?i:1),n},parsePercent:function(e,t){var n,a,i=!1;return ye(e)?a=e:"string"==typeof e&&(n=m.exec(e))&&n[2]&&(i=0!==(a=parseFloat(n[1])/100)),null!=a&&(t||0<=a)?[a,i]:null},checkElement:function(e){if(null==e)e=document.body;else if(!Ie(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(i,e){var t,n,a,o=[];return i.element=I.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(i.color=e.color.trim()),"string"==typeof e.fillColor&&(i.fill=e.fillColor.trim()),ye(e.size)&&0<=e.size&&(i.size=e.size),e.dash&&(i.dash=!0,ye(e.dash.len)&&0<e.dash.len&&(i.dashLen=e.dash.len),ye(e.dash.gap)&&0<e.dash.gap&&(i.dashGap=e.dash.gap)),"circle"===e.shape?i.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every(function(e){var t={};return!(!(t.x=I.pointAnchor.parsePercent(e[0],!0))||!(t.y=I.pointAnchor.parsePercent(e[1],!0)))&&(o.push(t),(t.x[1]||t.y[1])&&(i.hasRatio=!0),!0)})?(i.shape=e.shape,i.points=o):(i.shape="rect",i.radius=ye(e.radius)&&0<=e.radius?e.radius:0),"rect"!==i.shape&&"circle"!==i.shape||(i.x=I.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],i.y=I.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],i.width=I.pointAnchor.parsePercent(e.width)||[1.1,!0],i.height=I.pointAnchor.parsePercent(e.height)||[1.1,!0],(i.x[1]||i.y[1]||i.width[1]||i.height[1])&&(i.hasRatio=!0)),t=i.element.ownerDocument,i.svg=n=t.createElementNS(re,"svg"),n.className.baseVal=A+"-areaAnchor",n.viewBox.baseVal||n.setAttribute("viewBox","0 0 0 0"),i.path=n.appendChild(t.createElementNS(re,"path")),i.path.style.fill=i.fill||"none",i.isShown=!1,n.style.visibility="hidden",t.body.appendChild(n),Ke(a=t.defaultView),i.bodyOffset=Qe(a),i.updateColor=function(){var e,t=i.curStats,n=i.aplStats,a=i.boundTargets.length?i.boundTargets[0].props.curStats:null;t.color=e=i.color||(a?a.line_color:de.lineColor),qe(i,n,"color",e)&&(i.path.style.stroke=e)},i.updateShow=function(){$e(i,i.boundTargets.some(function(e){return!0===e.props.isShown}))},!0},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),De(n,"svgShow",e.updateShow),je(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){var n=t.props;e.color||ze(n,"cur_line_color",e.updateColor),ze(n,"svgShow",e.updateShow),1<e.boundTargets.length&&je(function(){e.updateColor(),e.updateShow(),I.areaAnchor.update(e)&&e.boundTargets.forEach(function(e){et(e.props,{position:!0})})})},removeOption:function(e,t){I.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.areaAnchor.unbind(t,e)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(e,t){return I.areaAnchor.update(e)&&1<e.boundTargets.length&&je(function(){e.boundTargets.forEach(function(e){e.props!==t&&et(e.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=Ae(e.element,t.baseWindow);return Re(e.curStats.pathListRel,function(e){e.x+=n.left,e.y+=n.top})},getBBoxNest:function(e,t){var n=Ae(e.element,t.baseWindow),a=e.curStats.bBoxRel;return{left:a.left+n.left,top:a.top+n.top,right:a.right+n.left,bottom:a.bottom+n.top,width:a.width,height:a.height}},update:function(t){var a,n,i,o,e,l,r,s,u,h,p,c,d,f,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P=t.curStats,N=t.aplStats,T=t.boundTargets.length?t.boundTargets[0].props.curStats:null,W={};if(W.strokeWidth=qe(t,P,"strokeWidth",null!=t.size?t.size:T?T.line_strokeWidth:de.lineSize),a=Ce(t.element),W.elementWidth=qe(t,P,"elementWidth",a.width),W.elementHeight=qe(t,P,"elementHeight",a.height),W.elementLeft=qe(t,P,"elementLeft",a.left),W.elementTop=qe(t,P,"elementTop",a.top),W.strokeWidth||t.hasRatio&&(W.elementWidth||W.elementHeight)){switch(t.shape){case"rect":(I={left:t.x[0]*(t.x[1]?a.width:1),top:t.y[0]*(t.y[1]?a.height:1),width:t.width[0]*(t.width[1]?a.width:1),height:t.height[0]*(t.height[1]?a.height:1)}).right=I.left+I.width,I.bottom=I.top+I.height,b=P.strokeWidth/2,E=(x=Math.min(I.width,I.height))?x/2*Math.SQRT2+b:0,O=(v=t.radius?t.radius<=E?t.radius:E:0)?(w=v-(k=(v-b)/Math.SQRT2),M=v*ee,O=[{x:I.left-w,y:I.top+k},{x:I.left+k,y:I.top-w},{x:I.right-k,y:I.top-w},{x:I.right+w,y:I.top+k},{x:I.right+w,y:I.bottom-k},{x:I.right-k,y:I.bottom+w},{x:I.left+k,y:I.bottom+w},{x:I.left-w,y:I.bottom-k}],P.pathListRel=[[O[0],{x:O[0].x,y:O[0].y-M},{x:O[1].x-M,y:O[1].y},O[1]]],O[1].x!==O[2].x&&P.pathListRel.push([O[1],O[2]]),P.pathListRel.push([O[2],{x:O[2].x+M,y:O[2].y},{x:O[3].x,y:O[3].y-M},O[3]]),O[3].y!==O[4].y&&P.pathListRel.push([O[3],O[4]]),P.pathListRel.push([O[4],{x:O[4].x,y:O[4].y+M},{x:O[5].x+M,y:O[5].y},O[5]]),O[5].x!==O[6].x&&P.pathListRel.push([O[5],O[6]]),P.pathListRel.push([O[6],{x:O[6].x-M,y:O[6].y},{x:O[7].x,y:O[7].y+M},O[7]]),O[7].y!==O[0].y&&P.pathListRel.push([O[7],O[0]]),P.pathListRel.push([]),w=v-k+P.strokeWidth/2,[{x:I.left-w,y:I.top-w},{x:I.right+w,y:I.bottom+w}]):(w=P.strokeWidth/2,O=[{x:I.left-w,y:I.top-w},{x:I.right+w,y:I.bottom+w}],P.pathListRel=[[O[0],{x:O[1].x,y:O[0].y}],[{x:O[1].x,y:O[0].y},O[1]],[O[1],{x:O[0].x,y:O[1].y}],[]],[{x:I.left-P.strokeWidth,y:I.top-P.strokeWidth},{x:I.right+P.strokeWidth,y:I.bottom+P.strokeWidth}]),P.bBoxRel={left:O[0].x,top:O[0].y,right:O[1].x,bottom:O[1].y,width:O[1].x-O[0].x,height:O[1].y-O[0].y};break;case"circle":(_={left:t.x[0]*(t.x[1]?a.width:1),top:t.y[0]*(t.y[1]?a.height:1),width:t.width[0]*(t.width[1]?a.width:1),height:t.height[0]*(t.height[1]?a.height:1)}).width||_.height||(_.width=_.height=10),_.width||(_.width=_.height),_.height||(_.height=_.width),_.right=_.left+_.width,_.bottom=_.top+_.height,r=_.left+_.width/2,s=_.top+_.height/2,d=P.strokeWidth/2,f=_.width/2,y=_.height/2,u=f*Math.SQRT2+d,h=y*Math.SQRT2+d,p=u*ee,c=h*ee,g=[{x:r-u,y:s},{x:r,y:s-h},{x:r+u,y:s},{x:r,y:s+h}],P.pathListRel=[[g[0],{x:g[0].x,y:g[0].y-c},{x:g[1].x-p,y:g[1].y},g[1]],[g[1],{x:g[1].x+p,y:g[1].y},{x:g[2].x,y:g[2].y-c},g[2]],[g[2],{x:g[2].x,y:g[2].y+c},{x:g[3].x+p,y:g[3].y},g[3]],[g[3],{x:g[3].x-p,y:g[3].y},{x:g[0].x,y:g[0].y+c},g[0]],[]],m=u-f+P.strokeWidth/2,S=h-y+P.strokeWidth/2,g=[{x:_.left-m,y:_.top-S},{x:_.right+m,y:_.bottom+S}],P.bBoxRel={left:g[0].x,top:g[0].y,right:g[1].x,bottom:g[1].y,width:g[1].x-g[0].x,height:g[1].y-g[0].y};break;case"polygon":t.points.forEach(function(e){var t=e.x[0]*(e.x[1]?a.width:1),n=e.y[0]*(e.y[1]?a.height:1);i?(t<i.left&&(i.left=t),t>i.right&&(i.right=t),n<i.top&&(i.top=n),n>i.bottom&&(i.bottom=n)):i={left:t,right:t,top:n,bottom:n},o?P.pathListRel.push([o,{x:t,y:n}]):P.pathListRel=[],o={x:t,y:n}}),P.pathListRel.push([]),e=P.strokeWidth/2,l=[{x:i.left-e,y:i.top-e},{x:i.right+e,y:i.bottom+e}],P.bBoxRel={left:l[0].x,top:l[0].y,right:l[1].x,bottom:l[1].y,width:l[1].x-l[0].x,height:l[1].y-l[0].y}}W.pathListRel=W.bBoxRel=!0}return(W.pathListRel||W.elementLeft||W.elementTop)&&(P.pathData=Re(P.pathListRel,function(e){e.x+=a.left,e.y+=a.top})),qe(t,N,"strokeWidth",n=P.strokeWidth)&&(t.path.style.strokeWidth=n+"px"),Ge(n=P.pathData,N.pathData)&&(t.path.setPathData(n),N.pathData=n,W.pathData=!0),t.dash&&(!W.pathData&&(!W.strokeWidth||t.dashLen&&t.dashGap)||(P.dashLen=t.dashLen||2*P.strokeWidth,P.dashGap=t.dashGap||P.strokeWidth),W.dash=qe(t,N,"dashLen",P.dashLen)||W.dash,W.dash=qe(t,N,"dashGap",P.dashGap)||W.dash,W.dash&&(t.path.style.strokeDasharray=N.dashLen+","+N.dashGap)),C=P.viewBoxBBox,L=N.viewBoxBBox,A=t.svg.viewBox.baseVal,V=t.svg.style,C.x=P.bBoxRel.left+a.left,C.y=P.bBoxRel.top+a.top,C.width=P.bBoxRel.width,C.height=P.bBoxRel.height,["x","y","width","height"].forEach(function(e){(n=C[e])!==L[e]&&(A[e]=L[e]=n,V[oe[e]]=n+("x"===e||"y"===e?t.bodyOffset[e]:0)+"px")}),W.strokeWidth||W.pathListRel||W.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ie},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(a,i){var o,t,e,n,l,r,s,u,h,p,c,d=I.mouseHoverAnchor,f={};if(a.element=I.pointAnchor.checkElement(i.element),u=a.element,!((p=u.ownerDocument)&&(h=p.defaultView)&&h.HTMLElement&&u instanceof h.HTMLElement))throw new Error("`element` must be HTML element");return d.style.backgroundSize=d.backgroundSize.width+"px "+d.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(e){var n=d[e];a[e]=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},{})}),"inline"===(o=a.element.ownerDocument.defaultView.getComputedStyle(a.element,"")).display?a.style.display="inline-block":"none"===o.display&&(a.style.display="block"),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t=e[0],n="padding"+e[1];parseFloat(o[n])<d.padding[t]&&(a.style[n]=d.padding[t]+"px")}),a.style.display&&(n=a.element.style.display,a.element.style.display=a.style.display),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t="padding"+e[1];a.style[t]&&(f[t]=a.element.style[t],a.element.style[t]=a.style[t])}),(e=a.element.getBoundingClientRect()).height<d.minHeight&&(se?(c=d.minHeight,"content-box"===o.boxSizing?c-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+parseFloat(o.paddingTop)+parseFloat(o.paddingBottom):"padding-box"===o.boxSizing&&(c-=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)),a.style.height=c+"px"):a.style.height=parseFloat(o.height)+(d.minHeight-e.height)+"px"),a.style.backgroundPosition=pe?e.width-d.backgroundSize.width-d.backgroundPosition.right+"px "+d.backgroundPosition.top+"px":"right "+d.backgroundPosition.right+"px top "+d.backgroundPosition.top+"px",a.style.display&&(a.element.style.display=n),I.mouseHoverAnchor.dirKeys.forEach(function(e){var t="padding"+e[1];a.style[t]&&(a.element.style[t]=f[t])}),["style","hoverStyle"].forEach(function(e){var t=a[e],n=i[e];fe(n)&&Object.keys(n).forEach(function(e){"string"==typeof n[e]||ye(n[e])?t[e]=n[e]:null==n[e]&&delete t[e]})}),"function"==typeof i.onSwitch&&(s=i.onSwitch),i.showEffectName&&M[i.showEffectName]&&(a.showEffectName=l=i.showEffectName),r=i.animOptions,a.elmStyle=t=a.element.style,a.mouseenter=function(e){a.hoverStyleSave=d.getStyles(t,Object.keys(a.hoverStyle)),d.setStyles(t,a.hoverStyle),a.boundTargets.forEach(function(e){nt(e.props,!0,l,r)}),s&&s(e)},a.mouseleave=function(e){d.setStyles(t,a.hoverStyleSave),a.boundTargets.forEach(function(e){nt(e.props,!1,l,r)}),s&&s(e)},!0},bind:function(e,t){var n,a,i,o,l;return t.props.svg?I.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):je(function(){I.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=I.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),I.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(n=e.element,a=e.mouseenter,i=e.mouseleave,"onmouseenter"in n&&"onmouseleave"in n?(n.addEventListener("mouseenter",a,!1),n.addEventListener("mouseleave",i,!1),function(){n.removeEventListener("mouseenter",a,!1),n.removeEventListener("mouseleave",i,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)},n.addEventListener("mouseover",o),l=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)},n.addEventListener("mouseout",l),function(){n.removeEventListener("mouseover",o,!1),n.removeEventListener("mouseout",l,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),I.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),I.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){I.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.mouseHoverAnchor.unbind(t,e)}))},getBBoxNest:function(e,t){return Ae(e.element,t.baseWindow)},llShow:function(e,t,n){M[n||e.curStats.show_effect].stop(e,!0,t),e.aplStats.show_on=t},getStyles:function(n,e){return e.reduce(function(e,t){return e[t]=n[t],e},{})},setStyles:function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(u,t){return"string"==typeof t.text&&(u.text=t.text.trim()),!!u.text&&("string"==typeof t.color&&(u.color=t.color.trim()),u.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&ye(t.offset[0])&&ye(t.offset[1])&&(u.offset={x:t.offset[0],y:t.offset[1]}),ye(t.lineOffset)&&(u.lineOffset=t.lineOffset),I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(u[e]=t[e])}),u.updateColor=function(e){I.captionLabel.updateColor(u,e)},u.updateSocketXY=function(e){var t,n,a,i,o=u.curStats,l=u.aplStats,r=e.curStats,s=r.position_socketXYSE[u.socketIndex];null!=s.x&&(u.offset?(o.x=s.x+u.offset.x,o.y=s.y+u.offset.y):(t=u.height/2,n=Math.max(r.attach_plugSideLenSE[u.socketIndex]||0,r.line_strokeWidth/2),a=r.position_socketXYSE[u.socketIndex?0:1],s.socketId===T||s.socketId===P?(o.x=s.socketId===T?s.x-t-u.width:s.x+t,o.y=a.y<s.y?s.y+n+t:s.y-n-t-u.height):(o.x=a.x<s.x?s.x+n+t:s.x-n-t-u.width,o.y=s.socketId===V?s.y-t-u.height:s.y+t)),qe(u,l,"x",i=o.x)&&(u.elmPosition.x.baseVal.getItem(0).value=i),qe(u,l,"y",i=o.y)&&(u.elmPosition.y.baseVal.getItem(0).value=i+u.height))},u.updatePath=function(e){var t,n,a=u.curStats,i=u.aplStats,o=e.pathList.animVal||e.pathList.baseVal;o&&(t=I.captionLabel.getMidPoint(o,u.lineOffset),a.x=t.x-u.width/2,a.y=t.y-u.height/2,qe(u,i,"x",n=a.x)&&(u.elmPosition.x.baseVal.getItem(0).value=n),qe(u,i,"y",n=a.y)&&(u.elmPosition.y.baseVal.getItem(0).value=n+u.height))},u.updateShow=function(e){I.captionLabel.updateShow(u,e)},pe&&(u.adjustEdge=function(e,t){var n=u.curStats;null!=n.x&&I.captionLabel.adjustEdge(t,{x:n.x,y:n.y,width:u.width,height:u.height},u.strokeWidth/2)}),!0)},updateColor:function(e,t){var n,a=e.curStats,i=e.aplStats,o=t.curStats;a.color=n=e.color||o.line_color,qe(e,i,"color",n)&&(e.styleFill.fill=n)},updateShow:function(e,t){var n=!0===t.isShown;n!==e.isShown&&(e.styleShow.visibility=n?"":"hidden",e.isShown=n)},adjustEdge:function(e,t,n){var a={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};a.x1<e.x1&&(e.x1=a.x1),a.y1<e.y1&&(e.y1=a.y1),a.x2>e.x2&&(e.x2=a.x2),a.y2>e.y2&&(e.y2=a.y2)},newText:function(e,t,n,a,i){var o,l,r,s,u,h=t.createElementNS(re,"text");return h.textContent=e,[h.x,h.y].forEach(function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)}),"boolean"!=typeof f&&(f="paintOrder"in h.style),i&&!f?(l=t.createElementNS(re,"defs"),h.id=a,l.appendChild(h),(s=(o=t.createElementNS(re,"g")).appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+a,(r=o.appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+a,(u=s.style).strokeLinejoin="round",{elmPosition:h,styleText:h.style,styleFill:r.style,styleStroke:u,styleShow:o.style,elmsAppend:[l,o]}):(u=h.style,i&&(u.strokeLinejoin="round",u.paintOrder="stroke"),{elmPosition:h,styleText:u,styleFill:u,styleStroke:i?u:null,styleShow:u,elmsAppend:[h]})},getMidPoint:function(e,t){var n,a,i=Fe(e),o=i.segsLen,l=i.lenAll,r=-1,s=l/2+(t||0);if(s<=0)return 2===(n=e[0]).length?Pe(n[0],n[1],0):Te(n[0],n[1],n[2],n[3],0);if(l<=s)return 2===(n=e[e.length-1]).length?Pe(n[0],n[1],1):Te(n[0],n[1],n[2],n[3],1);for(a=[];s>o[++r];)a.push(e[r]),s-=o[r];return 2===(n=e[r]).length?Pe(n[0],n[1],s/o[r]):Te(n[0],n[1],n[2],n[3],Be(n[0],n[1],n[2],n[3],s))},initSvg:function(t,n){var e,a,i=I.captionLabel.newText(t.text,n.baseWindow.document,n.svg,A+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),e=i.elmPosition.getBBox(),t.width=e.width,t.height=e.height,t.outlineColor&&(a=10<(a=e.height/9)?10:a<2?2:a,i.styleStroke.strokeWidth=a+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Xe(t.aplStats,I.captionLabel.stats),t.updateColor(n),t.refSocketXY?t.updateSocketXY(n):t.updatePath(n),pe&&et(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,De(n,"apl_position",e.updateSocketXY),e.offset||(De(n,"cur_attach_plugSideLenSE",e.updateSocketXY),De(n,"cur_line_strokeWidth",e.updateSocketXY))):De(n,"apl_path",e.updatePath),De(n,"svgShow",e.updateShow),pe&&De(n,"new_edge4viewBox",e.adjustEdge),I.captionLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Xe(e.curStats,I.captionLabel.stats),Xe(e.aplStats,I.captionLabel.stats),e.color||ze(n,"cur_line_color",e.updateColor),e.refSocketXY?(ze(n,"apl_position",e.updateSocketXY),e.offset||(ze(n,"cur_attach_plugSideLenSE",e.updateSocketXY),ze(n,"cur_line_strokeWidth",e.updateSocketXY))):ze(n,"apl_path",e.updatePath),ze(n,"svgShow",e.updateShow),pe&&(ze(n,"new_edge4viewBox",e.adjustEdge),et(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",ot(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.captionLabel.unbind(t,e)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(s,t){return"string"==typeof t.text&&(s.text=t.text.trim()),!!s.text&&("string"==typeof t.color&&(s.color=t.color.trim()),s.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",ye(t.lineOffset)&&(s.lineOffset=t.lineOffset),I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(s[e]=t[e])}),s.updateColor=function(e){I.captionLabel.updateColor(s,e)},s.updatePath=function(e){var t,n=s.curStats,a=s.aplStats,i=e.curStats,o=e.pathList.animVal||e.pathList.baseVal;o&&(n.pathData=t=I.pathLabel.getOffsetPathData(o,i.line_strokeWidth/2+s.strokeWidth/2+s.height/4,1.25*s.height),Ge(t,a.pathData)&&(s.elmPath.setPathData(t),a.pathData=t,s.bBox=s.elmPosition.getBBox(),s.updateStartOffset(e)))},s.updateStartOffset=function(e){var t,i,n,a,o=s.curStats,l=s.aplStats,r=e.curStats;o.pathData&&(2===s.semIndex&&!s.lineOffset||(n=o.pathData.reduce(function(e,t){var n,a=t.values;switch(t.type){case"M":i={x:a[0],y:a[1]};break;case"L":n={x:a[0],y:a[1]},i&&(e+=Ve(i,n)),i=n;break;case"C":n={x:a[4],y:a[5]},i&&(e+=We(i,{x:a[0],y:a[1]},{x:a[2],y:a[3]},n)),i=n}return e},0),a=0===s.semIndex?0:1===s.semIndex?n:n/2,2!==s.semIndex&&(t=Math.max(r.attach_plugBackLenSE[s.semIndex]||0,r.line_strokeWidth/2)+s.strokeWidth/2+s.height/4,a=(a+=0===s.semIndex?t:-t)<0?0:n<a?n:a),s.lineOffset&&(a=(a+=s.lineOffset)<0?0:n<a?n:a),o.startOffset=a,qe(s,l,"startOffset",a)&&(s.elmOffset.startOffset.baseVal.value=a)))},s.updateShow=function(e){I.captionLabel.updateShow(s,e)},pe&&(s.adjustEdge=function(e,t){s.bBox&&I.captionLabel.adjustEdge(t,s.bBox,s.strokeWidth/2)}),!0)},getOffsetPathData:function(e,x,n){var b,a,k=[];function w(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p,c,d,f,y,m,S,g,_,v,E;2===e.length?(g=e[0],_=e[1],v=x,E=Math.atan2(g.y-_.y,_.x-g.x)+.5*Math.PI,t=[{x:g.x+Math.cos(E)*v,y:g.y+Math.sin(E)*v*-1},{x:_.x+Math.cos(E)*v,y:_.y+Math.sin(E)*v*-1}],b?(a=b.points,0<=(i=Math.atan2(a[1].y-a[0].y,a[0].x-a[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&i<=Math.PI?n={type:"line",points:t,inside:!0}:(l=Ne(a[0],a[1],x),o=Ne(t[1],t[0],x),s=a[0],h=o,p=t[1],c=(u=l).x-s.x,d=u.y-s.y,f=p.x-h.x,y=p.y-h.y,m=(-d*(s.x-h.x)+c*(s.y-h.y))/(-f*d+c*y),S=(f*(s.y-h.y)-y*(s.x-h.x))/(-f*d+c*y),n=(r=0<=m&&m<=1&&0<=S&&S<=1?{x:s.x+S*c,y:s.y+S*d}:null)?{type:"line",points:[a[1]=r,t[1]]}:(a[1]=w(o,l)?o:l,{type:"line",points:[o,t[1]]}),b.len=Ve(a[0],a[1]))):n={type:"line",points:t},n.len=Ve(n.points[0],n.points[1]),k.push(b=n)):(k.push({type:"cubic",points:function(e,t,n,a,i,o){for(var l,r,s=We(e,t,n,a)/o,u=1/(o<i?i/o*s:s),h=[],p=0;r=(90-(l=Te(e,t,n,a,p)).angle)*(Math.PI/180),h.push({x:l.x+Math.cos(r)*i,y:l.y+Math.sin(r)*i*-1}),!(1<=p);)1<(p+=u)&&(p=1);return h}(e[0],e[1],e[2],e[3],x,16)}),b=null)}),b=null,k.forEach(function(e){var t;b="line"===e.type?(e.inside&&(b.len>x?((t=b.points)[1]=Ne(t[0],t[1],-x),b.len=Ve(t[0],t[1])):(b.points=null,b.len=0),e.len>x+n?((t=e.points)[0]=Ne(t[1],t[0],-(x+n)),e.len=Ve(t[0],t[1])):(e.points=null,e.len=0)),e):null}),k.reduce(function(t,e){var n=e.points;return n&&(a&&w(n[0],a)||t.push({type:"M",values:[n[0].x,n[0].y]}),"line"===e.type?t.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach(function(e){t.push({type:"L",values:[e.x,e.y]})})),a=n[n.length-1]),t},[])},newText:function(e,t,n,a){var i,o,l,r,s,u,h,p,c=t.createElementNS(re,"defs"),d=c.appendChild(t.createElementNS(re,"path"));return d.id=i=n+"-path",(r=(l=t.createElementNS(re,"text")).appendChild(t.createElementNS(re,"textPath"))).href.baseVal="#"+i,r.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),r.textContent=e,"boolean"!=typeof f&&(f="paintOrder"in l.style),a&&!f?(l.id=o=n+"-text",c.appendChild(l),(h=(s=t.createElementNS(re,"g")).appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+o,(u=s.appendChild(t.createElementNS(re,"use"))).href.baseVal="#"+o,(p=h.style).strokeLinejoin="round",{elmPosition:l,elmPath:d,elmOffset:r,styleText:l.style,styleFill:u.style,styleStroke:p,styleShow:s.style,elmsAppend:[c,s]}):(p=l.style,a&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:l,elmPath:d,elmOffset:r,styleText:p,styleFill:p,styleStroke:a?p:null,styleShow:p,elmsAppend:[c,l]})},initSvg:function(t,n){var e,a,i=I.pathLabel.newText(t.text,n.baseWindow.document,A+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",I.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),i.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),e=i.elmPosition.getBBox(),i.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||i.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=e.height,t.outlineColor&&(a=10<(a=e.height/9)?10:a<2?2:a,i.styleStroke.strokeWidth=a+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Xe(t.aplStats,I.pathLabel.stats),t.updateColor(n),t.updatePath(n),t.updateStartOffset(n),pe&&et(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||De(n,"cur_line_color",e.updateColor),De(n,"cur_line_strokeWidth",e.updatePath),De(n,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||De(n,"cur_attach_plugBackLenSE",e.updateStartOffset),De(n,"svgShow",e.updateShow),pe&&De(n,"new_edge4viewBox",e.adjustEdge),I.pathLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Xe(e.curStats,I.pathLabel.stats),Xe(e.aplStats,I.pathLabel.stats),e.color||ze(n,"cur_line_color",e.updateColor),ze(n,"cur_line_strokeWidth",e.updatePath),ze(n,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||ze(n,"cur_attach_plugBackLenSE",e.updateStartOffset),ze(n,"svgShow",e.updateShow),pe&&(ze(n,"new_edge4viewBox",e.adjustEdge),et(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",ot(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){I.pathLabel.unbind(t,e)}))}}},Object.keys(I).forEach(function(e){lt[e]=function(){return new C(I[e],Array.prototype.slice.call(arguments))}}),lt.positionByWindowResize=!0,window.addEventListener("resize",v.add(function(){lt.positionByWindowResize&&Object.keys(ge).forEach(function(e){et(ge[e],{position:!0})})}),!1),lt}();!function(e,t){ true?module.exports=t():0}(this,function(){return LeaderLine});

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * AnimEvent
 * https://github.com/anseki/anim-event
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
var MSPF = 1000 / 60,
    // ms/frame (FPS: 60)
KEEP_LOOP = 500,

/**
 * @typedef {Object} task
 * @property {Event} event
 * @property {function} listener
 */

/** @type {task[]} */
tasks = [];

var requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
  return setTimeout(callback, MSPF);
},
    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {
  return clearTimeout(requestID);
};

var lastFrameTime = Date.now(),
    requestID;

function step() {
  var called, next;

  if (requestID) {
    cancelAnim.call(window, requestID);
    requestID = null;
  }

  tasks.forEach(function (task) {
    var event;

    if (event = task.event) {
      task.event = null; // Clear it before `task.listener()` because that might fire another event.

      task.listener(event);
      called = true;
    }
  });

  if (called) {
    lastFrameTime = Date.now();
    next = true;
  } else if (Date.now() - lastFrameTime < KEEP_LOOP) {
    // Go on for a while
    next = true;
  }

  if (next) {
    requestID = requestAnim.call(window, step);
  }
}

function indexOfTasks(listener) {
  var index = -1;
  tasks.some(function (task, i) {
    if (task.listener === listener) {
      index = i;
      return true;
    }

    return false;
  });
  return index;
}

var AnimEvent = {
  /**
   * @param {function} listener - An event listener.
   * @returns {(function|null)} A wrapped event listener.
   */
  add: function add(listener) {
    var task;

    if (indexOfTasks(listener) === -1) {
      tasks.push(task = {
        listener: listener
      });
      return function (event) {
        task.event = event;

        if (!requestID) {
          step();
        }
      };
    }

    return null;
  },
  remove: function remove(listener) {
    var iRemove;

    if ((iRemove = indexOfTasks(listener)) > -1) {
      tasks.splice(iRemove, 1);

      if (!tasks.length && requestID) {
        cancelAnim.call(window, requestID);
        requestID = null;
      }
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AnimEvent);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js":
/*!******************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * CSSPrefix
 * https://github.com/anseki/cssprefix
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
function ucf(text) {
  return text.substr(0, 1).toUpperCase() + text.substr(1);
}

var PREFIXES = ['webkit', 'moz', 'ms', 'o'],
    NAME_PREFIXES = PREFIXES.reduce(function (prefixes, prefix) {
  prefixes.push(prefix);
  prefixes.push(ucf(prefix));
  return prefixes;
}, []),
    VALUE_PREFIXES = PREFIXES.map(function (prefix) {
  return "-".concat(prefix, "-");
}),

/**
 * Get sample CSSStyleDeclaration.
 * @returns {CSSStyleDeclaration}
 */
getDeclaration = function () {
  var declaration;
  return function () {
    return declaration = declaration || document.createElement('div').style;
  };
}(),

/**
 * Normalize name.
 * @param {} propName - A name that is normalized.
 * @returns {string} A normalized name.
 */
normalizeName = function () {
  var rePrefixedName = new RegExp('^(?:' + PREFIXES.join('|') + ')(.)', 'i'),
      reUc = /[A-Z]/;
  return function (propName) {
    return (propName = (propName + '').replace(/\s/g, '').replace(/-([\da-z])/gi, function (str, p1) {
      return p1.toUpperCase();
    }) // camelCase
    // 'ms' and 'Ms' are found by rePrefixedName 'i' option
    .replace(rePrefixedName, function (str, p1) {
      return reUc.test(p1) ? p1.toLowerCase() : str;
    }) // Remove prefix
    ).toLowerCase() === 'float' ? 'cssFloat' : propName;
  }; // For old CSSOM
}(),

/**
 * Normalize value.
 * @param {} propValue - A value that is normalized.
 * @returns {string} A normalized value.
 */
normalizeValue = function () {
  var rePrefixedValue = new RegExp('^(?:' + VALUE_PREFIXES.join('|') + ')', 'i');
  return function (propValue) {
    return (propValue != null ? propValue + '' : '').replace(/\s/g, '').replace(rePrefixedValue, '');
  };
}(),

/**
 * Polyfill for `CSS.supports`.
 * @param {string} propName - A name.
 * @param {string} propValue - A value.
 *     Since `CSSStyleDeclaration.setProperty` might return unexpected result,
 *     the `propValue` should be checked before the `cssSupports` is called.
 * @returns {boolean} `true` if given pair is accepted.
 */
cssSupports = function () {
  return (// return window.CSS && window.CSS.supports || ((propName, propValue) => {
    // `CSS.supports` doesn't find prefixed property.
    function (propName, propValue) {
      var declaration = getDeclaration(); // In some browsers, `declaration[prop] = value` updates any property.

      propName = propName.replace(/[A-Z]/g, function (str) {
        return "-".concat(str.toLowerCase());
      }); // kebab-case

      declaration.setProperty(propName, propValue);
      return declaration[propName] != null && // Because getPropertyValue returns '' if it is unsupported
      declaration.getPropertyValue(propName) === propValue;
    }
  );
}(),
    // Cache
propNames = {},
    propValues = {};

function getName(propName) {
  propName = normalizeName(propName);

  if (propName && propNames[propName] == null) {
    var declaration = getDeclaration();

    if (declaration[propName] != null) {
      // Original
      propNames[propName] = propName;
    } else {
      // Try with prefixes
      var ucfName = ucf(propName);

      if (!NAME_PREFIXES.some(function (prefix) {
        var prefixed = prefix + ucfName;

        if (declaration[prefixed] != null) {
          propNames[propName] = prefixed;
          return true;
        }

        return false;
      })) {
        propNames[propName] = false;
      }
    }
  }

  return propNames[propName] || void 0;
}

function getValue(propName, propValue) {
  var res;

  if (!(propName = getName(propName))) {
    return res;
  } // Invalid property


  propValues[propName] = propValues[propName] || {};
  (Array.isArray(propValue) ? propValue : [propValue]).some(function (propValue) {
    propValue = normalizeValue(propValue);

    if (propValues[propName][propValue] != null) {
      // Cache
      if (propValues[propName][propValue] !== false) {
        res = propValues[propName][propValue];
        return true;
      }

      return false; // Continue to next value
    }

    if (cssSupports(propName, propValue)) {
      // Original
      res = propValues[propName][propValue] = propValue;
      return true;
    }

    if (VALUE_PREFIXES.some(function (prefix) {
      // Try with prefixes
      var prefixed = prefix + propValue;

      if (cssSupports(propName, prefixed)) {
        res = propValues[propName][propValue] = prefixed;
        return true;
      }

      return false;
    })) {
      return true;
    }

    propValues[propName][propValue] = false;
    return false; // Continue to next value
  });
  return typeof res === 'string' ? res : void 0; // It might be empty string.
}

var CSSPrefix = {
  getName: getName,
  getValue: getValue
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CSSPrefix);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js":
/*!************************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

/*
 * mClassList
 * https://github.com/anseki/m-class-list
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */
function normalize(token) {
  return (token + '').trim();
} // Not `||`


function applyList(list, element) {
  element.setAttribute('class', list.join(' '));
}

function _add(list, element, tokens) {
  if (tokens.filter(function (token) {
    if (!(token = normalize(token)) || list.indexOf(token) !== -1) {
      return false;
    }

    list.push(token);
    return true;
  }).length) {
    applyList(list, element);
  }
}

function _remove(list, element, tokens) {
  if (tokens.filter(function (token) {
    var i;

    if (!(token = normalize(token)) || (i = list.indexOf(token)) === -1) {
      return false;
    }

    list.splice(i, 1);
    return true;
  }).length) {
    applyList(list, element);
  }
}

function _toggle(list, element, token, force) {
  var i = list.indexOf(token = normalize(token));

  if (i !== -1) {
    if (force) {
      return true;
    }

    list.splice(i, 1);
    applyList(list, element);
    return false;
  }

  if (force === false) {
    return false;
  }

  list.push(token);
  applyList(list, element);
  return true;
}

function _replace(list, element, token, newToken) {
  var i;

  if (!(token = normalize(token)) || !(newToken = normalize(newToken)) || token === newToken || (i = list.indexOf(token)) === -1) {
    return;
  }

  list.splice(i, 1);

  if (list.indexOf(newToken) === -1) {
    list.push(newToken);
  }

  applyList(list, element);
}

function mClassList(element) {
  return !mClassList.ignoreNative && element.classList || function () {
    var list = (element.getAttribute('class') || '').trim().split(/\s+/).filter(function (token) {
      return !!token;
    }),
        ins = {
      length: list.length,
      item: function item(i) {
        return list[i];
      },
      contains: function contains(token) {
        return list.indexOf(normalize(token)) !== -1;
      },
      add: function add() {
        _add(list, element, Array.prototype.slice.call(arguments));

        return mClassList.methodChain ? ins : void 0;
      },
      remove: function remove() {
        _remove(list, element, Array.prototype.slice.call(arguments));

        return mClassList.methodChain ? ins : void 0;
      },
      toggle: function toggle(token, force) {
        return _toggle(list, element, token, force);
      },
      replace: function replace(token, newToken) {
        _replace(list, element, token, newToken);

        return mClassList.methodChain ? ins : void 0;
      }
    };
    return ins;
  }();
}

mClassList.methodChain = true;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mClassList);

/***/ }),

/***/ "./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var anim_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! anim-event */ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js");
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/*
 * PointerEvent
 * https://github.com/anseki/pointer-event
 *
 * Copyright (c) 2022 anseki
 * Licensed under the MIT license.
 */

var MOUSE_EMU_INTERVAL = 400,
    // Avoid mouse events emulation
CLICK_EMULATOR_ELEMENTS = [],
    DBLCLICK_EMULATOR_ELEMENTS = []; // Support options for addEventListener

var passiveSupported = false;

try {
  window.addEventListener('test', null, Object.defineProperty({}, 'passive', {
    get: function get() {
      passiveSupported = true;
    }
  }));
} catch (error) {
  /* ignore */
}
/**
 * addEventListener with specific option.
 * @param {Element} target - An event-target element.
 * @param {string} type - The event type to listen for.
 * @param {function} listener - The EventListener.
 * @param {Object} options - An options object.
 * @returns {void}
 */


function addEventListenerWithOptions(target, type, listener, options) {
  // When `passive` is not supported, consider that the `useCapture` is supported instead of
  // `options` (i.e. options other than the `passive` also are not supported).
  target.addEventListener(type, listener, passiveSupported ? options : options.capture);
}

function getPointsLength(p0, p1) {
  var lx = p0.x - p1.x,
      ly = p0.y - p1.y;
  return Math.sqrt(lx * lx + ly * ly);
}
/**
 * Get Touch instance in list.
 * @param {Touch[]} touches - An Array or TouchList instance.
 * @param {number} id - Touch#identifier
 * @returns {(Touch|null)} - A found Touch instance.
 */


function getTouchById(touches, id) {
  if (touches != null && id != null) {
    for (var i = 0; i < touches.length; i++) {
      if (touches[i].identifier === id) {
        return touches[i];
      }
    }
  }

  return null;
}
/**
 * @param {Object} xy - Something that might have clientX and clientY.
 * @returns {boolean} - `true` if it has valid clientX and clientY.
 */


function hasXY(xy) {
  return xy && typeof xy.clientX === 'number' && typeof xy.clientY === 'number';
} // Gecko, Trident pick drag-event of some elements such as img, a, etc.


function dragstart(event) {
  event.preventDefault();
}

var PointerEvent = /*#__PURE__*/function () {
  /**
   * Create a `PointerEvent` instance.
   * @param {Object} [options] - Options
   */
  function PointerEvent(options) {
    var _this = this;

    _classCallCheck(this, PointerEvent);

    this.startHandlers = {};
    this.lastHandlerId = 0;
    this.curPointerClass = null;
    this.curTouchId = null;
    this.lastPointerXY = {
      clientX: 0,
      clientY: 0
    };
    this.lastTouchTime = 0; // Options

    this.options = {
      // Default
      preventDefault: true,
      stopPropagation: true
    };

    if (options) {
      ['preventDefault', 'stopPropagation'].forEach(function (option) {
        if (typeof options[option] === 'boolean') {
          _this.options[option] = options[option];
        }
      });
    }
  }
  /**
   * @param {function} startHandler - This is called with pointerXY when it starts. This returns boolean.
   * @returns {number} handlerId which is used for adding/removing to element.
   */


  _createClass(PointerEvent, [{
    key: "regStartHandler",
    value: function regStartHandler(startHandler) {
      var that = this;

      that.startHandlers[++that.lastHandlerId] = function (event) {
        var pointerClass = event.type === 'mousedown' ? 'mouse' : 'touch',
            now = Date.now();
        var pointerXY, touchId;

        if (pointerClass === 'touch') {
          that.lastTouchTime = now; // Avoid mouse events emulation

          pointerXY = event.changedTouches[0];
          touchId = event.changedTouches[0].identifier;
        } else {
          // Avoid mouse events emulation
          if (now - that.lastTouchTime < MOUSE_EMU_INTERVAL) {
            return;
          }

          pointerXY = event;
        }

        if (!hasXY(pointerXY)) {
          throw new Error('No clientX/clientY');
        } // It is new one even if those are 'mouse' or ID is same, then cancel current one.


        if (that.curPointerClass) {
          that.cancel();
        }

        if (startHandler.call(that, pointerXY)) {
          that.curPointerClass = pointerClass;
          that.curTouchId = pointerClass === 'touch' ? touchId : null;
          that.lastPointerXY.clientX = pointerXY.clientX;
          that.lastPointerXY.clientY = pointerXY.clientY;

          if (that.options.preventDefault) {
            event.preventDefault();
          }

          if (that.options.stopPropagation) {
            event.stopPropagation();
          }
        }
      };

      return that.lastHandlerId;
    }
    /**
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {void}
     */

  }, {
    key: "unregStartHandler",
    value: function unregStartHandler(handlerId) {
      delete this.startHandlers[handlerId];
    }
    /**
     * @param {Element} element - A target element.
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {number} handlerId which was passed.
     */

  }, {
    key: "addStartHandler",
    value: function addStartHandler(element, handlerId) {
      if (!this.startHandlers[handlerId]) {
        throw new Error("Invalid handlerId: ".concat(handlerId));
      }

      addEventListenerWithOptions(element, 'mousedown', this.startHandlers[handlerId], {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchstart', this.startHandlers[handlerId], {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'dragstart', dragstart, {
        capture: false,
        passive: false
      });
      return handlerId;
    }
    /**
     * @param {Element} element - A target element.
     * @param {number} handlerId - An ID which was returned by regStartHandler.
     * @returns {number} handlerId which was passed.
     */

  }, {
    key: "removeStartHandler",
    value: function removeStartHandler(element, handlerId) {
      if (!this.startHandlers[handlerId]) {
        throw new Error("Invalid handlerId: ".concat(handlerId));
      }

      element.removeEventListener('mousedown', this.startHandlers[handlerId], false);
      element.removeEventListener('touchstart', this.startHandlers[handlerId], false);
      element.removeEventListener('dragstart', dragstart, false);
      return handlerId;
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} moveHandler - This is called with pointerXY when it moves.
     * @param {?boolean} rawEvent - Capture events without `requestAnimationFrame`.
     * @returns {void}
     */

  }, {
    key: "addMoveHandler",
    value: function addMoveHandler(element, moveHandler, rawEvent) {
      var that = this;

      function handler(event) {
        var pointerClass = event.type === 'mousemove' ? 'mouse' : 'touch'; // Avoid mouse events emulation

        if (pointerClass === 'touch') {
          that.lastTouchTime = Date.now();
        }

        if (pointerClass === that.curPointerClass) {
          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) : event;

          if (hasXY(pointerXY)) {
            if (pointerXY.clientX !== that.lastPointerXY.clientX || pointerXY.clientY !== that.lastPointerXY.clientY) {
              that.move(pointerXY);
            }

            if (that.options.preventDefault) {
              event.preventDefault();
            }

            if (that.options.stopPropagation) {
              event.stopPropagation();
            }
          }
        }
      }

      var wrappedHandler = rawEvent ? handler : anim_event__WEBPACK_IMPORTED_MODULE_0__["default"].add(handler);
      addEventListenerWithOptions(element, 'mousemove', wrappedHandler, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchmove', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curMoveHandler = moveHandler;
    }
    /**
     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.
     * @returns {void}
     */

  }, {
    key: "move",
    value: function move(pointerXY) {
      if (hasXY(pointerXY)) {
        this.lastPointerXY.clientX = pointerXY.clientX;
        this.lastPointerXY.clientY = pointerXY.clientY;
      }

      if (this.curMoveHandler) {
        this.curMoveHandler(this.lastPointerXY);
      }
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} endHandler - This is called with pointerXY when it ends.
     * @returns {void}
     */

  }, {
    key: "addEndHandler",
    value: function addEndHandler(element, endHandler) {
      var that = this;

      function wrappedHandler(event) {
        var pointerClass = event.type === 'mouseup' ? 'mouse' : 'touch'; // Avoid mouse events emulation

        if (pointerClass === 'touch') {
          that.lastTouchTime = Date.now();
        }

        if (pointerClass === that.curPointerClass) {
          var pointerXY = pointerClass === 'touch' ? getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.
          getTouchById(event.touches, that.curTouchId) ? null : {}) : // `{}` means matching
          event;

          if (pointerXY) {
            that.end(pointerXY);

            if (that.options.preventDefault) {
              event.preventDefault();
            }

            if (that.options.stopPropagation) {
              event.stopPropagation();
            }
          }
        }
      }

      addEventListenerWithOptions(element, 'mouseup', wrappedHandler, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchend', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curEndHandler = endHandler;
    }
    /**
     * @param {{clientX, clientY}} [pointerXY] - This might be MouseEvent, Touch of TouchEvent or Object.
     * @returns {void}
     */

  }, {
    key: "end",
    value: function end(pointerXY) {
      if (hasXY(pointerXY)) {
        this.lastPointerXY.clientX = pointerXY.clientX;
        this.lastPointerXY.clientY = pointerXY.clientY;
      }

      if (this.curEndHandler) {
        this.curEndHandler(this.lastPointerXY);
      }

      this.curPointerClass = this.curTouchId = null;
    }
    /**
     * @param {Element} element - A target element.
     * @param {function} cancelHandler - This is called when it cancels.
     * @returns {void}
     */

  }, {
    key: "addCancelHandler",
    value: function addCancelHandler(element, cancelHandler) {
      var that = this;

      function wrappedHandler(event) {
        /*
          Now, this is fired by touchcancel only, but it might be fired even if curPointerClass is mouse.
        */
        // const pointerClass = 'touch';
        that.lastTouchTime = Date.now(); // Avoid mouse events emulation

        if (that.curPointerClass != null) {
          var pointerXY = getTouchById(event.changedTouches, that.curTouchId) || ( // It might have been removed from `touches` even if it is not in `changedTouches`.
          getTouchById(event.touches, that.curTouchId) ? null : {}); // `{}` means matching

          if (pointerXY) {
            that.cancel();
          }
        }
      }

      addEventListenerWithOptions(element, 'touchcancel', wrappedHandler, {
        capture: false,
        passive: false
      });
      that.curCancelHandler = cancelHandler;
    }
    /**
     * @returns {void}
     */

  }, {
    key: "cancel",
    value: function cancel() {
      if (this.curCancelHandler) {
        this.curCancelHandler();
      }

      this.curPointerClass = this.curTouchId = null;
    }
  }], [{
    key: "addEventListenerWithOptions",
    get: function get() {
      return addEventListenerWithOptions;
    }
    /**
     * Emulate `click` event via `touchend` event.
     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.
     * @param {?number} moveTolerance - Move tolerance.
     * @param {?number} timeTolerance - Time tolerance.
     * @returns {Element} The passed `element`.
     */

  }, {
    key: "initClickEmulator",
    value: function initClickEmulator(element, moveTolerance, timeTolerance) {
      if (CLICK_EMULATOR_ELEMENTS.includes(element)) {
        return element;
      }

      CLICK_EMULATOR_ELEMENTS.push(element);
      var DEFAULT_MOVE_TOLERANCE = 16,
          // px
      DEFAULT_TIME_TOLERANCE = 400; // ms

      var startX, startY, touchId, startMs;

      if (moveTolerance == null) {
        moveTolerance = DEFAULT_MOVE_TOLERANCE;
      }

      if (timeTolerance == null) {
        timeTolerance = DEFAULT_TIME_TOLERANCE;
      }

      addEventListenerWithOptions(element, 'touchstart', function (event) {
        var touch = event.changedTouches[0];
        startX = touch.clientX;
        startY = touch.clientY;
        touchId = touch.identifier;
        startMs = performance.now();
      }, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchend', function (event) {
        var touch = getTouchById(event.changedTouches, touchId);

        if (typeof startX === 'number' && typeof startY === 'number' && typeof startMs === 'number' && touch && typeof touch.clientX === 'number' && typeof touch.clientY === 'number' && getPointsLength({
          x: startX,
          y: startY
        }, {
          x: touch.clientX,
          y: touch.clientY
        }) <= moveTolerance && performance.now() - startMs <= timeTolerance) {
          // FIRE
          setTimeout(function () {
            var newEvent = new MouseEvent('click', {
              clientX: touch.clientX,
              clientY: touch.clientY
            });
            newEvent.emulated = true;
            element.dispatchEvent(newEvent);
          }, 0);
        }

        startX = startY = touchId = startMs = null;
      }, {
        capture: false,
        passive: false
      });
      addEventListenerWithOptions(element, 'touchcancel', function () {
        startX = startY = touchId = startMs = null;
      }, {
        capture: false,
        passive: false
      });
      return element;
    }
    /**
     * Emulate `dblclick` event via `touchend` event.
     * @param {Element} element - Target element, listeners that call `event.preventDefault()` are attached later.
     * @param {?number} moveTolerance - Move tolerance.
     * @param {?number} timeTolerance - Time tolerance.
     * @returns {Element} The passed `element`.
     */

  }, {
    key: "initDblClickEmulator",
    value: function initDblClickEmulator(element, moveTolerance, timeTolerance) {
      if (DBLCLICK_EMULATOR_ELEMENTS.includes(element)) {
        return element;
      }

      DBLCLICK_EMULATOR_ELEMENTS.push(element);
      var DEFAULT_MOVE_TOLERANCE = 16,
          // px
      DEFAULT_TIME_TOLERANCE = 400; // ms

      var startX, startY, startMs;

      if (moveTolerance == null) {
        moveTolerance = DEFAULT_MOVE_TOLERANCE;
      }

      if (timeTolerance == null) {
        timeTolerance = DEFAULT_TIME_TOLERANCE;
      }

      PointerEvent.initClickEmulator(element, moveTolerance, timeTolerance);
      addEventListenerWithOptions(element, 'click', function (event) {
        if (!event.emulated || // Ignore events that are not from `touchend`.
        typeof event.clientX !== 'number' || typeof event.clientY !== 'number') {
          return;
        }

        if (typeof startX === 'number' && getPointsLength({
          x: startX,
          y: startY
        }, {
          x: event.clientX,
          y: event.clientY
        }) <= moveTolerance && performance.now() - startMs <= timeTolerance * 2) {
          // up (tolerance) down (tolerance) up
          setTimeout(function () {
            // FIRE
            var newEvent = new MouseEvent('dblclick', {
              clientX: event.clientX,
              clientY: event.clientY
            });
            newEvent.emulated = true;
            element.dispatchEvent(newEvent);
          }, 0);
          startX = startY = startMs = null;
        } else {
          // 1st
          startX = event.clientX;
          startY = event.clientY;
          startMs = performance.now();
        }
      }, {
        capture: false,
        passive: false
      });
      return element;
    }
  }]);

  return PointerEvent;
}();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PointerEvent);

/***/ }),

/***/ "./node_modules/plain-draggable/plain-draggable.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/plain-draggable/plain-draggable.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var pointer_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pointer-event */ "./node_modules/plain-draggable/node_modules/pointer-event/pointer-event.esm.js");
/* harmony import */ var cssprefix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cssprefix */ "./node_modules/plain-draggable/node_modules/cssprefix/cssprefix.esm.js");
/* harmony import */ var anim_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! anim-event */ "./node_modules/plain-draggable/node_modules/anim-event/anim-event.esm.js");
/* harmony import */ var m_class_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! m-class-list */ "./node_modules/plain-draggable/node_modules/m-class-list/m-class-list.esm.js");
/* ================================================
        DON'T MANUALLY EDIT THIS FILE
================================================ */

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/*
 * PlainDraggable
 * https://anseki.github.io/plain-draggable/
 *
 * Copyright (c) 2021 anseki
 * Licensed under the MIT license.
 */




m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"].ignoreNative = true;

var ZINDEX = 9000,
    // [SNAP]
SNAP_GRAVITY = 20,
    SNAP_CORNER = 'tl',
    SNAP_SIDE = 'both',
    SNAP_EDGE = 'both',
    SNAP_BASE = 'containment',
    SNAP_ALL_CORNERS = ['tl', 'tr', 'bl', 'br'],
    SNAP_ALL_SIDES = ['start', 'end'],
    SNAP_ALL_EDGES = ['inside', 'outside'],
    // [/SNAP]
// [AUTO-SCROLL]
AUTOSCROLL_SPEED = [40, 200, 1000],
    AUTOSCROLL_SENSITIVITY = [100, 40, 0],
    // [/AUTO-SCROLL]
IS_EDGE = '-ms-scroll-limit' in document.documentElement.style && '-ms-ime-align' in document.documentElement.style && !window.navigator.msPointerEnabled,
    IS_TRIDENT = !IS_EDGE && !!document.uniqueID,
    // Future Edge might support `document.uniqueID`.
IS_GECKO = ('MozAppearance' in document.documentElement.style),
    IS_BLINK = !IS_EDGE && !IS_GECKO && // Edge has `window.chrome`, and future Gecko might have that.
!!window.chrome && !!window.CSS,
    IS_WEBKIT = !IS_EDGE && !IS_TRIDENT && !IS_GECKO && !IS_BLINK && // Some engines support `webkit-*` properties.
!window.chrome && 'WebkitAppearance' in document.documentElement.style,
    isObject = function () {
  var toString = {}.toString,
      fnToString = {}.hasOwnProperty.toString,
      objFnString = fnToString.call(Object);
  return function (obj) {
    var proto, constr;
    return obj && toString.call(obj) === '[object Object]' && (!(proto = Object.getPrototypeOf(obj)) || (constr = proto.hasOwnProperty('constructor') && proto.constructor) && typeof constr === 'function' && fnToString.call(constr) === objFnString);
  };
}(),
    isFinite = Number.isFinite || function (value) {
  return typeof value === 'number' && window.isFinite(value);
},

/** @type {Object.<_id: number, props>} */
insProps = {},
    pointerOffset = {},
    pointerEvent = new pointer_event__WEBPACK_IMPORTED_MODULE_0__["default"]();

var insId = 0,
    activeProps,
    hasMoved,
    body,
    // CSS property/value
cssValueDraggableCursor,
    cssValueDraggingCursor,
    cssOrgValueBodyCursor,
    cssPropTransitionProperty,
    cssPropTransform,
    cssPropUserSelect,
    cssOrgValueBodyUserSelect,
    // Try to set `cursor` property.
cssWantedValueDraggableCursor = IS_WEBKIT ? ['all-scroll', 'move'] : ['grab', 'all-scroll', 'move'],
    cssWantedValueDraggingCursor = IS_WEBKIT ? 'move' : ['grabbing', 'move'],
    // class
draggableClass = 'plain-draggable',
    draggingClass = 'plain-draggable-dragging',
    movingClass = 'plain-draggable-moving'; // [AUTO-SCROLL]
// Scroll Animation Controller

var scrollFrame = {},
    MSPF = 1000 / 60,
    // ms/frame (FPS: 60)
requestAnim = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {
  return setTimeout(callback, MSPF);
},
    cancelAnim = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function (requestID) {
  return clearTimeout(requestID);
};

{
  /**
   * @typedef {Object} MoveArgs
   * @property {number} dir - [-1 | 1] minus or plus to position value.
   * @property {number} speed - px/ms
   * @property {number} min - Minimum position value.
   * @property {number} max - Maximum position value.
   * @property {number} [lastFrameTime] - Time of last frame.
   * @property {number} [lastValue] - Strict value of last frame.
   */
  var curXyMoveArgs = {},
      curElement,
      curScrollXY,
      requestID;

  function frameUpdate() {
    var now = Date.now();
    ['x', 'y'].forEach(function (xy) {
      var moveArgs = curXyMoveArgs[xy];

      if (moveArgs) {
        var timeLen = now - moveArgs.lastFrameTime,
            absValue = curScrollXY(curElement, xy),
            curValue = moveArgs.lastValue != null && Math.abs(moveArgs.lastValue - absValue) < 10 // It was not moved manually
        ? moveArgs.lastValue : absValue;

        if (moveArgs.dir === -1 ? curValue > moveArgs.min : curValue < moveArgs.max) {
          var newValue = curValue + moveArgs.speed * timeLen * moveArgs.dir;

          if (newValue < moveArgs.min) {
            newValue = moveArgs.min;
          } else if (newValue > moveArgs.max) {
            newValue = moveArgs.max;
          }

          curScrollXY(curElement, xy, newValue);
          moveArgs.lastValue = newValue;
        }

        moveArgs.lastFrameTime = now;
      }
    });
  }

  function frame() {
    cancelAnim.call(window, requestID);
    frameUpdate();
    requestID = requestAnim.call(window, frame);
  }
  /**
   * @param {Element} element - A target element.
   * @param {{x: ?MoveArgs, y: ?MoveArgs}} xyMoveArgs - MoveArgs for x and y
   * @param {function} scrollXY - (element: Element, xy: string, value: number) => number
   * @returns {void}
   */


  scrollFrame.move = function (element, xyMoveArgs, scrollXY) {
    cancelAnim.call(window, requestID);
    frameUpdate(); // Update current data now because it might be not continuation.
    // Re-use lastValue

    if (curElement === element) {
      if (xyMoveArgs.x && curXyMoveArgs.x) {
        xyMoveArgs.x.lastValue = curXyMoveArgs.x.lastValue;
      }

      if (xyMoveArgs.y && curXyMoveArgs.y) {
        xyMoveArgs.y.lastValue = curXyMoveArgs.y.lastValue;
      }
    }

    curElement = element;
    curXyMoveArgs = xyMoveArgs;
    curScrollXY = scrollXY;
    var now = Date.now();
    ['x', 'y'].forEach(function (xy) {
      var moveArgs = curXyMoveArgs[xy];

      if (moveArgs) {
        moveArgs.lastFrameTime = now;
      }
    });
    requestID = requestAnim.call(window, frame);
  };

  scrollFrame.stop = function () {
    cancelAnim.call(window, requestID);
    frameUpdate();
    curXyMoveArgs = {};
    curElement = null; // Remove reference
  };
}

function scrollXYWindow(element, xy, value) {
  if (value != null) {
    if (xy === 'x') {
      element.scrollTo(value, element.pageYOffset);
    } else {
      element.scrollTo(element.pageXOffset, value);
    }
  }

  return xy === 'x' ? element.pageXOffset : element.pageYOffset;
}

function scrollXYElement(element, xy, value) {
  var prop = xy === 'x' ? 'scrollLeft' : 'scrollTop';

  if (value != null) {
    element[prop] = value;
  }

  return element[prop];
}
/**
 * @typedef {Object} Scrollable
 * @property {number} clientWidth - width of scrollable area.
 * @property {number} clientHeight - height of scrollable area.
 * @property {number} scrollWidth - width of inner content.
 * @property {number} scrollHeight - height of inner content.
 * @property {number} clientX - X of scrollable area, document coordinate.
 * @property {number} clientY - T of scrollable area, document coordinate.
 */

/**
 * @param {Element} element - A target element.
 * @param {boolean} [isWindow] - `true` if element is window.
 * @param {boolean} [dontScroll] - `true` makes it skip scroll that gets scrollWidth/Height.
 * @returns {Scrollable} Information for scroll.
 */


function getScrollable(element, isWindow, dontScroll) {
  var scrollable = {};
  var cmpStyleHtml, cmpStyleBody, cmpStyleElement; // clientWidth/Height

  (function (target) {
    scrollable.clientWidth = target.clientWidth;
    scrollable.clientHeight = target.clientHeight;
  })(isWindow ? document.documentElement : element); // scrollWidth/Height

  /*
    Gecko bug, bottom-padding of element is reduced.
    Blink for Android bug, borders of <html> is rendered but those are not added to scrollW/H.
    Then, move it to max scroll position (sufficiently larger values) forcibly, and get scroll position.
  */


  var maxScrollLeft = 0,
      maxScrollTop = 0;

  if (!dontScroll) {
    var curScrollLeft, curScrollTop;

    if (isWindow) {
      curScrollLeft = scrollXYWindow(element, 'x');
      curScrollTop = scrollXYWindow(element, 'y');
      cmpStyleHtml = getComputedStyle(document.documentElement, '');
      cmpStyleBody = getComputedStyle(document.body, '');
      maxScrollLeft = scrollXYWindow(element, 'x', document.documentElement.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body
      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);
      }, 0));
      maxScrollTop = scrollXYWindow(element, 'y', document.documentElement.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleHtml[prop]) || 0) + (parseFloat(cmpStyleBody[prop]) || 0);
      }, 0));
      scrollXYWindow(element, 'x', curScrollLeft);
      scrollXYWindow(element, 'y', curScrollTop);
    } else {
      curScrollLeft = scrollXYElement(element, 'x');
      curScrollTop = scrollXYElement(element, 'y');
      cmpStyleElement = getComputedStyle(element, '');
      maxScrollLeft = scrollXYElement(element, 'x', element.scrollWidth + scrollable.clientWidth + // Blink for Android bug, scroll* returns size of smaller body
      ['marginLeft', 'marginRight', 'borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleElement[prop]) || 0);
      }, 0));
      maxScrollTop = scrollXYElement(element, 'y', element.scrollHeight + scrollable.clientHeight + ['marginTop', 'marginBottom', 'borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'].reduce(function (len, prop) {
        return len + (parseFloat(cmpStyleElement[prop]) || 0);
      }, 0));
      scrollXYElement(element, 'x', curScrollLeft);
      scrollXYElement(element, 'y', curScrollTop);
    }
  }

  scrollable.scrollWidth = scrollable.clientWidth + maxScrollLeft;
  scrollable.scrollHeight = scrollable.clientHeight + maxScrollTop; // clientX/Y

  var rect;

  if (isWindow) {
    scrollable.clientX = scrollable.clientY = 0;
  } else {
    // padding-box
    rect = element.getBoundingClientRect();

    if (!cmpStyleElement) {
      cmpStyleElement = getComputedStyle(element, '');
    }

    scrollable.clientX = rect.left + (parseFloat(cmpStyleElement.borderLeftWidth) || 0);
    scrollable.clientY = rect.top + (parseFloat(cmpStyleElement.borderTopWidth) || 0);
  }

  return scrollable;
} // [/AUTO-SCROLL]


function copyTree(obj) {
  return !obj ? obj : isObject(obj) ? Object.keys(obj).reduce(function (copyObj, key) {
    copyObj[key] = copyTree(obj[key]);
    return copyObj;
  }, {}) : Array.isArray(obj) ? obj.map(copyTree) : obj;
}

function hasChanged(a, b) {
  var typeA, keysA;
  return _typeof(a) !== _typeof(b) || (typeA = isObject(a) ? 'obj' : Array.isArray(a) ? 'array' : '') !== (isObject(b) ? 'obj' : Array.isArray(b) ? 'array' : '') || (typeA === 'obj' ? hasChanged(keysA = Object.keys(a).sort(), Object.keys(b).sort()) || keysA.some(function (prop) {
    return hasChanged(a[prop], b[prop]);
  }) : typeA === 'array' ? a.length !== b.length || a.some(function (aVal, i) {
    return hasChanged(aVal, b[i]);
  }) : a !== b);
}
/**
 * @param {Element} element - A target element.
 * @returns {boolean} `true` if connected element.
 */


function isElement(element) {
  return !!(element && element.nodeType === Node.ELEMENT_NODE && // element instanceof HTMLElement &&
  typeof element.getBoundingClientRect === 'function' && !(element.compareDocumentPosition(document) & Node.DOCUMENT_POSITION_DISCONNECTED));
}
/**
 * An object that simulates `DOMRect` to indicate a bounding-box.
 * @typedef {Object} BBox
 * @property {(number|null)} left - document coordinate
 * @property {(number|null)} top - document coordinate
 * @property {(number|null)} right - document coordinate
 * @property {(number|null)} bottom - document coordinate
 * @property {(number|null)} x - Substitutes for left
 * @property {(number|null)} y - Substitutes for top
 * @property {(number|null)} width
 * @property {(number|null)} height
 */

/**
 * @param {Object} bBox - A target object.
 * @returns {(BBox|null)} A normalized `BBox`, or null if `bBox` is invalid.
 */


function validBBox(bBox) {
  if (!isObject(bBox)) {
    return null;
  }

  var value;

  if (isFinite(value = bBox.left) || isFinite(value = bBox.x)) {
    bBox.left = bBox.x = value;
  } else {
    return null;
  }

  if (isFinite(value = bBox.top) || isFinite(value = bBox.y)) {
    bBox.top = bBox.y = value;
  } else {
    return null;
  }

  if (isFinite(bBox.width) && bBox.width >= 0) {
    bBox.right = bBox.left + bBox.width;
  } else if (isFinite(bBox.right) && bBox.right >= bBox.left) {
    bBox.width = bBox.right - bBox.left;
  } else {
    return null;
  }

  if (isFinite(bBox.height) && bBox.height >= 0) {
    bBox.bottom = bBox.top + bBox.height;
  } else if (isFinite(bBox.bottom) && bBox.bottom >= bBox.top) {
    bBox.height = bBox.bottom - bBox.top;
  } else {
    return null;
  }

  return bBox;
}
/**
 * A value that is Pixels or Ratio
 * @typedef {{value: number, isRatio: boolean}} PPValue
 */


function validPPValue(value) {
  // Get PPValue from string (all `/s` were already removed)
  function string2PPValue(inString) {
    var matches = /^(.+?)(%)?$/.exec(inString);
    var value, isRatio;
    return matches && isFinite(value = parseFloat(matches[1])) ? {
      value: (isRatio = !!(matches[2] && value)) ? value / 100 : value,
      isRatio: isRatio
    } : null; // 0% -> 0
  }

  return isFinite(value) ? {
    value: value,
    isRatio: false
  } : typeof value === 'string' ? string2PPValue(value.replace(/\s/g, '')) : null;
}

function ppValue2OptionValue(ppValue) {
  return ppValue.isRatio ? "".concat(ppValue.value * 100, "%") : ppValue.value;
}

function resolvePPValue(ppValue, baseOrigin, baseSize) {
  return typeof ppValue === 'number' ? ppValue : baseOrigin + ppValue.value * (ppValue.isRatio ? baseSize : 1);
}
/**
 * An object that simulates BBox but properties are PPValue.
 * @typedef {Object} PPBBox
 */

/**
 * @param {Object} bBox - A target object.
 * @returns {(PPBBox|null)} A normalized `PPBBox`, or null if `bBox` is invalid.
 */


function validPPBBox(bBox) {
  if (!isObject(bBox)) {
    return null;
  }

  var ppValue;

  if ((ppValue = validPPValue(bBox.left)) || (ppValue = validPPValue(bBox.x))) {
    bBox.left = bBox.x = ppValue;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.top)) || (ppValue = validPPValue(bBox.y))) {
    bBox.top = bBox.y = ppValue;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.width)) && ppValue.value >= 0) {
    bBox.width = ppValue;
    delete bBox.right;
  } else if (ppValue = validPPValue(bBox.right)) {
    bBox.right = ppValue;
    delete bBox.width;
  } else {
    return null;
  }

  if ((ppValue = validPPValue(bBox.height)) && ppValue.value >= 0) {
    bBox.height = ppValue;
    delete bBox.bottom;
  } else if (ppValue = validPPValue(bBox.bottom)) {
    bBox.bottom = ppValue;
    delete bBox.height;
  } else {
    return null;
  }

  return bBox;
}

function ppBBox2OptionObject(ppBBox) {
  return Object.keys(ppBBox).reduce(function (obj, prop) {
    obj[prop] = ppValue2OptionValue(ppBBox[prop]);
    return obj;
  }, {});
} // PPBBox -> BBox


function resolvePPBBox(ppBBox, baseBBox) {
  var prop2Axis = {
    left: 'x',
    right: 'x',
    x: 'x',
    width: 'x',
    top: 'y',
    bottom: 'y',
    y: 'y',
    height: 'y'
  },
      baseOriginXY = {
    x: baseBBox.left,
    y: baseBBox.top
  },
      baseSizeXY = {
    x: baseBBox.width,
    y: baseBBox.height
  };
  return validBBox(Object.keys(ppBBox).reduce(function (bBox, prop) {
    bBox[prop] = resolvePPValue(ppBBox[prop], prop === 'width' || prop === 'height' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);
    return bBox;
  }, {}));
}
/**
 * @param {Element} element - A target element.
 * @param {?boolean} getPaddingBox - Get padding-box instead of border-box as bounding-box.
 * @returns {BBox} A bounding-box of `element`.
 */


function getBBox(element, getPaddingBox) {
  var rect = element.getBoundingClientRect(),
      bBox = {
    left: rect.left,
    top: rect.top,
    width: rect.width,
    height: rect.height
  };
  bBox.left += window.pageXOffset;
  bBox.top += window.pageYOffset;

  if (getPaddingBox) {
    var style = window.getComputedStyle(element, ''),
        borderTop = parseFloat(style.borderTopWidth) || 0,
        borderRight = parseFloat(style.borderRightWidth) || 0,
        borderBottom = parseFloat(style.borderBottomWidth) || 0,
        borderLeft = parseFloat(style.borderLeftWidth) || 0;
    bBox.left += borderLeft;
    bBox.top += borderTop;
    bBox.width -= borderLeft + borderRight;
    bBox.height -= borderTop + borderBottom;
  }

  return validBBox(bBox);
}
/**
 * Optimize an element for animation.
 * @param {Element} element - A target element.
 * @param {?boolean} gpuTrigger - Initialize for SVGElement if `true`.
 * @returns {Element} A target element.
 */


function initAnim(element, gpuTrigger) {
  var style = element.style;
  style.webkitTapHighlightColor = 'transparent'; // Only when it has no shadow

  var cssPropBoxShadow = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('boxShadow'),
      boxShadow = window.getComputedStyle(element, '')[cssPropBoxShadow];

  if (!boxShadow || boxShadow === 'none') {
    style[cssPropBoxShadow] = '0 0 1px transparent';
  }

  if (gpuTrigger && cssPropTransform) {
    style[cssPropTransform] = 'translateZ(0)';
  }

  return element;
}

function setDraggableCursor(element, orgCursor) {
  if (cssValueDraggableCursor == null) {
    if (cssWantedValueDraggableCursor !== false) {
      cssValueDraggableCursor = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getValue('cursor', cssWantedValueDraggableCursor);
    } // The wanted value was denied, or changing is not wanted.


    if (cssValueDraggableCursor == null) {
      cssValueDraggableCursor = false;
    }
  } // Update it to change a state even if cssValueDraggableCursor is false.


  element.style.cursor = cssValueDraggableCursor === false ? orgCursor : cssValueDraggableCursor;
}

function setDraggingCursor(element) {
  if (cssValueDraggingCursor == null) {
    if (cssWantedValueDraggingCursor !== false) {
      cssValueDraggingCursor = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getValue('cursor', cssWantedValueDraggingCursor);
    } // The wanted value was denied, or changing is not wanted.


    if (cssValueDraggingCursor == null) {
      cssValueDraggingCursor = false;
    }
  }

  if (cssValueDraggingCursor !== false) {
    element.style.cursor = cssValueDraggingCursor;
  }
} // [SVG]

/**
 * Get SVG coordinates from viewport coordinates.
 * @param {props} props - `props` of instance.
 * @param {number} clientX - viewport X.
 * @param {number} clientY - viewport Y.
 * @returns {SVGPoint} SVG coordinates.
 */


function viewPoint2SvgPoint(props, clientX, clientY) {
  var svgPoint = props.svgPoint;
  svgPoint.x = clientX;
  svgPoint.y = clientY;
  return svgPoint.matrixTransform(props.svgCtmElement.getScreenCTM().inverse());
} // [/SVG]

/**
 * Move by `translate`.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveTranslate(props, position) {
  var elementBBox = props.elementBBox;

  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {
    var offset = props.htmlOffset;
    props.elementStyle[cssPropTransform] = "translate(".concat(position.left + offset.left, "px, ").concat(position.top + offset.top, "px)");
    return true;
  }

  return false;
} // [LEFTTOP]

/**
 * Move by `left` and `top`.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveLeftTop(props, position) {
  var elementBBox = props.elementBBox,
      elementStyle = props.elementStyle,
      offset = props.htmlOffset;
  var moved = false;

  if (position.left !== elementBBox.left) {
    elementStyle.left = position.left + offset.left + 'px';
    moved = true;
  }

  if (position.top !== elementBBox.top) {
    elementStyle.top = position.top + offset.top + 'px';
    moved = true;
  }

  return moved;
} // [/LEFTTOP]
// [SVG]

/**
 * Move SVGElement.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @returns {boolean} `true` if it was moved.
 */


function moveSvg(props, position) {
  var elementBBox = props.elementBBox;

  if (position.left !== elementBBox.left || position.top !== elementBBox.top) {
    var offset = props.svgOffset,
        originBBox = props.svgOriginBBox,
        point = viewPoint2SvgPoint(props, position.left - window.pageXOffset, position.top - window.pageYOffset);
    props.svgTransform.setTranslate(point.x + offset.x - originBBox.x, point.y + offset.y - originBBox.y);
    return true;
  }

  return false;
} // [/SVG]

/**
 * Set `props.element` position.
 * @param {props} props - `props` of instance.
 * @param {{left: number, top: number}} position - New position.
 * @param {function} [cbCheck] - Callback that is called with valid position, cancel moving if it returns `false`.
 * @returns {boolean} `true` if it was moved.
 */


function move(props, position, cbCheck) {
  var elementBBox = props.elementBBox;

  function fix() {
    if (props.minLeft >= props.maxLeft) {
      // Disabled
      position.left = elementBBox.left;
    } else if (position.left < props.minLeft) {
      position.left = props.minLeft;
    } else if (position.left > props.maxLeft) {
      position.left = props.maxLeft;
    }

    if (props.minTop >= props.maxTop) {
      // Disabled
      position.top = elementBBox.top;
    } else if (position.top < props.minTop) {
      position.top = props.minTop;
    } else if (position.top > props.maxTop) {
      position.top = props.maxTop;
    }
  }

  fix();

  if (cbCheck) {
    if (cbCheck(position) === false) {
      return false;
    }

    fix(); // Again
  }

  var moved = props.moveElm(props, position);

  if (moved) {
    // Update elementBBox
    props.elementBBox = validBBox({
      left: position.left,
      top: position.top,
      width: elementBBox.width,
      height: elementBBox.height
    });
  }

  return moved;
}
/**
 * Initialize HTMLElement for `translate`, and get `offset` that is used by `moveTranslate`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initTranslate(props) {
  var element = props.element,
      elementStyle = props.elementStyle,
      curPosition = getBBox(element),
      // Get BBox before change style.
  RESTORE_PROPS = ['display', 'marginTop', 'marginBottom', 'width', 'height'];
  RESTORE_PROPS.unshift(cssPropTransform); // Reset `transition-property` every time because it might be changed frequently.

  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];
  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation

  var fixPosition = getBBox(element);

  if (!props.orgStyle) {
    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {
      orgStyle[prop] = elementStyle[prop] || '';
      return orgStyle;
    }, {});
    props.lastStyle = {};
  } else {
    RESTORE_PROPS.forEach(function (prop) {
      // Skip this if it seems user changed it. (it can't check perfectly.)
      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {
        elementStyle[prop] = props.orgStyle[prop];
      }
    });
  }

  var orgSize = getBBox(element),
      cmpStyle = window.getComputedStyle(element, ''); // https://www.w3.org/TR/css-transforms-1/#transformable-element

  if (cmpStyle.display === 'inline') {
    elementStyle.display = 'inline-block';
    ['Top', 'Bottom'].forEach(function (dirProp) {
      var padding = parseFloat(cmpStyle["padding".concat(dirProp)]); // paddingTop/Bottom make padding but don't make space -> negative margin in inline-block
      // marginTop/Bottom don't work in inline element -> `0` in inline-block

      elementStyle["margin".concat(dirProp)] = padding ? "-".concat(padding, "px") : '0';
    });
  }

  elementStyle[cssPropTransform] = 'translate(0, 0)'; // Get document offset.

  var newBBox = getBBox(element);
  var offset = props.htmlOffset = {
    left: newBBox.left ? -newBBox.left : 0,
    top: newBBox.top ? -newBBox.top : 0
  }; // avoid `-0`
  // Restore position

  elementStyle[cssPropTransform] = "translate(".concat(curPosition.left + offset.left, "px, ").concat(curPosition.top + offset.top, "px)"); // Restore size

  ['width', 'height'].forEach(function (prop) {
    if (newBBox[prop] !== orgSize[prop]) {
      // Ignore `box-sizing`
      elementStyle[prop] = orgSize[prop] + 'px';
      newBBox = getBBox(element);

      if (newBBox[prop] !== orgSize[prop]) {
        // Retry
        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';
      }
    }

    props.lastStyle[prop] = elementStyle[prop];
  }); // Restore `transition-property`

  element.offsetWidth;
  /* force reflow */
  // eslint-disable-line no-unused-expressions

  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;

  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {
    // It seems that it is moving.
    elementStyle[cssPropTransform] = "translate(".concat(fixPosition.left + offset.left, "px, ").concat(fixPosition.top + offset.top, "px)");
  }

  return fixPosition;
} // [LEFTTOP]

/**
 * Initialize HTMLElement for `left` and `top`, and get `offset` that is used by `moveLeftTop`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initLeftTop(props) {
  var element = props.element,
      elementStyle = props.elementStyle,
      curPosition = getBBox(element),
      // Get BBox before change style.
  RESTORE_PROPS = ['position', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'width', 'height']; // Reset `transition-property` every time because it might be changed frequently.

  var orgTransitionProperty = elementStyle[cssPropTransitionProperty];
  elementStyle[cssPropTransitionProperty] = 'none'; // Disable animation

  var fixPosition = getBBox(element);

  if (!props.orgStyle) {
    props.orgStyle = RESTORE_PROPS.reduce(function (orgStyle, prop) {
      orgStyle[prop] = elementStyle[prop] || '';
      return orgStyle;
    }, {});
    props.lastStyle = {};
  } else {
    RESTORE_PROPS.forEach(function (prop) {
      // Skip this if it seems user changed it. (it can't check perfectly.)
      if (props.lastStyle[prop] == null || elementStyle[prop] === props.lastStyle[prop]) {
        elementStyle[prop] = props.orgStyle[prop];
      }
    });
  }

  var orgSize = getBBox(element);
  elementStyle.position = 'absolute';
  elementStyle.left = elementStyle.top = elementStyle.margin = '0'; // Get document offset.

  var newBBox = getBBox(element);
  var offset = props.htmlOffset = {
    left: newBBox.left ? -newBBox.left : 0,
    top: newBBox.top ? -newBBox.top : 0
  }; // avoid `-0`
  // Restore position

  elementStyle.left = curPosition.left + offset.left + 'px';
  elementStyle.top = curPosition.top + offset.top + 'px'; // Restore size

  ['width', 'height'].forEach(function (prop) {
    if (newBBox[prop] !== orgSize[prop]) {
      // Ignore `box-sizing`
      elementStyle[prop] = orgSize[prop] + 'px';
      newBBox = getBBox(element);

      if (newBBox[prop] !== orgSize[prop]) {
        // Retry
        elementStyle[prop] = orgSize[prop] - (newBBox[prop] - orgSize[prop]) + 'px';
      }
    }

    props.lastStyle[prop] = elementStyle[prop];
  }); // Restore `transition-property`

  element.offsetWidth;
  /* force reflow */
  // eslint-disable-line no-unused-expressions

  elementStyle[cssPropTransitionProperty] = orgTransitionProperty;

  if (fixPosition.left !== curPosition.left || fixPosition.top !== curPosition.top) {
    // It seems that it is moving.
    elementStyle.left = fixPosition.left + offset.left + 'px';
    elementStyle.top = fixPosition.top + offset.top + 'px';
  }

  return fixPosition;
} // [/LEFTTOP]
// [SVG]

/**
 * Initialize SVGElement, and get `offset` that is used by `moveSvg`.
 * @param {props} props - `props` of instance.
 * @returns {BBox} Current BBox without animation, i.e. left/top properties.
 */


function initSvg(props) {
  var element = props.element,
      svgTransform = props.svgTransform,
      curRect = element.getBoundingClientRect(),
      // Get Rect before change position.
  fixPosition = getBBox(element);
  svgTransform.setTranslate(0, 0);
  var originBBox = props.svgOriginBBox = element.getBBox(),
      // Try to get SVG coordinates of current position.
  newRect = element.getBoundingClientRect(),
      originPoint = viewPoint2SvgPoint(props, newRect.left, newRect.top),
      // Gecko bug, getScreenCTM returns incorrect CTM, and originPoint might not be current position.
  offset = props.svgOffset = {
    x: originBBox.x - originPoint.x,
    y: originBBox.y - originPoint.y
  },
      // Restore position
  curPoint = viewPoint2SvgPoint(props, curRect.left, curRect.top);
  svgTransform.setTranslate(curPoint.x + offset.x - originBBox.x, curPoint.y + offset.y - originBBox.y);
  return fixPosition;
} // [/SVG]

/**
 * Set `elementBBox`, `containmentBBox`, `min/max``Left/Top` and `snapTargets`.
 * @param {props} props - `props` of instance.
 * @param {string} [eventType] - A type of event that kicked this method.
 * @returns {void}
 */


function initBBox(props, eventType) {
  // eslint-disable-line no-unused-vars
  var docBBox = getBBox(document.documentElement),
      elementBBox = props.elementBBox = props.initElm(props),
      // reset offset etc.
  containmentBBox = props.containmentBBox = props.containmentIsBBox ? resolvePPBBox(props.options.containment, docBBox) || docBBox : getBBox(props.options.containment, true);
  props.minLeft = containmentBBox.left;
  props.maxLeft = containmentBBox.right - elementBBox.width;
  props.minTop = containmentBBox.top;
  props.maxTop = containmentBBox.bottom - elementBBox.height; // Adjust position

  move(props, {
    left: elementBBox.left,
    top: elementBBox.top
  }); // [SNAP]
  // Snap-targets

  /**
   * @typedef {Object} SnapTarget
   * @property {number} [x] - A coordinate it moves to. It has x or y or both.
   * @property {number} [y]
   * @property {number} [gravityXStart] - Gravity zone. It has *Start or *End or both, and *X* or *Y* or both.
   * @property {number} [gravityXEnd]
   * @property {number} [gravityYStart]
   * @property {number} [gravityYEnd]
   */

  if (props.parsedSnapTargets) {
    var elementSizeXY = {
      x: elementBBox.width,
      y: elementBBox.height
    },
        minXY = {
      x: props.minLeft,
      y: props.minTop
    },
        maxXY = {
      x: props.maxLeft,
      y: props.maxTop
    },
        prop2Axis = {
      left: 'x',
      right: 'x',
      x: 'x',
      width: 'x',
      xStart: 'x',
      xEnd: 'x',
      xStep: 'x',
      top: 'y',
      bottom: 'y',
      y: 'y',
      height: 'y',
      yStart: 'y',
      yEnd: 'y',
      yStep: 'y'
    },
        snapTargets = props.parsedSnapTargets.reduce(function (snapTargets, parsedSnapTarget) {
      var baseRect = parsedSnapTarget.base === 'containment' ? containmentBBox : docBBox,
          baseOriginXY = {
        x: baseRect.left,
        y: baseRect.top
      },
          baseSizeXY = {
        x: baseRect.width,
        y: baseRect.height
      };
      /**
       * Basically, shallow copy from parsedSnapTarget, and it can have resolved values.
       * @typedef {{x: (number|PPValue), y, xStart, xEnd, xStep, yStart, yEnd, yStep}} TargetXY
       * @property {string[]} [corners] - Applied value.
       * @property {string[]} [sides]
       * @property {boolean} center
       * @property {number} [xGravity] - Override parsedSnapTarget.gravity.
       * @property {number} [yGravity]
       */
      // Add single Point or Line (i.e. targetXY has no *Step)

      function addSnapTarget(targetXY) {
        if (targetXY.center == null) {
          targetXY.center = parsedSnapTarget.center;
        }

        if (targetXY.xGravity == null) {
          targetXY.xGravity = parsedSnapTarget.gravity;
        }

        if (targetXY.yGravity == null) {
          targetXY.yGravity = parsedSnapTarget.gravity;
        }

        if (targetXY.x != null && targetXY.y != null) {
          // Point
          targetXY.x = resolvePPValue(targetXY.x, baseOriginXY.x, baseSizeXY.x);
          targetXY.y = resolvePPValue(targetXY.y, baseOriginXY.y, baseSizeXY.y);

          if (targetXY.center) {
            targetXY.x -= elementSizeXY.x / 2;
            targetXY.y -= elementSizeXY.y / 2;
            targetXY.corners = ['tl'];
          }

          (targetXY.corners || parsedSnapTarget.corners).forEach(function (corner) {
            var x = targetXY.x - (corner === 'tr' || corner === 'br' ? elementSizeXY.x : 0),
                y = targetXY.y - (corner === 'bl' || corner === 'br' ? elementSizeXY.y : 0);

            if (x >= minXY.x && x <= maxXY.x && y >= minXY.y && y <= maxXY.y) {
              var snapTarget = {
                x: x,
                y: y
              },
                  gravityXStart = x - targetXY.xGravity,
                  gravityXEnd = x + targetXY.xGravity,
                  gravityYStart = y - targetXY.yGravity,
                  gravityYEnd = y + targetXY.yGravity;

              if (gravityXStart > minXY.x) {
                snapTarget.gravityXStart = gravityXStart;
              }

              if (gravityXEnd < maxXY.x) {
                snapTarget.gravityXEnd = gravityXEnd;
              }

              if (gravityYStart > minXY.y) {
                snapTarget.gravityYStart = gravityYStart;
              }

              if (gravityYEnd < maxXY.y) {
                snapTarget.gravityYEnd = gravityYEnd;
              }

              snapTargets.push(snapTarget);
            }
          });
        } else {
          // Line
          var specAxis = targetXY.x != null ? 'x' : 'y',
              rangeAxis = specAxis === 'x' ? 'y' : 'x',
              startProp = "".concat(rangeAxis, "Start"),
              endProp = "".concat(rangeAxis, "End"),
              gravityProp = "".concat(specAxis, "Gravity"),
              specAxisL = specAxis.toUpperCase(),
              rangeAxisL = rangeAxis.toUpperCase(),
              gravitySpecStartProp = "gravity".concat(specAxisL, "Start"),
              gravitySpecEndProp = "gravity".concat(specAxisL, "End"),
              gravityRangeStartProp = "gravity".concat(rangeAxisL, "Start"),
              gravityRangeEndProp = "gravity".concat(rangeAxisL, "End");
          targetXY[specAxis] = resolvePPValue(targetXY[specAxis], baseOriginXY[specAxis], baseSizeXY[specAxis]);
          targetXY[startProp] = resolvePPValue(targetXY[startProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]);
          targetXY[endProp] = resolvePPValue(targetXY[endProp], baseOriginXY[rangeAxis], baseSizeXY[rangeAxis]) - elementSizeXY[rangeAxis]; // Reduce the end of the line.

          if (targetXY[startProp] > targetXY[endProp] || // Smaller than element size.
          targetXY[startProp] > maxXY[rangeAxis] || targetXY[endProp] < minXY[rangeAxis]) {
            return;
          }

          if (targetXY.center) {
            targetXY[specAxis] -= elementSizeXY[specAxis] / 2;
            targetXY.sides = ['start'];
          }

          (targetXY.sides || parsedSnapTarget.sides).forEach(function (side) {
            var xy = targetXY[specAxis] - (side === 'end' ? elementSizeXY[specAxis] : 0);

            if (xy >= minXY[specAxis] && xy <= maxXY[specAxis]) {
              var snapTarget = {},
                  gravitySpecStart = xy - targetXY[gravityProp],
                  gravitySpecEnd = xy + targetXY[gravityProp];
              snapTarget[specAxis] = xy;

              if (gravitySpecStart > minXY[specAxis]) {
                snapTarget[gravitySpecStartProp] = gravitySpecStart;
              }

              if (gravitySpecEnd < maxXY[specAxis]) {
                snapTarget[gravitySpecEndProp] = gravitySpecEnd;
              }

              if (targetXY[startProp] > minXY[rangeAxis]) {
                snapTarget[gravityRangeStartProp] = targetXY[startProp];
              }

              if (targetXY[endProp] < maxXY[rangeAxis]) {
                snapTarget[gravityRangeEndProp] = targetXY[endProp];
              }

              snapTargets.push(snapTarget);
            }
          });
        }
      }

      var bBox;

      if ((bBox = parsedSnapTarget.element ? getBBox(parsedSnapTarget.element) : null) || // Element
      parsedSnapTarget.ppBBox) {
        if (parsedSnapTarget.ppBBox) {
          bBox = resolvePPBBox(parsedSnapTarget.ppBBox, baseRect);
        } // BBox


        if (bBox) {
          // Drop invalid BBox.
          // Expand into 4 lines.
          parsedSnapTarget.edges.forEach(function (edge) {
            var lengthenX = parsedSnapTarget.gravity,
                lengthenY = parsedSnapTarget.gravity;

            if (edge === 'outside') {
              // Snap it when a part of the element is part of the range.
              lengthenX += elementBBox.width;
              lengthenY += elementBBox.height;
            }

            var xStart = bBox.left - lengthenX,
                xEnd = bBox.right + lengthenX,
                yStart = bBox.top - lengthenY,
                yEnd = bBox.bottom + lengthenY;
            var side = edge === 'inside' ? 'start' : 'end';
            addSnapTarget({
              xStart: xStart,
              xEnd: xEnd,
              y: bBox.top,
              sides: [side],
              center: false
            }); // Top

            addSnapTarget({
              x: bBox.left,
              yStart: yStart,
              yEnd: yEnd,
              sides: [side],
              center: false
            }); // Left

            side = edge === 'inside' ? 'end' : 'start';
            addSnapTarget({
              xStart: xStart,
              xEnd: xEnd,
              y: bBox.bottom,
              sides: [side],
              center: false
            }); // Bottom

            addSnapTarget({
              x: bBox.right,
              yStart: yStart,
              yEnd: yEnd,
              sides: [side],
              center: false
            }); // Right
          });
        }
      } else {
        var expanded = [['x', 'y', 'xStart', 'xEnd', 'xStep', 'yStart', 'yEnd', 'yStep'].reduce(function (targetXY, prop) {
          if (parsedSnapTarget[prop]) {
            targetXY[prop] = resolvePPValue(parsedSnapTarget[prop], prop === 'xStep' || prop === 'yStep' ? 0 : baseOriginXY[prop2Axis[prop]], baseSizeXY[prop2Axis[prop]]);
          }

          return targetXY;
        }, {})];
        ['x', 'y'].forEach(function (axis) {
          var startProp = "".concat(axis, "Start"),
              endProp = "".concat(axis, "End"),
              stepProp = "".concat(axis, "Step"),
              gravityProp = "".concat(axis, "Gravity");
          expanded = expanded.reduce(function (expanded, targetXY) {
            var start = targetXY[startProp],
                end = targetXY[endProp],
                step = targetXY[stepProp];

            if (start != null && end != null && start >= end) {
              return expanded;
            } // start >= end


            if (step != null) {
              if (step < 2) {
                return expanded;
              } // step >= 2px -> Expand by step


              var gravity = step / 2; // max

              gravity = parsedSnapTarget.gravity > gravity ? gravity : null;

              for (var curValue = start; curValue <= end; curValue += step) {
                var expandedXY = Object.keys(targetXY).reduce(function (expandedXY, prop) {
                  if (prop !== startProp && prop !== endProp && prop !== stepProp) {
                    expandedXY[prop] = targetXY[prop];
                  }

                  return expandedXY;
                }, {});
                expandedXY[axis] = curValue;
                expandedXY[gravityProp] = gravity;
                expanded.push(expandedXY);
              }
            } else {
              expanded.push(targetXY);
            }

            return expanded;
          }, []);
        });
        expanded.forEach(function (targetXY) {
          addSnapTarget(targetXY);
        });
      }

      return snapTargets;
    }, []);
    props.snapTargets = snapTargets.length ? snapTargets : null;
  } // [/SNAP]
  // [AUTO-SCROLL]


  var autoScroll = {},
      autoScrollOptions = props.options.autoScroll;

  if (autoScrollOptions) {
    autoScroll.isWindow = autoScrollOptions.target === window;
    autoScroll.target = autoScrollOptions.target;
    var dontScroll = eventType === 'scroll',
        // Avoid duplicated calling
    scrollable = getScrollable(autoScrollOptions.target, autoScroll.isWindow, dontScroll),
        scrollableBBox = validBBox({
      left: scrollable.clientX,
      top: scrollable.clientY,
      width: scrollable.clientWidth,
      height: scrollable.clientHeight
    });

    if (!dontScroll) {
      autoScroll.scrollWidth = scrollable.scrollWidth;
      autoScroll.scrollHeight = scrollable.scrollHeight;
    } else if (props.autoScroll) {
      autoScroll.scrollWidth = props.autoScroll.scrollWidth;
      autoScroll.scrollHeight = props.autoScroll.scrollHeight;
    }

    [['X', 'Width', 'left', 'right'], ['Y', 'Height', 'top', 'bottom']].forEach(function (axis) {
      var xy = axis[0],
          wh = axis[1],
          back = axis[2],
          forward = axis[3],
          maxAbs = (autoScroll["scroll".concat(wh)] || 0) - scrollable["client".concat(wh)],
          min = autoScrollOptions["min".concat(xy)] || 0;
      var max = isFinite(autoScrollOptions["max".concat(xy)]) ? autoScrollOptions["max".concat(xy)] : maxAbs;

      if (min < max && min < maxAbs) {
        if (max > maxAbs) {
          max = maxAbs;
        }

        var lines = [],
            elementSize = elementBBox[wh.toLowerCase()];

        for (var i = autoScrollOptions.sensitivity.length - 1; i >= 0; i--) {
          // near -> far
          var sensitivity = autoScrollOptions.sensitivity[i],
              speed = autoScrollOptions.speed[i]; // back

          lines.push({
            dir: -1,
            speed: speed,
            position: scrollableBBox[back] + sensitivity
          }); // forward

          lines.push({
            dir: 1,
            speed: speed,
            position: scrollableBBox[forward] - sensitivity - elementSize
          });
        }

        autoScroll[xy.toLowerCase()] = {
          min: min,
          max: max,
          lines: lines
        };
      }
    });
  }

  props.autoScroll = autoScroll.x || autoScroll.y ? autoScroll : null; // [/AUTO-SCROLL]
}
/**
 * @param {props} props - `props` of instance.
 * @returns {void}
 */


function dragEnd(props) {
  scrollFrame.stop(); // [AUTO-SCROLL/]

  setDraggableCursor(props.options.handle, props.orgCursor);
  body.style.cursor = cssOrgValueBodyCursor;

  if (props.options.zIndex !== false) {
    props.elementStyle.zIndex = props.orgZIndex;
  }

  if (cssPropUserSelect) {
    body.style[cssPropUserSelect] = cssOrgValueBodyUserSelect;
  }

  var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element);

  if (movingClass) {
    classList.remove(movingClass);
  }

  if (draggingClass) {
    classList.remove(draggingClass);
  }

  activeProps = null;
  pointerEvent.cancel(); // Reset pointer (activeProps must be null because this calls endHandler)

  if (props.onDragEnd) {
    props.onDragEnd({
      left: props.elementBBox.left,
      top: props.elementBBox.top
    });
  }
}
/**
 * @param {props} props - `props` of instance.
 * @param {{clientX, clientY}} pointerXY - This might be MouseEvent, Touch of TouchEvent or Object.
 * @returns {boolean} `true` if it started.
 */


function dragStart(props, pointerXY) {
  if (props.disabled) {
    return false;
  }

  if (props.onDragStart && props.onDragStart(pointerXY) === false) {
    return false;
  }

  if (activeProps) {
    dragEnd(activeProps);
  } // activeItem is normally null by pointerEvent.end.


  setDraggingCursor(props.options.handle);
  body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`
  window.getComputedStyle(props.options.handle, '').cursor;

  if (props.options.zIndex !== false) {
    props.elementStyle.zIndex = props.options.zIndex;
  }

  if (cssPropUserSelect) {
    body.style[cssPropUserSelect] = 'none';
  }

  if (draggingClass) {
    (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).add(draggingClass);
  }

  activeProps = props;
  hasMoved = false;
  pointerOffset.left = props.elementBBox.left - (pointerXY.clientX + window.pageXOffset);
  pointerOffset.top = props.elementBBox.top - (pointerXY.clientY + window.pageYOffset);
  return true;
}
/**
 * @param {props} props - `props` of instance.
 * @param {Object} newOptions - New options.
 * @returns {void}
 */


function _setOptions(props, newOptions) {
  var options = props.options;
  var needsInitBBox; // containment

  if (newOptions.containment) {
    var bBox;

    if (isElement(newOptions.containment)) {
      // Specific element
      if (newOptions.containment !== options.containment) {
        options.containment = newOptions.containment;
        props.containmentIsBBox = false;
        needsInitBBox = true;
      }
    } else if ((bBox = validPPBBox(copyTree(newOptions.containment))) && // bBox
    hasChanged(bBox, options.containment)) {
      options.containment = bBox;
      props.containmentIsBBox = true;
      needsInitBBox = true;
    }
  } // [SNAP]

  /**
   * @typedef {Object} SnapOptions
   * @property {SnapTargetOptions[]} targets
   * @property {number} [gravity]
   * @property {string} [corner]
   * @property {string} [side]
   * @property {boolean} [center]
   * @property {string} [edge]
   * @property {string} [base]
   */

  /**
   * @typedef {Object} SnapTargetOptions
   * @property {(number|string)} [x] - pixels | '<n>%' | {start, end} | {step, start, end}
   * @property {(number|string)} [y]
   * @property {(Element|Object)} [boundingBox] - Object has properties that are string or number from PPBBox.
   * @property {number} [gravity]
   * @property {string} [corner]
   * @property {string} [side]
   * @property {boolean} [center]
   * @property {string} [edge]
   * @property {string} [base]
   */

  /**
   * @typedef {Object} ParsedSnapTarget
   * @property {PPValue} [x] - (input: pixels | '<n>%')
   * @property {PPValue} [y]
   * @property {PPValue} [xStart] - (input: {start, end} | {step, start, end})
   * @property {PPValue} [xEnd]
   * @property {PPValue} [xStep] - (input: {step, start, end})
   * @property {PPValue} [yStart]
   * @property {PPValue} [yEnd]
   * @property {PPValue} [yStep]
   * @property {Element} [element]
   * @property {PPBBox} [ppBBox]
   * @property {number} gravity
   * @property {string[]} corners
   * @property {string[]} sides
   * @property {boolean} center
   * @property {string[]} edges
   * @property {string} base
   */
  // Normalize `gravity`, `corner`, `side`, `center`, `edge`, `base`


  function commonSnapOptions(options, newOptions) {
    function cleanString(inString) {
      return typeof inString === 'string' ? inString.replace(/[, ]+/g, ' ').trim().toLowerCase() : null;
    } // gravity


    if (isFinite(newOptions.gravity) && newOptions.gravity > 0) {
      options.gravity = newOptions.gravity;
    } // corner


    var corner = cleanString(newOptions.corner);

    if (corner) {
      if (corner !== 'all') {
        var added = {},
            corners = corner.split(/\s/).reduce(function (corners, corner) {
          corner = corner.trim().replace(/^(.).*?-(.).*$/, '$1$2');

          if ((corner = corner === 'tl' || corner === 'lt' ? 'tl' : corner === 'tr' || corner === 'rt' ? 'tr' : corner === 'bl' || corner === 'lb' ? 'bl' : corner === 'br' || corner === 'rb' ? 'br' : null) && !added[corner]) {
            corners.push(corner);
            added[corner] = true;
          }

          return corners;
        }, []),
            cornersLen = corners.length;
        corner = !cornersLen ? null : cornersLen === 4 ? 'all' : corners.join(' ');
      }

      if (corner) {
        options.corner = corner;
      }
    } // side


    var side = cleanString(newOptions.side);

    if (side) {
      if (side === 'start' || side === 'end' || side === 'both') {
        options.side = side;
      } else if (side === 'start end' || side === 'end start') {
        options.side = 'both';
      }
    } // center


    if (typeof newOptions.center === 'boolean') {
      options.center = newOptions.center;
    } // edge


    var edge = cleanString(newOptions.edge);

    if (edge) {
      if (edge === 'inside' || edge === 'outside' || edge === 'both') {
        options.edge = edge;
      } else if (edge === 'inside outside' || edge === 'outside inside') {
        options.edge = 'both';
      }
    } // base


    var base = typeof newOptions.base === 'string' ? newOptions.base.trim().toLowerCase() : null;

    if (base && (base === 'containment' || base === 'document')) {
      options.base = base;
    }

    return options;
  } // snap


  if (newOptions.snap != null) {
    var newSnapOptions = isObject(newOptions.snap) && newOptions.snap.targets != null ? newOptions.snap : {
      targets: newOptions.snap
    },
        snapTargetsOptions = [],
        snapOptions = commonSnapOptions({
      targets: snapTargetsOptions
    }, newSnapOptions); // Set default options into top level.

    if (!snapOptions.gravity) {
      snapOptions.gravity = SNAP_GRAVITY;
    }

    if (!snapOptions.corner) {
      snapOptions.corner = SNAP_CORNER;
    }

    if (!snapOptions.side) {
      snapOptions.side = SNAP_SIDE;
    }

    if (typeof snapOptions.center !== 'boolean') {
      snapOptions.center = false;
    }

    if (!snapOptions.edge) {
      snapOptions.edge = SNAP_EDGE;
    }

    if (!snapOptions.base) {
      snapOptions.base = SNAP_BASE;
    }

    var parsedSnapTargets = (Array.isArray(newSnapOptions.targets) ? newSnapOptions.targets : [newSnapOptions.targets]).reduce(function (parsedSnapTargets, target) {
      if (target == null) {
        return parsedSnapTargets;
      }

      var isElementPre = isElement(target),
          // Pre-check direct value
      ppBBoxPre = validPPBBox(copyTree(target)),
          // Pre-check direct value
      newSnapTargetOptions = isElementPre || ppBBoxPre ? {
        boundingBox: target
      } : // Direct Element | PPBBox
      isObject(target) && target.start == null && target.end == null && target.step == null ? target : // SnapTargetOptions
      {
        x: target,
        y: target
      },
          // Others, it might be {step, start, end}
      expandedParsedSnapTargets = [],
          snapTargetOptions = {},
          newOptionsBBox = newSnapTargetOptions.boundingBox;
      var ppBBox;

      if (isElementPre || isElement(newOptionsBBox)) {
        // Element
        expandedParsedSnapTargets.push({
          element: newOptionsBBox
        });
        snapTargetOptions.boundingBox = newOptionsBBox;
      } else if (ppBBox = ppBBoxPre || validPPBBox(copyTree(newOptionsBBox))) {
        // Object -> PPBBox
        expandedParsedSnapTargets.push({
          ppBBox: ppBBox
        });
        snapTargetOptions.boundingBox = ppBBox2OptionObject(ppBBox);
      } else {
        var invalid; // `true` if valid PPValue was given but the contained value is invalid.

        var parsedXY = ['x', 'y'].reduce(function (parsedXY, axis) {
          var newOptionsXY = newSnapTargetOptions[axis];
          var ppValue;

          if (ppValue = validPPValue(newOptionsXY)) {
            // pixels | '<n>%'
            parsedXY[axis] = ppValue;
            snapTargetOptions[axis] = ppValue2OptionValue(ppValue);
          } else {
            // {start, end} | {step, start, end}
            var start, end, step;

            if (isObject(newOptionsXY)) {
              start = validPPValue(newOptionsXY.start);
              end = validPPValue(newOptionsXY.end);
              step = validPPValue(newOptionsXY.step);

              if (start && end && start.isRatio === end.isRatio && start.value >= end.value) {
                // start >= end
                invalid = true;
              }
            }

            start = parsedXY["".concat(axis, "Start")] = start || {
              value: 0,
              isRatio: false
            };
            end = parsedXY["".concat(axis, "End")] = end || {
              value: 1,
              isRatio: true
            };
            snapTargetOptions[axis] = {
              start: ppValue2OptionValue(start),
              end: ppValue2OptionValue(end)
            };

            if (step) {
              if (step.isRatio ? step.value > 0 : step.value >= 2) {
                // step > 0% || step >= 2px
                parsedXY["".concat(axis, "Step")] = step;
                snapTargetOptions[axis].step = ppValue2OptionValue(step);
              } else {
                invalid = true;
              }
            }
          }

          return parsedXY;
        }, {});

        if (invalid) {
          return parsedSnapTargets;
        }

        if (parsedXY.xStart && !parsedXY.xStep && parsedXY.yStart && !parsedXY.yStep) {
          // Expand into 4 lines. This is not BBox, and `edge` is ignored.
          expandedParsedSnapTargets.push({
            xStart: parsedXY.xStart,
            xEnd: parsedXY.xEnd,
            y: parsedXY.yStart
          }, // Top
          {
            xStart: parsedXY.xStart,
            xEnd: parsedXY.xEnd,
            y: parsedXY.yEnd
          }, // Bottom
          {
            x: parsedXY.xStart,
            yStart: parsedXY.yStart,
            yEnd: parsedXY.yEnd
          }, // Left
          {
            x: parsedXY.xEnd,
            yStart: parsedXY.yStart,
            yEnd: parsedXY.yEnd
          } // Right
          );
        } else {
          expandedParsedSnapTargets.push(parsedXY);
        }
      }

      if (expandedParsedSnapTargets.length) {
        snapTargetsOptions.push(commonSnapOptions(snapTargetOptions, newSnapTargetOptions)); // Copy common SnapOptions

        var corner = snapTargetOptions.corner || snapOptions.corner,
            side = snapTargetOptions.side || snapOptions.side,
            edge = snapTargetOptions.edge || snapOptions.edge,
            commonOptions = {
          gravity: snapTargetOptions.gravity || snapOptions.gravity,
          base: snapTargetOptions.base || snapOptions.base,
          center: typeof snapTargetOptions.center === 'boolean' ? snapTargetOptions.center : snapOptions.center,
          corners: corner === 'all' ? SNAP_ALL_CORNERS : corner.split(' '),
          // Split
          sides: side === 'both' ? SNAP_ALL_SIDES : [side],
          // Split
          edges: edge === 'both' ? SNAP_ALL_EDGES : [edge] // Split

        };
        expandedParsedSnapTargets.forEach(function (parsedSnapTarget) {
          // Set common SnapOptions
          ['gravity', 'corners', 'sides', 'center', 'edges', 'base'].forEach(function (option) {
            parsedSnapTarget[option] = commonOptions[option];
          });
          parsedSnapTargets.push(parsedSnapTarget);
        });
      }

      return parsedSnapTargets;
    }, []);

    if (parsedSnapTargets.length) {
      options.snap = snapOptions; // Update always

      if (hasChanged(parsedSnapTargets, props.parsedSnapTargets)) {
        props.parsedSnapTargets = parsedSnapTargets;
        needsInitBBox = true;
      }
    }
  } else if (newOptions.hasOwnProperty('snap') && props.parsedSnapTargets) {
    options.snap = props.parsedSnapTargets = props.snapTargets = void 0;
  } // [/SNAP]
  // [AUTO-SCROLL]

  /**
   * @typedef {Object} AutoScrollOptions
   * @property {(Element|Window)} target
   * @property {Array} speed
   * @property {Array} sensitivity
   * @property {number} [minX]
   * @property {number} [maxX]
   * @property {number} [minY]
   * @property {number} [maxY]
   */
  // autoScroll


  if (newOptions.autoScroll) {
    var newAutoScrollOptions = isObject(newOptions.autoScroll) ? newOptions.autoScroll : {
      target: newOptions.autoScroll === true ? window : newOptions.autoScroll
    },
        autoScrollOptions = {}; // target

    autoScrollOptions.target = isElement(newAutoScrollOptions.target) ? newAutoScrollOptions.target : window; // speed

    autoScrollOptions.speed = [];
    (Array.isArray(newAutoScrollOptions.speed) ? newAutoScrollOptions.speed : [newAutoScrollOptions.speed]).every(function (speed, i) {
      if (i <= 2 && isFinite(speed)) {
        autoScrollOptions.speed[i] = speed;
        return true;
      }

      return false;
    });

    if (!autoScrollOptions.speed.length) {
      autoScrollOptions.speed = AUTOSCROLL_SPEED;
    } // sensitivity


    var newSensitivity = Array.isArray(newAutoScrollOptions.sensitivity) ? newAutoScrollOptions.sensitivity : [newAutoScrollOptions.sensitivity];
    autoScrollOptions.sensitivity = autoScrollOptions.speed.map(function (v, i) {
      return isFinite(newSensitivity[i]) ? newSensitivity[i] : AUTOSCROLL_SENSITIVITY[i];
    }); // min*, max*

    ['X', 'Y'].forEach(function (option) {
      var optionMin = "min".concat(option),
          optionMax = "max".concat(option);

      if (isFinite(newAutoScrollOptions[optionMin]) && newAutoScrollOptions[optionMin] >= 0) {
        autoScrollOptions[optionMin] = newAutoScrollOptions[optionMin];
      }

      if (isFinite(newAutoScrollOptions[optionMax]) && newAutoScrollOptions[optionMax] >= 0 && (!autoScrollOptions[optionMin] || newAutoScrollOptions[optionMax] >= autoScrollOptions[optionMin])) {
        autoScrollOptions[optionMax] = newAutoScrollOptions[optionMax];
      }
    });

    if (hasChanged(autoScrollOptions, options.autoScroll)) {
      options.autoScroll = autoScrollOptions;
      needsInitBBox = true;
    }
  } else if (newOptions.hasOwnProperty('autoScroll')) {
    if (options.autoScroll) {
      needsInitBBox = true;
    }

    options.autoScroll = void 0;
  } // [/AUTO-SCROLL]


  if (needsInitBBox) {
    initBBox(props);
  } // handle


  if (isElement(newOptions.handle) && newOptions.handle !== options.handle) {
    if (options.handle) {
      // Restore
      options.handle.style.cursor = props.orgCursor;

      if (cssPropUserSelect) {
        options.handle.style[cssPropUserSelect] = props.orgUserSelect;
      }

      pointerEvent.removeStartHandler(options.handle, props.pointerEventHandlerId);
    }

    var handle = options.handle = newOptions.handle;
    props.orgCursor = handle.style.cursor;
    setDraggableCursor(handle, props.orgCursor);

    if (cssPropUserSelect) {
      props.orgUserSelect = handle.style[cssPropUserSelect];
      handle.style[cssPropUserSelect] = 'none';
    }

    pointerEvent.addStartHandler(handle, props.pointerEventHandlerId);
  } // zIndex


  if (isFinite(newOptions.zIndex) || newOptions.zIndex === false) {
    options.zIndex = newOptions.zIndex;

    if (props === activeProps) {
      props.elementStyle.zIndex = options.zIndex === false ? props.orgZIndex : options.zIndex;
    }
  } // left/top


  var position = {
    left: props.elementBBox.left,
    top: props.elementBBox.top
  };
  var needsMove;

  if (isFinite(newOptions.left) && newOptions.left !== position.left) {
    position.left = newOptions.left;
    needsMove = true;
  }

  if (isFinite(newOptions.top) && newOptions.top !== position.top) {
    position.top = newOptions.top;
    needsMove = true;
  }

  if (needsMove) {
    move(props, position);
  } // Event listeners


  ['onDrag', 'onMove', 'onDragStart', 'onMoveStart', 'onDragEnd'].forEach(function (option) {
    if (typeof newOptions[option] === 'function') {
      options[option] = newOptions[option];
      props[option] = options[option].bind(props.ins);
    } else if (newOptions.hasOwnProperty(option) && newOptions[option] == null) {
      options[option] = props[option] = void 0;
    }
  });
}

var PlainDraggable = /*#__PURE__*/function () {
  /**
   * Create a `PlainDraggable` instance.
   * @param {Element} element - Target element.
   * @param {Object} [options] - Options.
   */
  function PlainDraggable(element, options) {
    _classCallCheck(this, PlainDraggable);

    var props = {
      ins: this,
      options: {
        // Initial options (not default)
        zIndex: ZINDEX // Initial state.

      },
      disabled: false
    };
    Object.defineProperty(this, '_id', {
      value: ++insId
    });
    props._id = this._id;
    insProps[this._id] = props;

    if (!isElement(element) || element === body) {
      throw new Error('This element is not accepted.');
    }

    if (!options) {
      options = {};
    } else if (!isObject(options)) {
      throw new Error('Invalid options.');
    }

    var gpuTrigger = true; // [SVG]

    var ownerSvg; // SVGElement which is not root view

    if (element instanceof SVGElement && (ownerSvg = element.ownerSVGElement)) {
      // It means `instanceof SVGLocatable` (many browsers don't have SVGLocatable)
      if (!element.getBBox) {
        throw new Error('This element is not accepted. (SVGLocatable)');
      } // Trident and Edge bug, SVGSVGElement doesn't have SVGAnimatedTransformList?


      if (!element.transform) {
        throw new Error('This element is not accepted. (SVGAnimatedTransformList)');
      } // Trident bug, returned value must be used (That is not given value).


      props.svgTransform = element.transform.baseVal.appendItem(ownerSvg.createSVGTransform());
      props.svgPoint = ownerSvg.createSVGPoint(); // Gecko bug, view.getScreenCTM returns CTM with root view.

      var svgView = element.nearestViewportElement;
      props.svgCtmElement = !IS_GECKO ? svgView : svgView.appendChild(document.createElementNS(ownerSvg.namespaceURI, 'rect'));
      gpuTrigger = false;
      props.initElm = initSvg;
      props.moveElm = moveSvg;
    } else {
      // [/SVG]

      /* eslint-disable indent */

      /* [SVG/] */
      var cssPropWillChange = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('willChange');

      if (cssPropWillChange) {
        gpuTrigger = false;
      }

      if (!options.leftTop && cssPropTransform) {
        // translate
        if (cssPropWillChange) {
          element.style[cssPropWillChange] = 'transform';
        }

        props.initElm = initTranslate;
        props.moveElm = moveTranslate;
      } else {
        // left and top
        // [LEFTTOP]
        if (cssPropWillChange) {
          element.style[cssPropWillChange] = 'left, top';
        }

        props.initElm = initLeftTop;
        props.moveElm = moveLeftTop; // [/LEFTTOP]

        /* [LEFTTOP/]
        throw new Error('`transform` is not supported.');
        [LEFTTOP/] */
      }
      /* eslint-enable indent */

      /* [SVG/] */

    } // [SVG/]


    props.element = initAnim(element, gpuTrigger);
    props.elementStyle = element.style;
    props.orgZIndex = props.elementStyle.zIndex;

    if (draggableClass) {
      (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(element).add(draggableClass);
    }

    props.pointerEventHandlerId = pointerEvent.regStartHandler(function (pointerXY) {
      return dragStart(props, pointerXY);
    }); // Default options

    if (!options.containment) {
      var parent;
      options.containment = (parent = element.parentNode) && isElement(parent) ? parent : body;
    }

    if (!options.handle) {
      options.handle = element;
    }

    _setOptions(props, options);
  }

  _createClass(PlainDraggable, [{
    key: "remove",
    value: function remove() {
      var props = insProps[this._id];
      this.disabled = true; // To restore element and reset pointer

      pointerEvent.unregStartHandler(pointerEvent.removeStartHandler(props.options.handle, props.pointerEventHandlerId));
      delete insProps[this._id];
    }
    /**
     * @param {Object} options - New options.
     * @returns {PlainDraggable} Current instance itself.
     */

  }, {
    key: "setOptions",
    value: function setOptions(options) {
      if (isObject(options)) {
        _setOptions(insProps[this._id], options);
      }

      return this;
    }
  }, {
    key: "position",
    value: function position() {
      initBBox(insProps[this._id]);
      return this;
    }
  }, {
    key: "disabled",
    get: function get() {
      return insProps[this._id].disabled;
    },
    set: function set(value) {
      var props = insProps[this._id];

      if ((value = !!value) !== props.disabled) {
        props.disabled = value;

        if (props.disabled) {
          if (props === activeProps) {
            dragEnd(props);
          }

          props.options.handle.style.cursor = props.orgCursor;

          if (cssPropUserSelect) {
            props.options.handle.style[cssPropUserSelect] = props.orgUserSelect;
          }

          if (draggableClass) {
            (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).remove(draggableClass);
          }
        } else {
          setDraggableCursor(props.options.handle, props.orgCursor);

          if (cssPropUserSelect) {
            props.options.handle.style[cssPropUserSelect] = 'none';
          }

          if (draggableClass) {
            (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element).add(draggableClass);
          }
        }
      }
    }
  }, {
    key: "element",
    get: function get() {
      return insProps[this._id].element;
    }
  }, {
    key: "rect",
    get: function get() {
      return copyTree(insProps[this._id].elementBBox);
    }
  }, {
    key: "left",
    get: function get() {
      return insProps[this._id].elementBBox.left;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        left: value
      });
    }
  }, {
    key: "top",
    get: function get() {
      return insProps[this._id].elementBBox.top;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        top: value
      });
    }
  }, {
    key: "containment",
    get: function get() {
      var props = insProps[this._id];
      return props.containmentIsBBox ? ppBBox2OptionObject(props.options.containment) : props.options.containment;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        containment: value
      });
    } // [SNAP]

  }, {
    key: "snap",
    get: function get() {
      return copyTree(insProps[this._id].options.snap);
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        snap: value
      });
    } // [/SNAP]
    // [AUTO-SCROLL]

  }, {
    key: "autoScroll",
    get: function get() {
      return copyTree(insProps[this._id].options.autoScroll);
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        autoScroll: value
      });
    } // [/AUTO-SCROLL]

  }, {
    key: "handle",
    get: function get() {
      return insProps[this._id].options.handle;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        handle: value
      });
    }
  }, {
    key: "zIndex",
    get: function get() {
      return insProps[this._id].options.zIndex;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        zIndex: value
      });
    }
  }, {
    key: "onDrag",
    get: function get() {
      return insProps[this._id].options.onDrag;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDrag: value
      });
    }
  }, {
    key: "onMove",
    get: function get() {
      return insProps[this._id].options.onMove;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onMove: value
      });
    }
  }, {
    key: "onDragStart",
    get: function get() {
      return insProps[this._id].options.onDragStart;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDragStart: value
      });
    }
  }, {
    key: "onMoveStart",
    get: function get() {
      return insProps[this._id].options.onMoveStart;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onMoveStart: value
      });
    }
  }, {
    key: "onDragEnd",
    get: function get() {
      return insProps[this._id].options.onDragEnd;
    },
    set: function set(value) {
      _setOptions(insProps[this._id], {
        onDragEnd: value
      });
    }
  }], [{
    key: "draggableCursor",
    get: function get() {
      return cssWantedValueDraggableCursor;
    },
    set: function set(value) {
      if (cssWantedValueDraggableCursor !== value) {
        cssWantedValueDraggableCursor = value;
        cssValueDraggableCursor = null; // Reset

        Object.keys(insProps).forEach(function (id) {
          var props = insProps[id];

          if (props.disabled || props === activeProps && cssValueDraggingCursor !== false) {
            return;
          }

          setDraggableCursor(props.options.handle, props.orgCursor);

          if (props === activeProps) {
            // Since cssValueDraggingCursor is `false`, copy cursor again.
            body.style.cursor = cssOrgValueBodyCursor;
            body.style.cursor = window.getComputedStyle(props.options.handle, '').cursor;
          }
        });
      }
    }
  }, {
    key: "draggingCursor",
    get: function get() {
      return cssWantedValueDraggingCursor;
    },
    set: function set(value) {
      if (cssWantedValueDraggingCursor !== value) {
        cssWantedValueDraggingCursor = value;
        cssValueDraggingCursor = null; // Reset

        if (activeProps) {
          setDraggingCursor(activeProps.options.handle);

          if (cssValueDraggingCursor === false) {
            setDraggableCursor(activeProps.options.handle, activeProps.orgCursor); // draggableCursor

            body.style.cursor = cssOrgValueBodyCursor;
          }

          body.style.cursor = cssValueDraggingCursor || // If it is `false` or `''`
          window.getComputedStyle(activeProps.options.handle, '').cursor;
        }
      }
    }
  }, {
    key: "draggableClass",
    get: function get() {
      return draggableClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== draggableClass) {
        Object.keys(insProps).forEach(function (id) {
          var props = insProps[id];

          if (!props.disabled) {
            var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(props.element);

            if (draggableClass) {
              classList.remove(draggableClass);
            }

            if (value) {
              classList.add(value);
            }
          }
        });
        draggableClass = value;
      }
    }
  }, {
    key: "draggingClass",
    get: function get() {
      return draggingClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== draggingClass) {
        if (activeProps) {
          var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element);

          if (draggingClass) {
            classList.remove(draggingClass);
          }

          if (value) {
            classList.add(value);
          }
        }

        draggingClass = value;
      }
    }
  }, {
    key: "movingClass",
    get: function get() {
      return movingClass;
    },
    set: function set(value) {
      value = value ? value + '' : void 0;

      if (value !== movingClass) {
        if (activeProps && hasMoved) {
          var classList = (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element);

          if (movingClass) {
            classList.remove(movingClass);
          }

          if (value) {
            classList.add(value);
          }
        }

        movingClass = value;
      }
    }
  }]);

  return PlainDraggable;
}();

pointerEvent.addMoveHandler(document, function (pointerXY) {
  if (!activeProps) {
    return;
  }

  var position = {
    left: pointerXY.clientX + window.pageXOffset + pointerOffset.left,
    top: pointerXY.clientY + window.pageYOffset + pointerOffset.top
  };

  if (move(activeProps, position, // [SNAP]
  activeProps.snapTargets ? function (position) {
    // Snap
    var iLen = activeProps.snapTargets.length;
    var snappedX = false,
        snappedY = false,
        i;

    for (i = 0; i < iLen && (!snappedX || !snappedY); i++) {
      var snapTarget = activeProps.snapTargets[i];

      if ((snapTarget.gravityXStart == null || position.left >= snapTarget.gravityXStart) && (snapTarget.gravityXEnd == null || position.left <= snapTarget.gravityXEnd) && (snapTarget.gravityYStart == null || position.top >= snapTarget.gravityYStart) && (snapTarget.gravityYEnd == null || position.top <= snapTarget.gravityYEnd)) {
        if (!snappedX && snapTarget.x != null) {
          position.left = snapTarget.x;
          snappedX = true;
          i = -1; // Restart loop
        }

        if (!snappedY && snapTarget.y != null) {
          position.top = snapTarget.y;
          snappedY = true;
          i = -1; // Restart loop
        }
      }
    }

    position.snapped = snappedX || snappedY;
    return activeProps.onDrag ? activeProps.onDrag(position) : true;
  } : // [/SNAP]
  activeProps.onDrag)) {
    // [AUTO-SCROLL]
    var xyMoveArgs = {},
        autoScroll = activeProps.autoScroll;

    if (autoScroll) {
      var clientXY = {
        x: activeProps.elementBBox.left - window.pageXOffset,
        y: activeProps.elementBBox.top - window.pageYOffset
      };
      ['x', 'y'].forEach(function (axis) {
        if (autoScroll[axis]) {
          var min = autoScroll[axis].min,
              max = autoScroll[axis].max;
          autoScroll[axis].lines.some(function (line) {
            if (line.dir === -1 ? clientXY[axis] <= line.position : clientXY[axis] >= line.position) {
              xyMoveArgs[axis] = {
                dir: line.dir,
                speed: line.speed / 1000,
                min: min,
                max: max
              };
              return true;
            }

            return false;
          });
        }
      });
    }

    if (xyMoveArgs.x || xyMoveArgs.y) {
      scrollFrame.move(autoScroll.target, xyMoveArgs, autoScroll.isWindow ? scrollXYWindow : scrollXYElement);
      position.autoScroll = true;
    } else {
      scrollFrame.stop();
    } // [/AUTO-SCROLL]


    if (!hasMoved) {
      hasMoved = true;

      if (movingClass) {
        (0,m_class_list__WEBPACK_IMPORTED_MODULE_3__["default"])(activeProps.element).add(movingClass);
      }

      if (activeProps.onMoveStart) {
        activeProps.onMoveStart(position);
      }
    }

    if (activeProps.onMove) {
      activeProps.onMove(position);
    }
  }
});
{
  function endHandler() {
    if (activeProps) {
      dragEnd(activeProps);
    }
  }

  pointerEvent.addEndHandler(document, endHandler);
  pointerEvent.addCancelHandler(document, endHandler);
}
{
  function initDoc() {
    cssPropTransitionProperty = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('transitionProperty');
    cssPropTransform = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('transform');
    cssOrgValueBodyCursor = body.style.cursor;

    if (cssPropUserSelect = cssprefix__WEBPACK_IMPORTED_MODULE_1__["default"].getName('userSelect')) {
      cssOrgValueBodyUserSelect = body.style[cssPropUserSelect];
    } // Init active item when layout is changed, and init others later.


    var LAZY_INIT_DELAY = 200;
    var initDoneItems = {},
        lazyInitTimer;

    function checkInitBBox(props, eventType) {
      if (props.initElm) {
        // Easy checking for instance without errors.
        initBBox(props, eventType);
      } // eslint-disable-line brace-style

    }

    function initAll(eventType) {
      clearTimeout(lazyInitTimer);
      Object.keys(insProps).forEach(function (id) {
        if (!initDoneItems[id]) {
          checkInitBBox(insProps[id], eventType);
        }
      });
      initDoneItems = {};
    }

    var layoutChanging = false; // Gecko bug, multiple calling by `resize`.

    var layoutChange = anim_event__WEBPACK_IMPORTED_MODULE_2__["default"].add(function (event) {
      if (layoutChanging) {
        return;
      }

      layoutChanging = true;

      if (activeProps) {
        checkInitBBox(activeProps, event.type);
        pointerEvent.move();
        initDoneItems[activeProps._id] = true;
      }

      clearTimeout(lazyInitTimer);
      lazyInitTimer = setTimeout(function () {
        initAll(event.type);
      }, LAZY_INIT_DELAY);
      layoutChanging = false;
    });
    window.addEventListener('resize', layoutChange, true);
    window.addEventListener('scroll', layoutChange, true);
  }

  if (body = document.body) {
    initDoc();
  } else {
    document.addEventListener('DOMContentLoaded', function () {
      body = document.body;
      initDoc();
    }, true);
  }
}
/* [SNAP/]
PlainDraggable.limit = true;
[SNAP/] */

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlainDraggable);

/***/ }),

/***/ "./src/css/index.css":
/*!***************************!*\
  !*** ./src/css/index.css ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./index.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/index.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/css/main.css":
/*!**************************!*\
  !*** ./src/css/main.css ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./main.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/main.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_main_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/css/mainMobile.css":
/*!********************************!*\
  !*** ./src/css/mainMobile.css ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./mainMobile.css */ "./node_modules/css-loader/dist/cjs.js!./src/css/mainMobile.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_mainMobile_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/js/runChart.js":
/*!****************************!*\
  !*** ./src/js/runChart.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   runNode: () => (/* binding */ runNode)
/* harmony export */ });
const conditions = {
    '=': '==',
    '<>': '!=',
    '>': '>',
    '>=': '>=',
    '<': '<',
    '<=': '<=',
    'AND': '&&',
    'OR': '||',
    'NOT': '!',
};
const operations = {
    '<-': (x, y) => { return y },
    '+=': (x, y) => { return x + y },
    '-=': (x, y) => { return x - y },
    '*=': (x, y) => { return x * y },
    '/=': (x, y) => { return x / y },
    '%=': (x, y) => { return x % y },
    '**=': (x, y) => { return x ** y },
    '<<=': (x, y) => { return x << y },
    '>>=': (x, y) => { return x >> y },
    '>>>=': (x, y) => { return x >>> y },
    '&=': (x, y) => { return x & y },
    '^=': (x, y) => { return x ^ y },
    '|=': (x, y) => { return x | y },
};
function DIV(x, y) {
    return Math.floor(x / y)
}
function MOD(x, y) {
    return x % y
}
function INT(x) {
    return Math.floor(x)
}
const allowedFunctions = [
    'Math.abs', 'Math.acos', 'Math.asin', 'Math.atan', 'Math.atan2', 'Math.ceil',
    'Math.cos', 'Math.exp', 'Math.floor', 'Math.log', 'Math.max', 'Math.min',
    'Math.pow', 'Math.random', 'Math.round', 'Math.sin', 'Math.sqrt', 'Math.tan',
    'DIV', 'MOD', 'INT',
];
// Globals

const operationPattern = Object.keys(operations).map(escapeRegExp).join('|');
const regexPattern = new RegExp(`([^=<>]+)\\s*(${operationPattern})\\s*([^=<>]+)`);

function safeEval(expression) {
    const allowedFunctionNames = allowedFunctions.map(func => func.split('.')[1] || func);
    const sanitizedExpression = expression.replace(/([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g, (match, p1) => {
        if (!allowedFunctionNames.includes(p1)) {
            return 'function ' + p1 + '() { return 0; }(';
        }
        return match;
    });
    try {
        const result = Function('"use strict"; return (' + sanitizedExpression + ')')();
        return result;
    } catch (error) {
        console.error('Error evaluating expression:', error.message);
        return 0;
    }
}
function isQuotedString(str) {
    return str.length > 1 && (str[0] === str[str.length - 1]) && (str[0] === '"' || str[0] === "'");
}
function escapeRegExp(str) {
    return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}

// ASSUME start is at id 0 ----> runNode(chart_json, "0") to start the run
function runNode(chart, id, vars = {}) {
    let type = chart['nodes'][id]['type'];
    let content = chart['nodes'][id]['content'];
    let connection = chart['wires'][id];

    // OBJECT CSS
    console.log(content, vars);
    document.getElementById('block-' + id).style.animation = 'flash_outline 1s ease-in-out'

    if (type == 'decision') {
        Object.keys(conditions).forEach((condition) => {
            const regex = new RegExp(condition, 'g');
            content = content.replace(regex, conditions[condition]);
        });
        Object.keys(vars).forEach((variable) => {
            const regex = new RegExp(variable, 'g');
            content = content.replace(regex, vars[variable]);
        });

        let truthy = safeEval(content);
        if (truthy) {
            runNode(chart, connection[0], vars);
        } else {
            runNode(chart, connection[1], vars);
        }
    } else if (type != 'terminal') {
        if (type == 'process') {
            content.split('\n').forEach((line) => {
                const [, leftOperand, operation, rightOperand] = line.match(regexPattern);
                let [leftrep, rightrep] = [leftOperand, rightOperand];
                Object.keys(vars).forEach((variable) => {
                    const regex = new RegExp(variable, 'g');
                    leftrep = leftrep.replace(regex, vars[variable]);
                    rightrep = rightrep.replace(regex, vars[variable]);
                });
                if (Object.keys(vars).includes(leftOperand)) {
                    vars[leftOperand] = operations[operation](safeEval(leftrep), safeEval(rightrep));
                } else {
                    vars[leftOperand] = operations[operation](0, safeEval(rightrep));
                }
            })
        }
        if (type == 'inputOutput') {
            if (content.startsWith('input')) {
                let varNames = content.replace("input ", "").split(',');
                for (let i = 0; i < varNames.length; i++) {
                    let inputValue = parseFloat(prompt("Enter value for " + varNames[i]));
                    vars[varNames[i]] = inputValue;
                }
            } else if (content.startsWith('output') || content.startsWith('print')) {
                let outputs = content.replace("output ", "").replace("print ", "").split(',');
                let evaluatedValues = [];

                for (let i = 0; i < outputs.length; i++) {
                    let varName = outputs[i].trim();
                    if (vars.hasOwnProperty(varName)) {
                        evaluatedValues.push(vars[varName]);
                    } else {
                        if (isQuotedString(varName)) {
                            varName = varName.substring(1, varName.length - 1);
                        }
                        evaluatedValues.push(varName);
                    }
                }
                alert(evaluatedValues.join(' '));
            }
        }
        runNode(chart, connection, vars);
    } else {
        if (content == 'start') {
            // START
            runNode(chart, connection, vars);
        } else {
            // END
        }
    }
}



/***/ }),

/***/ "./node_modules/pointer-tracker/dist/PointerTracker.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/pointer-tracker/dist/PointerTracker.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PointerTracker)
/* harmony export */ });
class Pointer {
    constructor(nativePointer) {
        /** Unique ID for this pointer */
        this.id = -1;
        this.nativePointer = nativePointer;
        this.pageX = nativePointer.pageX;
        this.pageY = nativePointer.pageY;
        this.clientX = nativePointer.clientX;
        this.clientY = nativePointer.clientY;
        if (self.Touch && nativePointer instanceof Touch) {
            this.id = nativePointer.identifier;
        }
        else if (isPointerEvent(nativePointer)) {
            // is PointerEvent
            this.id = nativePointer.pointerId;
        }
    }
    /**
     * Returns an expanded set of Pointers for high-resolution inputs.
     */
    getCoalesced() {
        if ('getCoalescedEvents' in this.nativePointer) {
            const events = this.nativePointer
                .getCoalescedEvents()
                .map((p) => new Pointer(p));
            // Firefox sometimes returns an empty list here. I'm not sure it's doing the right thing.
            // https://github.com/w3c/pointerevents/issues/409
            if (events.length > 0)
                return events;
        }
        return [this];
    }
}
const isPointerEvent = (event) => 'pointerId' in event;
const isTouchEvent = (event) => 'changedTouches' in event;
const noop = () => { };
/**
 * Track pointers across a particular element
 */
class PointerTracker {
    /**
     * Track pointers across a particular element
     *
     * @param element Element to monitor.
     * @param options
     */
    constructor(_element, { start = () => true, move = noop, end = noop, rawUpdates = false, avoidPointerEvents = false, } = {}) {
        this._element = _element;
        /**
         * State of the tracked pointers when they were pressed/touched.
         */
        this.startPointers = [];
        /**
         * Latest state of the tracked pointers. Contains the same number of pointers, and in the same
         * order as this.startPointers.
         */
        this.currentPointers = [];
        /**
         * Firefox has a bug where touch-based pointer events have a `buttons` of 0, when this shouldn't
         * happen. https://bugzilla.mozilla.org/show_bug.cgi?id=1729440
         *
         * Usually we treat `buttons === 0` as no-longer-pressed. This set allows us to exclude these
         * buggy Firefox events.
         */
        this._excludeFromButtonsCheck = new Set();
        /**
         * Listener for mouse/pointer starts.
         *
         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.
         */
        this._pointerStart = (event) => {
            if (isPointerEvent(event) && event.buttons === 0) {
                // This is the buggy Firefox case. See _excludeFromButtonsCheck.
                this._excludeFromButtonsCheck.add(event.pointerId);
            }
            else if (!(event.buttons & 1 /* LeftMouseOrTouchOrPenDown */)) {
                return;
            }
            const pointer = new Pointer(event);
            // If we're already tracking this pointer, ignore this event.
            // This happens with mouse events when multiple buttons are pressed.
            if (this.currentPointers.some((p) => p.id === pointer.id))
                return;
            if (!this._triggerPointerStart(pointer, event))
                return;
            // Add listeners for additional events.
            // The listeners may already exist, but no harm in adding them again.
            if (isPointerEvent(event)) {
                const capturingElement = event.target && 'setPointerCapture' in event.target
                    ? event.target
                    : this._element;
                capturingElement.setPointerCapture(event.pointerId);
                this._element.addEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
                this._element.addEventListener('pointerup', this._pointerEnd);
                this._element.addEventListener('pointercancel', this._pointerEnd);
            }
            else {
                // MouseEvent
                window.addEventListener('mousemove', this._move);
                window.addEventListener('mouseup', this._pointerEnd);
            }
        };
        /**
         * Listener for touchstart.
         * Only used if the browser doesn't support pointer events.
         */
        this._touchStart = (event) => {
            for (const touch of Array.from(event.changedTouches)) {
                this._triggerPointerStart(new Pointer(touch), event);
            }
        };
        /**
         * Listener for pointer/mouse/touch move events.
         */
        this._move = (event) => {
            if (!isTouchEvent(event) &&
                (!isPointerEvent(event) ||
                    !this._excludeFromButtonsCheck.has(event.pointerId)) &&
                event.buttons === 0 /* None */) {
                // This happens in a number of buggy cases where the browser failed to deliver a pointerup
                // or pointercancel. If we see the pointer moving without any buttons down, synthesize an end.
                // https://github.com/w3c/pointerevents/issues/407
                // https://github.com/w3c/pointerevents/issues/408
                this._pointerEnd(event);
                return;
            }
            const previousPointers = this.currentPointers.slice();
            const changedPointers = isTouchEvent(event)
                ? Array.from(event.changedTouches).map((t) => new Pointer(t))
                : [new Pointer(event)];
            const trackedChangedPointers = [];
            for (const pointer of changedPointers) {
                const index = this.currentPointers.findIndex((p) => p.id === pointer.id);
                if (index === -1)
                    continue; // Not a pointer we're tracking
                trackedChangedPointers.push(pointer);
                this.currentPointers[index] = pointer;
            }
            if (trackedChangedPointers.length === 0)
                return;
            this._moveCallback(previousPointers, trackedChangedPointers, event);
        };
        /**
         * Call the end callback for this pointer.
         *
         * @param pointer Pointer
         * @param event Related event
         */
        this._triggerPointerEnd = (pointer, event) => {
            // Main button still down?
            // With mouse events, you get a mouseup per mouse button, so the left button might still be down.
            if (!isTouchEvent(event) &&
                event.buttons & 1 /* LeftMouseOrTouchOrPenDown */) {
                return false;
            }
            const index = this.currentPointers.findIndex((p) => p.id === pointer.id);
            // Not a pointer we're interested in?
            if (index === -1)
                return false;
            this.currentPointers.splice(index, 1);
            this.startPointers.splice(index, 1);
            this._excludeFromButtonsCheck.delete(pointer.id);
            // The event.type might be a 'move' event due to workarounds for weird mouse behaviour.
            // See _move for details.
            const cancelled = !(event.type === 'mouseup' ||
                event.type === 'touchend' ||
                event.type === 'pointerup');
            this._endCallback(pointer, event, cancelled);
            return true;
        };
        /**
         * Listener for mouse/pointer ends.
         *
         * @param event This will only be a MouseEvent if the browser doesn't support pointer events.
         */
        this._pointerEnd = (event) => {
            if (!this._triggerPointerEnd(new Pointer(event), event))
                return;
            if (isPointerEvent(event)) {
                if (this.currentPointers.length)
                    return;
                this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
                this._element.removeEventListener('pointerup', this._pointerEnd);
                this._element.removeEventListener('pointercancel', this._pointerEnd);
            }
            else {
                // MouseEvent
                window.removeEventListener('mousemove', this._move);
                window.removeEventListener('mouseup', this._pointerEnd);
            }
        };
        /**
         * Listener for touchend.
         * Only used if the browser doesn't support pointer events.
         */
        this._touchEnd = (event) => {
            for (const touch of Array.from(event.changedTouches)) {
                this._triggerPointerEnd(new Pointer(touch), event);
            }
        };
        this._startCallback = start;
        this._moveCallback = move;
        this._endCallback = end;
        this._rawUpdates = rawUpdates && 'onpointerrawupdate' in window;
        // Add listeners
        if (self.PointerEvent && !avoidPointerEvents) {
            this._element.addEventListener('pointerdown', this._pointerStart);
        }
        else {
            this._element.addEventListener('mousedown', this._pointerStart);
            this._element.addEventListener('touchstart', this._touchStart);
            this._element.addEventListener('touchmove', this._move);
            this._element.addEventListener('touchend', this._touchEnd);
            this._element.addEventListener('touchcancel', this._touchEnd);
        }
    }
    /**
     * Remove all listeners.
     */
    stop() {
        this._element.removeEventListener('pointerdown', this._pointerStart);
        this._element.removeEventListener('mousedown', this._pointerStart);
        this._element.removeEventListener('touchstart', this._touchStart);
        this._element.removeEventListener('touchmove', this._move);
        this._element.removeEventListener('touchend', this._touchEnd);
        this._element.removeEventListener('touchcancel', this._touchEnd);
        this._element.removeEventListener(this._rawUpdates ? 'pointerrawupdate' : 'pointermove', this._move);
        this._element.removeEventListener('pointerup', this._pointerEnd);
        this._element.removeEventListener('pointercancel', this._pointerEnd);
        window.removeEventListener('mousemove', this._move);
        window.removeEventListener('mouseup', this._pointerEnd);
    }
    /**
     * Call the start callback for this pointer, and track it if the user wants.
     *
     * @param pointer Pointer
     * @param event Related event
     * @returns Whether the pointer is being tracked.
     */
    _triggerPointerStart(pointer, event) {
        if (!this._startCallback(pointer, event))
            return false;
        this.currentPointers.push(pointer);
        this.startPointers.push(pointer);
        return true;
    }
}




/***/ }),

/***/ "./src/json/flowchart.json":
/*!*********************************!*\
  !*** ./src/json/flowchart.json ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"wires":{"0":"1","1":"2","2":["3","1"],"3":"4"},"nodes":{"0":{"posx":0,"posy":0,"type":"start","content":"START"},"1":{"posx":2,"posy":2,"type":"input","content":"input x,y"},"2":{"posx":2,"posy":5,"type":"decision","content":"x<>0 AND y>1"},"3":{"posx":2,"posy":7,"type":"output","content":"print x,\'nigga\'"},"4":{"posx":5,"posy":10,"type":"end","content":"END"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var plain_draggable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! plain-draggable */ "./node_modules/plain-draggable/plain-draggable.esm.js");
/* harmony import */ var leader_line_new__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leader-line-new */ "./node_modules/leader-line-new/leader-line.min.js");
/* harmony import */ var leader_line_new__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leader_line_new__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var pointer_tracker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pointer-tracker */ "./node_modules/pointer-tracker/dist/PointerTracker.mjs");
/* harmony import */ var _css_index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../css/index.css */ "./src/css/index.css");
/* harmony import */ var _css_main_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../css/main.css */ "./src/css/main.css");
/* harmony import */ var _css_mainMobile_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../css/mainMobile.css */ "./src/css/mainMobile.css");
/* harmony import */ var _runChart__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./runChart */ "./src/js/runChart.js");
/* harmony import */ var _json_flowchart_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../json/flowchart.json */ "./src/json/flowchart.json");











const flowchartBoard = document.getElementById('flowchart-board')

// templates
const terminalTemplate = document.getElementById('terminal-template')
const processTemplate = document.getElementById('process-template')
const decisionTemplate = document.getElementById('decision-template')
const inputOutputTemplate = document.getElementById('input-output-template')

// un-needed
const flowchartSymbols = ['terminal', 'process', 'decision', 'inputOutput']
const allTools = ['hand', 'edit', 'connect', 'erase']

// flowBlock
function createLine(start, end, label = undefined, lineColor = undefined) {
    const labelObj = {
        text: label,
        color: 'aliceblue',
        outlineColor: '',
        fontWeight: 'bold',
    }
    return new (leader_line_new__WEBPACK_IMPORTED_MODULE_1___default())(document.getElementById(start), document.getElementById(end),
        {
            startPlug: 'disc',
            size: 4, startPlugSize: 1.5, startPlugOutlineSize: 2.5,
            color: lineColor == undefined ? '#f0f8ff' : lineColor, path: 'fluid',
            dropShadow: true,
            middleLabel: leader_line_new__WEBPACK_IMPORTED_MODULE_1___default().captionLabel(labelObj),
        })
}
class FlowBlock {
    constructor(id, type, content, pos) {
        this.id = id;
        this.type = type;
        this.content = content;
        [this.posx, this.posy] = pos;
        [this.element, this.draggable] = this.createFlowBlock(type, id, content);
        this.connections = [];
        this.draggable['onMove'] = () => { this.connections.forEach((c) => { c.position() }) };
    }

    createFlowBlock() {
        let element

        if (this.type == 'terminal') {
            element = terminalTemplate.content.cloneNode(true)
        } else if (this.type == 'process') {
            element = processTemplate.content.cloneNode(true)

        } else if (this.type == 'decision') {
            element = decisionTemplate.content.cloneNode(true)

        } else if (this.type == 'inputOutput') {
            element = inputOutputTemplate.content.cloneNode(true)
        }
        const elementId = element.querySelector('[data-flowchart-block-id]')
        const elementContent = element.querySelector('[data-flowchart-block-content]')
        const elementEdit = element.querySelector('[data-flowchart-block-edit]')

        elementId.id = `block-${this.id}`
        elementContent.textContent = this.content

        elementId.classList.add('draggable')
        elementId.style.transform = `translate(${this.posx}px,${this.posy}px)`
        if (elementEdit != undefined) {
            elementEdit.value = this.content
            elementEdit.oninput = () => {
                elementContent.textContent = elementEdit.value
            }
        }

        flowchartBoard.appendChild(element)

        const elementDraggable = new plain_draggable__WEBPACK_IMPORTED_MODULE_0__["default"](document.getElementById(`block-${this.id}`))

        document.getElementById(`block-${this.id}`).addEventListener('click', () => {
            if (currentTool == 'erase') {
                remFlowBlock(this.id)
            } else if (this.type == 'terminal' && this.content == 'start') {
                let x = objectifyChart()
                personifyChart(x)
                ;(0,_runChart__WEBPACK_IMPORTED_MODULE_6__.runNode)(x, '0')
            }
        })

        return [element, elementDraggable]
    }

    updateFlowBlock(func, whatToUpdate) {
        this.draggable[func] = whatToUpdate
    }
}

// chart
let connections = {}
let flowBlocks = {}
let connectionAttrs = {}
let global_index = -1

function addFlowBlock(type, content, pos = [0, 0]) {
    let newBlock = new FlowBlock(global_index + 1, type, content, pos)
    flowBlocks[String(global_index + 1)] = newBlock
    global_index++
}
function remFlowBlock(id) {
    // remove attached connections to flowblock
    let currConnections =
        Object.keys(connections).map(str => str.split(':'))
            .filter(key => {
                return key[0] == id || key[1] == id
            })
    currConnections.forEach(k => { remConnection(k[0], k[1]) })

    // remove flowblock
    flowBlocks[String(id)].draggable.remove()
    document.getElementById(`block-${id}`).remove()
    delete flowBlocks[String(id)]

    // decrement ids
    let gids = Object.keys(flowBlocks).map(str => Number(str))
        .filter(key => {
            return key > Number(id)
        })
    gids.forEach(k => {
        flowBlocks[String(k - 1)] = flowBlocks[String(k)]
        flowBlocks[String(k - 1)].id--
        document.getElementById(`block-${k}`).id = `block-${k - 1}`
    })
    delete flowBlocks[String(Math.max(...gids))]

    Object.keys(connections).forEach(key => {
        let parts = key.split(':').map(str => Number(str))
        if (parts[0] > Number(id)) parts[0]--
        if (parts[1] > Number(id)) parts[1]--
        let tmp = connections[key]
        delete connections[key]
        connections[parts.join(':')] = tmp
    })

    global_index--
}

function addConnection(fromId, toId, attr = null) {
    let cid = `${fromId}:${toId}`
    let startNode = flowBlocks[fromId]
    let endNode = flowBlocks[toId]

    if (attr) connectionAttrs[cid] = attr
    if (attr == 'y') {
        connections[cid] = createLine(`block-${fromId}`, `block-${toId}`, 'Yes', '#29964a')
    } else if (attr == 'n') {
        connections[cid] = createLine(`block-${fromId}`, `block-${toId}`, 'No', '#ba2b2b')
    } else {
        connections[cid] = createLine(`block-${fromId}`, `block-${toId}`)
    }
    startNode.connections.push(connections[cid])
    endNode.connections.push(connections[cid])
}
function remConnection(fromId, toId) {
    let cid = `${fromId}:${toId}`

    flowBlocks[fromId].connections.splice(flowBlocks[fromId].connections.indexOf(connections[cid]), 1)
    flowBlocks[toId].connections.splice(flowBlocks[toId].connections.indexOf(connections[cid]), 1)

    connections[cid].remove()

    delete connections[cid]
    delete connectionAttrs[cid]
}

function objectifyChart() {
    let res = { 'wires': {}, 'nodes': {} }
    // add nodes
    Object.keys(flowBlocks).forEach(key => {
        let f = flowBlocks[key]
        res['nodes'][key] = {
            "posx": f.posx,
            "posy": f.posy,
            "type": f.type,
            "content": f.content
        }
    })

    // add connections
    Object.keys(connections).forEach(key => {
        let parts = key.split(':')
        if (key in connectionAttrs) {
            if (parts[0] in res['wires']) {

                if (connectionAttrs[key] == 'y') res['wires'][parts[0]][0] = parts[1]
                else if (connectionAttrs[key] == 'n') res['wires'][parts[0]][1] = parts[1]

            } else if (connectionAttrs[key] == 'y') res['wires'][parts[0]] = [parts[1], -1]
            else if (connectionAttrs[key] == 'n') res['wires'][parts[0]] = [-1, parts[1]]
        } else {
            res['wires'][parts[0]] = parts[1]
        }
    })
    return res
}
function personifyChart(object) {
    let n = Object.keys(flowBlocks).length
    for (let i = 0; i < n; i++) remFlowBlock(0)

    Object.keys(object['nodes']).forEach(key => {
        addFlowBlock(object['nodes'][key]['type'],
            object['nodes'][key]['content'],
            [object['nodes'][key]['posx'], object['nodes'][key]['posy']])
    })
    Object.keys(object['wires']).forEach(key => {
        if (typeof (object['wires'][key]) == 'string') {
            addConnection(key, object['wires'][key])
        } else {
            addConnection(key, object['wires'][key][0], 'y')
            addConnection(key, object['wires'][key][1], 'n')
        }
    })
}

//#region tools
let currentTool
const editButton = document.getElementById('edit-button')
const connectButton = document.getElementById('connect-button')
const moveButton = document.getElementById('move-button')
const eraseButton = document.getElementById('erase-button')

editButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 0, 'active', () => {
        toggleDraggables(false)
        enableEdit(true)
        currentTool = 'edit'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    })
})
connectButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 1, 'active', () => {
        toggleDraggables(false)
        enableEdit(false)
        currentTool = 'connect'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    })
})
moveButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 2, 'active', () => {
        toggleDraggables(true)
        enableEdit(false)
        currentTool = 'move'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    })
})
eraseButton.addEventListener('click', () => {
    toggleSwitch([editButton, connectButton, moveButton, eraseButton], 3, 'active', () => {
        toggleDraggables(false)
        enableEdit(false)
        currentTool = 'erase'
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    })
})

function toggleSwitch(toggleSwitches = [], index, activeClass, onActivateFunc = () => { }) {
    for (let i = 0; i < toggleSwitches.length; i++) {
        toggleSwitches[i].classList.remove(activeClass)
    }

    toggleSwitches[index].classList.add(activeClass)
    onActivateFunc()
}

function toggleDraggables(enable) {
    if (enable) {
        Object.keys(flowBlocks).forEach(key => {
            flowBlocks[key].draggable.disabled = false
        })
    }
    else {
        Object.keys(flowBlocks).forEach(key => {
            flowBlocks[key].draggable.disabled = true
        })
    }
}

function enableEdit(enable) {
    if (enable) {
        document.querySelectorAll('[data-flowchart-block-content]').forEach(key => {
            if (!key.parentElement.classList.contains('terminal')) {
                key.classList.add('hide')
            }
        })

        document.querySelectorAll('[data-flowchart-block-edit]').forEach(key => {
            key.classList.remove('hide')
        })
    }
    else {
        document.querySelectorAll('[data-flowchart-block-content]').forEach(key => {
            if (!key.classList.contains('terminal')) {
                key.classList.remove('hide')
            }
        })

        document.querySelectorAll('[data-flowchart-block-edit]').forEach(key => {
            key.classList.add('hide')
        })
    }
}

//#endregion

//#region side Panel 
document.getElementById('start').addEventListener('click', () => {
    initAddBlock('terminal', 'start')
})
document.getElementById('end').addEventListener('click', () => {
    initAddBlock('terminal', 'end')
})
document.getElementById('process').addEventListener('click', () => {
    initAddBlock('process', 'process')
})
document.getElementById('decision').addEventListener('click', () => {
    initAddBlock('decision', 'decision')
})
document.getElementById('input').addEventListener('click', () => {
    initAddBlock('inputOutput', 'input')
})
document.getElementById('output').addEventListener('click', () => {
    initAddBlock('inputOutput', 'output')
})

function initAddBlock(flowChartSymbol, content) {
    addFlowBlock(flowChartSymbol, content, [0, 0])

    if (currentTool == 'hand') {
        toggleDraggables(true)
        enableEdit(false)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    } else if (currentTool == 'edit') {
        toggleDraggables(false)
        enableEdit(true)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.remove('active')
        })
    } else if (currentTool == 'connect') {
        toggleDraggables(false)
        enableEdit(false)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    } else if (currentTool == 'erase') {
        toggleDraggables(false)
        enableEdit(false)
        document.querySelectorAll('[data-flowchart-block-content').forEach(element => {
            element.classList.add('active')
        })
    }
}
//#endregion

let isDraggingBlock = false
let draggingBlock
let line

// connections tool
const pointerTracker = new pointer_tracker__WEBPACK_IMPORTED_MODULE_2__["default"](flowchartBoard, {
    start(pointer, event) {
        if (currentTool != 'connect') return false
        let temp = event.target

        if (temp.classList.contains('flowchart-block')) {
            draggingBlock = temp.parentElement
            isDraggingBlock = true

            document.getElementById('tracker').style.transform = `translate(${pointer.clientX}px,calc(${pointer.clientY}px - 5rem))`
            line = createLine(draggingBlock.id, 'tracker')
            return true
        }
    },
    move(previousPointers, changedPointers, event) {
        let temp = event.target

        document.getElementById('tracker').style.transform = `translate(${changedPointers[0].clientX}px,calc(${changedPointers[0].clientY}px - 5rem))`
        line.position()
    },
    end(pointer, event, cancelled) {
        let temp = document.elementFromPoint(pointer.clientX, pointer.clientY)

        if (draggingBlock != temp.parentElement) {
            if (temp.classList.contains('flowchart-block')) {
                let startId = draggingBlock.id.replace('block-', '')
                let endId = temp.parentElement.id.replace('block-', '')

                if ((flowBlocks[startId].type == 'terminal' && flowBlocks[startId].content == 'end') || (flowBlocks[endId].type == 'terminal' && flowBlocks[endId].content == 'start')) {

                } else {
                    Object.keys(connections)
                        .filter(key => {
                            return key.split(':')[0] == startId
                        })
                        .forEach(key => {
                            remConnection(startId, key.split(':')[1])
                        })
                    addConnection(startId, endId)
                }

            }
        }

        line.remove()
        isDraggingBlock = false
    },
    avoidPointerEvents: true,
    rawUpdates: false,
})

//HARD R CODED
addFlowBlock('terminal', 'start', [500, 0])
addFlowBlock('inputOutput', 'input X', [100, 100])
addFlowBlock('decision', 'X > 5', [500, 200])
addFlowBlock('inputOutput', 'output X', [800, 400])
addFlowBlock('terminal', 'end', [500, 400])

addConnection(0, 1)
addConnection(1, 2)
addConnection(2, 3, 'y')
addConnection(2, 4, 'n')
addConnection(3, 4)

//remFlowBlock(2)
let x = objectifyChart()
//console.log(x)
personifyChart(x)
//console.log(connections, flowBlocks)

// manually connect decision 
// label orientation 
// flowBlock shapes 
// initial drag state on current tool 
// fix edit block behavior 
// remove start from options?? 
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxPQUFPLG1GQUFtRixhQUFhLFdBQVcsYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGNBQWMsYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLFlBQVksVUFBVSxZQUFZLGFBQWEsY0FBYyxZQUFZLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxXQUFXLFVBQVUsYUFBYSxhQUFhLE9BQU8sS0FBSyxXQUFXLFlBQVksYUFBYSxZQUFZLFVBQVUsV0FBVyxVQUFVLFlBQVksY0FBYyxhQUFhLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLFdBQVcsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksY0FBYyxhQUFhLGNBQWMsYUFBYSxZQUFZLFVBQVUsWUFBWSxjQUFjLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxVQUFVLFdBQVcsWUFBWSxjQUFjLGFBQWEsV0FBVyxZQUFZLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxLQUFLLFVBQVUsTUFBTSxLQUFL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cEQ7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDbkpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtGQUErRixJQUFJO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vc3JjL2Nzcy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vc3JjL2Nzcy9tYWluLmNzcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL21haW5Nb2JpbGUuY3NzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL2xlYWRlci1saW5lLW5ldy9sZWFkZXItbGluZS5taW4uanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3BsYWluLWRyYWdnYWJsZS9ub2RlX21vZHVsZXMvYW5pbS1ldmVudC9hbmltLWV2ZW50LmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9jc3NwcmVmaXgvY3NzcHJlZml4LmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9tLWNsYXNzLWxpc3QvbS1jbGFzcy1saXN0LmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvcGxhaW4tZHJhZ2dhYmxlL25vZGVfbW9kdWxlcy9wb2ludGVyLWV2ZW50L3BvaW50ZXItZXZlbnQuZXNtLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9wbGFpbi1kcmFnZ2FibGUvcGxhaW4tZHJhZ2dhYmxlLmVzbS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL2luZGV4LmNzcz9mN2VhIiwid2VicGFjazovL2Zsb3djaGFydC8uL3NyYy9jc3MvbWFpbi5jc3M/MmM5ZiIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvY3NzL21haW5Nb2JpbGUuY3NzP2EyY2EiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2Zsb3djaGFydC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvanMvcnVuQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0Ly4vbm9kZV9tb2R1bGVzL3BvaW50ZXItdHJhY2tlci9kaXN0L1BvaW50ZXJUcmFja2VyLm1qcyIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2Zsb3djaGFydC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZmxvd2NoYXJ0L3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9mbG93Y2hhcnQvLi9zcmMvanMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcclxuICAgIC0tc2hhZG93LWNvbG9yOiAwZGVnIDAlIDAlO1xyXG4gICAgLS1zaGFkb3ctZG93bi1sb3c6XHJcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggMC44cHggMC45cHggLTEuMnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggMnB4IDIuM3B4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XHJcbiAgICAtLXNoYWRvdy1kb3duLW1lZGl1bTpcclxuICAgICAgICAwcHggMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcclxuICAgICAgICAwcHggMS42cHggMS44cHggLTAuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgMHB4IDQuMXB4IDQuNnB4IC0xLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxyXG4gICAgICAgIDBweCA5LjlweCAxMS4xcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSk7XHJcbiAgICAtLXNoYWRvdy1kb3duLWhpZ2g6XHJcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggMi45cHggMy4zcHggLTAuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggNS40cHggNi4xcHggLTAuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggOC45cHggMTBweCAtMS4xcHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIC0wLjFweCAxNC4ycHggMTZweCAtMS40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIC0wLjFweCAyMi4xcHggMjQuOXB4IC0xLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuMXB4IDMzLjZweCAzNy44cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAtMC4ycHggNDkuNXB4IDU1LjdweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xyXG5cclxuICAgIC0tc2hhZG93LXVwLWxvdzpcclxuICAgICAgICAwcHggLTAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggLTAuOHB4IDAuOXB4IC0xLjJweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgMHB4IC0ycHggMi4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcclxuICAgIC0tc2hhZG93LXVwLW1lZGl1bTpcclxuICAgICAgICAwcHggLTAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgMHB4IC0xLjZweCAxLjhweCAtMC44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcclxuICAgICAgICAwcHggLTQuMXB4IDQuNnB4IC0xLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxyXG4gICAgICAgIC0wLjFweCAtMTBweCAxMS4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSk7XHJcbiAgICAtLXNoYWRvdy11cC1oaWdoOlxyXG4gICAgICAgIDBweCAtMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDBweCAtMi45cHggMy4zcHggLTAuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAwcHggLTUuNHB4IDYuMXB4IC0wLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuMXB4IC04LjlweCAxMHB4IC0xLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuMXB4IC0xNC4ycHggMTZweCAtMS40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIC0wLjJweCAtMjIuMnB4IDI1cHggLTEuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAtMC4ycHggLTMzLjhweCAzOHB4IC0yLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgLTAuNHB4IC00OS44cHggNTZweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xyXG5cclxuICAgIC0tc2hhZG93LXJpZ2h0LWxvdzpcclxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDAuOHB4IDBweCAwLjlweCAtMS4ycHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDJweCAwcHggMi4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcclxuICAgIC0tc2hhZG93LXJpZ2h0LW1lZGl1bTpcclxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcclxuICAgICAgICAxLjZweCAwcHggMS44cHggLTAuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgNC4xcHggMC4xcHggNC42cHggLTEuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXHJcbiAgICAgICAgOS45cHggMC4xcHggMTEuMXB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpO1xyXG4gICAgLS1zaGFkb3ctcmlnaHQtaGlnaDpcclxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDIuOXB4IDBweCAzLjNweCAtMC40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDUuNHB4IDAuMXB4IDYuMXB4IC0wLjdweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgOC44cHggMC4xcHggOS45cHggLTEuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICAxNC4xcHggMC4ycHggMTUuOXB4IC0xLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXHJcbiAgICAgICAgMjIuMXB4IDAuM3B4IDI0LjlweCAtMS44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxyXG4gICAgICAgIDMzLjZweCAwLjVweCAzNy44cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcclxuICAgICAgICA0OS40cHggMC43cHggNTUuNnB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XHJcbn1cclxuXHJcbmh0bWwsXHJcbmJvZHkge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbmJvZHkge1xyXG4gICAgY29sb3I6ICNFNkVERjM7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEQxMTE3O1xyXG4gICAgbWluLWhlaWdodDogMTAwZHZoO1xyXG5cclxufVxyXG5cclxuYm9keSAqIHtcclxuICAgIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgUm9ib3RvLCBPeHlnZW4sIFVidW50dSwgQ2FudGFyZWxsLCAnT3BlbiBTYW5zJywgJ0hlbHZldGljYSBOZXVlJywgc2Fucy1zZXJpZjtcclxuXHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG5ib2R5ICo6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgIGN1cnNvcjogZ3JhYjtcclxuICAgIHdpZHRoOiAwLjVyZW07XHJcbn1cclxuXHJcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xyXG4gICAgY3Vyc29yOiBncmFiO1xyXG4gICAgYmFja2dyb3VuZDogIzIxMjYyRDtcclxufVxyXG5cclxuYm9keSAqOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICBjdXJzb3I6IGdyYWI7XHJcbiAgICBiYWNrZ3JvdW5kOiAjNDU0ZjVlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxufVxyXG5cclxuLnRpdGxlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcblxyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDVyZW07XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwNDA5O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxuXHJcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZG93bi1oaWdoKTtcclxufVxyXG5cclxuLnRpdGxlIGgxIHtcclxuICAgIHdpZHRoOiA2MCU7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDUlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuLnRpdGxlIGgyIHtcclxuICAgIHdpZHRoOiAzMCU7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA1JTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDtcclxufVxyXG5cclxuLnRpdGxlIGgyIGEge1xyXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcclxufVxyXG5cclxuLnRpdGxlIGgyIGE6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiAycHQgYWxpY2VibHVlIHVuZGVybGluZTtcclxufVxyXG5cclxuYSB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBjb2xvcjogIzc2YTZkMDtcclxufVxyXG5cclxuYTpob3ZlciB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IDJwdCAjOTNiOGQ5IHVuZGVybGluZTtcclxufVxyXG5cclxuLmhpZGUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuI3RyYWNrZXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9pbmRleC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSwwQkFBMEI7SUFDMUI7OzsyREFHdUQ7SUFDdkQ7Ozs7K0RBSTJEO0lBQzNEOzs7Ozs7OztrRUFROEQ7O0lBRTlEOzs7NERBR3dEO0lBQ3hEOzs7O2tFQUk4RDtJQUM5RDs7Ozs7Ozs7aUVBUTZEOztJQUU3RDs7OzJEQUd1RDtJQUN2RDs7OztpRUFJNkQ7SUFDN0Q7Ozs7Ozs7O2lFQVE2RDtBQUNqRTs7QUFFQTs7SUFFSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsa0JBQWtCOztBQUV0Qjs7QUFFQTtJQUNJLG1KQUFtSjs7SUFFbkosU0FBUztJQUNULFVBQVU7QUFDZDs7QUFFQTtJQUNJLFlBQVk7SUFDWixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw2QkFBNkI7O0lBRTdCLFdBQVc7SUFDWCxZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLGtDQUFrQzs7SUFFbEMsbUNBQW1DO0FBQ3ZDOztBQUVBO0lBQ0ksVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksVUFBVTtJQUNWLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksd0NBQXdDO0FBQzVDOztBQUVBO0lBQ0kscUJBQXFCO0lBQ3JCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixvQkFBb0I7QUFDeEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcclxcbiAgICAtLXNoYWRvdy1jb2xvcjogMGRlZyAwJSAwJTtcXHJcXG4gICAgLS1zaGFkb3ctZG93bi1sb3c6XFxyXFxuICAgICAgICAwcHggMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMHB4IDAuOHB4IDAuOXB4IC0xLjJweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggMnB4IDIuM3B4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XFxyXFxuICAgIC0tc2hhZG93LWRvd24tbWVkaXVtOlxcclxcbiAgICAgICAgMHB4IDAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXFxyXFxuICAgICAgICAwcHggMS42cHggMS44cHggLTAuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXFxyXFxuICAgICAgICAwcHggNC4xcHggNC42cHggLTEuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXFxyXFxuICAgICAgICAwcHggOS45cHggMTEuMXB4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpO1xcclxcbiAgICAtLXNoYWRvdy1kb3duLWhpZ2g6XFxyXFxuICAgICAgICAwcHggMC41cHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMHB4IDIuOXB4IDMuM3B4IC0wLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggNS40cHggNi4xcHggLTAuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDBweCA4LjlweCAxMHB4IC0xLjFweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAtMC4xcHggMTQuMnB4IDE2cHggLTEuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjFweCAyMi4xcHggMjQuOXB4IC0xLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAtMC4xcHggMzMuNnB4IDM3LjhweCAtMi4xcHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuMnB4IDQ5LjVweCA1NS43cHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcXHJcXG5cXHJcXG4gICAgLS1zaGFkb3ctdXAtbG93OlxcclxcbiAgICAgICAgMHB4IC0wLjVweCAwLjZweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggLTAuOHB4IDAuOXB4IC0xLjJweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAwcHggLTJweCAyLjNweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xcclxcbiAgICAtLXNoYWRvdy11cC1tZWRpdW06XFxyXFxuICAgICAgICAwcHggLTAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXFxyXFxuICAgICAgICAwcHggLTEuNnB4IDEuOHB4IC0wLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgMHB4IC00LjFweCA0LjZweCAtMS43cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjExKSxcXHJcXG4gICAgICAgIC0wLjFweCAtMTBweCAxMS4zcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSk7XFxyXFxuICAgIC0tc2hhZG93LXVwLWhpZ2g6XFxyXFxuICAgICAgICAwcHggLTAuNXB4IDAuNnB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDBweCAtMi45cHggMy4zcHggLTAuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDBweCAtNS40cHggNi4xcHggLTAuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIC0wLjFweCAtOC45cHggMTBweCAtMS4xcHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuMXB4IC0xNC4ycHggMTZweCAtMS40cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuMnB4IC0yMi4ycHggMjVweCAtMS44cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuMnB4IC0zMy44cHggMzhweCAtMi4xcHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgLTAuNHB4IC00OS44cHggNTZweCAtMi41cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpO1xcclxcblxcclxcbiAgICAtLXNoYWRvdy1yaWdodC1sb3c6XFxyXFxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMC44cHggMHB4IDAuOXB4IC0xLjJweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICAycHggMHB4IDIuM3B4IC0yLjVweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSk7XFxyXFxuICAgIC0tc2hhZG93LXJpZ2h0LW1lZGl1bTpcXHJcXG4gICAgICAgIDAuNXB4IDBweCAwLjZweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgMS42cHggMHB4IDEuOHB4IC0wLjhweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMTEpLFxcclxcbiAgICAgICAgNC4xcHggMC4xcHggNC42cHggLTEuN3B4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSksXFxyXFxuICAgICAgICA5LjlweCAwLjFweCAxMS4xcHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xMSk7XFxyXFxuICAgIC0tc2hhZG93LXJpZ2h0LWhpZ2g6XFxyXFxuICAgICAgICAwLjVweCAwcHggMC42cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgMi45cHggMHB4IDMuM3B4IC0wLjRweCBoc2wodmFyKC0tc2hhZG93LWNvbG9yKSAvIDAuMSksXFxyXFxuICAgICAgICA1LjRweCAwLjFweCA2LjFweCAtMC43cHggaHNsKHZhcigtLXNoYWRvdy1jb2xvcikgLyAwLjEpLFxcclxcbiAgICAgICAgOC44cHggMC4xcHggOS45cHggLTEuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDE0LjFweCAwLjJweCAxNS45cHggLTEuNHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDIyLjFweCAwLjNweCAyNC45cHggLTEuOHB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDMzLjZweCAwLjVweCAzNy44cHggLTIuMXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKSxcXHJcXG4gICAgICAgIDQ5LjRweCAwLjdweCA1NS42cHggLTIuNXB4IGhzbCh2YXIoLS1zaGFkb3ctY29sb3IpIC8gMC4xKTtcXHJcXG59XFxyXFxuXFxyXFxuaHRtbCxcXHJcXG5ib2R5IHtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbn1cXHJcXG5cXHJcXG5ib2R5IHtcXHJcXG4gICAgY29sb3I6ICNFNkVERjM7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwRDExMTc7XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDEwMGR2aDtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuYm9keSAqIHtcXHJcXG4gICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xcclxcblxcclxcbiAgICBtYXJnaW46IDA7XFxyXFxuICAgIHBhZGRpbmc6IDA7XFxyXFxufVxcclxcblxcclxcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXIge1xcclxcbiAgICBjdXJzb3I6IGdyYWI7XFxyXFxuICAgIHdpZHRoOiAwLjVyZW07XFxyXFxufVxcclxcblxcclxcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xcclxcbiAgICBjdXJzb3I6IGdyYWI7XFxyXFxuICAgIGJhY2tncm91bmQ6ICMyMTI2MkQ7XFxyXFxufVxcclxcblxcclxcbmJvZHkgKjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcclxcbiAgICBjdXJzb3I6IGdyYWI7XFxyXFxuICAgIGJhY2tncm91bmQ6ICM0NTRmNWU7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XFxyXFxufVxcclxcblxcclxcbi50aXRsZSB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcclxcblxcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiA1cmVtO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDEwNDA5O1xcclxcbiAgICBib3JkZXItYm90dG9tOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcblxcclxcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctZG93bi1oaWdoKTtcXHJcXG59XFxyXFxuXFxyXFxuLnRpdGxlIGgxIHtcXHJcXG4gICAgd2lkdGg6IDYwJTtcXHJcXG4gICAgcGFkZGluZy1sZWZ0OiA1JTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG59XFxyXFxuXFxyXFxuLnRpdGxlIGgyIHtcXHJcXG4gICAgd2lkdGg6IDMwJTtcXHJcXG4gICAgcGFkZGluZy1yaWdodDogNSU7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogZW5kO1xcclxcbn1cXHJcXG5cXHJcXG4udGl0bGUgaDIgYSB7XFxyXFxuICAgIGNvbG9yOiBhbGljZWJsdWU7XFxyXFxufVxcclxcblxcclxcbi50aXRsZSBoMiBhOmhvdmVyIHtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiAycHQgYWxpY2VibHVlIHVuZGVybGluZTtcXHJcXG59XFxyXFxuXFxyXFxuYSB7XFxyXFxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXHJcXG4gICAgY29sb3I6ICM3NmE2ZDA7XFxyXFxufVxcclxcblxcclxcbmE6aG92ZXIge1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IDJwdCAjOTNiOGQ5IHVuZGVybGluZTtcXHJcXG59XFxyXFxuXFxyXFxuLmhpZGUge1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG4jdHJhY2tlciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5tYWluLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMGR2aCAtIDVyZW0gLSAwLjVwdCk7XHJcblxyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogbWF4LWNvbnRlbnQgN2ZyO1xyXG5cclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMDQwOTtcclxuXHJcbiAgICBib3JkZXItcmlnaHQ6ICMyMTI2MkQgc29saWQgMC41cHQ7XHJcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctcmlnaHQtaGlnaCk7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsIHtcclxuICAgIGhlaWdodDogY2FsYygxMDAlIC0gM3JlbSk7XHJcbiAgICBwYWRkaW5nOiAxLjVyZW07XHJcblxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICBnYXA6IDFyZW07XHJcblxyXG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyICoge1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciBkaXYge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUge1xyXG4gICAgaGVpZ2h0OiAzcmVtO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgYm9yZGVyLWJvdHRvbTogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcblxyXG4gICAgYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGNvbG9yOiBhbGljZWJsdWU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcblxyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcblxyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDI1MG1zIGVhc2UtaW4tb3V0O1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uPnN2ZyB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24gLmFjdGl2ZSB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgLmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyNjJEO1xyXG59XHJcblxyXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgLmFjdGl2ZSAuaW5hY3RpdmUge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmFjdGl2ZSB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiB7XHJcbiAgICBib3JkZXItbGVmdDogIzIxMjYyRCBzb2xpZCAwLjVwdDtcclxufVxyXG5cclxuLmZsb3djaGFydC1ib2FyZCB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uYmxvY2stY29udGFpbmVyIHtcclxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbn1cclxuXHJcbi5mbG93Y2hhcnQtYmxvY2sge1xyXG4gICAgcGFkZGluZzogMXJlbTtcclxuICAgIG1pbi13aWR0aDogNXJlbTtcclxuICAgIG1pbi1oZWlnaHQ6IDJyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XHJcblxyXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XHJcbiAgICBjb2xvcjogIzBEMTExNztcclxuXHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1kb3duLW1lZGl1bSk7XHJcbn1cclxuXHJcbi5mbG93Y2hhcnQtYmxvY2sgaW5wdXQge1xyXG4gICAgd2lkdGg6IDVyZW07XHJcbiAgICBoZWlnaHQ6IDJyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGZvbnQtc2l6ZTogMS41ZW07XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLmZsb3djaGFydC1ibG9jayAuYWN0aXZlIHtcclxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi50ZXJtaW5hbCB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcmVtO1xyXG59XHJcblxyXG4ucHJvY2VzcyB7XHJcbiAgICAvKiBub3RoaW5nIGN1cnJlbnRseSAqL1xyXG59XHJcblxyXG4uZGVjaXNpb24ge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpIHNjYWxlKDc1JSk7XHJcblxyXG4gICAgYXNwZWN0LXJhdGlvOiAxLzE7XHJcbn1cclxuXHJcbi5kZWNpc2lvbiAqIHtcclxuICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgc2NhbGUoMTI1JSk7XHJcbn1cclxuXHJcbi5pbnB1dC1vdXRwdXQge1xyXG4gICAgdHJhbnNmb3JtOiBza2V3KC0xNWRlZyk7XHJcbn1cclxuXHJcbi5pbnB1dC1vdXRwdXQgKiB7XHJcbiAgICB0cmFuc2Zvcm06IHNrZXcoMTVkZWcpO1xyXG59XHJcblxyXG4uY2lyY2xlIHtcclxuICAgIHdpZHRoOiAxcmVtO1xyXG4gICAgaGVpZ2h0OiAxcmVtO1xyXG5cclxuICAgIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTtcclxuICAgIGJvcmRlcjogIzBEMTExNyAycHQgc29saWQ7XHJcblxyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA5MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmbGFzaF9vdXRsaW5lIHtcclxuICAgIDAlLDEwMCUge1xyXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICB9XHJcbiAgICA1MCUge1xyXG4gICAgICAgIG91dGxpbmU6IDVweCBzb2xpZCAjMWM5OGQyO1xyXG4gICAgfVxyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY3NzL21haW4uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksbUNBQW1DOztJQUVuQyxhQUFhO0lBQ2Isc0NBQXNDOztJQUV0QyxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIseUJBQXlCOztJQUV6QixpQ0FBaUM7SUFDakMsb0NBQW9DO0FBQ3hDOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGVBQWU7O0lBRWYsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixzQkFBc0I7SUFDdEIsbUJBQW1COztJQUVuQixTQUFTOztJQUVULGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7O0lBRVgsYUFBYTtJQUNiLG1CQUFtQjs7SUFFbkIsa0NBQWtDO0FBQ3RDOztBQUVBO0lBQ0ksZUFBZTs7SUFFZixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLFlBQVk7O0lBRVosWUFBWTtJQUNaLFdBQVc7O0lBRVgsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7O0lBRW5CLDhDQUE4QztBQUNsRDs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxnQ0FBZ0M7QUFDcEM7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixxQkFBcUI7O0lBRXJCLGtCQUFrQjtJQUNsQixtQkFBbUI7O0lBRW5CLDJCQUEyQjtJQUMzQixjQUFjOztJQUVkLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1COztJQUVuQixxQ0FBcUM7QUFDekM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHFCQUFxQjtJQUNyQixZQUFZO0lBQ1osNkJBQTZCO0lBQzdCLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxvQkFBb0I7SUFDcEIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksbUNBQW1DOztJQUVuQyxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxxQ0FBcUM7QUFDekM7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTs7SUFFWiwyQkFBMkI7SUFDM0IseUJBQXlCOztJQUV6QixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJO1FBQ0ksYUFBYTtJQUNqQjtJQUNBO1FBQ0ksMEJBQTBCO0lBQzlCO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLm1haW4tY29udGVudCB7XFxyXFxuICAgIGhlaWdodDogY2FsYygxMDBkdmggLSA1cmVtIC0gMC41cHQpO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IG1heC1jb250ZW50IDdmcjtcXHJcXG5cXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIHtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMDQwOTtcXHJcXG5cXHJcXG4gICAgYm9yZGVyLXJpZ2h0OiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcbiAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctcmlnaHQtaGlnaCk7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsIHtcXHJcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAzcmVtKTtcXHJcXG4gICAgcGFkZGluZzogMS41cmVtO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcblxcclxcbiAgICBnYXA6IDFyZW07XFxyXFxuXFxyXFxuICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcXHJcXG4gICAgb3ZlcmZsb3cteTogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyICoge1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIGRpdiB7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIHtcXHJcXG4gICAgaGVpZ2h0OiAzcmVtO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG5cXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHJcXG4gICAgYm9yZGVyLWJvdHRvbTogIzIxMjYyRCBzb2xpZCAwLjVwdDtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbiB7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG5cXHJcXG4gICAgYmFja2dyb3VuZDogbm9uZTtcXHJcXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcblxcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHJcXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAyNTBtcyBlYXNlLWluLW91dDtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIGJ1dHRvbj5zdmcge1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSBidXR0b24gLmFjdGl2ZSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciAuYnVpbGRpbmctbW9kZSAuYWN0aXZlIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjYyRDtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmluYWN0aXZlIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIC5idWlsZGluZy1tb2RlIC5hY3RpdmUgLmFjdGl2ZSB7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbn1cXHJcXG5cXHJcXG4uYWRkLWJsb2Nrcy1wYW5lbC1jb250YWluZXIgLmJ1aWxkaW5nLW1vZGUgYnV0dG9uIHtcXHJcXG4gICAgYm9yZGVyLWxlZnQ6ICMyMTI2MkQgc29saWQgMC41cHQ7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYm9hcmQge1xcclxcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5ibG9jay1jb250YWluZXIge1xcclxcbiAgICB3aWR0aDogZml0LWNvbnRlbnQ7XFxyXFxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYmxvY2sge1xcclxcbiAgICBwYWRkaW5nOiAxcmVtO1xcclxcbiAgICBtaW4td2lkdGg6IDVyZW07XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDJyZW07XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXHJcXG5cXHJcXG4gICAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xcclxcblxcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XFxyXFxuICAgIGNvbG9yOiAjMEQxMTE3O1xcclxcblxcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHJcXG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWRvd24tbWVkaXVtKTtcXHJcXG59XFxyXFxuXFxyXFxuLmZsb3djaGFydC1ibG9jayBpbnB1dCB7XFxyXFxuICAgIHdpZHRoOiA1cmVtO1xcclxcbiAgICBoZWlnaHQ6IDJyZW07XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXHJcXG4gICAgZm9udC1zaXplOiAxLjVlbTtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxyXFxufVxcclxcblxcclxcbi5mbG93Y2hhcnQtYmxvY2sgLmFjdGl2ZSB7XFxyXFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnRlcm1pbmFsIHtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogM3JlbTtcXHJcXG59XFxyXFxuXFxyXFxuLnByb2Nlc3Mge1xcclxcbiAgICAvKiBub3RoaW5nIGN1cnJlbnRseSAqL1xcclxcbn1cXHJcXG5cXHJcXG4uZGVjaXNpb24ge1xcclxcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZykgc2NhbGUoNzUlKTtcXHJcXG5cXHJcXG4gICAgYXNwZWN0LXJhdGlvOiAxLzE7XFxyXFxufVxcclxcblxcclxcbi5kZWNpc2lvbiAqIHtcXHJcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKSBzY2FsZSgxMjUlKTtcXHJcXG59XFxyXFxuXFxyXFxuLmlucHV0LW91dHB1dCB7XFxyXFxuICAgIHRyYW5zZm9ybTogc2tldygtMTVkZWcpO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5wdXQtb3V0cHV0ICoge1xcclxcbiAgICB0cmFuc2Zvcm06IHNrZXcoMTVkZWcpO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lyY2xlIHtcXHJcXG4gICAgd2lkdGg6IDFyZW07XFxyXFxuICAgIGhlaWdodDogMXJlbTtcXHJcXG5cXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYWxpY2VibHVlO1xcclxcbiAgICBib3JkZXI6ICMwRDExMTcgMnB0IHNvbGlkO1xcclxcblxcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogOTAlO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIGZsYXNoX291dGxpbmUge1xcclxcbiAgICAwJSwxMDAlIHtcXHJcXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICAgIH1cXHJcXG4gICAgNTAlIHtcXHJcXG4gICAgICAgIG91dGxpbmU6IDVweCBzb2xpZCAjMWM5OGQyO1xcclxcbiAgICB9XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgQG1lZGlhIHNjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCkge1xyXG4gICAgLm1haW4tY29udGVudCB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XHJcblxyXG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB9XHJcblxyXG4gICAgLmFkZC1ibG9ja3MtcGFuZWwtY29udGFpbmVyIHtcclxuICAgICAgICBib3JkZXItdG9wOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xyXG4gICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1kZXZpYXRpb24taGlnaCk7XHJcbiAgICB9XHJcblxyXG4gICAgLmFkZC1ibG9ja3MtcGFuZWwge1xyXG4gICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgICBvdmVyZmxvdy14OiBzY3JvbGw7XHJcbiAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gICAgfVxyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY3NzL21haW5Nb2JpbGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0k7UUFDSSxhQUFhO1FBQ2IsOEJBQThCOztRQUU5QixnQkFBZ0I7SUFDcEI7O0lBRUE7UUFDSSwrQkFBK0I7UUFDL0Isd0NBQXdDO0lBQzVDOztJQUVBO1FBQ0ksVUFBVTtRQUNWLG1CQUFtQjtRQUNuQixrQkFBa0I7UUFDbEIsa0JBQWtCO0lBQ3RCO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQG1lZGlhIHNjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCkge1xcclxcbiAgICAubWFpbi1jb250ZW50IHtcXHJcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XFxyXFxuXFxyXFxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIC5hZGQtYmxvY2tzLXBhbmVsLWNvbnRhaW5lciB7XFxyXFxuICAgICAgICBib3JkZXItdG9wOiAjMjEyNjJEIHNvbGlkIDAuNXB0O1xcclxcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWRldmlhdGlvbi1oaWdoKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAuYWRkLWJsb2Nrcy1wYW5lbCB7XFxyXFxuICAgICAgICBwYWRkaW5nOiAwO1xcclxcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcXHJcXG4gICAgICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcXHJcXG4gICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcXHJcXG4gICAgfVxcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIi8qISBMZWFkZXJMaW5lIHYxLjEuNSAoYykgYW5zZWtpIGh0dHBzOi8vYW5zZWtpLmdpdGh1Yi5pby9sZWFkZXItbGluZS8gKi9cbnZhciBMZWFkZXJMaW5lPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHRlLE0sSSxDLEwsbyx0LGgsZixwLG4sYSxlLHgsYixsLHIsaSxrLHcscyx1LGMsQT1cImxlYWRlci1saW5lXCIsVj0xLFA9MixOPTMsVD00LFc9e3RvcDpWLHJpZ2h0OlAsYm90dG9tOk4sbGVmdDpUfSxCPTEsUj0yLEY9MyxHPTQsRD01LHo9e3N0cmFpZ2h0OkIsYXJjOlIsZmx1aWQ6RixtYWduZXQ6RyxncmlkOkR9LG5lPVwiYmVoaW5kXCIsZD1BK1wiLWRlZnNcIix5PSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJsZWFkZXItbGluZS1kZWZzXCI+PHN0eWxlPjwhW0NEQVRBWy5sZWFkZXItbGluZXtwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzp2aXNpYmxlIWltcG9ydGFudDtwb2ludGVyLWV2ZW50czpub25lIWltcG9ydGFudDtmb250LXNpemU6MTZweH0jbGVhZGVyLWxpbmUtZGVmc3t3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MH0ubGVhZGVyLWxpbmUtbGluZS1wYXRoe2ZpbGw6bm9uZX0ubGVhZGVyLWxpbmUtbWFzay1iZy1yZWN0e2ZpbGw6I2ZmZn0ubGVhZGVyLWxpbmUtY2Fwcy1tYXNrLWFuY2hvciwubGVhZGVyLWxpbmUtY2Fwcy1tYXNrLW1hcmtlci1zaGFwZXtmaWxsOiMwMDB9LmxlYWRlci1saW5lLWNhcHMtbWFzay1hbmNob3J7c3Ryb2tlOiMwMDB9LmxlYWRlci1saW5lLWNhcHMtbWFzay1saW5lLC5sZWFkZXItbGluZS1wbHVncy1mYWNle3N0cm9rZTp0cmFuc3BhcmVudH0ubGVhZGVyLWxpbmUtbGluZS1tYXNrLXNoYXBle3N0cm9rZTojZmZmfS5sZWFkZXItbGluZS1saW5lLW91dGxpbmUtbWFzay1zaGFwZXtzdHJva2U6IzAwMH0ubGVhZGVyLWxpbmUtcGx1Zy1tYXNrLXNoYXBle2ZpbGw6I2ZmZjtzdHJva2U6IzAwMH0ubGVhZGVyLWxpbmUtcGx1Zy1vdXRsaW5lLW1hc2stc2hhcGV7ZmlsbDojMDAwO3N0cm9rZTojZmZmfS5sZWFkZXItbGluZS1hcmVhQW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OnZpc2libGUhaW1wb3J0YW50fV1dPjwvc3R5bGU+PGRlZnM+PGNpcmNsZSBpZD1cImxlYWRlci1saW5lLWRpc2NcIiBjeD1cIjBcIiBjeT1cIjBcIiByPVwiNVwiLz48cmVjdCBpZD1cImxlYWRlci1saW5lLXNxdWFyZVwiIHg9XCItNVwiIHk9XCItNVwiIHdpZHRoPVwiMTBcIiBoZWlnaHQ9XCIxMFwiLz48cG9seWdvbiBpZD1cImxlYWRlci1saW5lLWFycm93MVwiIHBvaW50cz1cIi04LC04IDgsMCAtOCw4IC01LDBcIi8+PHBvbHlnb24gaWQ9XCJsZWFkZXItbGluZS1hcnJvdzJcIiBwb2ludHM9XCItNCwtOCA0LDAgLTQsOCAtNyw1IC0yLDAgLTcsLTVcIi8+PHBvbHlnb24gaWQ9XCJsZWFkZXItbGluZS1hcnJvdzNcIiBwb2ludHM9XCItNCwtNSA4LDAgLTQsNVwiLz48ZyBpZD1cImxlYWRlci1saW5lLWhhbmRcIj48cGF0aCBzdHlsZT1cImZpbGw6ICNmY2ZjZmNcIiBkPVwiTTkuMTkgMTEuMTRoNC43NWMxLjM4IDAgMi40OS0xLjExIDIuNDktMi40OSAwLS41MS0uMTUtLjk4LS40MS0xLjM3aDEuM2MxLjM4IDAgMi40OS0xLjExIDIuNDktMi40OXMtMS4xMS0yLjUzLTIuNDktMi41M2gxLjAyYzEuMzggMCAyLjQ5LTEuMTEgMi40OS0yLjQ5cy0xLjExLTIuNDktMi40OS0yLjQ5aDE0Ljk2YzEuMzcgMCAyLjQ5LTEuMTEgMi40OS0yLjQ5cy0xLjExLTIuNDktMi40OS0yLjQ5SDE2LjU4QzE2LTkuODYgMTQuMjgtMTEuMTQgOS43LTExLjE0Yy00Ljc5IDAtNi41NSAzLjQyLTcuODcgNC43M0gtMi4xNHYxMy4yM2gzLjY4QzMuMjkgOS45NyA1LjQ3IDExLjE0IDkuMTkgMTEuMTRMOS4xOSAxMS4xNFpcIi8+PHBhdGggc3R5bGU9XCJmaWxsOiBibGFja1wiIGQ9XCJNMTMuOTUgMTJjMS44NSAwIDMuMzUtMS41IDMuMzUtMy4zNSAwLS4xNy0uMDItLjM0LS4wNC0uNTFoLjA3YzEuODUgMCAzLjM1LTEuNSAzLjM1LTMuMzUgMC0uNzktLjI3LTEuNTEtLjcyLTIuMDggMS4wMy0uNTcgMS43NC0xLjY3IDEuNzQtMi45MyAwLS41OS0uMTYtMS4xNS0uNDMtMS42M2gxMi4wNGMxLjg1IDAgMy4zNS0xLjUgMy4zNS0zLjM1IDAtMS44NS0xLjUtMy4zNS0zLjM1LTMuMzVIMTcuMkMxNi4yNi0xMC45MyAxMy45MS0xMiA5LjctMTIgNS4zNi0xMiAzLjIyLTkuNCAxLjk0LTcuODRjMCAwLS4yOS4zMy0uNS41Ny0uNjMgMC0zLjU4IDAtMy41OCAwQy0yLjYxLTcuMjctMy02Ljg4LTMtNi40MXYxMy4yM2MwIC40Ny4zOS44Ni44Ni44NiAwIDAgMi40OCAwIDMuMiAwQzIuOSAxMC43MyA1LjI5IDEyIDkuMTkgMTJMMTMuOTUgMTJaTTkuMTkgMTAuMjhjLTMuNDYgMC01LjMzLTEuMDUtNi45LTMuODctLjE1LS4yNy0uNDQtLjQ0LS43NS0uNDQgMCAwLTEuODEgMC0yLjgyIDBWLTUuNTVjMS4wNiAwIDMuMTEgMCAzLjExIDAgLjI1IDAgLjQ0LS4wNi42MS0uMjVsLjgzLS45NWMxLjIzLTEuNDkgMi45MS0zLjUzIDYuNDMtMy41MyAzLjQ1IDAgNC45Ljc0IDUuNTcgMS43MmgtNC4zYy0uNDggMC0uODYuMzgtLjg2Ljg2cy4zOS44Ni44Ni44NmgyMi4zNGMuOSAwIDEuNjMuNzMgMS42MyAxLjYzIDAgLjktLjczIDEuNjMtMS42MyAxLjYzSDE1LjgzYy0uNDggMC0uODYuMzgtLjg2Ljg2IDAgLjQ3LjM5Ljg2Ljg2Ljg2aDIuNTJjLjkgMCAxLjYzLjczIDEuNjMgMS42M3MtLjczIDEuNjMtMS42MyAxLjYzaC0zLjEyYy0uNDggMC0uODYuMzgtLjg2Ljg2IDAgLjQ3LjM5Ljg2Ljg2Ljg2aDIuMTFjLjg4IDAgMS42My43NiAxLjYzIDEuNjcgMCAuOS0uNzMgMS42My0xLjYzIDEuNjNoLTMuMmMtLjQ4IDAtLjg2LjM5LS44Ni44NiAwIC40Ny4zOS44Ni44Ni44NmgxLjM2Yy4wNS4xNi4wOS4zNC4wOS41MSAwIC45LS43MyAxLjYzLTEuNjMgMS42M0MxMy45NSAxMC4yOCA5LjE5IDEwLjI4IDkuMTkgMTAuMjhaXCIvPjwvZz48ZyBpZD1cImxlYWRlci1saW5lLWNyb3NzaGFpclwiPjxwYXRoIGQ9XCJNMC03OC45N2MtNDMuNTQgMC03OC45NyAzNS40My03OC45NyA3OC45NyAwIDQzLjU0IDM1LjQzIDc4Ljk3IDc4Ljk3IDc4Ljk3czc4Ljk3LTM1LjQzIDc4Ljk3LTc4Ljk3Qzc4Ljk3LTQzLjU0IDQzLjU1LTc4Ljk3IDAtNzguOTdaTTc2LjUxLTEuMjFoLTkuOTF2LTkuMTFoLTIuNDN2OS4xMWgtMTEuNDVjLS42NC0yOC4xMi0yMy4zOC01MC44Ni01MS41LTUxLjVWLTY0LjE3aDkuMTFWLTY2LjZoLTkuMTF2LTkuOTFDNDIuNDYtNzUuODYgNzUuODYtNDIuNDUgNzYuNTEtMS4yMVpNLTEuMjEtMzAuNzZoLTkuMTF2Mi40M2g5LjExVi00LjJjLTEuNDQuNDItMi41NyAxLjU0LTIuOTggMi45OEgtMjguMzN2LTkuMTFoLTIuNDN2OS4xMUgtNTAuMjlDLTQ5LjY1LTI4LTI3Ljk5LTQ5LjY1LTEuMjEtNTAuMjlWLTMwLjc2Wk0tMzAuNzYgMS4yMXY5LjExaDIuNDN2LTkuMTFILTQuMmMuNDIgMS40NCAxLjU0IDIuNTcgMi45OCAyLjk4djI0LjEzaC05LjExdjIuNDNoOS4xMXYxOS41M0MtMjcuOTkgNDkuNjUtNDkuNjUgMjgtNTAuMjkgMS4yMUgtMzAuNzZaTTEuMjIgMzAuNzVoOS4xMXYtMi40M2gtOS4xMVY0LjJjMS40NC0uNDIgMi41Ni0xLjU0IDIuOTgtMi45OGgyNC4xM3Y5LjExaDIuNDN2LTkuMTFoMTkuNTNDNDkuNjUgMjggMjggNDkuNjUgMS4yMiA1MC4yOVYzMC43NVpNMzAuNzYtMS4yMXYtOS4xMWgtMi40M3Y5LjExSDQuMmMtLjQyLTEuNDQtMS41NC0yLjU2LTIuOTgtMi45OFYtMjguMzNoOS4xMXYtMi40M2gtOS4xMVYtNTAuMjlDMjgtNDkuNjUgNDkuNjUtMjggNTAuMjktMS4yMUgzMC43NlpNLTEuMjEtNzYuNTF2OS45MWgtOS4xMXYyLjQzaDkuMTF2MTEuNDVjLTI4LjEyLjY0LTUwLjg2IDIzLjM4LTUxLjUgNTEuNUgtNjQuMTd2LTkuMTFILTY2LjZ2OS4xMWgtOS45MUMtNzUuODYtNDIuNDUtNDIuNDUtNzUuODYtMS4yMS03Ni41MVpNLTc2LjUxIDEuMjFoOS45MXY5LjExaDIuNDN2LTkuMTFoMTEuNDVjLjY0IDI4LjEyIDIzLjM4IDUwLjg2IDUxLjUgNTEuNXYxMS40NWgtOS4xMXYyLjQzaDkuMTF2OS45MUMtNDIuNDUgNzUuODYtNzUuODYgNDIuNDUtNzYuNTEgMS4yMVpNMS4yMiA3Ni41MXYtOS45MWg5LjExdi0yLjQzaC05LjExdi0xMS40NWMyOC4xMi0uNjQgNTAuODYtMjMuMzggNTEuNS01MS41aDExLjQ1djkuMTFoMi40M3YtOS4xMWg5LjkxQzc1Ljg2IDQyLjQ1IDQyLjQ1IDc1Ljg2IDEuMjIgNzYuNTFaXCIvPjxwYXRoIGQ9XCJNMCA4My41OC03LjEgOTYgNy4xIDk2WlwiLz48cGF0aCBkPVwiTTAtODMuNTggNy4xLTk2LTcuMS05NlwiLz48cGF0aCBkPVwiTTgzLjU4IDAgOTYgNy4xIDk2LTcuMVpcIi8+PHBhdGggZD1cIk0tODMuNTggMC05Ni03LjEtOTYgNy4xWlwiLz48L2c+PC9kZWZzPjwvc3ZnPicsYWU9e2Rpc2M6e2VsbUlkOlwibGVhZGVyLWxpbmUtZGlzY1wiLG5vUm90YXRlOiEwLGJCb3g6e2xlZnQ6LTUsdG9wOi01LHdpZHRoOjEwLGhlaWdodDoxMCxyaWdodDo1LGJvdHRvbTo1fSx3aWR0aFI6Mi41LGhlaWdodFI6Mi41LGJDaXJjbGU6NSxzaWRlTGVuOjUsYmFja0xlbjo1LG92ZXJoZWFkOjAsb3V0bGluZUJhc2U6MSxvdXRsaW5lTWF4OjR9LHNxdWFyZTp7ZWxtSWQ6XCJsZWFkZXItbGluZS1zcXVhcmVcIixub1JvdGF0ZTohMCxiQm94OntsZWZ0Oi01LHRvcDotNSx3aWR0aDoxMCxoZWlnaHQ6MTAscmlnaHQ6NSxib3R0b206NX0sd2lkdGhSOjIuNSxoZWlnaHRSOjIuNSxiQ2lyY2xlOjUsc2lkZUxlbjo1LGJhY2tMZW46NSxvdmVyaGVhZDowLG91dGxpbmVCYXNlOjEsb3V0bGluZU1heDo0fSxhcnJvdzE6e2VsbUlkOlwibGVhZGVyLWxpbmUtYXJyb3cxXCIsYkJveDp7bGVmdDotOCx0b3A6LTgsd2lkdGg6MTYsaGVpZ2h0OjE2LHJpZ2h0OjgsYm90dG9tOjh9LHdpZHRoUjo0LGhlaWdodFI6NCxiQ2lyY2xlOjgsc2lkZUxlbjo4LGJhY2tMZW46OCxvdmVyaGVhZDo4LG91dGxpbmVCYXNlOjIsb3V0bGluZU1heDoxLjV9LGFycm93Mjp7ZWxtSWQ6XCJsZWFkZXItbGluZS1hcnJvdzJcIixiQm94OntsZWZ0Oi03LHRvcDotOCx3aWR0aDoxMSxoZWlnaHQ6MTYscmlnaHQ6NCxib3R0b206OH0sd2lkdGhSOjIuNzUsaGVpZ2h0Ujo0LGJDaXJjbGU6OCxzaWRlTGVuOjgsYmFja0xlbjo3LG92ZXJoZWFkOjQsb3V0bGluZUJhc2U6MSxvdXRsaW5lTWF4OjEuNzV9LGFycm93Mzp7ZWxtSWQ6XCJsZWFkZXItbGluZS1hcnJvdzNcIixiQm94OntsZWZ0Oi00LHRvcDotNSx3aWR0aDoxMixoZWlnaHQ6MTAscmlnaHQ6OCxib3R0b206NX0sd2lkdGhSOjMsaGVpZ2h0UjoyLjUsYkNpcmNsZTo4LHNpZGVMZW46NSxiYWNrTGVuOjQsb3ZlcmhlYWQ6OCxvdXRsaW5lQmFzZToxLG91dGxpbmVNYXg6Mi41fSxoYW5kOntlbG1JZDpcImxlYWRlci1saW5lLWhhbmRcIixiQm94OntsZWZ0Oi0zLHRvcDotMTIsd2lkdGg6NDAsaGVpZ2h0OjI0LHJpZ2h0OjM3LGJvdHRvbToxMn0sd2lkdGhSOjEwLGhlaWdodFI6NixiQ2lyY2xlOjM3LHNpZGVMZW46MTIsYmFja0xlbjozLG92ZXJoZWFkOjM3fSxjcm9zc2hhaXI6e2VsbUlkOlwibGVhZGVyLWxpbmUtY3Jvc3NoYWlyXCIsbm9Sb3RhdGU6ITAsYkJveDp7bGVmdDotOTYsdG9wOi05Nix3aWR0aDoxOTIsaGVpZ2h0OjE5MixyaWdodDo5Nixib3R0b206OTZ9LHdpZHRoUjo0OCxoZWlnaHRSOjQ4LGJDaXJjbGU6OTYsc2lkZUxlbjo5NixiYWNrTGVuOjk2LG92ZXJoZWFkOjB9fSxqPXtiZWhpbmQ6bmUsZGlzYzpcImRpc2NcIixzcXVhcmU6XCJzcXVhcmVcIixhcnJvdzE6XCJhcnJvdzFcIixhcnJvdzI6XCJhcnJvdzJcIixhcnJvdzM6XCJhcnJvdzNcIixoYW5kOlwiaGFuZFwiLGNyb3NzaGFpcjpcImNyb3NzaGFpclwifSxpZT17ZGlzYzpcImRpc2NcIixzcXVhcmU6XCJzcXVhcmVcIixhcnJvdzE6XCJhcnJvdzFcIixhcnJvdzI6XCJhcnJvdzJcIixhcnJvdzM6XCJhcnJvdzNcIixoYW5kOlwiaGFuZFwiLGNyb3NzaGFpcjpcImNyb3NzaGFpclwifSxIPVtWLFAsTixUXSxVPVwiYXV0b1wiLG9lPXt4OlwibGVmdFwiLHk6XCJ0b3BcIix3aWR0aDpcIndpZHRoXCIsaGVpZ2h0OlwiaGVpZ2h0XCJ9LFo9ODAsWT00LFg9NSxxPTEyMCxRPTgsSz0zLjc1LEo9MTAsJD0zMCxlZT0uNTUyMjg0NyxsZT0uMjUqTWF0aC5QSSxtPS9eXFxzKihcXC0/W1xcZFxcLl0rKVxccyooXFwlKT9cXHMqJC8scmU9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFM9XCItbXMtc2Nyb2xsLWxpbWl0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJlwiLW1zLWltZS1hbGlnblwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiYhd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLHNlPSFTJiYhIWRvY3VtZW50LnVuaXF1ZUlELHVlPVwiTW96QXBwZWFyYW5jZVwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLGhlPSEoU3x8dWV8fCF3aW5kb3cuY2hyb21lfHwhd2luZG93LkNTUykscGU9IVMmJiFzZSYmIXVlJiYhaGUmJiF3aW5kb3cuY2hyb21lJiZcIldlYmtpdEFwcGVhcmFuY2VcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxjZT1zZXx8Uz8uMjouMSxkZT17cGF0aDpGLGxpbmVDb2xvcjpcImNvcmFsXCIsbGluZVNpemU6NCxwbHVnU0U6W25lLFwiYXJyb3cxXCJdLHBsdWdTaXplU0U6WzEsMV0sbGluZU91dGxpbmVFbmFibGVkOiExLGxpbmVPdXRsaW5lQ29sb3I6XCJpbmRpYW5yZWRcIixsaW5lT3V0bGluZVNpemU6LjI1LHBsdWdPdXRsaW5lRW5hYmxlZFNFOlshMSwhMV0scGx1Z091dGxpbmVTaXplU0U6WzEsMV19LGZlPShzPXt9LnRvU3RyaW5nLHU9e30uaGFzT3duUHJvcGVydHkudG9TdHJpbmcsYz11LmNhbGwoT2JqZWN0KSxmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiBlJiZcIltvYmplY3QgT2JqZWN0XVwiPT09cy5jYWxsKGUpJiYoISh0PU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSl8fChuPXQuaGFzT3duUHJvcGVydHkoXCJjb25zdHJ1Y3RvclwiKSYmdC5jb25zdHJ1Y3RvcikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJnUuY2FsbChuKT09PWMpfSkseWU9TnVtYmVyLmlzRmluaXRlfHxmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmd2luZG93LmlzRmluaXRlKGUpfSxnPSh4PXtlYXNlOlsuMjUsLjEsLjI1LDFdLGxpbmVhcjpbMCwwLDEsMV0sXCJlYXNlLWluXCI6Wy40MiwwLDEsMV0sXCJlYXNlLW91dFwiOlswLDAsLjU4LDFdLFwiZWFzZS1pbi1vdXRcIjpbLjQyLDAsLjU4LDFdfSxiPTFlMy82MC8yLGw9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsYil9LHI9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlKX0saT1OdW1iZXIuaXNGaW5pdGV8fGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZ3aW5kb3cuaXNGaW5pdGUoZSl9LGs9W10sdz0wLHthZGQ6ZnVuY3Rpb24obixlLHQsYSxpLG8sbCl7dmFyIHIscyx1LGgscCxjLGQsZix5LG0sUyxnLF8sdj0rK3c7ZnVuY3Rpb24gRShlLHQpe3JldHVybnt2YWx1ZTpuKHQpLHRpbWVSYXRpbzplLG91dHB1dFJhdGlvOnR9fWlmKFwic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT14W2ldKSxuPW58fGZ1bmN0aW9uKCl7fSx0PGIpcz1bRSgwLDApLEUoMSwxKV07ZWxzZXtpZih1PWIvdCxzPVtFKDAsMCldLDA9PT1pWzBdJiYwPT09aVsxXSYmMT09PWlbMl0mJjE9PT1pWzNdKWZvcihwPXU7cDw9MTtwKz11KXMucHVzaChFKHAscCkpO2Vsc2UgZm9yKGM9aD0ocD11KS8xMDtjPD0xO2MrPWgpXz1nPVM9bT15PXZvaWQgMCxtPSh5PShmPWMpKmYpKmYsXz0zKihTPTEtZikqeSxwPD0oZD17eDooZz1TKlMqMypmKSppWzBdK18qaVsyXSttLHk6ZyppWzFdK18qaVszXSttfSkueCYmKHMucHVzaChFKGQueCxkLnkpKSxwKz11KTtzLnB1c2goRSgxLDEpKX1yZXR1cm4gcj17YW5pbUlkOnYsZnJhbWVDYWxsYmFjazplLGR1cmF0aW9uOnQsY291bnQ6YSxmcmFtZXM6cyxyZXZlcnNlOiEhb30say5wdXNoKHIpLCExIT09bCYma2UocixsKSx2fSxyZW1vdmU6ZnVuY3Rpb24obil7dmFyIGE7ay5zb21lKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYW5pbUlkPT09biYmKGE9dCwhKGUuZnJhbWVzU3RhcnQ9bnVsbCkpfSkmJmsuc3BsaWNlKGEsMSl9LHN0YXJ0OmZ1bmN0aW9uKHQsbixhKXtrLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYW5pbUlkPT09dCYmKGUucmV2ZXJzZT0hIW4sa2UoZSxhKSwhMCl9KX0sc3RvcDpmdW5jdGlvbih0LG4pe3ZhciBhO3JldHVybiBrLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYW5pbUlkPT09dCYmKG4/bnVsbCE9ZS5sYXN0RnJhbWUmJihhPWUuZnJhbWVzW2UubGFzdEZyYW1lXS50aW1lUmF0aW8pOihhPShEYXRlLm5vdygpLWUuZnJhbWVzU3RhcnQpL2UuZHVyYXRpb24sZS5yZXZlcnNlJiYoYT0xLWEpLGE8MD9hPTA6MTxhJiYoYT0xKSksIShlLmZyYW1lc1N0YXJ0PW51bGwpKX0pLGF9LHZhbGlkVGltaW5nOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3hbdF06QXJyYXkuaXNBcnJheSh0KSYmWzAsMSwyLDNdLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBpKHRbZV0pJiYwPD10W2VdJiZ0W2VdPD0xfSk/W3RbMF0sdFsxXSx0WzJdLHRbM11dOm51bGx9fSksXz1mdW5jdGlvbihlKXtlLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5nZXRQYXRoRGF0YSYmZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuc2V0UGF0aERhdGF8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLl9zdHJpbmc9ZSx0aGlzLl9jdXJyZW50SW5kZXg9MCx0aGlzLl9lbmRJbmRleD10aGlzLl9zdHJpbmcubGVuZ3RoLHRoaXMuX3ByZXZDb21tYW5kPW51bGwsdGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCl9dmFyIG89e1o6XCJaXCIsTTpcIk1cIixMOlwiTFwiLEM6XCJDXCIsUTpcIlFcIixBOlwiQVwiLEg6XCJIXCIsVjpcIlZcIixTOlwiU1wiLFQ6XCJUXCIsejpcIlpcIixtOlwibVwiLGw6XCJsXCIsYzpcImNcIixxOlwicVwiLGE6XCJhXCIsaDpcImhcIix2OlwidlwiLHM6XCJzXCIsdDpcInRcIn0sbD0tMSE9PWUubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSBcIik7aS5wcm90b3R5cGU9e3BhcnNlU2VnbWVudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdLHQ9b1tlXT9vW2VdOm51bGw7aWYobnVsbD09PXQpe2lmKG51bGw9PT10aGlzLl9wcmV2Q29tbWFuZClyZXR1cm4gbnVsbDtpZihudWxsPT09KHQ9KFwiK1wiPT09ZXx8XCItXCI9PT1lfHxcIi5cIj09PWV8fFwiMFwiPD1lJiZlPD1cIjlcIikmJlwiWlwiIT09dGhpcy5fcHJldkNvbW1hbmQ/XCJNXCI9PT10aGlzLl9wcmV2Q29tbWFuZD9cIkxcIjpcIm1cIj09PXRoaXMuX3ByZXZDb21tYW5kP1wibFwiOnRoaXMuX3ByZXZDb21tYW5kOm51bGwpKXJldHVybiBudWxsfWVsc2UgdGhpcy5fY3VycmVudEluZGV4Kz0xO3ZhciBuPW51bGwsYT0odGhpcy5fcHJldkNvbW1hbmQ9dCkudG9VcHBlckNhc2UoKTtyZXR1cm5cIkhcIj09PWF8fFwiVlwiPT09YT9uPVt0aGlzLl9wYXJzZU51bWJlcigpXTpcIk1cIj09PWF8fFwiTFwiPT09YXx8XCJUXCI9PT1hP249W3RoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKV06XCJTXCI9PT1hfHxcIlFcIj09PWE/bj1bdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKV06XCJDXCI9PT1hP249W3RoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpXTpcIkFcIj09PWE/bj1bdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpLHRoaXMuX3BhcnNlTnVtYmVyKCksdGhpcy5fcGFyc2VBcmNGbGFnKCksdGhpcy5fcGFyc2VBcmNGbGFnKCksdGhpcy5fcGFyc2VOdW1iZXIoKSx0aGlzLl9wYXJzZU51bWJlcigpXTpcIlpcIj09PWEmJih0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKSxuPVtdKSxudWxsPT09bnx8MDw9bi5pbmRleE9mKG51bGwpP251bGw6e3R5cGU6dCx2YWx1ZXM6bn19LGhhc01vcmVEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleH0scGVla1NlZ21lbnRUeXBlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF07cmV0dXJuIG9bZV0/b1tlXTpudWxsfSxpbml0aWFsQ29tbWFuZElzTW92ZVRvOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaGFzTW9yZURhdGEoKSlyZXR1cm4hMDt2YXIgZT10aGlzLnBlZWtTZWdtZW50VHlwZSgpO3JldHVyblwiTVwiPT09ZXx8XCJtXCI9PT1lfSxfaXNDdXJyZW50U3BhY2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTtyZXR1cm4gZTw9XCIgXCImJihcIiBcIj09PWV8fFwiXFxuXCI9PT1lfHxcIlxcdFwiPT09ZXx8XCJcXHJcIj09PWV8fFwiXFxmXCI9PT1lKX0sX3NraXBPcHRpb25hbFNwYWNlczpmdW5jdGlvbigpe2Zvcig7dGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2VuZEluZGV4JiZ0aGlzLl9pc0N1cnJlbnRTcGFjZSgpOyl0aGlzLl9jdXJyZW50SW5kZXgrPTE7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleH0sX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyOmZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJiF0aGlzLl9pc0N1cnJlbnRTcGFjZSgpJiZcIixcIiE9PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdKSYmKHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpJiZ0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiLFwiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0mJih0aGlzLl9jdXJyZW50SW5kZXgrPTEsdGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCkpLHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCl9LF9wYXJzZU51bWJlcjpmdW5jdGlvbigpe3ZhciBlPTAsdD0wLG49MSxhPTAsaT0xLG89MSxsPXRoaXMuX2N1cnJlbnRJbmRleDtpZih0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKSx0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiK1wiPT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0/dGhpcy5fY3VycmVudEluZGV4Kz0xOnRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCItXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSYmKHRoaXMuX2N1cnJlbnRJbmRleCs9MSxpPS0xKSx0aGlzLl9jdXJyZW50SW5kZXg9PT10aGlzLl9lbmRJbmRleHx8KHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdPFwiMFwifHxcIjlcIjx0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSkmJlwiLlwiIT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pcmV0dXJuIG51bGw7Zm9yKHZhciByPXRoaXMuX2N1cnJlbnRJbmRleDt0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiMFwiPD10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSYmdGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF08PVwiOVwiOyl0aGlzLl9jdXJyZW50SW5kZXgrPTE7aWYodGhpcy5fY3VycmVudEluZGV4IT09cilmb3IodmFyIHM9dGhpcy5fY3VycmVudEluZGV4LTEsdT0xO3I8PXM7KXQrPXUqKHRoaXMuX3N0cmluZ1tzXS1cIjBcIiksLS1zLHUqPTEwO2lmKHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCIuXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSl7aWYodGhpcy5fY3VycmVudEluZGV4Kz0xLHRoaXMuX2N1cnJlbnRJbmRleD49dGhpcy5fZW5kSW5kZXh8fHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdPFwiMFwifHxcIjlcIjx0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSlyZXR1cm4gbnVsbDtmb3IoO3RoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9lbmRJbmRleCYmXCIwXCI8PXRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdJiZ0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTw9XCI5XCI7KW4qPTEwLGErPSh0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCktXCIwXCIpL24sdGhpcy5fY3VycmVudEluZGV4Kz0xfWlmKHRoaXMuX2N1cnJlbnRJbmRleCE9PWwmJnRoaXMuX2N1cnJlbnRJbmRleCsxPHRoaXMuX2VuZEluZGV4JiYoXCJlXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XXx8XCJFXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSkmJlwieFwiIT09dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleCsxXSYmXCJtXCIhPT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4KzFdKXtpZih0aGlzLl9jdXJyZW50SW5kZXgrPTEsXCIrXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XT90aGlzLl9jdXJyZW50SW5kZXgrPTE6XCItXCI9PT10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSYmKHRoaXMuX2N1cnJlbnRJbmRleCs9MSxvPS0xKSx0aGlzLl9jdXJyZW50SW5kZXg+PXRoaXMuX2VuZEluZGV4fHx0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTxcIjBcInx8XCI5XCI8dGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF0pcmV0dXJuIG51bGw7Zm9yKDt0aGlzLl9jdXJyZW50SW5kZXg8dGhpcy5fZW5kSW5kZXgmJlwiMFwiPD10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XSYmdGhpcy5fc3RyaW5nW3RoaXMuX2N1cnJlbnRJbmRleF08PVwiOVwiOyllKj0xMCxlKz10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XS1cIjBcIix0aGlzLl9jdXJyZW50SW5kZXgrPTF9dmFyIGg9dCthO3JldHVybiBoKj1pLGUmJihoKj1NYXRoLnBvdygxMCxvKmUpKSxsPT09dGhpcy5fY3VycmVudEluZGV4P251bGw6KHRoaXMuX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyKCksaCl9LF9wYXJzZUFyY0ZsYWc6ZnVuY3Rpb24oKXtpZih0aGlzLl9jdXJyZW50SW5kZXg+PXRoaXMuX2VuZEluZGV4KXJldHVybiBudWxsO3ZhciBlPW51bGwsdD10aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTtpZih0aGlzLl9jdXJyZW50SW5kZXgrPTEsXCIwXCI9PT10KWU9MDtlbHNle2lmKFwiMVwiIT09dClyZXR1cm4gbnVsbDtlPTF9cmV0dXJuIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyKCksZX19O2Z1bmN0aW9uIGEoZSl7aWYoIWV8fDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgdD1uZXcgaShlKSxuPVtdO2lmKHQuaW5pdGlhbENvbW1hbmRJc01vdmVUbygpKWZvcig7dC5oYXNNb3JlRGF0YSgpOyl7dmFyIGE9dC5wYXJzZVNlZ21lbnQoKTtpZihudWxsPT09YSlicmVhaztuLnB1c2goYSl9cmV0dXJuIG59ZnVuY3Rpb24gcihlKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZS50eXBlLHZhbHVlczpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLnZhbHVlcyl9fSl9ZnVuY3Rpb24gZChlKXt2YXIgbT1bXSxTPW51bGwsZz1udWxsLF89bnVsbCx2PW51bGwsRT1udWxsLHg9bnVsbCxiPW51bGw7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLGEsaSxvLGwscixzLHUsaCxwLGMsZCxmLHk7XCJNXCI9PT1lLnR5cGU/KGY9ZS52YWx1ZXNbMF0seT1lLnZhbHVlc1sxXSxtLnB1c2goe3R5cGU6XCJNXCIsdmFsdWVzOltmLHldfSksdj14PWYsRT1iPXkpOlwiQ1wiPT09ZS50eXBlPyhhPWUudmFsdWVzWzBdLGk9ZS52YWx1ZXNbMV0sdD1lLnZhbHVlc1syXSxuPWUudmFsdWVzWzNdLGY9ZS52YWx1ZXNbNF0seT1lLnZhbHVlc1s1XSxtLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOlthLGksdCxuLGYseV19KSxnPXQsXz1uLHY9ZixFPXkpOlwiTFwiPT09ZS50eXBlPyhmPWUudmFsdWVzWzBdLHk9ZS52YWx1ZXNbMV0sbS5wdXNoKHt0eXBlOlwiTFwiLHZhbHVlczpbZix5XX0pLHY9ZixFPXkpOlwiSFwiPT09ZS50eXBlPyhmPWUudmFsdWVzWzBdLG0ucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W2YsRV19KSx2PWYpOlwiVlwiPT09ZS50eXBlPyh5PWUudmFsdWVzWzBdLG0ucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W3YseV19KSxFPXkpOlwiU1wiPT09ZS50eXBlPyh0PWUudmFsdWVzWzBdLG49ZS52YWx1ZXNbMV0sZj1lLnZhbHVlc1syXSx5PWUudmFsdWVzWzNdLGw9XCJDXCI9PT1TfHxcIlNcIj09PVM/KG89disodi1nKSxFKyhFLV8pKToobz12LEUpLG0ucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W28sbCx0LG4sZix5XX0pLGc9dCxfPW4sdj1mLEU9eSk6XCJUXCI9PT1lLnR5cGU/KGY9ZS52YWx1ZXNbMF0seT1lLnZhbHVlc1sxXSxpPVwiUVwiPT09U3x8XCJUXCI9PT1TPyhhPXYrKHYtZyksRSsoRS1fKSk6KGE9dixFKSxvPXYrMiooYS12KS8zLGw9RSsyKihpLUUpLzMscj1mKzIqKGEtZikvMyxzPXkrMiooaS15KS8zLG0ucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W28sbCxyLHMsZix5XX0pLGc9YSxfPWksdj1mLEU9eSk6XCJRXCI9PT1lLnR5cGU/KGE9ZS52YWx1ZXNbMF0saT1lLnZhbHVlc1sxXSxmPWUudmFsdWVzWzJdLHk9ZS52YWx1ZXNbM10sbz12KzIqKGEtdikvMyxsPUUrMiooaS1FKS8zLHI9ZisyKihhLWYpLzMscz15KzIqKGkteSkvMyxtLnB1c2goe3R5cGU6XCJDXCIsdmFsdWVzOltvLGwscixzLGYseV19KSxnPWEsXz1pLHY9ZixFPXkpOlwiQVwiPT09ZS50eXBlPyh1PWUudmFsdWVzWzBdLGg9ZS52YWx1ZXNbMV0scD1lLnZhbHVlc1syXSxjPWUudmFsdWVzWzNdLGQ9ZS52YWx1ZXNbNF0sZj1lLnZhbHVlc1s1XSx5PWUudmFsdWVzWzZdLDA9PT11fHwwPT09aD8obS5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbdixFLGYseSxmLHldfSksdj1mLEU9eSk6dj09PWYmJkU9PT15fHxVKHYsRSxmLHksdSxoLHAsYyxkKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe20ucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6ZX0pLHY9ZixFPXl9KSk6XCJaXCI9PT1lLnR5cGUmJihtLnB1c2goZSksdj14LEU9YiksUz1lLnR5cGV9KSxtfXZhciBuPWUuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZSxzPWUuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSxmPWUuU3ltYm9sP2UuU3ltYm9sKCk6XCJfX2NhY2hlZFBhdGhEYXRhXCIseT1lLlN5bWJvbD9lLlN5bWJvbCgpOlwiX19jYWNoZWROb3JtYWxpemVkUGF0aERhdGFcIixVPWZ1bmN0aW9uKGUsdCxuLGEsaSxvLGwscixzLHUpe2Z1bmN0aW9uIGgoZSx0LG4pe3JldHVybnt4OmUqTWF0aC5jb3MobiktdCpNYXRoLnNpbihuKSx5OmUqTWF0aC5zaW4obikrdCpNYXRoLmNvcyhuKX19dmFyIHAsYyxkLGYseSxtLFMsZyxfLHYsRSx4LGIsayx3LE89KHA9bCxNYXRoLlBJKnAvMTgwKSxNPVtdO3U/KGs9dVswXSx3PXVbMV0seD11WzJdLGI9dVszXSk6KGU9KGM9aChlLHQsLU8pKS54LHQ9Yy55LDE8KG09KGY9KGUtKG49KGQ9aChuLGEsLU8pKS54KSkvMikqZi8oaSppKSsoeT0odC0oYT1kLnkpKS8yKSp5LyhvKm8pKSYmKGkqPW09TWF0aC5zcXJ0KG0pLG8qPW0pLF89KFM9aSppKSooZz1vKm8pLVMqeSp5LWcqZipmLHY9Uyp5KnkrZypmKmYseD0oRT0ocj09PXM/LTE6MSkqTWF0aC5zcXJ0KE1hdGguYWJzKF8vdikpKSppKnkvbysoZStuKS8yLGI9RSotbypmL2krKHQrYSkvMixrPU1hdGguYXNpbihwYXJzZUZsb2F0KCgodC1iKS9vKS50b0ZpeGVkKDkpKSksdz1NYXRoLmFzaW4ocGFyc2VGbG9hdCgoKGEtYikvbykudG9GaXhlZCg5KSkpLGU8eCYmKGs9TWF0aC5QSS1rKSxuPHgmJih3PU1hdGguUEktdyksazwwJiYoaz0yKk1hdGguUEkrayksdzwwJiYodz0yKk1hdGguUEkrdykscyYmdzxrJiYoay09MipNYXRoLlBJKSwhcyYmazx3JiYody09MipNYXRoLlBJKSk7dmFyIEksQyxMLEE9dy1rO01hdGguYWJzKEEpPjEyMCpNYXRoLlBJLzE4MCYmKEk9dyxDPW4sTD1hLHc9cyYmazx3P2srMTIwKk1hdGguUEkvMTgwKjE6aysxMjAqTWF0aC5QSS8xODAqLTEsbj14K2kqTWF0aC5jb3ModyksYT1iK28qTWF0aC5zaW4odyksTT1VKG4sYSxDLEwsaSxvLGwsMCxzLFt3LEkseCxiXSkpLEE9dy1rO3ZhciBWPU1hdGguY29zKGspLFA9TWF0aC5zaW4oayksTj1NYXRoLmNvcyh3KSxUPU1hdGguc2luKHcpLFc9TWF0aC50YW4oQS80KSxCPTQvMyppKlcsUj00LzMqbypXLEY9W2UsdF0sRz1bZStCKlAsdC1SKlZdLEQ9W24rQipULGEtUipOXSx6PVtuLGFdO2lmKEdbMF09MipGWzBdLUdbMF0sR1sxXT0yKkZbMV0tR1sxXSx1KXJldHVybltHLEQsel0uY29uY2F0KE0pO009W0csRCx6XS5jb25jYXQoTSkuam9pbigpLnNwbGl0KFwiLFwiKTt2YXIgaj1bXSxIPVtdO3JldHVybiBNLmZvckVhY2goZnVuY3Rpb24oZSx0KXt0JTI/SC5wdXNoKGgoTVt0LTFdLE1bdF0sTykueSk6SC5wdXNoKGgoTVt0XSxNW3QrMV0sTykueCksNj09PUgubGVuZ3RoJiYoai5wdXNoKEgpLEg9W10pfSksan07ZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGUsdCl7XCJkXCI9PT1lJiYodGhpc1tmXT1udWxsLHRoaXNbeV09bnVsbCksbi5jYWxsKHRoaXMsZSx0KX0sZS5TVkdQYXRoRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGUsdCl7XCJkXCI9PT1lJiYodGhpc1tmXT1udWxsLHRoaXNbeV09bnVsbCkscy5jYWxsKHRoaXMsZSl9LGUuU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKGUpe2lmKGUmJmUubm9ybWFsaXplKXtpZih0aGlzW3ldKXJldHVybiByKHRoaXNbeV0pO3RoaXNbZl0/bj1yKHRoaXNbZl0pOihuPWEodGhpcy5nZXRBdHRyaWJ1dGUoXCJkXCIpfHxcIlwiKSx0aGlzW2ZdPXIobikpO3ZhciB0PWQoKHM9W10sYz1wPWg9dT1udWxsLG4uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLGEsaSxvLGwscj1lLnR5cGU7XCJNXCI9PT1yPyhvPWUudmFsdWVzWzBdLGw9ZS52YWx1ZXNbMV0scy5wdXNoKHt0eXBlOlwiTVwiLHZhbHVlczpbbyxsXX0pLHU9cD1vLGg9Yz1sKTpcIm1cIj09PXI/KG89dStlLnZhbHVlc1swXSxsPWgrZS52YWx1ZXNbMV0scy5wdXNoKHt0eXBlOlwiTVwiLHZhbHVlczpbbyxsXX0pLHU9cD1vLGg9Yz1sKTpcIkxcIj09PXI/KG89ZS52YWx1ZXNbMF0sbD1lLnZhbHVlc1sxXSxzLnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOltvLGxdfSksdT1vLGg9bCk6XCJsXCI9PT1yPyhvPXUrZS52YWx1ZXNbMF0sbD1oK2UudmFsdWVzWzFdLHMucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W28sbF19KSx1PW8saD1sKTpcIkNcIj09PXI/KHQ9ZS52YWx1ZXNbMF0sbj1lLnZhbHVlc1sxXSxhPWUudmFsdWVzWzJdLGk9ZS52YWx1ZXNbM10sbz1lLnZhbHVlc1s0XSxsPWUudmFsdWVzWzVdLHMucHVzaCh7dHlwZTpcIkNcIix2YWx1ZXM6W3QsbixhLGksbyxsXX0pLHU9byxoPWwpOlwiY1wiPT09cj8odD11K2UudmFsdWVzWzBdLG49aCtlLnZhbHVlc1sxXSxhPXUrZS52YWx1ZXNbMl0saT1oK2UudmFsdWVzWzNdLG89dStlLnZhbHVlc1s0XSxsPWgrZS52YWx1ZXNbNV0scy5wdXNoKHt0eXBlOlwiQ1wiLHZhbHVlczpbdCxuLGEsaSxvLGxdfSksdT1vLGg9bCk6XCJRXCI9PT1yPyh0PWUudmFsdWVzWzBdLG49ZS52YWx1ZXNbMV0sbz1lLnZhbHVlc1syXSxsPWUudmFsdWVzWzNdLHMucHVzaCh7dHlwZTpcIlFcIix2YWx1ZXM6W3QsbixvLGxdfSksdT1vLGg9bCk6XCJxXCI9PT1yPyh0PXUrZS52YWx1ZXNbMF0sbj1oK2UudmFsdWVzWzFdLG89dStlLnZhbHVlc1syXSxsPWgrZS52YWx1ZXNbM10scy5wdXNoKHt0eXBlOlwiUVwiLHZhbHVlczpbdCxuLG8sbF19KSx1PW8saD1sKTpcIkFcIj09PXI/KG89ZS52YWx1ZXNbNV0sbD1lLnZhbHVlc1s2XSxzLnB1c2goe3R5cGU6XCJBXCIsdmFsdWVzOltlLnZhbHVlc1swXSxlLnZhbHVlc1sxXSxlLnZhbHVlc1syXSxlLnZhbHVlc1szXSxlLnZhbHVlc1s0XSxvLGxdfSksdT1vLGg9bCk6XCJhXCI9PT1yPyhvPXUrZS52YWx1ZXNbNV0sbD1oK2UudmFsdWVzWzZdLHMucHVzaCh7dHlwZTpcIkFcIix2YWx1ZXM6W2UudmFsdWVzWzBdLGUudmFsdWVzWzFdLGUudmFsdWVzWzJdLGUudmFsdWVzWzNdLGUudmFsdWVzWzRdLG8sbF19KSx1PW8saD1sKTpcIkhcIj09PXI/KG89ZS52YWx1ZXNbMF0scy5wdXNoKHt0eXBlOlwiSFwiLHZhbHVlczpbb119KSx1PW8pOlwiaFwiPT09cj8obz11K2UudmFsdWVzWzBdLHMucHVzaCh7dHlwZTpcIkhcIix2YWx1ZXM6W29dfSksdT1vKTpcIlZcIj09PXI/KGw9ZS52YWx1ZXNbMF0scy5wdXNoKHt0eXBlOlwiVlwiLHZhbHVlczpbbF19KSxoPWwpOlwidlwiPT09cj8obD1oK2UudmFsdWVzWzBdLHMucHVzaCh7dHlwZTpcIlZcIix2YWx1ZXM6W2xdfSksaD1sKTpcIlNcIj09PXI/KGE9ZS52YWx1ZXNbMF0saT1lLnZhbHVlc1sxXSxvPWUudmFsdWVzWzJdLGw9ZS52YWx1ZXNbM10scy5wdXNoKHt0eXBlOlwiU1wiLHZhbHVlczpbYSxpLG8sbF19KSx1PW8saD1sKTpcInNcIj09PXI/KGE9dStlLnZhbHVlc1swXSxpPWgrZS52YWx1ZXNbMV0sbz11K2UudmFsdWVzWzJdLGw9aCtlLnZhbHVlc1szXSxzLnB1c2goe3R5cGU6XCJTXCIsdmFsdWVzOlthLGksbyxsXX0pLHU9byxoPWwpOlwiVFwiPT09cj8obz1lLnZhbHVlc1swXSxsPWUudmFsdWVzWzFdLHMucHVzaCh7dHlwZTpcIlRcIix2YWx1ZXM6W28sbF19KSx1PW8saD1sKTpcInRcIj09PXI/KG89dStlLnZhbHVlc1swXSxsPWgrZS52YWx1ZXNbMV0scy5wdXNoKHt0eXBlOlwiVFwiLHZhbHVlczpbbyxsXX0pLHU9byxoPWwpOlwiWlwiIT09ciYmXCJ6XCIhPT1yfHwocy5wdXNoKHt0eXBlOlwiWlwiLHZhbHVlczpbXX0pLHU9cCxoPWMpfSkscykpO3JldHVybiB0aGlzW3ldPXIodCksdH1pZih0aGlzW2ZdKXJldHVybiByKHRoaXNbZl0pO3ZhciBzLHUsaCxwLGMsbj1hKHRoaXMuZ2V0QXR0cmlidXRlKFwiZFwiKXx8XCJcIik7cmV0dXJuIHRoaXNbZl09cihuKSxufSxlLlNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5zZXRQYXRoRGF0YT1mdW5jdGlvbihlKXtpZigwPT09ZS5sZW5ndGgpbD90aGlzLnNldEF0dHJpYnV0ZShcImRcIixcIlwiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImRcIik7ZWxzZXtmb3IodmFyIHQ9XCJcIixuPTAsYT1lLmxlbmd0aDtuPGE7bis9MSl7dmFyIGk9ZVtuXTswPG4mJih0Kz1cIiBcIiksdCs9aS50eXBlLGkudmFsdWVzJiYwPGkudmFsdWVzLmxlbmd0aCYmKHQrPVwiIFwiK2kudmFsdWVzLmpvaW4oXCIgXCIpKX10aGlzLnNldEF0dHJpYnV0ZShcImRcIix0KX19LGUuU1ZHUmVjdEVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueC5iYXNlVmFsLnZhbHVlLG49dGhpcy55LmJhc2VWYWwudmFsdWUsYT10aGlzLndpZHRoLmJhc2VWYWwudmFsdWUsaT10aGlzLmhlaWdodC5iYXNlVmFsLnZhbHVlLG89dGhpcy5oYXNBdHRyaWJ1dGUoXCJyeFwiKT90aGlzLnJ4LmJhc2VWYWwudmFsdWU6dGhpcy5yeS5iYXNlVmFsLnZhbHVlLGw9dGhpcy5oYXNBdHRyaWJ1dGUoXCJyeVwiKT90aGlzLnJ5LmJhc2VWYWwudmFsdWU6dGhpcy5yeC5iYXNlVmFsLnZhbHVlO2EvMjxvJiYobz1hLzIpLGkvMjxsJiYobD1pLzIpO3ZhciByPShyPVt7dHlwZTpcIk1cIix2YWx1ZXM6W3QrbyxuXX0se3R5cGU6XCJIXCIsdmFsdWVzOlt0K2Etb119LHt0eXBlOlwiQVwiLHZhbHVlczpbbyxsLDAsMCwxLHQrYSxuK2xdfSx7dHlwZTpcIlZcIix2YWx1ZXM6W24raS1sXX0se3R5cGU6XCJBXCIsdmFsdWVzOltvLGwsMCwwLDEsdCthLW8sbitpXX0se3R5cGU6XCJIXCIsdmFsdWVzOlt0K29dfSx7dHlwZTpcIkFcIix2YWx1ZXM6W28sbCwwLDAsMSx0LG4raS1sXX0se3R5cGU6XCJWXCIsdmFsdWVzOltuK2xdfSx7dHlwZTpcIkFcIix2YWx1ZXM6W28sbCwwLDAsMSx0K28sbl19LHt0eXBlOlwiWlwiLHZhbHVlczpbXX1dKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJBXCIhPT1lLnR5cGV8fDAhPT1lLnZhbHVlc1swXSYmMCE9PWUudmFsdWVzWzFdfSk7cmV0dXJuIGUmJiEwPT09ZS5ub3JtYWxpemUmJihyPWQocikpLHJ9LGUuU1ZHQ2lyY2xlRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jeC5iYXNlVmFsLnZhbHVlLG49dGhpcy5jeS5iYXNlVmFsLnZhbHVlLGE9dGhpcy5yLmJhc2VWYWwudmFsdWUsaT1be3R5cGU6XCJNXCIsdmFsdWVzOlt0K2Esbl19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxhLDAsMCwxLHQsbithXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGEsMCwwLDEsdC1hLG5dfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsYSwwLDAsMSx0LG4tYV19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxhLDAsMCwxLHQrYSxuXX0se3R5cGU6XCJaXCIsdmFsdWVzOltdfV07cmV0dXJuIGUmJiEwPT09ZS5ub3JtYWxpemUmJihpPWQoaSkpLGl9LGUuU1ZHRWxsaXBzZUVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY3guYmFzZVZhbC52YWx1ZSxuPXRoaXMuY3kuYmFzZVZhbC52YWx1ZSxhPXRoaXMucnguYmFzZVZhbC52YWx1ZSxpPXRoaXMucnkuYmFzZVZhbC52YWx1ZSxvPVt7dHlwZTpcIk1cIix2YWx1ZXM6W3QrYSxuXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGksMCwwLDEsdCxuK2ldfSx7dHlwZTpcIkFcIix2YWx1ZXM6W2EsaSwwLDAsMSx0LWEsbl19LHt0eXBlOlwiQVwiLHZhbHVlczpbYSxpLDAsMCwxLHQsbi1pXX0se3R5cGU6XCJBXCIsdmFsdWVzOlthLGksMCwwLDEsdCthLG5dfSx7dHlwZTpcIlpcIix2YWx1ZXM6W119XTtyZXR1cm4gZSYmITA9PT1lLm5vcm1hbGl6ZSYmKG89ZChvKSksb30sZS5TVkdMaW5lRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oKXtyZXR1cm5be3R5cGU6XCJNXCIsdmFsdWVzOlt0aGlzLngxLmJhc2VWYWwudmFsdWUsdGhpcy55MS5iYXNlVmFsLnZhbHVlXX0se3R5cGU6XCJMXCIsdmFsdWVzOlt0aGlzLngyLmJhc2VWYWwudmFsdWUsdGhpcy55Mi5iYXNlVmFsLnZhbHVlXX1dfSxlLlNWR1BvbHlsaW5lRWxlbWVudC5wcm90b3R5cGUuZ2V0UGF0aERhdGE9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5wb2ludHMubnVtYmVyT2ZJdGVtczt0Kz0xKXt2YXIgbj10aGlzLnBvaW50cy5nZXRJdGVtKHQpO2UucHVzaCh7dHlwZTowPT09dD9cIk1cIjpcIkxcIix2YWx1ZXM6W24ueCxuLnldfSl9cmV0dXJuIGV9LGUuU1ZHUG9seWdvbkVsZW1lbnQucHJvdG90eXBlLmdldFBhdGhEYXRhPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PHRoaXMucG9pbnRzLm51bWJlck9mSXRlbXM7dCs9MSl7dmFyIG49dGhpcy5wb2ludHMuZ2V0SXRlbSh0KTtlLnB1c2goe3R5cGU6MD09PXQ/XCJNXCI6XCJMXCIsdmFsdWVzOltuLngsbi55XX0pfXJldHVybiBlLnB1c2goe3R5cGU6XCJaXCIsdmFsdWVzOltdfSksZX19KCl9LHY9KGE9e30seGUubT1uPVtmdW5jdGlvbihlLHQsbil7bi5yKHQpO3ZhciBhPTUwMCxpPVtdLG89d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLDFlMy82MCl9LGw9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGUpe3JldHVybiBjbGVhclRpbWVvdXQoZSl9LHI9RGF0ZS5ub3coKSxzPXZvaWQgMDtmdW5jdGlvbiB1KCl7dmFyIG49dm9pZCAwLGU9dm9pZCAwO3MmJihsLmNhbGwod2luZG93LHMpLHM9bnVsbCksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PWUuZXZlbnQpJiYoZS5ldmVudD1udWxsLGUubGlzdGVuZXIodCksbj0hMCl9KSxuPyhyPURhdGUubm93KCksZT0hMCk6RGF0ZS5ub3coKS1yPGEmJihlPSEwKSxlJiYocz1vLmNhbGwod2luZG93LHUpKX1mdW5jdGlvbiBoKG4pe3ZhciBhPS0xO3JldHVybiBpLnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5saXN0ZW5lcj09PW4mJihhPXQsITApfSksYX12YXIgcD17YWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMDtyZXR1cm4tMT09PWgoZSk/KGkucHVzaCh0PXtsaXN0ZW5lcjplfSksZnVuY3Rpb24oZSl7dC5ldmVudD1lLHN8fHUoKX0pOm51bGx9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdDstMTwodD1oKGUpKSYmKGkuc3BsaWNlKHQsMSksIWkubGVuZ3RoJiZzJiYobC5jYWxsKHdpbmRvdyxzKSxzPW51bGwpKX19O3QuZGVmYXVsdD1wfV0seGUuYz1hLHhlLmQ9ZnVuY3Rpb24oZSx0LG4pe3hlLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSx4ZS5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LHhlLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PXhlKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoeGUucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGEgaW4gdCl4ZS5kKG4sYSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGEpKTtyZXR1cm4gbn0seGUubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4geGUuZCh0LFwiYVwiLHQpLHR9LHhlLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHhlLnA9XCJcIix4ZSh4ZS5zPTApLmRlZmF1bHQpLG1lPXtsaW5lX2FsdENvbG9yOntpbmlWYWx1ZTohMX0sbGluZV9jb2xvcjp7fSxsaW5lX2NvbG9yVHJhOntpbmlWYWx1ZTohMX0sbGluZV9zdHJva2VXaWR0aDp7fSxwbHVnX2VuYWJsZWQ6e2luaVZhbHVlOiExfSxwbHVnX2VuYWJsZWRTRTp7aGFzU0U6ITAsaW5pVmFsdWU6ITF9LHBsdWdfcGx1Z1NFOntoYXNTRTohMCxpbmlWYWx1ZTpuZX0scGx1Z19jb2xvclNFOntoYXNTRTohMH0scGx1Z19jb2xvclRyYVNFOntoYXNTRTohMCxpbmlWYWx1ZTohMX0scGx1Z19tYXJrZXJXaWR0aFNFOntoYXNTRTohMH0scGx1Z19tYXJrZXJIZWlnaHRTRTp7aGFzU0U6ITB9LGxpbmVPdXRsaW5lX2VuYWJsZWQ6e2luaVZhbHVlOiExfSxsaW5lT3V0bGluZV9jb2xvcjp7fSxsaW5lT3V0bGluZV9jb2xvclRyYTp7aW5pVmFsdWU6ITF9LGxpbmVPdXRsaW5lX3N0cm9rZVdpZHRoOnt9LGxpbmVPdXRsaW5lX2luU3Ryb2tlV2lkdGg6e30scGx1Z091dGxpbmVfZW5hYmxlZFNFOntoYXNTRTohMCxpbmlWYWx1ZTohMX0scGx1Z091dGxpbmVfcGx1Z1NFOntoYXNTRTohMCxpbmlWYWx1ZTpuZX0scGx1Z091dGxpbmVfY29sb3JTRTp7aGFzU0U6ITB9LHBsdWdPdXRsaW5lX2NvbG9yVHJhU0U6e2hhc1NFOiEwLGluaVZhbHVlOiExfSxwbHVnT3V0bGluZV9zdHJva2VXaWR0aFNFOntoYXNTRTohMH0scGx1Z091dGxpbmVfaW5TdHJva2VXaWR0aFNFOntoYXNTRTohMH0scG9zaXRpb25fc29ja2V0WFlTRTp7aGFzU0U6ITAsaGFzUHJvcHM6ITB9LHBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFOntoYXNTRTohMH0scG9zaXRpb25fcGF0aDp7fSxwb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGg6e30scG9zaXRpb25fc29ja2V0R3Jhdml0eVNFOntoYXNTRTohMH0scGF0aF9wYXRoRGF0YTp7fSxwYXRoX2VkZ2U6e2hhc1Byb3BzOiEwfSx2aWV3Qm94X2JCb3g6e2hhc1Byb3BzOiEwfSx2aWV3Qm94X3BsdWdCQ2lyY2xlU0U6e2hhc1NFOiEwfSxsaW5lTWFza19lbmFibGVkOntpbmlWYWx1ZTohMX0sbGluZU1hc2tfb3V0bGluZU1vZGU6e2luaVZhbHVlOiExfSxsaW5lTWFza194Ont9LGxpbmVNYXNrX3k6e30sbGluZU91dGxpbmVNYXNrX3g6e30sbGluZU91dGxpbmVNYXNrX3k6e30sbWFza0JHUmVjdF94Ont9LG1hc2tCR1JlY3RfeTp7fSxjYXBzTWFza0FuY2hvcl9lbmFibGVkU0U6e2hhc1NFOiEwLGluaVZhbHVlOiExfSxjYXBzTWFza0FuY2hvcl9wYXRoRGF0YVNFOntoYXNTRTohMH0sY2Fwc01hc2tBbmNob3Jfc3Ryb2tlV2lkdGhTRTp7aGFzU0U6ITB9LGNhcHNNYXNrTWFya2VyX2VuYWJsZWQ6e2luaVZhbHVlOiExfSxjYXBzTWFza01hcmtlcl9lbmFibGVkU0U6e2hhc1NFOiEwLGluaVZhbHVlOiExfSxjYXBzTWFza01hcmtlcl9wbHVnU0U6e2hhc1NFOiEwLGluaVZhbHVlOm5lfSxjYXBzTWFza01hcmtlcl9tYXJrZXJXaWR0aFNFOntoYXNTRTohMH0sY2Fwc01hc2tNYXJrZXJfbWFya2VySGVpZ2h0U0U6e2hhc1NFOiEwfSxjYXBzX2VuYWJsZWQ6e2luaVZhbHVlOiExfSxhdHRhY2hfcGx1Z1NpZGVMZW5TRTp7aGFzU0U6ITB9LGF0dGFjaF9wbHVnQmFja0xlblNFOntoYXNTRTohMH19LEU9e3Nob3dfb246e30sc2hvd19lZmZlY3Q6e30sc2hvd19hbmltT3B0aW9uczp7fSxzaG93X2FuaW1JZDp7fSxzaG93X2luQW5pbTp7fX0sTz1cImZhZGVcIixTZT1bXSxnZT17fSxfZT0wLHZlPXt9LEVlPTA7ZnVuY3Rpb24geGUoZSl7aWYoYVtlXSlyZXR1cm4gYVtlXS5leHBvcnRzO3ZhciB0PWFbZV09e2k6ZSxsOiExLGV4cG9ydHM6e319O3JldHVybiBuW2VdLmNhbGwodC5leHBvcnRzLHQsdC5leHBvcnRzLHhlKSx0Lmw9ITAsdC5leHBvcnRzfWZ1bmN0aW9uIGJlKCl7dmFyIGk9RGF0ZS5ub3coKSxvPSExO2UmJihyLmNhbGwod2luZG93LGUpLGU9bnVsbCksay5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYTtpZihlLmZyYW1lc1N0YXJ0KXtpZigodD1pLWUuZnJhbWVzU3RhcnQpPj1lLmR1cmF0aW9uJiZlLmNvdW50JiZlLmxvb3BzTGVmdDw9MSlyZXR1cm4gYT1lLmZyYW1lc1tlLmxhc3RGcmFtZT1lLnJldmVyc2U/MDplLmZyYW1lcy5sZW5ndGgtMV0sZS5mcmFtZUNhbGxiYWNrKGEudmFsdWUsITAsYS50aW1lUmF0aW8sYS5vdXRwdXRSYXRpbyksdm9pZChlLmZyYW1lc1N0YXJ0PW51bGwpO2lmKHQ+ZS5kdXJhdGlvbil7aWYobj1NYXRoLmZsb29yKHQvZS5kdXJhdGlvbiksZS5jb3VudCl7aWYobj49ZS5sb29wc0xlZnQpcmV0dXJuIGE9ZS5mcmFtZXNbZS5sYXN0RnJhbWU9ZS5yZXZlcnNlPzA6ZS5mcmFtZXMubGVuZ3RoLTFdLGUuZnJhbWVDYWxsYmFjayhhLnZhbHVlLCEwLGEudGltZVJhdGlvLGEub3V0cHV0UmF0aW8pLHZvaWQoZS5mcmFtZXNTdGFydD1udWxsKTtlLmxvb3BzTGVmdC09bn1lLmZyYW1lc1N0YXJ0Kz1lLmR1cmF0aW9uKm4sdD1pLWUuZnJhbWVzU3RhcnR9ZS5yZXZlcnNlJiYodD1lLmR1cmF0aW9uLXQpLGE9ZS5mcmFtZXNbZS5sYXN0RnJhbWU9TWF0aC5yb3VuZCh0L2IpXSwhMSE9PWUuZnJhbWVDYWxsYmFjayhhLnZhbHVlLCExLGEudGltZVJhdGlvLGEub3V0cHV0UmF0aW8pP289ITA6ZS5mcmFtZXNTdGFydD1udWxsfX0pLG8mJihlPWwuY2FsbCh3aW5kb3csYmUpKX1mdW5jdGlvbiBrZShlLHQpe2UuZnJhbWVzU3RhcnQ9RGF0ZS5ub3coKSxudWxsIT10JiYoZS5mcmFtZXNTdGFydC09ZS5kdXJhdGlvbiooZS5yZXZlcnNlPzEtdDp0KSksZS5sb29wc0xlZnQ9ZS5jb3VudCxlLmxhc3RGcmFtZT1udWxsLGJlKCl9ZnVuY3Rpb24gd2UodCxuKXt2YXIgZSxhO3JldHVybiB0eXBlb2YgdCE9dHlwZW9mIG58fChlPWZlKHQpP1wib2JqXCI6QXJyYXkuaXNBcnJheSh0KT9cImFycmF5XCI6XCJcIikhPShmZShuKT9cIm9ialwiOkFycmF5LmlzQXJyYXkobik/XCJhcnJheVwiOlwiXCIpfHwoXCJvYmpcIj09PWU/d2UoYT1PYmplY3Qua2V5cyh0KS5zb3J0KCksT2JqZWN0LmtleXMobikuc29ydCgpKXx8YS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiB3ZSh0W2VdLG5bZV0pfSk6XCJhcnJheVwiPT09ZT90Lmxlbmd0aCE9PW4ubGVuZ3RofHx0LnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4gd2UoZSxuW3RdKX0pOnQhPT1uKX1mdW5jdGlvbiBPZShuKXtyZXR1cm4gbj9mZShuKT9PYmplY3Qua2V5cyhuKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT1PZShuW3RdKSxlfSx7fSk6QXJyYXkuaXNBcnJheShuKT9uLm1hcChPZSk6bjpufWZ1bmN0aW9uIE1lKGUpe3ZhciB0LG4sYSxpPTEsbz1lPShlK1wiXCIpLnRyaW0oKTtmdW5jdGlvbiBsKGUpe3ZhciB0PTEsbj1tLmV4ZWMoZSk7cmV0dXJuIG4mJih0PXBhcnNlRmxvYXQoblsxXSksblsyXT90PTA8PXQmJnQ8PTEwMD90LzEwMDoxOih0PDB8fDE8dCkmJih0PTEpKSx0fXJldHVybih0PS9eKHJnYmF8aHNsYXxod2J8Z3JheXxkZXZpY2VcXC1jbXlrKVxccypcXCgoW1xcc1xcU10rKVxcKSQvaS5leGVjKGUpKT8obj10WzFdLnRvTG93ZXJDYXNlKCksYT10WzJdLnRyaW0oKS5zcGxpdCgvXFxzKixcXHMqLyksXCJyZ2JhXCI9PT1uJiY0PT09YS5sZW5ndGg/KGk9bChhWzNdKSxvPVwicmdiKFwiK2Euc2xpY2UoMCwzKS5qb2luKFwiLCBcIikrXCIpXCIpOlwiaHNsYVwiPT09biYmND09PWEubGVuZ3RoPyhpPWwoYVszXSksbz1cImhzbChcIithLnNsaWNlKDAsMykuam9pbihcIiwgXCIpK1wiKVwiKTpcImh3YlwiPT09biYmND09PWEubGVuZ3RoPyhpPWwoYVszXSksbz1cImh3YihcIithLnNsaWNlKDAsMykuam9pbihcIiwgXCIpK1wiKVwiKTpcImdyYXlcIj09PW4mJjI9PT1hLmxlbmd0aD8oaT1sKGFbMV0pLG89XCJncmF5KFwiK2FbMF0rXCIpXCIpOlwiZGV2aWNlLWNteWtcIj09PW4mJjU8PWEubGVuZ3RoJiYoaT1sKGFbNF0pLG89XCJkZXZpY2UtY215ayhcIithLnNsaWNlKDAsNCkuam9pbihcIiwgXCIpK1wiKVwiKSk6KHQ9L15cXCMoPzooW1xcZGEtZl17Nn0pKFtcXGRhLWZdezJ9KXwoW1xcZGEtZl17M30pKFtcXGRhLWZdKSkkL2kuZXhlYyhlKSk/bz10WzFdPyhpPXBhcnNlSW50KHRbMl0sMTYpLzI1NSxcIiNcIit0WzFdKTooaT1wYXJzZUludCh0WzRdK3RbNF0sMTYpLzI1NSxcIiNcIit0WzNdKTpcInRyYW5zcGFyZW50XCI9PT1lLnRvTG9jYWxlTG93ZXJDYXNlKCkmJihpPTApLFtpLG9dfWZ1bmN0aW9uIEllKGUpe3JldHVybiEoIWV8fGUubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpfWZ1bmN0aW9uIENlKGUsdCl7dmFyIG4sYSxpLG8sbD17fTtpZighKGk9ZS5vd25lckRvY3VtZW50KSlyZXR1cm4gY29uc29sZS5lcnJvcihcIkNhbm5vdCBnZXQgZG9jdW1lbnQgdGhhdCBjb250YWlucyB0aGUgZWxlbWVudC5cIiksbnVsbDtpZihlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRElTQ09OTkVDVEVEKXJldHVybiBjb25zb2xlLmVycm9yKFwiQSBkaXNjb25uZWN0ZWQgZWxlbWVudCB3YXMgcGFzc2VkLlwiKSxudWxsO2ZvcihhIGluIG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSlsW2FdPW5bYV07aWYoIXQpe2lmKCEobz1pLmRlZmF1bHRWaWV3KSlyZXR1cm4gY29uc29sZS5lcnJvcihcIkNhbm5vdCBnZXQgd2luZG93IHRoYXQgY29udGFpbnMgdGhlIGVsZW1lbnQuXCIpLG51bGw7bC5sZWZ0Kz1vLnBhZ2VYT2Zmc2V0LGwucmlnaHQrPW8ucGFnZVhPZmZzZXQsbC50b3ArPW8ucGFnZVlPZmZzZXQsbC5ib3R0b20rPW8ucGFnZVlPZmZzZXR9cmV0dXJuIGx9ZnVuY3Rpb24gTGUoZSx0KXt2YXIgbixhLGk9W10sbz1lO2Zvcih0PXR8fHdpbmRvdzs7KXtpZighKG49by5vd25lckRvY3VtZW50KSlyZXR1cm4gY29uc29sZS5lcnJvcihcIkNhbm5vdCBnZXQgZG9jdW1lbnQgdGhhdCBjb250YWlucyB0aGUgZWxlbWVudC5cIiksbnVsbDtpZighKGE9bi5kZWZhdWx0VmlldykpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgZ2V0IHdpbmRvdyB0aGF0IGNvbnRhaW5zIHRoZSBlbGVtZW50LlwiKSxudWxsO2lmKGE9PT10KWJyZWFrO2lmKCEobz1hLmZyYW1lRWxlbWVudCkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJgYmFzZVdpbmRvd2Agd2FzIG5vdCBmb3VuZC5cIiksbnVsbDtpLnVuc2hpZnQobyl9cmV0dXJuIGl9ZnVuY3Rpb24gQWUoZSx0KXt2YXIgbixhLG89MCxsPTA7cmV0dXJuKGE9TGUoZSx0PXR8fHdpbmRvdykpP2EubGVuZ3RoPyhhLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9Q2UoZSwwPHQpO28rPWkubGVmdCxsKz1pLnRvcCxhPShuPWUpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShuLFwiXCIpLGk9e2xlZnQ6bi5jbGllbnRMZWZ0K3BhcnNlRmxvYXQoYS5wYWRkaW5nTGVmdCksdG9wOm4uY2xpZW50VG9wK3BhcnNlRmxvYXQoYS5wYWRkaW5nVG9wKX0sbys9aS5sZWZ0LGwrPWkudG9wfSksKG49Q2UoZSwhMCkpLmxlZnQrPW8sbi5yaWdodCs9byxuLnRvcCs9bCxuLmJvdHRvbSs9bCxuKTpDZShlKTpudWxsfWZ1bmN0aW9uIFZlKGUsdCl7dmFyIG49ZS54LXQueCxhPWUueS10Lnk7cmV0dXJuIE1hdGguc3FydChuKm4rYSphKX1mdW5jdGlvbiBQZShlLHQsbil7dmFyIGE9dC54LWUueCxpPXQueS1lLnk7cmV0dXJue3g6ZS54K2Eqbix5OmUueStpKm4sYW5nbGU6TWF0aC5hdGFuMihpLGEpLyhNYXRoLlBJLzE4MCl9fWZ1bmN0aW9uIE5lKGUsdCxuKXt2YXIgYT1NYXRoLmF0YW4yKGUueS10LnksdC54LWUueCk7cmV0dXJue3g6dC54K01hdGguY29zKGEpKm4seTp0LnkrTWF0aC5zaW4oYSkqbiotMX19ZnVuY3Rpb24gVGUoZSx0LG4sYSxpKXt2YXIgbz1pKmksbD1vKmkscj0xLWkscz1yKnIsdT1zKnIsaD11KmUueCszKnMqaSp0LngrMypyKm8qbi54K2wqYS54LHA9dSplLnkrMypzKmkqdC55KzMqcipvKm4ueStsKmEueSxjPWUueCsyKmkqKHQueC1lLngpK28qKG4ueC0yKnQueCtlLngpLGQ9ZS55KzIqaSoodC55LWUueSkrbyoobi55LTIqdC55K2UueSksZj10LngrMippKihuLngtdC54KStvKihhLngtMipuLngrdC54KSx5PXQueSsyKmkqKG4ueS10LnkpK28qKGEueS0yKm4ueSt0LnkpLG09ciplLngraSp0LngsUz1yKmUueStpKnQueSxnPXIqbi54K2kqYS54LF89cipuLnkraSphLnksdj05MC0xODAqTWF0aC5hdGFuMihjLWYsZC15KS9NYXRoLlBJO3JldHVybnt4OmgseTpwLGZyb21QMjp7eDpjLHk6ZH0sdG9QMTp7eDpmLHk6eX0sZnJvbVAxOnt4Om0seTpTfSx0b1AyOnt4OmcseTpffSxhbmdsZTp2Kz0xODA8dj8tMTgwOjE4MH19ZnVuY3Rpb24gV2UobixhLGksbyxlKXtmdW5jdGlvbiBsKGUsdCxuLGEsaSl7cmV0dXJuIGUqKGUqKC0zKnQrOSpuLTkqYSszKmkpKzYqdC0xMipuKzYqYSktMyp0KzMqbn12YXIgcixzLHUsaCxwPVsuMjQ5MSwuMjQ5MSwuMjMzNSwuMjMzNSwuMjAzMiwuMjAzMiwuMTYwMSwuMTYwMSwuMTA2OSwuMTA2OSwuMDQ3MiwuMDQ3Ml0sYz0wLGQ9KGU9bnVsbD09ZXx8MTxlPzE6ZTwwPzA6ZSkvMjtyZXR1cm5bLS4xMjUyLC4xMjUyLC0uMzY3OCwuMzY3OCwtLjU4NzMsLjU4NzMsLS43Njk5LC43Njk5LC0uOTA0MSwuOTA0MSwtLjk4MTYsLjk4MTZdLmZvckVhY2goZnVuY3Rpb24oZSx0KXtzPWwocj1kKmUrZCxuLngsYS54LGkueCxvLngpLHU9bChyLG4ueSxhLnksaS55LG8ueSksaD1zKnMrdSp1LGMrPXBbdF0qTWF0aC5zcXJ0KGgpfSksZCpjfWZ1bmN0aW9uIEJlKGUsdCxuLGEsaSl7Zm9yKHZhciBvLGw9LjUscj0xLWw7bz1XZShlLHQsbixhLHIpLCEoTWF0aC5hYnMoby1pKTw9LjAxKTspcis9KG88aT8xOi0xKSoobC89Mik7cmV0dXJuIHJ9ZnVuY3Rpb24gUmUoZSxuKXt2YXIgYTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4/ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9e3g6ZS54LHk6ZS55fTtyZXR1cm4gbih0KSx0fSk6ZTsoYT1hfHxbe3R5cGU6XCJNXCIsdmFsdWVzOlt0WzBdLngsdFswXS55XX1dKS5wdXNoKHQubGVuZ3RoPzI9PT10Lmxlbmd0aD97dHlwZTpcIkxcIix2YWx1ZXM6W3RbMV0ueCx0WzFdLnldfTp7dHlwZTpcIkNcIix2YWx1ZXM6W3RbMV0ueCx0WzFdLnksdFsyXS54LHRbMl0ueSx0WzNdLngsdFszXS55XX06e3R5cGU6XCJaXCIsdmFsdWVzOltdfSl9KSxhfWZ1bmN0aW9uIEZlKGUpe3ZhciBuPVtdLGE9MDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PSgyPT09ZS5sZW5ndGg/VmU6V2UpLmFwcGx5KG51bGwsZSk7bi5wdXNoKHQpLGErPXR9KSx7c2Vnc0xlbjpuLGxlbkFsbDphfX1mdW5jdGlvbiBHZShlLGEpe3JldHVybiBudWxsPT1lfHxudWxsPT1hfHxlLmxlbmd0aCE9PWEubGVuZ3RofHxlLnNvbWUoZnVuY3Rpb24oZSx0KXt2YXIgbj1hW3RdO3JldHVybiBlLnR5cGUhPT1uLnR5cGV8fGUudmFsdWVzLnNvbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PW4udmFsdWVzW3RdfSl9KX1mdW5jdGlvbiBEZShlLHQsbil7ZS5ldmVudHNbdF0/ZS5ldmVudHNbdF0uaW5kZXhPZihuKTwwJiZlLmV2ZW50c1t0XS5wdXNoKG4pOmUuZXZlbnRzW3RdPVtuXX1mdW5jdGlvbiB6ZShlLHQsbil7dmFyIGE7ZS5ldmVudHNbdF0mJi0xPChhPWUuZXZlbnRzW3RdLmluZGV4T2YobikpJiZlLmV2ZW50c1t0XS5zcGxpY2UoYSwxKX1mdW5jdGlvbiBqZShlKXt0JiZjbGVhclRpbWVvdXQodCksU2UucHVzaChlKSx0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtTZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UoKX0pLFNlPVtdfSwwKX1mdW5jdGlvbiBIZShlLHQpe2UucmVmbG93VGFyZ2V0cy5pbmRleE9mKHQpPDAmJmUucmVmbG93VGFyZ2V0cy5wdXNoKHQpfWZ1bmN0aW9uIFVlKGUpe2UucmVmbG93VGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuO249ZSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU9bi5wYXJlbnROb2RlLHQ9bi5uZXh0U2libGluZztlLmluc2VydEJlZm9yZShlLnJlbW92ZUNoaWxkKG4pLHQpfSwwKX0pLGUucmVmbG93VGFyZ2V0cz1bXX1mdW5jdGlvbiBaZShlLHQsbixhLGksbyxsKXt2YXIgcixzLHU7XCJhdXRvLXN0YXJ0LXJldmVyc2VcIj09PW4/KFwiYm9vbGVhblwiIT10eXBlb2YgaCYmKHQuc2V0QXR0cmlidXRlKFwib3JpZW50XCIsXCJhdXRvLXN0YXJ0LXJldmVyc2VcIiksaD10Lm9yaWVudFR5cGUuYmFzZVZhbD09PVNWR01hcmtlckVsZW1lbnQuU1ZHX01BUktFUl9PUklFTlRfVU5LTk9XTiksaD90LnNldEF0dHJpYnV0ZShcIm9yaWVudFwiLG4pOigocj1pLmNyZWF0ZVNWR1RyYW5zZm9ybSgpKS5zZXRSb3RhdGUoMTgwLDAsMCksby50cmFuc2Zvcm0uYmFzZVZhbC5hcHBlbmRJdGVtKHIpLHQuc2V0QXR0cmlidXRlKFwib3JpZW50XCIsXCJhdXRvXCIpLHU9ITApKToodC5zZXRBdHRyaWJ1dGUoXCJvcmllbnRcIixuKSwhMT09PWgmJm8udHJhbnNmb3JtLmJhc2VWYWwuY2xlYXIoKSkscz10LnZpZXdCb3guYmFzZVZhbCx1PyhzLng9LWEucmlnaHQscy55PS1hLmJvdHRvbSk6KHMueD1hLmxlZnQscy55PWEudG9wKSxzLndpZHRoPWEud2lkdGgscy5oZWlnaHQ9YS5oZWlnaHQsc2UmJkhlKGUsbCl9ZnVuY3Rpb24gWWUoZSx0KXtyZXR1cm57cHJvcDplP1wibWFya2VyRW5kXCI6XCJtYXJrZXJTdGFydFwiLG9yaWVudDp0P3Qubm9Sb3RhdGU/XCIwXCI6ZT9cImF1dG9cIjpcImF1dG8tc3RhcnQtcmV2ZXJzZVwiOm51bGx9fWZ1bmN0aW9uIFhlKG4sYSl7T2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1hW2VdO25bZV09bnVsbCE9dC5pbmlWYWx1ZT90Lmhhc1NFP1t0LmluaVZhbHVlLHQuaW5pVmFsdWVdOnQuaW5pVmFsdWU6dC5oYXNTRT90Lmhhc1Byb3BzP1t7fSx7fV06W106dC5oYXNQcm9wcz97fTpudWxsfSl9ZnVuY3Rpb24gcWUodCxlLG4sYSxpKXtyZXR1cm4gYSE9PWVbbl0mJihlW25dPWEsaSYmaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UodCxhLG4pfSksITApfWZ1bmN0aW9uIFFlKGUpe2Z1bmN0aW9uIHQoZSx0KXtyZXR1cm4gZStwYXJzZUZsb2F0KHQpfXZhciBuPWUuZG9jdW1lbnQsYT1lLmdldENvbXB1dGVkU3R5bGUobi5kb2N1bWVudEVsZW1lbnQsXCJcIiksaT1lLmdldENvbXB1dGVkU3R5bGUobi5ib2R5LFwiXCIpLG89e3g6MCx5OjB9O3JldHVyblwic3RhdGljXCIhPT1pLnBvc2l0aW9uPyhvLngtPVthLm1hcmdpbkxlZnQsYS5ib3JkZXJMZWZ0V2lkdGgsYS5wYWRkaW5nTGVmdCxpLm1hcmdpbkxlZnQsaS5ib3JkZXJMZWZ0V2lkdGhdLnJlZHVjZSh0LDApLG8ueS09W2EubWFyZ2luVG9wLGEuYm9yZGVyVG9wV2lkdGgsYS5wYWRkaW5nVG9wLGkubWFyZ2luVG9wLGkuYm9yZGVyVG9wV2lkdGhdLnJlZHVjZSh0LDApKTpcInN0YXRpY1wiIT09YS5wb3NpdGlvbiYmKG8ueC09W2EubWFyZ2luTGVmdCxhLmJvcmRlckxlZnRXaWR0aF0ucmVkdWNlKHQsMCksby55LT1bYS5tYXJnaW5Ub3AsYS5ib3JkZXJUb3BXaWR0aF0ucmVkdWNlKHQsMCkpLG99ZnVuY3Rpb24gS2UoZSl7dmFyIHQsbj1lLmRvY3VtZW50O24uZ2V0RWxlbWVudEJ5SWQoZCl8fCh0PShuZXcgZS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh5LFwiaW1hZ2Uvc3ZnK3htbFwiKSxuLmJvZHkuYXBwZW5kQ2hpbGQodC5kb2N1bWVudEVsZW1lbnQpLF8oZSkpfWZ1bmN0aW9uIEplKHUpe3ZhciBfLGYsdixlLG4sYSxpLHkscyxoLHAsdCxvLGwscixjLGQsbSxTLGc9dS5vcHRpb25zLEU9dS5jdXJTdGF0cyx4PXUuYXBsU3RhdHMsYj1FLnBvc2l0aW9uX3NvY2tldFhZU0Usaz0hMTtmdW5jdGlvbiB3KGUsdCl7dmFyIG49dD09PVY/e3g6ZS5sZWZ0K2Uud2lkdGgvMix5OmUudG9wfTp0PT09UD97eDplLnJpZ2h0LHk6ZS50b3ArZS5oZWlnaHQvMn06dD09PU4/e3g6ZS5sZWZ0K2Uud2lkdGgvMix5OmUuYm90dG9tfTp7eDplLmxlZnQseTplLnRvcCtlLmhlaWdodC8yfTtyZXR1cm4gbi5zb2NrZXRJZD10LG59ZnVuY3Rpb24gTyhlKXtyZXR1cm57eDplLngseTplLnl9fWlmKEUucG9zaXRpb25fcGF0aD1nLnBhdGgsRS5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGg9RS5saW5lX3N0cm9rZVdpZHRoLEUucG9zaXRpb25fc29ja2V0R3Jhdml0eVNFPV89T2UoZy5zb2NrZXRHcmF2aXR5U0UpLGY9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0LG4sYSxpPWcuYW5jaG9yU0VbZV0sbz11Lm9wdGlvbklzQXR0YWNoLmFuY2hvclNFW2VdLGw9ITEhPT1vP3ZlW2kuX2lkXTpudWxsLHI9ITEhPT1vJiZsLmNvbmYuZ2V0U3Ryb2tlV2lkdGg/bC5jb25mLmdldFN0cm9rZVdpZHRoKGwsdSk6MCxzPSExIT09byYmbC5jb25mLmdldEJCb3hOZXN0P2wuY29uZi5nZXRCQm94TmVzdChsLHUscik6QWUoaSx1LmJhc2VXaW5kb3cpO3JldHVybiBFLmNhcHNNYXNrQW5jaG9yX3BhdGhEYXRhU0VbZV09ITEhPT1vJiZsLmNvbmYuZ2V0UGF0aERhdGE/bC5jb25mLmdldFBhdGhEYXRhKGwsdSxyKToobj1udWxsIT0odD1zKS5yaWdodD90LnJpZ2h0OnQubGVmdCt0LndpZHRoLGE9bnVsbCE9dC5ib3R0b20/dC5ib3R0b206dC50b3ArdC5oZWlnaHQsW3t0eXBlOlwiTVwiLHZhbHVlczpbdC5sZWZ0LHQudG9wXX0se3R5cGU6XCJMXCIsdmFsdWVzOltuLHQudG9wXX0se3R5cGU6XCJMXCIsdmFsdWVzOltuLGFdfSx7dHlwZTpcIkxcIix2YWx1ZXM6W3QubGVmdCxhXX0se3R5cGU6XCJaXCIsdmFsdWVzOltdfV0pLEUuY2Fwc01hc2tBbmNob3Jfc3Ryb2tlV2lkdGhTRVtlXT1yLHN9KSxpPS0xLGcuc29ja2V0U0VbMF0mJmcuc29ja2V0U0VbMV0/KGJbMF09dyhmWzBdLGcuc29ja2V0U0VbMF0pLGJbMV09dyhmWzFdLGcuc29ja2V0U0VbMV0pKTooZy5zb2NrZXRTRVswXXx8Zy5zb2NrZXRTRVsxXT8oYT1nLnNvY2tldFNFWzBdPyhuPTAsMSk6KG49MSwwKSxiW25dPXcoZltuXSxnLnNvY2tldFNFW25dKSwoZT1ILm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdyhmW2FdLGUpfSkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9VmUoZSxiW25dKTsodDxpfHwtMT09PWkpJiYoYlthXT1lLGk9dCl9KSk6KGU9SC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHcoZlsxXSxlKX0pLEgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB3KGZbMF0sZSl9KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1WZShuLGUpOyh0PGl8fC0xPT09aSkmJihiWzBdPW4sYlsxXT1lLGk9dCl9KX0pKSxbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG47Zy5zb2NrZXRTRVtlXXx8KGZbZV0ud2lkdGh8fGZbZV0uaGVpZ2h0P2ZbZV0ud2lkdGh8fGJbZV0uc29ja2V0SWQhPT1UJiZiW2VdLnNvY2tldElkIT09UD9mW2VdLmhlaWdodHx8YltlXS5zb2NrZXRJZCE9PVYmJmJbZV0uc29ja2V0SWQhPT1OfHwoYltlXS5zb2NrZXRJZD0wPD1iW2U/MDoxXS55LWZbZV0udG9wP046Vik6YltlXS5zb2NrZXRJZD0wPD1iW2U/MDoxXS54LWZbZV0ubGVmdD9QOlQ6KHQ9YltlPzA6MV0ueC1mW2VdLmxlZnQsbj1iW2U/MDoxXS55LWZbZV0udG9wLGJbZV0uc29ja2V0SWQ9TWF0aC5hYnModCk+PU1hdGguYWJzKG4pPzA8PXQ/UDpUOjA8PW4/TjpWKSl9KSksRS5wb3NpdGlvbl9wYXRoIT09eC5wb3NpdGlvbl9wYXRofHxFLnBvc2l0aW9uX2xpbmVTdHJva2VXaWR0aCE9PXgucG9zaXRpb25fbGluZVN0cm9rZVdpZHRofHxbMCwxXS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBFLnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFW2VdIT09eC5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRVtlXXx8KGk9YltlXSxvPXgucG9zaXRpb25fc29ja2V0WFlTRVtlXSxpLnghPT1vLnh8fGkueSE9PW8ueXx8aS5zb2NrZXRJZCE9PW8uc29ja2V0SWQpfHwodD1fW2VdLG49eC5wb3NpdGlvbl9zb2NrZXRHcmF2aXR5U0VbZV0sKGE9bnVsbD09dD9cImF1dG9cIjpBcnJheS5pc0FycmF5KHQpP1wiYXJyYXlcIjpcIm51bWJlclwiKSE9KG51bGw9PW4/XCJhdXRvXCI6QXJyYXkuaXNBcnJheShuKT9cImFycmF5XCI6XCJudW1iZXJcIil8fChcImFycmF5XCI9PWE/dFswXSE9PW5bMF18fHRbMV0hPT1uWzFdOnQhPT1uKSk7dmFyIHQsbixhLGksb30pKXtzd2l0Y2godS5wYXRoTGlzdC5iYXNlVmFsPXY9W10sdS5wYXRoTGlzdC5hbmltVmFsPW51bGwsRS5wb3NpdGlvbl9wYXRoKXtjYXNlIEI6di5wdXNoKFtPKGJbMF0pLE8oYlsxXSldKTticmVhaztjYXNlIFI6dD1cIm51bWJlclwiPT10eXBlb2YgX1swXSYmMDxfWzBdfHxcIm51bWJlclwiPT10eXBlb2YgX1sxXSYmMDxfWzFdLG89bGUqKHQ/LTE6MSksbD1NYXRoLmF0YW4yKGJbMV0ueS1iWzBdLnksYlsxXS54LWJbMF0ueCkscj1vLWwsYz1NYXRoLlBJLWwtbyxkPVZlKGJbMF0sYlsxXSkvTWF0aC5zcXJ0KDIpKmVlLG09e3g6YlswXS54K01hdGguY29zKHIpKmQseTpiWzBdLnkrTWF0aC5zaW4ocikqZCotMX0sUz17eDpiWzFdLngrTWF0aC5jb3MoYykqZCx5OmJbMV0ueStNYXRoLnNpbihjKSpkKi0xfSx2LnB1c2goW08oYlswXSksbSxTLE8oYlsxXSldKTticmVhaztjYXNlIEY6Y2FzZSBHOnM9W19bMF0sRS5wb3NpdGlvbl9wYXRoPT09Rz8wOl9bMV1dLGg9W10scD1bXSxiLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixhLGksbyxsPXNbdF0scj1BcnJheS5pc0FycmF5KGwpP3t4OmxbMF0seTpsWzFdfTpcIm51bWJlclwiPT10eXBlb2YgbD9lLnNvY2tldElkPT09Vj97eDowLHk6LWx9OmUuc29ja2V0SWQ9PT1QP3t4OmwseTowfTplLnNvY2tldElkPT09Tj97eDowLHk6bH06e3g6LWwseTowfToobj1iW3Q/MDoxXSxpPTA8KGE9RS5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRVt0XSk/cSsoUTxhPyhhLVEpKks6MCk6WisoRS5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGg+WT8oRS5wb3NpdGlvbl9saW5lU3Ryb2tlV2lkdGgtWSkqWDowKSxlLnNvY2tldElkPT09Vj8oKG89KGUueS1uLnkpLzIpPGkmJihvPWkpLHt4OjAseTotb30pOmUuc29ja2V0SWQ9PT1QPygobz0obi54LWUueCkvMik8aSYmKG89aSkse3g6byx5OjB9KTplLnNvY2tldElkPT09Tj8oKG89KG4ueS1lLnkpLzIpPGkmJihvPWkpLHt4OjAseTpvfSk6KChvPShlLngtbi54KS8yKTxpJiYobz1pKSx7eDotbyx5OjB9KSk7aFt0XT1lLngrci54LHBbdF09ZS55K3IueX0pLHYucHVzaChbTyhiWzBdKSx7eDpoWzBdLHk6cFswXX0se3g6aFsxXSx5OnBbMV19LE8oYlsxXSldKTticmVhaztjYXNlIEQ6IWZ1bmN0aW9uKCl7dmFyIGEsbz0xLGw9MixyPTMscz00LHU9W1tdLFtdXSxoPVtdO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGU9PT1vP3I6ZT09PWw/czplPT09cj9vOmx9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT09PWx8fGU9PT1zP1wieFwiOlwieVwifWZ1bmN0aW9uIGQoZSx0LG4pe3ZhciBhPXt4OmUueCx5OmUueX07aWYobil7aWYobj09PXAoZS5kaXJJZCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaXJJZDogXCIrbik7YS5kaXJJZD1ufWVsc2UgYS5kaXJJZD1lLmRpcklkO3JldHVybiBhLmRpcklkPT09bz9hLnktPXQ6YS5kaXJJZD09PWw/YS54Kz10OmEuZGlySWQ9PT1yP2EueSs9dDphLngtPXQsYX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIHQuZGlySWQ9PT1vP2UueTw9dC55OnQuZGlySWQ9PT1sP2UueD49dC54OnQuZGlySWQ9PT1yP2UueT49dC55OmUueDw9dC54fWZ1bmN0aW9uIHkoZSx0KXtyZXR1cm4gdC5kaXJJZD09PW98fHQuZGlySWQ9PT1yP2UueD09PXQueDplLnk9PT10Lnl9ZnVuY3Rpb24gbShlKXtyZXR1cm4gZVswXT97Y29udGFpbjowLG5vdENvbnRhaW46MX06e2NvbnRhaW46MSxub3RDb250YWluOjB9fWZ1bmN0aW9uIFMoZSx0LG4pe3JldHVybiBNYXRoLmFicyh0W25dLWVbbl0pfWZ1bmN0aW9uIGcoZSx0LG4pe3JldHVyblwieFwiPT09bj9lLng8dC54P2w6czplLnk8dC55P3I6b31mb3IoYi5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1PKGUpLGk9X1t0XTtuPUFycmF5LmlzQXJyYXkoaSk/aVswXTwwP1tzLC1pWzBdXTowPGlbMF0/W2wsaVswXV06aVsxXTwwP1tvLC1pWzFdXTowPGlbMV0/W3IsaVsxXV06W2Uuc29ja2V0SWQsMF06XCJudW1iZXJcIiE9dHlwZW9mIGk/W2Uuc29ja2V0SWQsJF06MDw9aT9bZS5zb2NrZXRJZCxpXTpbcChlLnNvY2tldElkKSwtaV0sYS5kaXJJZD1uWzBdLGk9blsxXSx1W3RdLnB1c2goYSksaFt0XT1kKGEsaSl9KTtmdW5jdGlvbigpe3ZhciBlLHQsYSxpLG49W2YoaFsxXSxoWzBdKSxmKGhbMF0saFsxXSldLG89W2MoaFswXS5kaXJJZCksYyhoWzFdLmRpcklkKV07aWYob1swXT09PW9bMV0pe2lmKG5bMF0mJm5bMV0pcmV0dXJuIHZvaWQoeShoWzFdLGhbMF0pfHwoaFswXVtvWzBdXT09PWhbMV1bb1sxXV0/KHVbMF0ucHVzaChoWzBdKSx1WzFdLnB1c2goaFsxXSkpOihlPWhbMF1bb1swXV0rKGhbMV1bb1sxXV0taFswXVtvWzBdXSkvMix1WzBdLnB1c2goZChoWzBdLE1hdGguYWJzKGUtaFswXVtvWzBdXSkpKSx1WzFdLnB1c2goZChoWzFdLE1hdGguYWJzKGUtaFsxXVtvWzFdXSkpKSkpKTtuWzBdIT09blsxXT8odD1tKG4pLChhPVMoaFt0Lm5vdENvbnRhaW5dLGhbdC5jb250YWluXSxvW3Qubm90Q29udGFpbl0pKTwkJiYoaFt0Lm5vdENvbnRhaW5dPWQoaFt0Lm5vdENvbnRhaW5dLCQtYSkpLHVbdC5ub3RDb250YWluXS5wdXNoKGhbdC5ub3RDb250YWluXSksaFt0Lm5vdENvbnRhaW5dPWQoaFt0Lm5vdENvbnRhaW5dLCQseShoW3QuY29udGFpbl0saFt0Lm5vdENvbnRhaW5dKT9cInhcIj09PW9bdC5ub3RDb250YWluXT9yOmw6ZyhoW3Qubm90Q29udGFpbl0saFt0LmNvbnRhaW5dLFwieFwiPT09b1t0Lm5vdENvbnRhaW5dP1wieVwiOlwieFwiKSkpOihhPVMoaFswXSxoWzFdLFwieFwiPT09b1swXT9cInlcIjpcInhcIiksdS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49MD09PXQ/MTowO2UucHVzaChoW3RdKSxoW3RdPWQoaFt0XSwkLDIqJDw9YT9nKGhbdF0saFtuXSxcInhcIj09PW9bdF0/XCJ5XCI6XCJ4XCIpOlwieFwiPT09b1t0XT9yOmwpfSkpfWVsc2V7aWYoblswXSYmblsxXSlyZXR1cm4gdm9pZCh5KGhbMV0saFswXSk/dVsxXS5wdXNoKGhbMV0pOnkoaFswXSxoWzFdKT91WzBdLnB1c2goaFswXSk6dVswXS5wdXNoKFwieFwiPT09b1swXT97eDpoWzFdLngseTpoWzBdLnl9Ont4OmhbMF0ueCx5OmhbMV0ueX0pKTtuWzBdIT09blsxXT8odD1tKG4pLHVbdC5ub3RDb250YWluXS5wdXNoKGhbdC5ub3RDb250YWluXSksaFt0Lm5vdENvbnRhaW5dPWQoaFt0Lm5vdENvbnRhaW5dLCQsUyhoW3Qubm90Q29udGFpbl0saFt0LmNvbnRhaW5dLG9bdC5jb250YWluXSk+PSQ/ZyhoW3Qubm90Q29udGFpbl0saFt0LmNvbnRhaW5dLG9bdC5jb250YWluXSk6aFt0LmNvbnRhaW5dLmRpcklkKSk6KGk9W3t4OmhbMF0ueCx5OmhbMF0ueX0se3g6aFsxXS54LHk6aFsxXS55fV0sdS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49MD09PXQ/MTowLGE9UyhpW3RdLGlbbl0sb1t0XSk7YTwkJiYoaFt0XT1kKGhbdF0sJC1hKSksZS5wdXNoKGhbdF0pLGhbdF09ZChoW3RdLCQsZyhoW3RdLGhbbl0sb1tuXSkpfSkpfXJldHVybiAxfSgpOyk7dVsxXS5yZXZlcnNlKCksdVswXS5jb25jYXQodVsxXSkuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPXt4OmUueCx5OmUueX07MDx0JiZ2LnB1c2goW2Esbl0pLGE9bn0pfSgpfXk9W10sRS5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpLG8sbCxyLHMsdSxoLHAsYyxkPSF0OzA8ZT8yPT09KG49dlthPWQ/MDp2Lmxlbmd0aC0xXSkubGVuZ3RoPyh5W2FdPXlbYV18fFZlLmFwcGx5KG51bGwsbikseVthXT5KJiYoeVthXS1lPEomJihlPXlbYV0tSiksaT1QZShuWzBdLG5bMV0sKGQ/ZTp5W2FdLWUpL3lbYV0pLHZbYV09ZD9baSxuWzFdXTpbblswXSxpXSx5W2FdLT1lKSk6KHlbYV09eVthXXx8V2UuYXBwbHkobnVsbCxuKSx5W2FdPkomJih5W2FdLWU8SiYmKGU9eVthXS1KKSxpPVRlKG5bMF0sblsxXSxuWzJdLG5bM10sQmUoblswXSxuWzFdLG5bMl0sblszXSxkP2U6eVthXS1lKSksbD1kPyhvPW5bMF0saS50b1AxKToobz1uWzNdLGkuZnJvbVAyKSxyPU1hdGguYXRhbjIoby55LWkueSxpLngtby54KSxzPVZlKGksbCksaS54PW8ueCtNYXRoLmNvcyhyKSplLGkueT1vLnkrTWF0aC5zaW4ocikqZSotMSxsLng9aS54K01hdGguY29zKHIpKnMsbC55PWkueStNYXRoLnNpbihyKSpzKi0xLHZbYV09ZD9baSxpLnRvUDEsaS50b1AyLG5bM11dOltuWzBdLGkuZnJvbVAxLGkuZnJvbVAyLGldLHlbYV09bnVsbCkpOmU8MCYmKG49dlthPWQ/MDp2Lmxlbmd0aC0xXSx1PWJbdF0uc29ja2V0SWQsaD11PT09VHx8dT09PVA/XCJ4XCI6XCJ5XCIsZTwoYz0tZlt0XVtcInhcIj09aD9cIndpZHRoXCI6XCJoZWlnaHRcIl0pJiYoZT1jKSxwPWUqKHU9PT1UfHx1PT09Vj8tMToxKSwyPT09bi5sZW5ndGg/bltkPzA6bi5sZW5ndGgtMV1baF0rPXA6KGQ/WzAsMV06W24ubGVuZ3RoLTIsbi5sZW5ndGgtMV0pLmZvckVhY2goZnVuY3Rpb24oZSl7bltlXVtoXSs9cH0pLHlbYV09bnVsbCl9KSx4LnBvc2l0aW9uX3NvY2tldFhZU0U9T2UoYikseC5wb3NpdGlvbl9wbHVnT3ZlcmhlYWRTRT1PZShFLnBvc2l0aW9uX3BsdWdPdmVyaGVhZFNFKSx4LnBvc2l0aW9uX3BhdGg9RS5wb3NpdGlvbl9wYXRoLHgucG9zaXRpb25fbGluZVN0cm9rZVdpZHRoPUUucG9zaXRpb25fbGluZVN0cm9rZVdpZHRoLHgucG9zaXRpb25fc29ja2V0R3Jhdml0eVNFPU9lKF8pLGs9ITAsdS5ldmVudHMuYXBsX3Bvc2l0aW9uJiZ1LmV2ZW50cy5hcGxfcG9zaXRpb24uZm9yRWFjaChmdW5jdGlvbihlKXtlKHUsdil9KX1yZXR1cm4ga31mdW5jdGlvbiAkZSh0LG4pe24hPT10LmlzU2hvd24mJighIW4hPSEhdC5pc1Nob3duJiYodC5zdmcuc3R5bGUudmlzaWJpbGl0eT1uP1wiXCI6XCJoaWRkZW5cIiksdC5pc1Nob3duPW4sdC5ldmVudHMmJnQuZXZlbnRzLnN2Z1Nob3cmJnQuZXZlbnRzLnN2Z1Nob3cuZm9yRWFjaChmdW5jdGlvbihlKXtlKHQsbil9KSl9ZnVuY3Rpb24gZXQoZSx0KXt2YXIgbixhLGksbyxsLGgscCxjLGQsZixyLHMsdSx5LG0sUyxnLF8sdixFLHgsYixrLHcsTyxNLEksQyxMLEEsVixQLE4sVCxXLEIsUixGLEcsRCx6LGosSCxVLFosWSxYLHEsUSxLLEosJCxlZT17fTt0LmxpbmUmJihlZS5saW5lPShhPShuPWUpLm9wdGlvbnMsaT1uLmN1clN0YXRzLG89bi5ldmVudHMsbD0hMSxsPXFlKG4saSxcImxpbmVfY29sb3JcIixhLmxpbmVDb2xvcixvLmN1cl9saW5lX2NvbG9yKXx8bCxsPXFlKG4saSxcImxpbmVfY29sb3JUcmFcIixNZShpLmxpbmVfY29sb3IpWzBdPDEpfHxsLGw9cWUobixpLFwibGluZV9zdHJva2VXaWR0aFwiLGEubGluZVNpemUsby5jdXJfbGluZV9zdHJva2VXaWR0aCl8fGwpKSwodC5wbHVnfHxlZS5saW5lKSYmKGVlLnBsdWc9KHA9KGg9ZSkub3B0aW9ucyxjPWguY3VyU3RhdHMsZD1oLmV2ZW50cyxmPSExLFswLDFdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixhLGksbyxsLHIscyx1PXAucGx1Z1NFW2VdO2Y9cWUoaCxjLnBsdWdfZW5hYmxlZFNFLGUsdSE9PW5lKXx8ZixmPXFlKGgsYy5wbHVnX3BsdWdTRSxlLHUpfHxmLGY9cWUoaCxjLnBsdWdfY29sb3JTRSxlLHM9cC5wbHVnQ29sb3JTRVtlXXx8Yy5saW5lX2NvbG9yLGQuY3VyX3BsdWdfY29sb3JTRSl8fGYsZj1xZShoLGMucGx1Z19jb2xvclRyYVNFLGUsTWUocylbMF08MSl8fGYsdSE9PW5lJiYoaT1uPSh0PWFlW2llW3VdXSkud2lkdGhSKnAucGx1Z1NpemVTRVtlXSxvPWE9dC5oZWlnaHRSKnAucGx1Z1NpemVTRVtlXSxwZSYmKGkqPWMubGluZV9zdHJva2VXaWR0aCxvKj1jLmxpbmVfc3Ryb2tlV2lkdGgpLGY9cWUoaCxjLnBsdWdfbWFya2VyV2lkdGhTRSxlLGkpfHxmLGY9cWUoaCxjLnBsdWdfbWFya2VySGVpZ2h0U0UsZSxvKXx8ZixjLmNhcHNNYXNrTWFya2VyX21hcmtlcldpZHRoU0VbZV09bixjLmNhcHNNYXNrTWFya2VyX21hcmtlckhlaWdodFNFW2VdPWEpLGMucGx1Z091dGxpbmVfcGx1Z1NFW2VdPWMuY2Fwc01hc2tNYXJrZXJfcGx1Z1NFW2VdPXUsYy5wbHVnX2VuYWJsZWRTRVtlXT8ocz1jLmxpbmVfc3Ryb2tlV2lkdGgvZGUubGluZVNpemUqcC5wbHVnU2l6ZVNFW2VdLGMucG9zaXRpb25fcGx1Z092ZXJoZWFkU0VbZV09dC5vdmVyaGVhZCpzLGMudmlld0JveF9wbHVnQkNpcmNsZVNFW2VdPXQuYkNpcmNsZSpzLGw9dC5zaWRlTGVuKnMscj10LmJhY2tMZW4qcyk6KGMucG9zaXRpb25fcGx1Z092ZXJoZWFkU0VbZV09LWMubGluZV9zdHJva2VXaWR0aC8yLGMudmlld0JveF9wbHVnQkNpcmNsZVNFW2VdPWw9cj0wKSxxZShoLGMuYXR0YWNoX3BsdWdTaWRlTGVuU0UsZSxsLGQuY3VyX2F0dGFjaF9wbHVnU2lkZUxlblNFKSxxZShoLGMuYXR0YWNoX3BsdWdCYWNrTGVuU0UsZSxyLGQuY3VyX2F0dGFjaF9wbHVnQmFja0xlblNFKSxjLmNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRVtlXT0hYy5wbHVnX2VuYWJsZWRTRVtlXX0pLGY9cWUoaCxjLFwicGx1Z19lbmFibGVkXCIsYy5wbHVnX2VuYWJsZWRTRVswXXx8Yy5wbHVnX2VuYWJsZWRTRVsxXSl8fGYpKSwodC5saW5lT3V0bGluZXx8ZWUubGluZSkmJihlZS5saW5lT3V0bGluZT0odT0ocj1lKS5vcHRpb25zLHk9ci5jdXJTdGF0cyxtPSExLG09cWUocix5LFwibGluZU91dGxpbmVfZW5hYmxlZFwiLHUubGluZU91dGxpbmVFbmFibGVkKXx8bSxtPXFlKHIseSxcImxpbmVPdXRsaW5lX2NvbG9yXCIsdS5saW5lT3V0bGluZUNvbG9yKXx8bSxtPXFlKHIseSxcImxpbmVPdXRsaW5lX2NvbG9yVHJhXCIsTWUoeS5saW5lT3V0bGluZV9jb2xvcilbMF08MSl8fG0scz15LmxpbmVfc3Ryb2tlV2lkdGgqdS5saW5lT3V0bGluZVNpemUsbT1xZShyLHksXCJsaW5lT3V0bGluZV9zdHJva2VXaWR0aFwiLHkubGluZV9zdHJva2VXaWR0aC0yKnMpfHxtLG09cWUocix5LFwibGluZU91dGxpbmVfaW5TdHJva2VXaWR0aFwiLHkubGluZU91dGxpbmVfY29sb3JUcmE/eS5saW5lT3V0bGluZV9zdHJva2VXaWR0aCsyKmNlOnkubGluZV9zdHJva2VXaWR0aC1zKXx8bSkpLCh0LnBsdWdPdXRsaW5lfHxlZS5saW5lfHxlZS5wbHVnfHxlZS5saW5lT3V0bGluZSkmJihlZS5wbHVnT3V0bGluZT0oZz0oUz1lKS5vcHRpb25zLF89Uy5jdXJTdGF0cyx2PSExLFswLDFdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbj1fLnBsdWdPdXRsaW5lX3BsdWdTRVtlXSxhPW4hPT1uZT9hZVtpZVtuXV06bnVsbDt2PXFlKFMsXy5wbHVnT3V0bGluZV9lbmFibGVkU0UsZSxnLnBsdWdPdXRsaW5lRW5hYmxlZFNFW2VdJiZfLnBsdWdfZW5hYmxlZCYmXy5wbHVnX2VuYWJsZWRTRVtlXSYmISFhJiYhIWEub3V0bGluZUJhc2UpfHx2LHY9cWUoUyxfLnBsdWdPdXRsaW5lX2NvbG9yU0UsZSx0PWcucGx1Z091dGxpbmVDb2xvclNFW2VdfHxfLmxpbmVPdXRsaW5lX2NvbG9yKXx8dix2PXFlKFMsXy5wbHVnT3V0bGluZV9jb2xvclRyYVNFLGUsTWUodClbMF08MSl8fHYsYSYmYS5vdXRsaW5lQmFzZSYmKCh0PWcucGx1Z091dGxpbmVTaXplU0VbZV0pPmEub3V0bGluZU1heCYmKHQ9YS5vdXRsaW5lTWF4KSx0Kj0yKmEub3V0bGluZUJhc2Usdj1xZShTLF8ucGx1Z091dGxpbmVfc3Ryb2tlV2lkdGhTRSxlLHQpfHx2LHY9cWUoUyxfLnBsdWdPdXRsaW5lX2luU3Ryb2tlV2lkdGhTRSxlLF8ucGx1Z091dGxpbmVfY29sb3JUcmFTRVtlXT90LWNlLyhfLmxpbmVfc3Ryb2tlV2lkdGgvZGUubGluZVNpemUpL2cucGx1Z1NpemVTRVtlXSoyOnQvMil8fHYpfSksdikpLCh0LmZhY2VzfHxlZS5saW5lfHxlZS5wbHVnfHxlZS5saW5lT3V0bGluZXx8ZWUucGx1Z091dGxpbmUpJiYoZWUuZmFjZXM9KGI9KEU9ZSkuY3VyU3RhdHMsaz1FLmFwbFN0YXRzLHc9RS5ldmVudHMsTz0hMSwhYi5saW5lX2FsdENvbG9yJiZxZShFLGssXCJsaW5lX2NvbG9yXCIseD1iLmxpbmVfY29sb3Isdy5hcGxfbGluZV9jb2xvcikmJihFLmxpbmVGYWNlLnN0eWxlLnN0cm9rZT14LE89ITApLHFlKEUsayxcImxpbmVfc3Ryb2tlV2lkdGhcIix4PWIubGluZV9zdHJva2VXaWR0aCx3LmFwbF9saW5lX3N0cm9rZVdpZHRoKSYmKEUubGluZVNoYXBlLnN0eWxlLnN0cm9rZVdpZHRoPXgrXCJweFwiLE89ITAsKHVlfHxzZSkmJihIZShFLEUubGluZVNoYXBlKSxzZSYmKEhlKEUsRS5saW5lRmFjZSksSGUoRSxFLmxpbmVNYXNrQ2FwcykpKSkscWUoRSxrLFwibGluZU91dGxpbmVfZW5hYmxlZFwiLHg9Yi5saW5lT3V0bGluZV9lbmFibGVkLHcuYXBsX2xpbmVPdXRsaW5lX2VuYWJsZWQpJiYoRS5saW5lT3V0bGluZUZhY2Uuc3R5bGUuZGlzcGxheT14P1wiaW5saW5lXCI6XCJub25lXCIsTz0hMCksYi5saW5lT3V0bGluZV9lbmFibGVkJiYocWUoRSxrLFwibGluZU91dGxpbmVfY29sb3JcIix4PWIubGluZU91dGxpbmVfY29sb3Isdy5hcGxfbGluZU91dGxpbmVfY29sb3IpJiYoRS5saW5lT3V0bGluZUZhY2Uuc3R5bGUuc3Ryb2tlPXgsTz0hMCkscWUoRSxrLFwibGluZU91dGxpbmVfc3Ryb2tlV2lkdGhcIix4PWIubGluZU91dGxpbmVfc3Ryb2tlV2lkdGgsdy5hcGxfbGluZU91dGxpbmVfc3Ryb2tlV2lkdGgpJiYoRS5saW5lT3V0bGluZU1hc2tTaGFwZS5zdHlsZS5zdHJva2VXaWR0aD14K1wicHhcIixPPSEwLHNlJiYoSGUoRSxFLmxpbmVPdXRsaW5lTWFza0NhcHMpLEhlKEUsRS5saW5lT3V0bGluZUZhY2UpKSkscWUoRSxrLFwibGluZU91dGxpbmVfaW5TdHJva2VXaWR0aFwiLHg9Yi5saW5lT3V0bGluZV9pblN0cm9rZVdpZHRoLHcuYXBsX2xpbmVPdXRsaW5lX2luU3Ryb2tlV2lkdGgpJiYoRS5saW5lTWFza1NoYXBlLnN0eWxlLnN0cm9rZVdpZHRoPXgrXCJweFwiLE89ITAsc2UmJihIZShFLEUubGluZU91dGxpbmVNYXNrQ2FwcyksSGUoRSxFLmxpbmVPdXRsaW5lRmFjZSkpKSkscWUoRSxrLFwicGx1Z19lbmFibGVkXCIseD1iLnBsdWdfZW5hYmxlZCx3LmFwbF9wbHVnX2VuYWJsZWQpJiYoRS5wbHVnc0ZhY2Uuc3R5bGUuZGlzcGxheT14P1wiaW5saW5lXCI6XCJub25lXCIsTz0hMCksYi5wbHVnX2VuYWJsZWQmJlswLDFdLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGU9Yi5wbHVnX3BsdWdTRVtuXSx0PWUhPT1uZT9hZVtpZVtlXV06bnVsbCxhPVllKG4sdCk7cWUoRSxrLnBsdWdfZW5hYmxlZFNFLG4seD1iLnBsdWdfZW5hYmxlZFNFW25dLHcuYXBsX3BsdWdfZW5hYmxlZFNFKSYmKEUucGx1Z3NGYWNlLnN0eWxlW2EucHJvcF09eD9cInVybCgjXCIrRS5wbHVnTWFya2VySWRTRVtuXStcIilcIjpcIm5vbmVcIixPPSEwKSxiLnBsdWdfZW5hYmxlZFNFW25dJiYocWUoRSxrLnBsdWdfcGx1Z1NFLG4sZSx3LmFwbF9wbHVnX3BsdWdTRSkmJihFLnBsdWdGYWNlU0Vbbl0uaHJlZi5iYXNlVmFsPVwiI1wiK3QuZWxtSWQsWmUoRSxFLnBsdWdNYXJrZXJTRVtuXSxhLm9yaWVudCx0LmJCb3gsRS5zdmcsRS5wbHVnTWFya2VyU2hhcGVTRVtuXSxFLnBsdWdzRmFjZSksTz0hMCx1ZSYmSGUoRSxFLnBsdWdzRmFjZSkpLHFlKEUsay5wbHVnX2NvbG9yU0Usbix4PWIucGx1Z19jb2xvclNFW25dLHcuYXBsX3BsdWdfY29sb3JTRSkmJihFLnBsdWdGYWNlU0Vbbl0uc3R5bGUuZmlsbD14LE89ITAsKGhlfHxwZXx8c2UpJiYhYi5saW5lX2NvbG9yVHJhJiZIZShFLHNlP0UubGluZU1hc2tDYXBzOkUuY2Fwc01hc2tMaW5lKSksW1wibWFya2VyV2lkdGhcIixcIm1hcmtlckhlaWdodFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwicGx1Z19cIitlK1wiU0VcIjtxZShFLGtbdF0sbix4PWJbdF1bbl0sd1tcImFwbF9cIit0XSkmJihFLnBsdWdNYXJrZXJTRVtuXVtlXS5iYXNlVmFsLnZhbHVlPXgsTz0hMCl9KSxxZShFLGsucGx1Z091dGxpbmVfZW5hYmxlZFNFLG4seD1iLnBsdWdPdXRsaW5lX2VuYWJsZWRTRVtuXSx3LmFwbF9wbHVnT3V0bGluZV9lbmFibGVkU0UpJiYoeD8oRS5wbHVnRmFjZVNFW25dLnN0eWxlLm1hc2s9XCJ1cmwoI1wiK0UucGx1Z01hc2tJZFNFW25dK1wiKVwiLEUucGx1Z091dGxpbmVGYWNlU0Vbbl0uc3R5bGUuZGlzcGxheT1cImlubGluZVwiKTooRS5wbHVnRmFjZVNFW25dLnN0eWxlLm1hc2s9XCJub25lXCIsRS5wbHVnT3V0bGluZUZhY2VTRVtuXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxPPSEwKSxiLnBsdWdPdXRsaW5lX2VuYWJsZWRTRVtuXSYmKHFlKEUsay5wbHVnT3V0bGluZV9wbHVnU0UsbixlLHcuYXBsX3BsdWdPdXRsaW5lX3BsdWdTRSkmJihFLnBsdWdPdXRsaW5lRmFjZVNFW25dLmhyZWYuYmFzZVZhbD1FLnBsdWdNYXNrU2hhcGVTRVtuXS5ocmVmLmJhc2VWYWw9RS5wbHVnT3V0bGluZU1hc2tTaGFwZVNFW25dLmhyZWYuYmFzZVZhbD1cIiNcIit0LmVsbUlkLFtFLnBsdWdNYXNrU0Vbbl0sRS5wbHVnT3V0bGluZU1hc2tTRVtuXV0uZm9yRWFjaChmdW5jdGlvbihlKXtlLnguYmFzZVZhbC52YWx1ZT10LmJCb3gubGVmdCxlLnkuYmFzZVZhbC52YWx1ZT10LmJCb3gudG9wLGUud2lkdGguYmFzZVZhbC52YWx1ZT10LmJCb3gud2lkdGgsZS5oZWlnaHQuYmFzZVZhbC52YWx1ZT10LmJCb3guaGVpZ2h0fSksTz0hMCkscWUoRSxrLnBsdWdPdXRsaW5lX2NvbG9yU0Usbix4PWIucGx1Z091dGxpbmVfY29sb3JTRVtuXSx3LmFwbF9wbHVnT3V0bGluZV9jb2xvclNFKSYmKEUucGx1Z091dGxpbmVGYWNlU0Vbbl0uc3R5bGUuZmlsbD14LE89ITAsc2UmJihIZShFLEUubGluZU1hc2tDYXBzKSxIZShFLEUubGluZU91dGxpbmVNYXNrQ2FwcykpKSxxZShFLGsucGx1Z091dGxpbmVfc3Ryb2tlV2lkdGhTRSxuLHg9Yi5wbHVnT3V0bGluZV9zdHJva2VXaWR0aFNFW25dLHcuYXBsX3BsdWdPdXRsaW5lX3N0cm9rZVdpZHRoU0UpJiYoRS5wbHVnT3V0bGluZU1hc2tTaGFwZVNFW25dLnN0eWxlLnN0cm9rZVdpZHRoPXgrXCJweFwiLE89ITApLHFlKEUsay5wbHVnT3V0bGluZV9pblN0cm9rZVdpZHRoU0Usbix4PWIucGx1Z091dGxpbmVfaW5TdHJva2VXaWR0aFNFW25dLHcuYXBsX3BsdWdPdXRsaW5lX2luU3Ryb2tlV2lkdGhTRSkmJihFLnBsdWdNYXNrU2hhcGVTRVtuXS5zdHlsZS5zdHJva2VXaWR0aD14K1wicHhcIixPPSEwKSkpfSksTykpLCh0LnBvc2l0aW9ufHxlZS5saW5lfHxlZS5wbHVnKSYmKGVlLnBvc2l0aW9uPUplKGUpKSwodC5wYXRofHxlZS5wb3NpdGlvbikmJihlZS5wYXRoPShDPShNPWUpLmN1clN0YXRzLEw9TS5hcGxTdGF0cyxBPU0ucGF0aExpc3QuYW5pbVZhbHx8TS5wYXRoTGlzdC5iYXNlVmFsLFY9Qy5wYXRoX2VkZ2UsUD0hMSxBJiYoVi54MT1WLngyPUFbMF1bMF0ueCxWLnkxPVYueTI9QVswXVswXS55LEMucGF0aF9wYXRoRGF0YT1JPVJlKEEsZnVuY3Rpb24oZSl7ZS54PFYueDEmJihWLngxPWUueCksZS55PFYueTEmJihWLnkxPWUueSksZS54PlYueDImJihWLngyPWUueCksZS55PlYueTImJihWLnkyPWUueSl9KSxHZShJLEwucGF0aF9wYXRoRGF0YSkmJihNLmxpbmVQYXRoLnNldFBhdGhEYXRhKEkpLEwucGF0aF9wYXRoRGF0YT1JLFA9ITAsc2U/KEhlKE0sTS5wbHVnc0ZhY2UpLEhlKE0sTS5saW5lTWFza0NhcHMpKTp1ZSYmSGUoTSxNLmxpbmVQYXRoKSxNLmV2ZW50cy5hcGxfcGF0aCYmTS5ldmVudHMuYXBsX3BhdGguZm9yRWFjaChmdW5jdGlvbihlKXtlKE0sSSl9KSkpLFApKSxlZS52aWV3Qm94PShUPShOPWUpLmN1clN0YXRzLFc9Ti5hcGxTdGF0cyxCPVQucGF0aF9lZGdlLFI9VC52aWV3Qm94X2JCb3gsRj1XLnZpZXdCb3hfYkJveCxHPU4uc3ZnLnZpZXdCb3guYmFzZVZhbCxEPU4uc3ZnLnN0eWxlLHo9ITEsaj1NYXRoLm1heChULmxpbmVfc3Ryb2tlV2lkdGgvMixULnZpZXdCb3hfcGx1Z0JDaXJjbGVTRVswXXx8MCxULnZpZXdCb3hfcGx1Z0JDaXJjbGVTRVsxXXx8MCksSD17eDE6Qi54MS1qLHkxOkIueTEtaix4MjpCLngyK2oseTI6Qi55MitqfSxOLmV2ZW50cy5uZXdfZWRnZTR2aWV3Qm94JiZOLmV2ZW50cy5uZXdfZWRnZTR2aWV3Qm94LmZvckVhY2goZnVuY3Rpb24oZSl7ZShOLEgpfSksUi54PVQubGluZU1hc2tfeD1ULmxpbmVPdXRsaW5lTWFza194PVQubWFza0JHUmVjdF94PUgueDEsUi55PVQubGluZU1hc2tfeT1ULmxpbmVPdXRsaW5lTWFza195PVQubWFza0JHUmVjdF95PUgueTEsUi53aWR0aD1ILngyLUgueDEsUi5oZWlnaHQ9SC55Mi1ILnkxLFtcInhcIixcInlcIixcIndpZHRoXCIsXCJoZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDsodD1SW2VdKSE9PUZbZV0mJihHW2VdPUZbZV09dCxEW29lW2VdXT10KyhcInhcIj09PWV8fFwieVwiPT09ZT9OLmJvZHlPZmZzZXRbZV06MCkrXCJweFwiLHo9ITApfSkseiksZWUubWFzaz0oWT0oVT1lKS5jdXJTdGF0cyxYPVUuYXBsU3RhdHMscT0hMSxZLnBsdWdfZW5hYmxlZD9bMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1kuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFW2VdPVkucGx1Z19lbmFibGVkU0VbZV0mJlkucGx1Z19jb2xvclRyYVNFW2VdfHxZLnBsdWdPdXRsaW5lX2VuYWJsZWRTRVtlXSYmWS5wbHVnT3V0bGluZV9jb2xvclRyYVNFW2VdfSk6WS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0VbMF09WS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0VbMV09ITEsWS5jYXBzTWFza01hcmtlcl9lbmFibGVkPVkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFWzBdfHxZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWRTRVsxXSxZLmxpbmVNYXNrX291dGxpbmVNb2RlPVkubGluZU91dGxpbmVfZW5hYmxlZCxZLmNhcHNfZW5hYmxlZD1ZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWR8fFkuY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFWzBdfHxZLmNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRVsxXSxZLmxpbmVNYXNrX2VuYWJsZWQ9WS5jYXBzX2VuYWJsZWR8fFkubGluZU1hc2tfb3V0bGluZU1vZGUsKFkubGluZU1hc2tfZW5hYmxlZCYmIVkubGluZU1hc2tfb3V0bGluZU1vZGV8fFkubGluZU91dGxpbmVfZW5hYmxlZCkmJltcInhcIixcInlcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cIm1hc2tCR1JlY3RfXCIrZTtxZShVLFgsdCxaPVlbdF0pJiYoVS5tYXNrQkdSZWN0W2VdLmJhc2VWYWwudmFsdWU9WixxPSEwKX0pLHFlKFUsWCxcImxpbmVNYXNrX2VuYWJsZWRcIixaPVkubGluZU1hc2tfZW5hYmxlZCkmJihVLmxpbmVGYWNlLnN0eWxlLm1hc2s9Wj9cInVybCgjXCIrVS5saW5lTWFza0lkK1wiKVwiOlwibm9uZVwiLHE9ITAscGUmJkhlKFUsVS5saW5lTWFzaykpLFkubGluZU1hc2tfZW5hYmxlZCYmKHFlKFUsWCxcImxpbmVNYXNrX291dGxpbmVNb2RlXCIsWj1ZLmxpbmVNYXNrX291dGxpbmVNb2RlKSYmKFo/KFUubGluZU1hc2tCRy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLFUubGluZU1hc2tTaGFwZS5zdHlsZS5kaXNwbGF5PVwiaW5saW5lXCIpOihVLmxpbmVNYXNrQkcuc3R5bGUuZGlzcGxheT1cImlubGluZVwiLFUubGluZU1hc2tTaGFwZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxxPSEwKSxbXCJ4XCIsXCJ5XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9XCJsaW5lTWFza19cIitlO3FlKFUsWCx0LFo9WVt0XSkmJihVLmxpbmVNYXNrW2VdLmJhc2VWYWwudmFsdWU9WixxPSEwKX0pLHFlKFUsWCxcImNhcHNfZW5hYmxlZFwiLFo9WS5jYXBzX2VuYWJsZWQpJiYoVS5saW5lTWFza0NhcHMuc3R5bGUuZGlzcGxheT1VLmxpbmVPdXRsaW5lTWFza0NhcHMuc3R5bGUuZGlzcGxheT1aP1wiaW5saW5lXCI6XCJub25lXCIscT0hMCxwZSYmSGUoVSxVLmNhcHNNYXNrTGluZSkpLFkuY2Fwc19lbmFibGVkJiYoWzAsMV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDtxZShVLFguY2Fwc01hc2tBbmNob3JfZW5hYmxlZFNFLGUsWj1ZLmNhcHNNYXNrQW5jaG9yX2VuYWJsZWRTRVtlXSkmJihVLmNhcHNNYXNrQW5jaG9yU0VbZV0uc3R5bGUuZGlzcGxheT1aP1wiaW5saW5lXCI6XCJub25lXCIscT0hMCxwZSYmSGUoVSxVLmxpbmVNYXNrKSksWS5jYXBzTWFza0FuY2hvcl9lbmFibGVkU0VbZV0mJihHZSh0PVkuY2Fwc01hc2tBbmNob3JfcGF0aERhdGFTRVtlXSxYLmNhcHNNYXNrQW5jaG9yX3BhdGhEYXRhU0VbZV0pJiYoVS5jYXBzTWFza0FuY2hvclNFW2VdLnNldFBhdGhEYXRhKHQpLFguY2Fwc01hc2tBbmNob3JfcGF0aERhdGFTRVtlXT10LHE9ITApLHFlKFUsWC5jYXBzTWFza0FuY2hvcl9zdHJva2VXaWR0aFNFLGUsWj1ZLmNhcHNNYXNrQW5jaG9yX3N0cm9rZVdpZHRoU0VbZV0pJiYoVS5jYXBzTWFza0FuY2hvclNFW2VdLnN0eWxlLnN0cm9rZVdpZHRoPVorXCJweFwiLHE9ITApKX0pLHFlKFUsWCxcImNhcHNNYXNrTWFya2VyX2VuYWJsZWRcIixaPVkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZCkmJihVLmNhcHNNYXNrTGluZS5zdHlsZS5kaXNwbGF5PVo/XCJpbmxpbmVcIjpcIm5vbmVcIixxPSEwKSxZLmNhcHNNYXNrTWFya2VyX2VuYWJsZWQmJlswLDFdLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGU9WS5jYXBzTWFza01hcmtlcl9wbHVnU0Vbbl0sdD1lIT09bmU/YWVbaWVbZV1dOm51bGwsYT1ZZShuLHQpO3FlKFUsWC5jYXBzTWFza01hcmtlcl9lbmFibGVkU0UsbixaPVkuY2Fwc01hc2tNYXJrZXJfZW5hYmxlZFNFW25dKSYmKFUuY2Fwc01hc2tMaW5lLnN0eWxlW2EucHJvcF09Wj9cInVybCgjXCIrVS5saW5lTWFza01hcmtlcklkU0Vbbl0rXCIpXCI6XCJub25lXCIscT0hMCksWS5jYXBzTWFza01hcmtlcl9lbmFibGVkU0Vbbl0mJihxZShVLFguY2Fwc01hc2tNYXJrZXJfcGx1Z1NFLG4sZSkmJihVLmNhcHNNYXNrTWFya2VyU2hhcGVTRVtuXS5ocmVmLmJhc2VWYWw9XCIjXCIrdC5lbG1JZCxaZShVLFUuY2Fwc01hc2tNYXJrZXJTRVtuXSxhLm9yaWVudCx0LmJCb3gsVS5zdmcsVS5jYXBzTWFza01hcmtlclNoYXBlU0Vbbl0sVS5jYXBzTWFza0xpbmUpLHE9ITAsdWUmJihIZShVLFUuY2Fwc01hc2tMaW5lKSxIZShVLFUubGluZUZhY2UpKSksW1wibWFya2VyV2lkdGhcIixcIm1hcmtlckhlaWdodFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwiY2Fwc01hc2tNYXJrZXJfXCIrZStcIlNFXCI7cWUoVSxYW3RdLG4sWj1ZW3RdW25dKSYmKFUuY2Fwc01hc2tNYXJrZXJTRVtuXVtlXS5iYXNlVmFsLnZhbHVlPVoscT0hMCl9KSl9KSkpLFkubGluZU91dGxpbmVfZW5hYmxlZCYmW1wieFwiLFwieVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwibGluZU91dGxpbmVNYXNrX1wiK2U7cWUoVSxYLHQsWj1ZW3RdKSYmKFUubGluZU91dGxpbmVNYXNrW2VdLmJhc2VWYWwudmFsdWU9WixxPSEwKX0pLHEpLHQuZWZmZWN0JiYoSj0oUT1lKS5jdXJTdGF0cywkPVEuYXBsU3RhdHMsT2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dGVbZV0sbj1lK1wiX2VuYWJsZWRcIixhPWUrXCJfb3B0aW9uc1wiLGk9SlthXTtxZShRLCQsbixLPUpbbl0pPyhLJiYoJFthXT1PZShpKSksdFtLP1wiaW5pdFwiOlwicmVtb3ZlXCJdKFEpKTpLJiZ3ZShpLCRbYV0pJiYodC5yZW1vdmUoUSksJFtuXT0hMCwkW2FdPU9lKGkpLHQuaW5pdChRKSl9KSksKGhlfHxwZSkmJmVlLmxpbmUmJiFlZS5wYXRoJiZIZShlLGUubGluZVNoYXBlKSxoZSYmZWUucGx1ZyYmIWVlLmxpbmUmJkhlKGUsZS5wbHVnc0ZhY2UpLFVlKGUpfWZ1bmN0aW9uIHR0KGUsdCl7cmV0dXJue2R1cmF0aW9uOnllKGUuZHVyYXRpb24pJiYwPGUuZHVyYXRpb24/ZS5kdXJhdGlvbjp0LmR1cmF0aW9uLHRpbWluZzpnLnZhbGlkVGltaW5nKGUudGltaW5nKT9lLnRpbWluZzpPZSh0LnRpbWluZyl9fWZ1bmN0aW9uIG50KGUsdCxuLGEpe3ZhciBpLG89ZS5jdXJTdGF0cyxsPWUuYXBsU3RhdHMscj17fTtmdW5jdGlvbiBzKCl7W1wic2hvd19vblwiLFwic2hvd19lZmZlY3RcIixcInNob3dfYW5pbU9wdGlvbnNcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtsW2VdPW9bZV19KX1vLnNob3dfb249dCxuJiZNW25dJiYoby5zaG93X2VmZmVjdD1uLG8uc2hvd19hbmltT3B0aW9ucz10dChmZShhKT9hOnt9LE1bbl0uZGVmYXVsdEFuaW1PcHRpb25zKSksci5zaG93X29uPW8uc2hvd19vbiE9PWwuc2hvd19vbixyLnNob3dfZWZmZWN0PW8uc2hvd19lZmZlY3QhPT1sLnNob3dfZWZmZWN0LHIuc2hvd19hbmltT3B0aW9ucz13ZShvLnNob3dfYW5pbU9wdGlvbnMsbC5zaG93X2FuaW1PcHRpb25zKSxyLnNob3dfZWZmZWN0fHxyLnNob3dfYW5pbU9wdGlvbnM/by5zaG93X2luQW5pbT8oaT1yLnNob3dfZWZmZWN0P01bbC5zaG93X2VmZmVjdF0uc3RvcChlLCEwLCEwKTpNW2wuc2hvd19lZmZlY3RdLnN0b3AoZSkscygpLE1bbC5zaG93X2VmZmVjdF0uaW5pdChlLGkpKTpyLnNob3dfb24mJihsLnNob3dfZWZmZWN0JiZyLnNob3dfZWZmZWN0JiZNW2wuc2hvd19lZmZlY3RdLnN0b3AoZSwhMCwhMCkscygpLE1bbC5zaG93X2VmZmVjdF0uaW5pdChlKSk6ci5zaG93X29uJiYocygpLE1bbC5zaG93X2VmZmVjdF0uc3RhcnQoZSkpfWZ1bmN0aW9uIGF0KGUsdCxuKXt2YXIgYT17cHJvcHM6ZSxvcHRpb25OYW1lOm59O3JldHVybiBlLmF0dGFjaG1lbnRzLmluZGV4T2YodCk8MCYmKCF0LmNvbmYuYmluZHx8dC5jb25mLmJpbmQodCxhKSkmJihlLmF0dGFjaG1lbnRzLnB1c2godCksdC5ib3VuZFRhcmdldHMucHVzaChhKSwxKX1mdW5jdGlvbiBpdChuLGEsZSl7dmFyIGk9bi5hdHRhY2htZW50cy5pbmRleE9mKGEpOy0xPGkmJm4uYXR0YWNobWVudHMuc3BsaWNlKGksMSksYS5ib3VuZFRhcmdldHMuc29tZShmdW5jdGlvbihlLHQpe3JldHVybiBlLnByb3BzPT09biYmKGEuY29uZi51bmJpbmQmJmEuY29uZi51bmJpbmQoYSxlKSxpPXQsITApfSkmJihhLmJvdW5kVGFyZ2V0cy5zcGxpY2UoaSwxKSxlfHxqZShmdW5jdGlvbigpe2EuYm91bmRUYXJnZXRzLmxlbmd0aHx8byhhKX0pKX1mdW5jdGlvbiBvdChzLHUpe3ZhciBlLGksYSx0LG4sbyxsLHIsaCxwLGMsZCxmLHksbSxTLGcsXz1zLm9wdGlvbnMsdj17fTtmdW5jdGlvbiBFKGUsdCxuLGEsaSl7dmFyIG89e307cmV0dXJuIG4/bnVsbCE9YT8oby5jb250YWluZXI9ZVtuXSxvLmtleT1hKTooby5jb250YWluZXI9ZSxvLmtleT1uKTooby5jb250YWluZXI9ZSxvLmtleT10KSxvLmRlZmF1bHQ9aSxvLmFjY2VwdHNBdXRvPW51bGw9PW8uZGVmYXVsdCxvfWZ1bmN0aW9uIHgoZSx0LG4sYSxpLG8sbCl7dmFyIHIscyx1LGg9RShlLG4saSxvLGwpO3JldHVybiBudWxsIT10W25dJiYocz0odFtuXStcIlwiKS50b0xvd2VyQ2FzZSgpKSYmKGguYWNjZXB0c0F1dG8mJnM9PT1VfHwodT1hW3NdKSkmJnUhPT1oLmNvbnRhaW5lcltoLmtleV0mJihoLmNvbnRhaW5lcltoLmtleV09dSxyPSEwKSxudWxsIT1oLmNvbnRhaW5lcltoLmtleV18fGguYWNjZXB0c0F1dG98fChoLmNvbnRhaW5lcltoLmtleV09aC5kZWZhdWx0LHI9ITApLHJ9ZnVuY3Rpb24gYihlLHQsbixhLGksbyxsLHIscyl7dmFyIHUsaCxwLGMsZD1FKGUsbixpLG8sbCk7aWYoIWEpe2lmKG51bGw9PWQuZGVmYXVsdCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGB0eXBlYDogXCIrbik7YT10eXBlb2YgZC5kZWZhdWx0fXJldHVybiBudWxsIT10W25dJiYoZC5hY2NlcHRzQXV0byYmKHRbbl0rXCJcIikudG9Mb3dlckNhc2UoKT09PVV8fChwPWg9dFtuXSwoXCJudW1iZXJcIj09PShjPWEpP3llKHApOnR5cGVvZiBwPT09YykmJihoPXMmJlwic3RyaW5nXCI9PT1hJiZoP2gudHJpbSgpOmgsMSkmJighcnx8cihoKSkpKSYmaCE9PWQuY29udGFpbmVyW2Qua2V5XSYmKGQuY29udGFpbmVyW2Qua2V5XT1oLHU9ITApLG51bGwhPWQuY29udGFpbmVyW2Qua2V5XXx8ZC5hY2NlcHRzQXV0b3x8KGQuY29udGFpbmVyW2Qua2V5XT1kLmRlZmF1bHQsdT0hMCksdX1pZih1PXV8fHt9LFtcInN0YXJ0XCIsXCJlbmRcIl0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPXVbZV0sYT0hMTtpZihuJiYoSWUobil8fChhPUwobixcImFuY2hvclwiKSkpJiZuIT09Xy5hbmNob3JTRVt0XSl7aWYoITEhPT1zLm9wdGlvbklzQXR0YWNoLmFuY2hvclNFW3RdJiZpdChzLHZlW18uYW5jaG9yU0VbdF0uX2lkXSksYSYmIWF0KHMsdmVbbi5faWRdLGUpKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGJpbmQgYXR0YWNobWVudFwiKTtfLmFuY2hvclNFW3RdPW4scy5vcHRpb25Jc0F0dGFjaC5hbmNob3JTRVt0XT1hLGk9di5wb3NpdGlvbj0hMH19KSwhXy5hbmNob3JTRVswXXx8IV8uYW5jaG9yU0VbMV18fF8uYW5jaG9yU0VbMF09PT1fLmFuY2hvclNFWzFdKXRocm93IG5ldyBFcnJvcihcImBzdGFydGAgYW5kIGBlbmRgIGFyZSByZXF1aXJlZC5cIik7ZnVuY3Rpb24gayhlKXt2YXIgdD1vLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwibWFza1wiKSk7cmV0dXJuIHQuaWQ9ZSx0Lm1hc2tVbml0cy5iYXNlVmFsPVNWR1VuaXRUeXBlcy5TVkdfVU5JVF9UWVBFX1VTRVJTUEFDRU9OVVNFLFt0LngsdC55LHQud2lkdGgsdC5oZWlnaHRdLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BYLDApfSksdH1mdW5jdGlvbiB3KGUpe3ZhciB0PW8uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJtYXJrZXJcIikpO3JldHVybiB0LmlkPWUsdC5tYXJrZXJVbml0cy5iYXNlVmFsPVNWR01hcmtlckVsZW1lbnQuU1ZHX01BUktFUlVOSVRTX1NUUk9LRVdJRFRILHQudmlld0JveC5iYXNlVmFsfHx0LnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixcIjAgMCAwIDBcIiksdH1mdW5jdGlvbiBPKGUpe3JldHVybltlLndpZHRoLGUuaGVpZ2h0XS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QRVJDRU5UQUdFLDEwMCl9KSxlfWkmJihlPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpO2lmKCEobj1MZShlKSl8fCEoYT1MZSh0KSkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBmcmFtZXMuXCIpO3JldHVybiBuLmxlbmd0aCYmYS5sZW5ndGgmJihuLnJldmVyc2UoKSxhLnJldmVyc2UoKSxuLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIGEuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PXQmJihpPWUuY29udGVudFdpbmRvdywhMCl9KX0pKSxpfHx3aW5kb3d9KCExIT09cy5vcHRpb25Jc0F0dGFjaC5hbmNob3JTRVswXT92ZVtfLmFuY2hvclNFWzBdLl9pZF0uZWxlbWVudDpfLmFuY2hvclNFWzBdLCExIT09cy5vcHRpb25Jc0F0dGFjaC5hbmNob3JTRVsxXT92ZVtfLmFuY2hvclNFWzFdLl9pZF0uZWxlbWVudDpfLmFuY2hvclNFWzFdKSkhPT1zLmJhc2VXaW5kb3cmJih0PWUsbT0oYT1zKS5hcGxTdGF0cyxTPXQuZG9jdW1lbnQsZz1BK1wiLVwiK2EuX2lkLGEucGF0aExpc3Q9e30sWGUobSxtZSksT2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZStcIl9lbmFibGVkXCI7bVt0XSYmKHRlW2VdLnJlbW92ZShhKSxtW3RdPSExKX0pLGEuYmFzZVdpbmRvdyYmYS5zdmcmJmEuYmFzZVdpbmRvdy5kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEuc3ZnKSxLZShhLmJhc2VXaW5kb3c9dCksYS5ib2R5T2Zmc2V0PVFlKHQpLGEuc3ZnPW49Uy5jcmVhdGVFbGVtZW50TlMocmUsXCJzdmdcIiksbi5jbGFzc05hbWUuYmFzZVZhbD1BLG4udmlld0JveC5iYXNlVmFsfHxuLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixcIjAgMCAwIDBcIiksYS5kZWZzPW89bi5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcImRlZnNcIikpLGEubGluZVBhdGg9cj1vLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwicGF0aFwiKSksci5pZD1oPWcrXCItbGluZS1wYXRoXCIsci5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLWxpbmUtcGF0aFwiLHBlJiYoci5zdHlsZS5maWxsPVwibm9uZVwiKSxhLmxpbmVTaGFwZT1yPW8uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuaWQ9cD1nK1wiLWxpbmUtc2hhcGVcIixyLmhyZWYuYmFzZVZhbD1cIiNcIitoLChsPW8uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJnXCIpKSkuaWQ9Yz1nK1wiLWNhcHNcIixhLmNhcHNNYXNrQW5jaG9yU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKCl7dmFyIGU9bC5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInBhdGhcIikpO3JldHVybiBlLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItY2Fwcy1tYXNrLWFuY2hvclwiLGV9KSxhLmxpbmVNYXNrTWFya2VySWRTRT1bZytcIi1jYXBzLW1hc2stbWFya2VyLTBcIixnK1wiLWNhcHMtbWFzay1tYXJrZXItMVwiXSxhLmNhcHNNYXNrTWFya2VyU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB3KGEubGluZU1hc2tNYXJrZXJJZFNFW2VdKX0pLGEuY2Fwc01hc2tNYXJrZXJTaGFwZVNFPVswLDFdLm1hcChmdW5jdGlvbihlKXt2YXIgdD1hLmNhcHNNYXNrTWFya2VyU0VbZV0uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpO3JldHVybiB0LmNsYXNzTmFtZS5iYXNlVmFsPUErXCItY2Fwcy1tYXNrLW1hcmtlci1zaGFwZVwiLHR9KSxhLmNhcHNNYXNrTGluZT1yPWwuYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpLHIuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1jYXBzLW1hc2stbGluZVwiLHIuaHJlZi5iYXNlVmFsPVwiI1wiK3AsYS5tYXNrQkdSZWN0PXI9TyhvLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwicmVjdFwiKSkpLHIuaWQ9ZD1nK1wiLW1hc2stYmctcmVjdFwiLHIuY2xhc3NOYW1lLmJhc2VWYWw9QStcIi1tYXNrLWJnLXJlY3RcIixwZSYmKHIuc3R5bGUuZmlsbD1cIndoaXRlXCIpLGEubGluZU1hc2s9TyhrKGEubGluZU1hc2tJZD1nK1wiLWxpbmUtbWFza1wiKSksYS5saW5lTWFza0JHPXI9YS5saW5lTWFzay5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5ocmVmLmJhc2VWYWw9XCIjXCIrZCxhLmxpbmVNYXNrU2hhcGU9cj1hLmxpbmVNYXNrLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItbGluZS1tYXNrLXNoYXBlXCIsci5ocmVmLmJhc2VWYWw9XCIjXCIraCxyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYS5saW5lTWFza0NhcHM9cj1hLmxpbmVNYXNrLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmhyZWYuYmFzZVZhbD1cIiNcIitjLGEubGluZU91dGxpbmVNYXNrPU8oayhmPWcrXCItbGluZS1vdXRsaW5lLW1hc2tcIikpLChyPWEubGluZU91dGxpbmVNYXNrLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSkuaHJlZi5iYXNlVmFsPVwiI1wiK2QsYS5saW5lT3V0bGluZU1hc2tTaGFwZT1yPWEubGluZU91dGxpbmVNYXNrLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItbGluZS1vdXRsaW5lLW1hc2stc2hhcGVcIixyLmhyZWYuYmFzZVZhbD1cIiNcIitoLGEubGluZU91dGxpbmVNYXNrQ2Fwcz1yPWEubGluZU91dGxpbmVNYXNrLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmhyZWYuYmFzZVZhbD1cIiNcIitjLGEuZmFjZT1uLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwiZ1wiKSksYS5saW5lRmFjZT1yPWEuZmFjZS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5ocmVmLmJhc2VWYWw9XCIjXCIrcCxhLmxpbmVPdXRsaW5lRmFjZT1yPWEuZmFjZS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSksci5ocmVmLmJhc2VWYWw9XCIjXCIrcCxyLnN0eWxlLm1hc2s9XCJ1cmwoI1wiK2YrXCIpXCIsci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEucGx1Z01hc2tJZFNFPVtnK1wiLXBsdWctbWFzay0wXCIsZytcIi1wbHVnLW1hc2stMVwiXSxhLnBsdWdNYXNrU0U9WzAsMV0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBrKGEucGx1Z01hc2tJZFNFW2VdKX0pLGEucGx1Z01hc2tTaGFwZVNFPVswLDFdLm1hcChmdW5jdGlvbihlKXt2YXIgdD1hLnBsdWdNYXNrU0VbZV0uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpO3JldHVybiB0LmNsYXNzTmFtZS5iYXNlVmFsPUErXCItcGx1Zy1tYXNrLXNoYXBlXCIsdH0pLHk9W10sYS5wbHVnT3V0bGluZU1hc2tTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGsoeVtlXT1nK1wiLXBsdWctb3V0bGluZS1tYXNrLVwiK2UpfSksYS5wbHVnT3V0bGluZU1hc2tTaGFwZVNFPVswLDFdLm1hcChmdW5jdGlvbihlKXt2YXIgdD1hLnBsdWdPdXRsaW5lTWFza1NFW2VdLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKTtyZXR1cm4gdC5jbGFzc05hbWUuYmFzZVZhbD1BK1wiLXBsdWctb3V0bGluZS1tYXNrLXNoYXBlXCIsdH0pLGEucGx1Z01hcmtlcklkU0U9W2crXCItcGx1Zy1tYXJrZXItMFwiLGcrXCItcGx1Zy1tYXJrZXItMVwiXSxhLnBsdWdNYXJrZXJTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9dyhhLnBsdWdNYXJrZXJJZFNFW2VdKTtyZXR1cm4gcGUmJih0Lm1hcmtlclVuaXRzLmJhc2VWYWw9U1ZHTWFya2VyRWxlbWVudC5TVkdfTUFSS0VSVU5JVFNfVVNFUlNQQUNFT05VU0UpLHR9KSxhLnBsdWdNYXJrZXJTaGFwZVNFPVswLDFdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYS5wbHVnTWFya2VyU0VbZV0uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJnXCIpKX0pLGEucGx1Z0ZhY2VTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGEucGx1Z01hcmtlclNoYXBlU0VbZV0uYXBwZW5kQ2hpbGQoUy5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpfSksYS5wbHVnT3V0bGluZUZhY2VTRT1bMCwxXS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9YS5wbHVnTWFya2VyU2hhcGVTRVtlXS5hcHBlbmRDaGlsZChTLmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSk7cmV0dXJuIHQuc3R5bGUubWFzaz1cInVybCgjXCIreVtlXStcIilcIix0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdH0pLGEucGx1Z3NGYWNlPXI9YS5mYWNlLmFwcGVuZENoaWxkKFMuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSxyLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItcGx1Z3MtZmFjZVwiLHIuaHJlZi5iYXNlVmFsPVwiI1wiK3Asci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEuY3VyU3RhdHMuc2hvd19pbkFuaW0/KGEuaXNTaG93bj0xLE1bbS5zaG93X2VmZmVjdF0uc3RvcChhLCEwKSk6YS5pc1Nob3dufHwobi5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpLFMuYm9keS5hcHBlbmRDaGlsZChuKSxbMCwxLDJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbj1hLm9wdGlvbnMubGFiZWxTRU1bZV07biYmTChuLFwibGFiZWxcIikmJih0PXZlW24uX2lkXSkuY29uZi5pbml0U3ZnJiZ0LmNvbmYuaW5pdFN2Zyh0LGEpfSksdi5saW5lPXYucGx1Zz12LmxpbmVPdXRsaW5lPXYucGx1Z091dGxpbmU9di5mYWNlcz12LmVmZmVjdD0hMCksdi5wb3NpdGlvbj14KF8sdSxcInBhdGhcIix6LG51bGwsbnVsbCxkZS5wYXRoKXx8di5wb3NpdGlvbix2LnBvc2l0aW9uPXgoXyx1LFwic3RhcnRTb2NrZXRcIixXLFwic29ja2V0U0VcIiwwKXx8di5wb3NpdGlvbix2LnBvc2l0aW9uPXgoXyx1LFwiZW5kU29ja2V0XCIsVyxcInNvY2tldFNFXCIsMSl8fHYucG9zaXRpb24sW3Uuc3RhcnRTb2NrZXRHcmF2aXR5LHUuZW5kU29ja2V0R3Jhdml0eV0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuLGEsaT0hMTtudWxsIT1lJiYoQXJyYXkuaXNBcnJheShlKT95ZShlWzBdKSYmeWUoZVsxXSkmJihpPVtlWzBdLGVbMV1dLEFycmF5LmlzQXJyYXkoXy5zb2NrZXRHcmF2aXR5U0VbdF0pJiYobj1pLGE9Xy5zb2NrZXRHcmF2aXR5U0VbdF0sbi5sZW5ndGg9PT1hLmxlbmd0aCYmbi5ldmVyeShmdW5jdGlvbihlLHQpe3JldHVybiBlPT09YVt0XX0pKSYmKGk9ITEpKTooKGUrXCJcIikudG9Mb3dlckNhc2UoKT09PVU/aT1udWxsOnllKGUpJiYwPD1lJiYoaT1lKSxpPT09Xy5zb2NrZXRHcmF2aXR5U0VbdF0mJihpPSExKSksITEhPT1pJiYoXy5zb2NrZXRHcmF2aXR5U0VbdF09aSx2LnBvc2l0aW9uPSEwKSl9KSx2LmxpbmU9YihfLHUsXCJjb2xvclwiLG51bGwsXCJsaW5lQ29sb3JcIixudWxsLGRlLmxpbmVDb2xvcixudWxsLCEwKXx8di5saW5lLHYubGluZT1iKF8sdSxcInNpemVcIixudWxsLFwibGluZVNpemVcIixudWxsLGRlLmxpbmVTaXplLGZ1bmN0aW9uKGUpe3JldHVybiAwPGV9KXx8di5saW5lLFtcInN0YXJ0UGx1Z1wiLFwiZW5kUGx1Z1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7di5wbHVnPXgoXyx1LGUsaixcInBsdWdTRVwiLHQsZGUucGx1Z1NFW3RdKXx8di5wbHVnLHYucGx1Zz1iKF8sdSxlK1wiQ29sb3JcIixcInN0cmluZ1wiLFwicGx1Z0NvbG9yU0VcIix0LG51bGwsbnVsbCwhMCl8fHYucGx1Zyx2LnBsdWc9YihfLHUsZStcIlNpemVcIixudWxsLFwicGx1Z1NpemVTRVwiLHQsZGUucGx1Z1NpemVTRVt0XSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlfSl8fHYucGx1Z30pLHYubGluZU91dGxpbmU9YihfLHUsXCJvdXRsaW5lXCIsbnVsbCxcImxpbmVPdXRsaW5lRW5hYmxlZFwiLG51bGwsZGUubGluZU91dGxpbmVFbmFibGVkKXx8di5saW5lT3V0bGluZSx2LmxpbmVPdXRsaW5lPWIoXyx1LFwib3V0bGluZUNvbG9yXCIsbnVsbCxcImxpbmVPdXRsaW5lQ29sb3JcIixudWxsLGRlLmxpbmVPdXRsaW5lQ29sb3IsbnVsbCwhMCl8fHYubGluZU91dGxpbmUsdi5saW5lT3V0bGluZT1iKF8sdSxcIm91dGxpbmVTaXplXCIsbnVsbCxcImxpbmVPdXRsaW5lU2l6ZVwiLG51bGwsZGUubGluZU91dGxpbmVTaXplLGZ1bmN0aW9uKGUpe3JldHVybiAwPGUmJmU8PS40OH0pfHx2LmxpbmVPdXRsaW5lLFtcInN0YXJ0UGx1Z091dGxpbmVcIixcImVuZFBsdWdPdXRsaW5lXCJdLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2LnBsdWdPdXRsaW5lPWIoXyx1LGUsbnVsbCxcInBsdWdPdXRsaW5lRW5hYmxlZFNFXCIsdCxkZS5wbHVnT3V0bGluZUVuYWJsZWRTRVt0XSl8fHYucGx1Z091dGxpbmUsdi5wbHVnT3V0bGluZT1iKF8sdSxlK1wiQ29sb3JcIixcInN0cmluZ1wiLFwicGx1Z091dGxpbmVDb2xvclNFXCIsdCxudWxsLG51bGwsITApfHx2LnBsdWdPdXRsaW5lLHYucGx1Z091dGxpbmU9YihfLHUsZStcIlNpemVcIixudWxsLFwicGx1Z091dGxpbmVTaXplU0VcIix0LGRlLnBsdWdPdXRsaW5lU2l6ZVNFW3RdLGZ1bmN0aW9uKGUpe3JldHVybiAxPD1lfSl8fHYucGx1Z091dGxpbmV9KSxbXCJzdGFydExhYmVsXCIsXCJlbmRMYWJlbFwiLFwibWlkZGxlTGFiZWxcIl0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuLGEsaSxvPXVbZV0sbD1fLmxhYmVsU0VNW3RdJiYhcy5vcHRpb25Jc0F0dGFjaC5sYWJlbFNFTVt0XT92ZVtfLmxhYmVsU0VNW3RdLl9pZF0udGV4dDpfLmxhYmVsU0VNW3RdLHI9ITE7aWYoKG49XCJzdHJpbmdcIj09dHlwZW9mIG8pJiYobz1vLnRyaW0oKSksKG58fG8mJihyPUwobyxcImxhYmVsXCIpKSkmJm8hPT1sKXtpZihfLmxhYmVsU0VNW3RdJiYoaXQocyx2ZVtfLmxhYmVsU0VNW3RdLl9pZF0pLF8ubGFiZWxTRU1bdF09XCJcIiksbyl7aWYocj8oYT12ZVsoaT1vKS5faWRdKS5ib3VuZFRhcmdldHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EuY29uZi5yZW1vdmVPcHRpb24oYSxlKX0pOmk9bmV3IEMoSS5jYXB0aW9uTGFiZWwsW29dKSwhYXQocyx2ZVtpLl9pZF0sZSkpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYmluZCBhdHRhY2htZW50XCIpO18ubGFiZWxTRU1bdF09aX1zLm9wdGlvbklzQXR0YWNoLmxhYmVsU0VNW3RdPXJ9fSksT2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGUsdCxvPXRlW2FdLG49YStcIl9lbmFibGVkXCIsaT1hK1wiX29wdGlvbnNcIjtmdW5jdGlvbiBsKGEpe3ZhciBpPXt9O3JldHVybiBvLm9wdGlvbnNDb25mLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbM107bnVsbD09ZVs0XXx8aVtuXXx8KGlbbl09W10pLChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6XCJpZFwiPT09dD94OmIpLmFwcGx5KG51bGwsW2ksYV0uY29uY2F0KGUuc2xpY2UoMSkpKX0pLGl9ZnVuY3Rpb24gcihlKXt2YXIgdCxuPWErXCJfYW5pbU9wdGlvbnNcIjtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eShcImFuaW1hdGlvblwiKT9mZShlLmFuaW1hdGlvbik/dD1zLmN1clN0YXRzW25dPXR0KGUuYW5pbWF0aW9uLG8uZGVmYXVsdEFuaW1PcHRpb25zKToodD0hIWUuYW5pbWF0aW9uLHMuY3VyU3RhdHNbbl09dD90dCh7fSxvLmRlZmF1bHRBbmltT3B0aW9ucyk6bnVsbCk6KHQ9ISFvLmRlZmF1bHRFbmFibGVkLHMuY3VyU3RhdHNbbl09dD90dCh7fSxvLmRlZmF1bHRBbmltT3B0aW9ucyk6bnVsbCksdH11Lmhhc093blByb3BlcnR5KGEpJiYoZT11W2FdLGZlKGUpPyhzLmN1clN0YXRzW25dPSEwLHQ9cy5jdXJTdGF0c1tpXT1sKGUpLG8uYW5pbSYmKHMuY3VyU3RhdHNbaV0uYW5pbWF0aW9uPXIoZSkpKToodD1zLmN1clN0YXRzW25dPSEhZSkmJihzLmN1clN0YXRzW2ldPWwoe30pLG8uYW5pbSYmKHMuY3VyU3RhdHNbaV0uYW5pbWF0aW9uPXIoe30pKSksd2UodCxfW2FdKSYmKF9bYV09dCx2LmVmZmVjdD0hMCkpfSksZXQocyx2KX1mdW5jdGlvbiBsdChlLHQsbil7dmFyIGE9e29wdGlvbnM6e2FuY2hvclNFOltdLHNvY2tldFNFOltdLHNvY2tldEdyYXZpdHlTRTpbXSxwbHVnU0U6W10scGx1Z0NvbG9yU0U6W10scGx1Z1NpemVTRTpbXSxwbHVnT3V0bGluZUVuYWJsZWRTRTpbXSxwbHVnT3V0bGluZUNvbG9yU0U6W10scGx1Z091dGxpbmVTaXplU0U6W10sbGFiZWxTRU06W1wiXCIsXCJcIixcIlwiXX0sb3B0aW9uSXNBdHRhY2g6e2FuY2hvclNFOlshMSwhMV0sbGFiZWxTRU06WyExLCExLCExXX0sY3VyU3RhdHM6e30sYXBsU3RhdHM6e30sYXR0YWNobWVudHM6W10sZXZlbnRzOnt9LHJlZmxvd1RhcmdldHM6W119O1hlKGEuY3VyU3RhdHMsbWUpLFhlKGEuYXBsU3RhdHMsbWUpLE9iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXRlW2VdLnN0YXRzO1hlKGEuY3VyU3RhdHMsdCksWGUoYS5hcGxTdGF0cyx0KSxhLm9wdGlvbnNbZV09ITF9KSxYZShhLmN1clN0YXRzLEUpLFhlKGEuYXBsU3RhdHMsRSksYS5jdXJTdGF0cy5zaG93X2VmZmVjdD1PLGEuY3VyU3RhdHMuc2hvd19hbmltT3B0aW9ucz1PZShNW09dLmRlZmF1bHRBbmltT3B0aW9ucyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaWRcIix7dmFsdWU6KytfZX0pLGEuX2lkPXRoaXMuX2lkLGdlW3RoaXMuX2lkXT1hLDE9PT1hcmd1bWVudHMubGVuZ3RoJiYobj1lLGU9bnVsbCksbj1ufHx7fSwoZXx8dCkmJihuPU9lKG4pLGUmJihuLnN0YXJ0PWUpLHQmJihuLmVuZD10KSksYS5pc1Nob3duPWEuYXBsU3RhdHMuc2hvd19vbj0hbi5oaWRlLHRoaXMuc2V0T3B0aW9ucyhuKX1mdW5jdGlvbiBydChuKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307dFtuXT1lLHRoaXMuc2V0T3B0aW9ucyh0KX19ZnVuY3Rpb24gc3QoZSx0KXt2YXIgbixhPXtjb25mOmUsY3VyU3RhdHM6e30sYXBsU3RhdHM6e30sYm91bmRUYXJnZXRzOltdfSxpPXt9O2UuYXJnT3B0aW9ucy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4hKCF0Lmxlbmd0aHx8KFwic3RyaW5nXCI9PXR5cGVvZiBlLnR5cGU/dHlwZW9mIHRbMF0hPT1lLnR5cGU6XCJmdW5jdGlvblwiIT10eXBlb2YgZS50eXBlfHwhZS50eXBlKHRbMF0pKSkmJihpW2Uub3B0aW9uTmFtZV09dC5zaGlmdCgpLCEwKX0pLG49dC5sZW5ndGgmJmZlKHRbMF0pP09lKHRbMF0pOnt9LE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7bltlXT1pW2VdfSksZS5zdGF0cyYmKFhlKGEuY3VyU3RhdHMsZS5zdGF0cyksWGUoYS5hcGxTdGF0cyxlLnN0YXRzKSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfaWRcIix7dmFsdWU6KytFZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaXNSZW1vdmVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiF2ZVt0aGlzLl9pZF19fSksYS5faWQ9dGhpcy5faWQsZS5pbml0JiYhZS5pbml0KGEsbil8fCh2ZVt0aGlzLl9pZF09YSl9cmV0dXJuIHRlPXtkYXNoOntzdGF0czp7ZGFzaF9sZW46e30sZGFzaF9nYXA6e30sZGFzaF9tYXhPZmZzZXQ6e319LGFuaW06ITAsZGVmYXVsdEFuaW1PcHRpb25zOntkdXJhdGlvbjoxZTMsdGltaW5nOlwibGluZWFyXCJ9LG9wdGlvbnNDb25mOltbXCJ0eXBlXCIsXCJsZW5cIixcIm51bWJlclwiLG51bGwsbnVsbCxudWxsLGZ1bmN0aW9uKGUpe3JldHVybiAwPGV9XSxbXCJ0eXBlXCIsXCJnYXBcIixcIm51bWJlclwiLG51bGwsbnVsbCxudWxsLGZ1bmN0aW9uKGUpe3JldHVybiAwPGV9XV0saW5pdDpmdW5jdGlvbihlKXtEZShlLFwiYXBsX2xpbmVfc3Ryb2tlV2lkdGhcIix0ZS5kYXNoLnVwZGF0ZSksZS5saW5lRmFjZS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0PTAsdGUuZGFzaC51cGRhdGUoZSl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmN1clN0YXRzO3plKGUsXCJhcGxfbGluZV9zdHJva2VXaWR0aFwiLHRlLmRhc2gudXBkYXRlKSx0LmRhc2hfYW5pbUlkJiYoZy5yZW1vdmUodC5kYXNoX2FuaW1JZCksdC5kYXNoX2FuaW1JZD1udWxsKSxlLmxpbmVGYWNlLnN0eWxlLnN0cm9rZURhc2hhcnJheT1cIm5vbmVcIixlLmxpbmVGYWNlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQ9MCxYZShlLmFwbFN0YXRzLHRlLmRhc2guc3RhdHMpfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGUsbj10LmN1clN0YXRzLGE9dC5hcGxTdGF0cyxpPWEuZGFzaF9vcHRpb25zLG89ITE7bi5kYXNoX2xlbj1pLmxlbnx8MiphLmxpbmVfc3Ryb2tlV2lkdGgsbi5kYXNoX2dhcD1pLmdhcHx8YS5saW5lX3N0cm9rZVdpZHRoLG4uZGFzaF9tYXhPZmZzZXQ9bi5kYXNoX2xlbituLmRhc2hfZ2FwLG89cWUodCxhLFwiZGFzaF9sZW5cIixuLmRhc2hfbGVuKXx8bywobz1xZSh0LGEsXCJkYXNoX2dhcFwiLG4uZGFzaF9nYXApfHxvKSYmKHQubGluZUZhY2Uuc3R5bGUuc3Ryb2tlRGFzaGFycmF5PWEuZGFzaF9sZW4rXCIsXCIrYS5kYXNoX2dhcCksbi5kYXNoX2FuaW1PcHRpb25zPyhvPXFlKHQsYSxcImRhc2hfbWF4T2Zmc2V0XCIsbi5kYXNoX21heE9mZnNldCksYS5kYXNoX2FuaW1PcHRpb25zJiYob3x8d2Uobi5kYXNoX2FuaW1PcHRpb25zLGEuZGFzaF9hbmltT3B0aW9ucykpJiYobi5kYXNoX2FuaW1JZCYmKGU9Zy5zdG9wKG4uZGFzaF9hbmltSWQpLGcucmVtb3ZlKG4uZGFzaF9hbmltSWQpKSxhLmRhc2hfYW5pbU9wdGlvbnM9bnVsbCksYS5kYXNoX2FuaW1PcHRpb25zfHwobi5kYXNoX2FuaW1JZD1nLmFkZChmdW5jdGlvbihlKXtyZXR1cm4oMS1lKSphLmRhc2hfbWF4T2Zmc2V0K1wicHhcIn0sZnVuY3Rpb24oZSl7dC5saW5lRmFjZS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0PWV9LG4uZGFzaF9hbmltT3B0aW9ucy5kdXJhdGlvbiwwLG4uZGFzaF9hbmltT3B0aW9ucy50aW1pbmcsITEsZSksYS5kYXNoX2FuaW1PcHRpb25zPU9lKG4uZGFzaF9hbmltT3B0aW9ucykpKTphLmRhc2hfYW5pbU9wdGlvbnMmJihuLmRhc2hfYW5pbUlkJiYoZy5yZW1vdmUobi5kYXNoX2FuaW1JZCksbi5kYXNoX2FuaW1JZD1udWxsKSx0LmxpbmVGYWNlLnN0eWxlLnN0cm9rZURhc2hvZmZzZXQ9MCxhLmRhc2hfYW5pbU9wdGlvbnM9bnVsbCl9fSxncmFkaWVudDp7c3RhdHM6e2dyYWRpZW50X2NvbG9yU0U6e2hhc1NFOiEwfSxncmFkaWVudF9wb2ludFNFOntoYXNTRTohMCxoYXNQcm9wczohMH19LG9wdGlvbnNDb25mOltbXCJ0eXBlXCIsXCJzdGFydENvbG9yXCIsXCJzdHJpbmdcIixcImNvbG9yU0VcIiwwLG51bGwsbnVsbCwhMF0sW1widHlwZVwiLFwiZW5kQ29sb3JcIixcInN0cmluZ1wiLFwiY29sb3JTRVwiLDEsbnVsbCxudWxsLCEwXV0saW5pdDpmdW5jdGlvbihlKXt2YXIgdCxhPWUuYmFzZVdpbmRvdy5kb2N1bWVudCxuPWUuZGVmcyxpPUErXCItXCIrZS5faWQrXCItZ3JhZGllbnRcIjtlLmVmY19ncmFkaWVudF9ncmFkaWVudD10PW4uYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50TlMocmUsXCJsaW5lYXJHcmFkaWVudFwiKSksdC5pZD1pLHQuZ3JhZGllbnRVbml0cy5iYXNlVmFsPVNWR1VuaXRUeXBlcy5TVkdfVU5JVF9UWVBFX1VTRVJTUEFDRU9OVVNFLFt0LngxLHQueTEsdC54Mix0LnkyXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QWCwwKX0pLGUuZWZjX2dyYWRpZW50X3N0b3BTRT1bMCwxXS5tYXAoZnVuY3Rpb24odCl7dmFyIG49ZS5lZmNfZ3JhZGllbnRfZ3JhZGllbnQuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50TlMocmUsXCJzdG9wXCIpKTt0cnl7bi5vZmZzZXQuYmFzZVZhbD10fWNhdGNoKGUpe2lmKGUuY29kZSE9PURPTUV4Y2VwdGlvbi5OT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlIpdGhyb3cgZTtuLnNldEF0dHJpYnV0ZShcIm9mZnNldFwiLHQpfXJldHVybiBufSksRGUoZSxcImN1cl9wbHVnX2NvbG9yU0VcIix0ZS5ncmFkaWVudC51cGRhdGUpLERlKGUsXCJhcGxfcGF0aFwiLHRlLmdyYWRpZW50LnVwZGF0ZSksZS5jdXJTdGF0cy5saW5lX2FsdENvbG9yPSEwLGUubGluZUZhY2Uuc3R5bGUuc3Ryb2tlPVwidXJsKCNcIitpK1wiKVwiLHRlLmdyYWRpZW50LnVwZGF0ZShlKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe2UuZWZjX2dyYWRpZW50X2dyYWRpZW50JiYoZS5kZWZzLnJlbW92ZUNoaWxkKGUuZWZjX2dyYWRpZW50X2dyYWRpZW50KSxlLmVmY19ncmFkaWVudF9ncmFkaWVudD1lLmVmY19ncmFkaWVudF9zdG9wU0U9bnVsbCksemUoZSxcImN1cl9wbHVnX2NvbG9yU0VcIix0ZS5ncmFkaWVudC51cGRhdGUpLHplKGUsXCJhcGxfcGF0aFwiLHRlLmdyYWRpZW50LnVwZGF0ZSksZS5jdXJTdGF0cy5saW5lX2FsdENvbG9yPSExLGUubGluZUZhY2Uuc3R5bGUuc3Ryb2tlPWUuY3VyU3RhdHMubGluZV9jb2xvcixYZShlLmFwbFN0YXRzLHRlLmdyYWRpZW50LnN0YXRzKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe3ZhciBlLHQsaT1hLmN1clN0YXRzLG89YS5hcGxTdGF0cyxuPW8uZ3JhZGllbnRfb3B0aW9ucyxsPWEucGF0aExpc3QuYW5pbVZhbHx8YS5wYXRoTGlzdC5iYXNlVmFsO1swLDFdLmZvckVhY2goZnVuY3Rpb24oZSl7aS5ncmFkaWVudF9jb2xvclNFW2VdPW4uY29sb3JTRVtlXXx8aS5wbHVnX2NvbG9yU0VbZV19KSx0PWxbMF1bMF0saS5ncmFkaWVudF9wb2ludFNFWzBdPXt4OnQueCx5OnQueX0sdD0oZT1sW2wubGVuZ3RoLTFdKVtlLmxlbmd0aC0xXSxpLmdyYWRpZW50X3BvaW50U0VbMV09e3g6dC54LHk6dC55fSxbMCwxXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuO3FlKGEsby5ncmFkaWVudF9jb2xvclNFLHQsbj1pLmdyYWRpZW50X2NvbG9yU0VbdF0pJiYocGU/KG49TWUobiksYS5lZmNfZ3JhZGllbnRfc3RvcFNFW3RdLnN0eWxlLnN0b3BDb2xvcj1uWzFdLGEuZWZjX2dyYWRpZW50X3N0b3BTRVt0XS5zdHlsZS5zdG9wT3BhY2l0eT1uWzBdKTphLmVmY19ncmFkaWVudF9zdG9wU0VbdF0uc3R5bGUuc3RvcENvbG9yPW4pLFtcInhcIixcInlcIl0uZm9yRWFjaChmdW5jdGlvbihlKXsobj1pLmdyYWRpZW50X3BvaW50U0VbdF1bZV0pIT09by5ncmFkaWVudF9wb2ludFNFW3RdW2VdJiYoYS5lZmNfZ3JhZGllbnRfZ3JhZGllbnRbZSsodCsxKV0uYmFzZVZhbC52YWx1ZT1vLmdyYWRpZW50X3BvaW50U0VbdF1bZV09bil9KX0pfX0sZHJvcFNoYWRvdzp7c3RhdHM6e2Ryb3BTaGFkb3dfZHg6e30sZHJvcFNoYWRvd19keTp7fSxkcm9wU2hhZG93X2JsdXI6e30sZHJvcFNoYWRvd19jb2xvcjp7fSxkcm9wU2hhZG93X29wYWNpdHk6e30sZHJvcFNoYWRvd194Ont9LGRyb3BTaGFkb3dfeTp7fX0sb3B0aW9uc0NvbmY6W1tcInR5cGVcIixcImR4XCIsbnVsbCxudWxsLG51bGwsMl0sW1widHlwZVwiLFwiZHlcIixudWxsLG51bGwsbnVsbCw0XSxbXCJ0eXBlXCIsXCJibHVyXCIsbnVsbCxudWxsLG51bGwsMyxmdW5jdGlvbihlKXtyZXR1cm4gMDw9ZX1dLFtcInR5cGVcIixcImNvbG9yXCIsbnVsbCxudWxsLG51bGwsXCIjMDAwXCIsbnVsbCwhMF0sW1widHlwZVwiLFwib3BhY2l0eVwiLG51bGwsbnVsbCxudWxsLC44LGZ1bmN0aW9uKGUpe3JldHVybiAwPD1lJiZlPD0xfV1dLGluaXQ6ZnVuY3Rpb24odCl7dmFyIGUsbixhLGksbyxsPXQuYmFzZVdpbmRvdy5kb2N1bWVudCxyPXQuZGVmcyxzPUErXCItXCIrdC5faWQrXCItZHJvcFNoYWRvd1wiLHU9KGU9bCxuPXMsbz17fSxcImJvb2xlYW5cIiE9dHlwZW9mIHAmJihwPSEhd2luZG93LlNWR0ZFRHJvcFNoYWRvd0VsZW1lbnQmJiFwZSksby5lbG1zQXBwZW5kPVtvLmVsbUZpbHRlcj1hPWUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmlsdGVyXCIpXSxhLmZpbHRlclVuaXRzLmJhc2VWYWw9U1ZHVW5pdFR5cGVzLlNWR19VTklUX1RZUEVfVVNFUlNQQUNFT05VU0UsYS54LmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUFgsMCksYS55LmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUFgsMCksYS53aWR0aC5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BFUkNFTlRBR0UsMTAwKSxhLmhlaWdodC5iYXNlVmFsLm5ld1ZhbHVlU3BlY2lmaWVkVW5pdHMoU1ZHTGVuZ3RoLlNWR19MRU5HVEhUWVBFX1BFUkNFTlRBR0UsMTAwKSxhLmlkPW4scD8oby5lbG1PZmZzZXQ9by5lbG1CbHVyPWk9YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlRHJvcFNoYWRvd1wiKSksby5zdHlsZUZsb29kPWkuc3R5bGUpOihvLmVsbUJsdXI9YS5hcHBlbmRDaGlsZChlLmNyZWF0ZUVsZW1lbnROUyhyZSxcImZlR2F1c3NpYW5CbHVyXCIpKSxvLmVsbU9mZnNldD1pPWEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZU9mZnNldFwiKSksaS5yZXN1bHQuYmFzZVZhbD1cIm9mZnNldGJsdXJcIixpPWEuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZUZsb29kXCIpKSxvLnN0eWxlRmxvb2Q9aS5zdHlsZSwoaT1hLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVDb21wb3NpdGVcIikpKS5pbjIuYmFzZVZhbD1cIm9mZnNldGJsdXJcIixpLm9wZXJhdG9yLmJhc2VWYWw9U1ZHRkVDb21wb3NpdGVFbGVtZW50LlNWR19GRUNPTVBPU0lURV9PUEVSQVRPUl9JTiwoaT1hLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVNZXJnZVwiKSkpLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudE5TKHJlLFwiZmVNZXJnZU5vZGVcIikpLGkuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50TlMocmUsXCJmZU1lcmdlTm9kZVwiKSkuaW4xLmJhc2VWYWw9XCJTb3VyY2VHcmFwaGljXCIpLG8pO1tcImVsbUZpbHRlclwiLFwiZWxtT2Zmc2V0XCIsXCJlbG1CbHVyXCIsXCJzdHlsZUZsb29kXCIsXCJlbG1zQXBwZW5kXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dFtcImVmY19kcm9wU2hhZG93X1wiK2VdPXVbZV19KSx1LmVsbXNBcHBlbmQuZm9yRWFjaChmdW5jdGlvbihlKXtyLmFwcGVuZENoaWxkKGUpfSksdC5mYWNlLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKCNcIitzK1wiKVwiKSxEZSh0LFwibmV3X2VkZ2U0dmlld0JveFwiLHRlLmRyb3BTaGFkb3cuYWRqdXN0RWRnZSksdGUuZHJvcFNoYWRvdy51cGRhdGUodCl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmRlZnM7ZS5lZmNfZHJvcFNoYWRvd19lbG1zQXBwZW5kJiYoZS5lZmNfZHJvcFNoYWRvd19lbG1zQXBwZW5kLmZvckVhY2goZnVuY3Rpb24oZSl7dC5yZW1vdmVDaGlsZChlKX0pLGUuZWZjX2Ryb3BTaGFkb3dfZWxtRmlsdGVyPWUuZWZjX2Ryb3BTaGFkb3dfZWxtT2Zmc2V0PWUuZWZjX2Ryb3BTaGFkb3dfZWxtQmx1cj1lLmVmY19kcm9wU2hhZG93X3N0eWxlRmxvb2Q9ZS5lZmNfZHJvcFNoYWRvd19lbG1zQXBwZW5kPW51bGwpLHplKGUsXCJuZXdfZWRnZTR2aWV3Qm94XCIsdGUuZHJvcFNoYWRvdy5hZGp1c3RFZGdlKSxldChlLHt9KSxlLmZhY2UucmVtb3ZlQXR0cmlidXRlKFwiZmlsdGVyXCIpLFhlKGUuYXBsU3RhdHMsdGUuZHJvcFNoYWRvdy5zdGF0cyl9LHVwZGF0ZTpmdW5jdGlvbihlKXt2YXIgdCxuLGE9ZS5jdXJTdGF0cyxpPWUuYXBsU3RhdHMsbz1pLmRyb3BTaGFkb3dfb3B0aW9uczthLmRyb3BTaGFkb3dfZHg9dD1vLmR4LHFlKGUsaSxcImRyb3BTaGFkb3dfZHhcIix0KSYmKGUuZWZjX2Ryb3BTaGFkb3dfZWxtT2Zmc2V0LmR4LmJhc2VWYWw9dCxuPSEwKSxhLmRyb3BTaGFkb3dfZHk9dD1vLmR5LHFlKGUsaSxcImRyb3BTaGFkb3dfZHlcIix0KSYmKGUuZWZjX2Ryb3BTaGFkb3dfZWxtT2Zmc2V0LmR5LmJhc2VWYWw9dCxuPSEwKSxhLmRyb3BTaGFkb3dfYmx1cj10PW8uYmx1cixxZShlLGksXCJkcm9wU2hhZG93X2JsdXJcIix0KSYmKGUuZWZjX2Ryb3BTaGFkb3dfZWxtQmx1ci5zZXRTdGREZXZpYXRpb24odCx0KSxuPSEwKSxuJiZldChlLHt9KSxhLmRyb3BTaGFkb3dfY29sb3I9dD1vLmNvbG9yLHFlKGUsaSxcImRyb3BTaGFkb3dfY29sb3JcIix0KSYmKGUuZWZjX2Ryb3BTaGFkb3dfc3R5bGVGbG9vZC5mbG9vZENvbG9yPXQpLGEuZHJvcFNoYWRvd19vcGFjaXR5PXQ9by5vcGFjaXR5LHFlKGUsaSxcImRyb3BTaGFkb3dfb3BhY2l0eVwiLHQpJiYoZS5lZmNfZHJvcFNoYWRvd19zdHlsZUZsb29kLmZsb29kT3BhY2l0eT10KX0sYWRqdXN0RWRnZTpmdW5jdGlvbihhLGkpe3ZhciBlLHQsbz1hLmN1clN0YXRzLGw9YS5hcGxTdGF0cztudWxsIT1vLmRyb3BTaGFkb3dfZHgmJihlPTMqby5kcm9wU2hhZG93X2JsdXIsKHQ9e3gxOmkueDEtZStvLmRyb3BTaGFkb3dfZHgseTE6aS55MS1lK28uZHJvcFNoYWRvd19keSx4MjppLngyK2Urby5kcm9wU2hhZG93X2R4LHkyOmkueTIrZStvLmRyb3BTaGFkb3dfZHl9KS54MTxpLngxJiYoaS54MT10LngxKSx0LnkxPGkueTEmJihpLnkxPXQueTEpLHQueDI+aS54MiYmKGkueDI9dC54MiksdC55Mj5pLnkyJiYoaS55Mj10LnkyKSxbXCJ4XCIsXCJ5XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbj1cImRyb3BTaGFkb3dfXCIrZTtvW25dPXQ9aVtlK1wiMVwiXSxxZShhLGwsbix0KSYmKGEuZWZjX2Ryb3BTaGFkb3dfZWxtRmlsdGVyW2VdLmJhc2VWYWwudmFsdWU9dCl9KSl9fX0sT2JqZWN0LmtleXModGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dGVbZV0sbj10LnN0YXRzO25bZStcIl9lbmFibGVkXCJdPXtpbmlWYWx1ZTohMX0sbltlK1wiX29wdGlvbnNcIl09e2hhc1Byb3BzOiEwfSx0LmFuaW0mJihuW2UrXCJfYW5pbU9wdGlvbnNcIl09e30sbltlK1wiX2FuaW1JZFwiXT17fSl9KSxNPXtub25lOntkZWZhdWx0QW5pbU9wdGlvbnM6e30saW5pdDpmdW5jdGlvbihlLHQpe3ZhciBuPWUuY3VyU3RhdHM7bi5zaG93X2FuaW1JZCYmKGcucmVtb3ZlKG4uc2hvd19hbmltSWQpLG4uc2hvd19hbmltSWQ9bnVsbCksTS5ub25lLnN0YXJ0KGUsdCl9LHN0YXJ0OmZ1bmN0aW9uKGUsdCl7TS5ub25lLnN0b3AoZSwhMCl9LHN0b3A6ZnVuY3Rpb24oZSx0LG4pe3ZhciBhPWUuY3VyU3RhdHM7cmV0dXJuIG49bnVsbCE9bj9uOmUuYXBsU3RhdHMuc2hvd19vbixhLnNob3dfaW5BbmltPSExLHQmJiRlKGUsbiksbj8xOjB9fSxmYWRlOntkZWZhdWx0QW5pbU9wdGlvbnM6e2R1cmF0aW9uOjMwMCx0aW1pbmc6XCJsaW5lYXJcIn0saW5pdDpmdW5jdGlvbihuLGUpe3ZhciB0PW4uY3VyU3RhdHMsYT1uLmFwbFN0YXRzO3Quc2hvd19hbmltSWQmJmcucmVtb3ZlKHQuc2hvd19hbmltSWQpLHQuc2hvd19hbmltSWQ9Zy5hZGQoZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGZ1bmN0aW9uKGUsdCl7dD9NLmZhZGUuc3RvcChuLCEwKToobi5zdmcuc3R5bGUub3BhY2l0eT1lK1wiXCIsc2UmJihIZShuLG4uc3ZnKSxVZShuKSkpfSxhLnNob3dfYW5pbU9wdGlvbnMuZHVyYXRpb24sMSxhLnNob3dfYW5pbU9wdGlvbnMudGltaW5nLG51bGwsITEpLE0uZmFkZS5zdGFydChuLGUpfSxzdGFydDpmdW5jdGlvbihlLHQpe3ZhciBuLGE9ZS5jdXJTdGF0czthLnNob3dfaW5BbmltJiYobj1nLnN0b3AoYS5zaG93X2FuaW1JZCkpLCRlKGUsMSksYS5zaG93X2luQW5pbT0hMCxnLnN0YXJ0KGEuc2hvd19hbmltSWQsIWUuYXBsU3RhdHMuc2hvd19vbixudWxsIT10P3Q6bil9LHN0b3A6ZnVuY3Rpb24oZSx0LG4pe3ZhciBhLGk9ZS5jdXJTdGF0cztyZXR1cm4gbj1udWxsIT1uP246ZS5hcGxTdGF0cy5zaG93X29uLGE9aS5zaG93X2luQW5pbT9nLnN0b3AoaS5zaG93X2FuaW1JZCk6bj8xOjAsaS5zaG93X2luQW5pbT0hMSx0JiYoZS5zdmcuc3R5bGUub3BhY2l0eT1uP1wiXCI6XCIwXCIsJGUoZSxuKSksYX19LGRyYXc6e2RlZmF1bHRBbmltT3B0aW9uczp7ZHVyYXRpb246NTAwLHRpbWluZzpbLjU4LDAsLjQyLDFdfSxpbml0OmZ1bmN0aW9uKG4sZSl7dmFyIHQ9bi5jdXJTdGF0cyxhPW4uYXBsU3RhdHMsbD1uLnBhdGhMaXN0LmJhc2VWYWwsaT1GZShsKSxyPWkuc2Vnc0xlbixzPWkubGVuQWxsO3Quc2hvd19hbmltSWQmJmcucmVtb3ZlKHQuc2hvd19hbmltSWQpLHQuc2hvd19hbmltSWQ9Zy5hZGQoZnVuY3Rpb24oZSl7dmFyIHQsbixhLGksbz0tMTtpZigwPT09ZSluPVtbbFswXVswXSxsWzBdWzBdXV07ZWxzZSBpZigxPT09ZSluPWw7ZWxzZXtmb3IodD1zKmUsbj1bXTt0Pj1yWysrb107KW4ucHVzaChsW29dKSx0LT1yW29dO3QmJigyPT09KGE9bFtvXSkubGVuZ3RoP24ucHVzaChbYVswXSxQZShhWzBdLGFbMV0sdC9yW29dKV0pOihpPVRlKGFbMF0sYVsxXSxhWzJdLGFbM10sQmUoYVswXSxhWzFdLGFbMl0sYVszXSx0KSksbi5wdXNoKFthWzBdLGkuZnJvbVAxLGkuZnJvbVAyLGldKSkpfXJldHVybiBufSxmdW5jdGlvbihlLHQpe3Q/TS5kcmF3LnN0b3AobiwhMCk6KG4ucGF0aExpc3QuYW5pbVZhbD1lLGV0KG4se3BhdGg6ITB9KSl9LGEuc2hvd19hbmltT3B0aW9ucy5kdXJhdGlvbiwxLGEuc2hvd19hbmltT3B0aW9ucy50aW1pbmcsbnVsbCwhMSksTS5kcmF3LnN0YXJ0KG4sZSl9LHN0YXJ0OmZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1lLmN1clN0YXRzO2Euc2hvd19pbkFuaW0mJihuPWcuc3RvcChhLnNob3dfYW5pbUlkKSksJGUoZSwxKSxhLnNob3dfaW5BbmltPSEwLERlKGUsXCJhcGxfcG9zaXRpb25cIixNLmRyYXcudXBkYXRlKSxnLnN0YXJ0KGEuc2hvd19hbmltSWQsIWUuYXBsU3RhdHMuc2hvd19vbixudWxsIT10P3Q6bil9LHN0b3A6ZnVuY3Rpb24oZSx0LG4pe3ZhciBhLGk9ZS5jdXJTdGF0cztyZXR1cm4gbj1udWxsIT1uP246ZS5hcGxTdGF0cy5zaG93X29uLGE9aS5zaG93X2luQW5pbT9nLnN0b3AoaS5zaG93X2FuaW1JZCk6bj8xOjAsaS5zaG93X2luQW5pbT0hMSx0JiYoZS5wYXRoTGlzdC5hbmltVmFsPW4/bnVsbDpbW2UucGF0aExpc3QuYmFzZVZhbFswXVswXSxlLnBhdGhMaXN0LmJhc2VWYWxbMF1bMF1dXSxldChlLHtwYXRoOiEwfSksJGUoZSxuKSksYX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3plKGUsXCJhcGxfcG9zaXRpb25cIixNLmRyYXcudXBkYXRlKSxlLmN1clN0YXRzLnNob3dfaW5BbmltP00uZHJhdy5pbml0KGUsTS5kcmF3LnN0b3AoZSkpOmUuYXBsU3RhdHMuc2hvd19hbmltT3B0aW9ucz17fX19fSxbW1wic3RhcnRcIixcImFuY2hvclNFXCIsMF0sW1wiZW5kXCIsXCJhbmNob3JTRVwiLDFdLFtcImNvbG9yXCIsXCJsaW5lQ29sb3JcIl0sW1wic2l6ZVwiLFwibGluZVNpemVcIl0sW1wic3RhcnRTb2NrZXRHcmF2aXR5XCIsXCJzb2NrZXRHcmF2aXR5U0VcIiwwXSxbXCJlbmRTb2NrZXRHcmF2aXR5XCIsXCJzb2NrZXRHcmF2aXR5U0VcIiwxXSxbXCJzdGFydFBsdWdDb2xvclwiLFwicGx1Z0NvbG9yU0VcIiwwXSxbXCJlbmRQbHVnQ29sb3JcIixcInBsdWdDb2xvclNFXCIsMV0sW1wic3RhcnRQbHVnU2l6ZVwiLFwicGx1Z1NpemVTRVwiLDBdLFtcImVuZFBsdWdTaXplXCIsXCJwbHVnU2l6ZVNFXCIsMV0sW1wib3V0bGluZVwiLFwibGluZU91dGxpbmVFbmFibGVkXCJdLFtcIm91dGxpbmVDb2xvclwiLFwibGluZU91dGxpbmVDb2xvclwiXSxbXCJvdXRsaW5lU2l6ZVwiLFwibGluZU91dGxpbmVTaXplXCJdLFtcInN0YXJ0UGx1Z091dGxpbmVcIixcInBsdWdPdXRsaW5lRW5hYmxlZFNFXCIsMF0sW1wiZW5kUGx1Z091dGxpbmVcIixcInBsdWdPdXRsaW5lRW5hYmxlZFNFXCIsMV0sW1wic3RhcnRQbHVnT3V0bGluZUNvbG9yXCIsXCJwbHVnT3V0bGluZUNvbG9yU0VcIiwwXSxbXCJlbmRQbHVnT3V0bGluZUNvbG9yXCIsXCJwbHVnT3V0bGluZUNvbG9yU0VcIiwxXSxbXCJzdGFydFBsdWdPdXRsaW5lU2l6ZVwiLFwicGx1Z091dGxpbmVTaXplU0VcIiwwXSxbXCJlbmRQbHVnT3V0bGluZVNpemVcIixcInBsdWdPdXRsaW5lU2l6ZVNFXCIsMV1dLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxuPWVbMV0sYT1lWzJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShsdC5wcm90b3R5cGUsdCx7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9bnVsbCE9YT9nZVt0aGlzLl9pZF0ub3B0aW9uc1tuXVthXTpuP2dlW3RoaXMuX2lkXS5vcHRpb25zW25dOmdlW3RoaXMuX2lkXS5vcHRpb25zW3RdO3JldHVybiBudWxsPT1lP1U6T2UoZSl9LHNldDpydCh0KSxlbnVtZXJhYmxlOiEwfSl9KSxbW1wicGF0aFwiLHpdLFtcInN0YXJ0U29ja2V0XCIsVyxcInNvY2tldFNFXCIsMF0sW1wiZW5kU29ja2V0XCIsVyxcInNvY2tldFNFXCIsMV0sW1wic3RhcnRQbHVnXCIsaixcInBsdWdTRVwiLDBdLFtcImVuZFBsdWdcIixqLFwicGx1Z1NFXCIsMV1dLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGE9ZVswXSxpPWVbMV0sbz1lWzJdLGw9ZVszXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobHQucHJvdG90eXBlLGEse2dldDpmdW5jdGlvbigpe3ZhciB0LG49bnVsbCE9bD9nZVt0aGlzLl9pZF0ub3B0aW9uc1tvXVtsXTpvP2dlW3RoaXMuX2lkXS5vcHRpb25zW29dOmdlW3RoaXMuX2lkXS5vcHRpb25zW2FdO3JldHVybiBuP09iamVjdC5rZXlzKGkpLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV09PT1uJiYodD1lLCEwKX0pP3Q6bmV3IEVycm9yKFwiSXQncyBicm9rZW5cIik6VX0sc2V0OnJ0KGEpLGVudW1lcmFibGU6ITB9KX0pLE9iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBhPXRlW25dO09iamVjdC5kZWZpbmVQcm9wZXJ0eShsdC5wcm90b3R5cGUsbix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHUsZSx0PWdlW3RoaXMuX2lkXS5vcHRpb25zW25dO3JldHVybiBmZSh0KT8odT10LGU9YS5vcHRpb25zQ29uZi5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbixhPXRbMF0saT10WzFdLG89dFsyXSxsPXRbM10scj10WzRdLHM9bnVsbCE9cj91W2xdW3JdOmw/dVtsXTp1W2ldO3JldHVybiBlW2ldPVwiaWRcIj09PWE/cz9PYmplY3Qua2V5cyhvKS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBvW2VdPT09cyYmKG49ZSwhMCl9KT9uOm5ldyBFcnJvcihcIkl0J3MgYnJva2VuXCIpOlU6bnVsbD09cz9VOk9lKHMpLGV9LHt9KSxhLmFuaW0mJihlLmFuaW1hdGlvbj1PZSh1LmFuaW1hdGlvbikpLGUpOnR9LHNldDpydChuKSxlbnVtZXJhYmxlOiEwfSl9KSxbXCJzdGFydExhYmVsXCIsXCJlbmRMYWJlbFwiLFwibWlkZGxlTGFiZWxcIl0uZm9yRWFjaChmdW5jdGlvbihlLG4pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShsdC5wcm90b3R5cGUsZSx7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9Z2VbdGhpcy5faWRdLHQ9ZS5vcHRpb25zO3JldHVybiB0LmxhYmVsU0VNW25dJiYhZS5vcHRpb25Jc0F0dGFjaC5sYWJlbFNFTVtuXT92ZVt0LmxhYmVsU0VNW25dLl9pZF0udGV4dDp0LmxhYmVsU0VNW25dfHxcIlwifSxzZXQ6cnQoZSksZW51bWVyYWJsZTohMH0pfSksbHQucHJvdG90eXBlLnNldE9wdGlvbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIG90KGdlW3RoaXMuX2lkXSxlKSx0aGlzfSxsdC5wcm90b3R5cGUucG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gZXQoZ2VbdGhpcy5faWRdLHtwb3NpdGlvbjohMH0pLHRoaXN9LGx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdD1nZVt0aGlzLl9pZF0sbj10LmN1clN0YXRzO09iamVjdC5rZXlzKHRlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUrXCJfYW5pbUlkXCI7blt0XSYmZy5yZW1vdmUoblt0XSl9KSxuLnNob3dfYW5pbUlkJiZnLnJlbW92ZShuLnNob3dfYW5pbUlkKSx0LmF0dGFjaG1lbnRzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXtpdCh0LGUpfSksdC5iYXNlV2luZG93JiZ0LnN2ZyYmdC5iYXNlV2luZG93LmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodC5zdmcpLGRlbGV0ZSBnZVt0aGlzLl9pZF19LGx0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG50KGdlW3RoaXMuX2lkXSwhMCxlLHQpLHRoaXN9LGx0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG50KGdlW3RoaXMuX2lkXSwhMSxlLHQpLHRoaXN9LG89ZnVuY3Rpb24odCl7dCYmdmVbdC5faWRdJiYodC5ib3VuZFRhcmdldHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2l0KGUucHJvcHMsdCwhMCl9KSx0LmNvbmYucmVtb3ZlJiZ0LmNvbmYucmVtb3ZlKHQpLGRlbGV0ZSB2ZVt0Ll9pZF0pfSxzdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXZlW3QuX2lkXTtuJiYobi5ib3VuZFRhcmdldHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uY29uZi5yZW1vdmVPcHRpb24obixlKX0pLGplKGZ1bmN0aW9uKCl7dmFyIGU9dmVbdC5faWRdO2UmJihjb25zb2xlLmVycm9yKFwiTGVhZGVyTGluZUF0dGFjaG1lbnQgd2FzIG5vdCByZW1vdmVkIGJ5IHJlbW92ZU9wdGlvblwiKSxvKGUpKX0pKX0sQz1zdCx3aW5kb3cuTGVhZGVyTGluZUF0dGFjaG1lbnQ9QyxMPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUgaW5zdGFuY2VvZiBDJiYoIShlLmlzUmVtb3ZlZHx8dCYmdmVbZS5faWRdLmNvbmYudHlwZSE9PXQpfHxudWxsKX0sST17cG9pbnRBbmNob3I6e3R5cGU6XCJhbmNob3JcIixhcmdPcHRpb25zOlt7b3B0aW9uTmFtZTpcImVsZW1lbnRcIix0eXBlOkllfV0saW5pdDpmdW5jdGlvbihlLHQpe3JldHVybiBlLmVsZW1lbnQ9SS5wb2ludEFuY2hvci5jaGVja0VsZW1lbnQodC5lbGVtZW50KSxlLng9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQodC54LCEwKXx8Wy41LCEwXSxlLnk9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQodC55LCEwKXx8Wy41LCEwXSwhMH0scmVtb3ZlT3B0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcyxhPXt9LGk9ZS5lbGVtZW50LG89bi5vcHRpb25zLmFuY2hvclNFW1wic3RhcnRcIj09PXQub3B0aW9uTmFtZT8xOjBdO2k9PT1vJiYoaT1vPT09ZG9jdW1lbnQuYm9keT9uZXcgQyhJLnBvaW50QW5jaG9yLFtpXSk6ZG9jdW1lbnQuYm9keSksYVt0Lm9wdGlvbk5hbWVdPWksb3QobixhKX0sZ2V0QkJveE5lc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj1BZShlLmVsZW1lbnQsdC5iYXNlV2luZG93KSxhPW4ud2lkdGgsaT1uLmhlaWdodDtyZXR1cm4gbi53aWR0aD1uLmhlaWdodD0wLG4ubGVmdD1uLnJpZ2h0PW4ubGVmdCtlLnhbMF0qKGUueFsxXT9hOjEpLG4udG9wPW4uYm90dG9tPW4udG9wK2UueVswXSooZS55WzFdP2k6MSksbn0scGFyc2VQZXJjZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpPSExO3JldHVybiB5ZShlKT9hPWU6XCJzdHJpbmdcIj09dHlwZW9mIGUmJihuPW0uZXhlYyhlKSkmJm5bMl0mJihpPTAhPT0oYT1wYXJzZUZsb2F0KG5bMV0pLzEwMCkpLG51bGwhPWEmJih0fHwwPD1hKT9bYSxpXTpudWxsfSxjaGVja0VsZW1lbnQ6ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSllPWRvY3VtZW50LmJvZHk7ZWxzZSBpZighSWUoZSkpdGhyb3cgbmV3IEVycm9yKFwiYGVsZW1lbnRgIG11c3QgYmUgRWxlbWVudFwiKTtyZXR1cm4gZX19LGFyZWFBbmNob3I6e3R5cGU6XCJhbmNob3JcIixhcmdPcHRpb25zOlt7b3B0aW9uTmFtZTpcImVsZW1lbnRcIix0eXBlOkllfSx7b3B0aW9uTmFtZTpcInNoYXBlXCIsdHlwZTpcInN0cmluZ1wifV0sc3RhdHM6e2NvbG9yOnt9LHN0cm9rZVdpZHRoOnt9LGVsZW1lbnRXaWR0aDp7fSxlbGVtZW50SGVpZ2h0Ont9LGVsZW1lbnRMZWZ0Ont9LGVsZW1lbnRUb3A6e30scGF0aExpc3RSZWw6e30sYkJveFJlbDp7fSxwYXRoRGF0YTp7fSx2aWV3Qm94QkJveDp7aGFzUHJvcHM6ITB9LGRhc2hMZW46e30sZGFzaEdhcDp7fX0saW5pdDpmdW5jdGlvbihpLGUpe3ZhciB0LG4sYSxvPVtdO3JldHVybiBpLmVsZW1lbnQ9SS5wb2ludEFuY2hvci5jaGVja0VsZW1lbnQoZS5lbGVtZW50KSxcInN0cmluZ1wiPT10eXBlb2YgZS5jb2xvciYmKGkuY29sb3I9ZS5jb2xvci50cmltKCkpLFwic3RyaW5nXCI9PXR5cGVvZiBlLmZpbGxDb2xvciYmKGkuZmlsbD1lLmZpbGxDb2xvci50cmltKCkpLHllKGUuc2l6ZSkmJjA8PWUuc2l6ZSYmKGkuc2l6ZT1lLnNpemUpLGUuZGFzaCYmKGkuZGFzaD0hMCx5ZShlLmRhc2gubGVuKSYmMDxlLmRhc2gubGVuJiYoaS5kYXNoTGVuPWUuZGFzaC5sZW4pLHllKGUuZGFzaC5nYXApJiYwPGUuZGFzaC5nYXAmJihpLmRhc2hHYXA9ZS5kYXNoLmdhcCkpLFwiY2lyY2xlXCI9PT1lLnNoYXBlP2kuc2hhcGU9ZS5zaGFwZTpcInBvbHlnb25cIj09PWUuc2hhcGUmJkFycmF5LmlzQXJyYXkoZS5wb2ludHMpJiYzPD1lLnBvaW50cy5sZW5ndGgmJmUucG9pbnRzLmV2ZXJ5KGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiEoISh0Lng9SS5wb2ludEFuY2hvci5wYXJzZVBlcmNlbnQoZVswXSwhMCkpfHwhKHQueT1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudChlWzFdLCEwKSkpJiYoby5wdXNoKHQpLCh0LnhbMV18fHQueVsxXSkmJihpLmhhc1JhdGlvPSEwKSwhMCl9KT8oaS5zaGFwZT1lLnNoYXBlLGkucG9pbnRzPW8pOihpLnNoYXBlPVwicmVjdFwiLGkucmFkaXVzPXllKGUucmFkaXVzKSYmMDw9ZS5yYWRpdXM/ZS5yYWRpdXM6MCksXCJyZWN0XCIhPT1pLnNoYXBlJiZcImNpcmNsZVwiIT09aS5zaGFwZXx8KGkueD1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudChlLngsITApfHxbLS4wNSwhMF0saS55PUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KGUueSwhMCl8fFstLjA1LCEwXSxpLndpZHRoPUkucG9pbnRBbmNob3IucGFyc2VQZXJjZW50KGUud2lkdGgpfHxbMS4xLCEwXSxpLmhlaWdodD1JLnBvaW50QW5jaG9yLnBhcnNlUGVyY2VudChlLmhlaWdodCl8fFsxLjEsITBdLChpLnhbMV18fGkueVsxXXx8aS53aWR0aFsxXXx8aS5oZWlnaHRbMV0pJiYoaS5oYXNSYXRpbz0hMCkpLHQ9aS5lbGVtZW50Lm93bmVyRG9jdW1lbnQsaS5zdmc9bj10LmNyZWF0ZUVsZW1lbnROUyhyZSxcInN2Z1wiKSxuLmNsYXNzTmFtZS5iYXNlVmFsPUErXCItYXJlYUFuY2hvclwiLG4udmlld0JveC5iYXNlVmFsfHxuLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixcIjAgMCAwIDBcIiksaS5wYXRoPW4uYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJwYXRoXCIpKSxpLnBhdGguc3R5bGUuZmlsbD1pLmZpbGx8fFwibm9uZVwiLGkuaXNTaG93bj0hMSxuLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0LmJvZHkuYXBwZW5kQ2hpbGQobiksS2UoYT10LmRlZmF1bHRWaWV3KSxpLmJvZHlPZmZzZXQ9UWUoYSksaS51cGRhdGVDb2xvcj1mdW5jdGlvbigpe3ZhciBlLHQ9aS5jdXJTdGF0cyxuPWkuYXBsU3RhdHMsYT1pLmJvdW5kVGFyZ2V0cy5sZW5ndGg/aS5ib3VuZFRhcmdldHNbMF0ucHJvcHMuY3VyU3RhdHM6bnVsbDt0LmNvbG9yPWU9aS5jb2xvcnx8KGE/YS5saW5lX2NvbG9yOmRlLmxpbmVDb2xvcikscWUoaSxuLFwiY29sb3JcIixlKSYmKGkucGF0aC5zdHlsZS5zdHJva2U9ZSl9LGkudXBkYXRlU2hvdz1mdW5jdGlvbigpeyRlKGksaS5ib3VuZFRhcmdldHMuc29tZShmdW5jdGlvbihlKXtyZXR1cm4hMD09PWUucHJvcHMuaXNTaG93bn0pKX0sITB9LGJpbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzO3JldHVybiBlLmNvbG9yfHxEZShuLFwiY3VyX2xpbmVfY29sb3JcIixlLnVwZGF0ZUNvbG9yKSxEZShuLFwic3ZnU2hvd1wiLGUudXBkYXRlU2hvdyksamUoZnVuY3Rpb24oKXtlLnVwZGF0ZUNvbG9yKCksZS51cGRhdGVTaG93KCl9KSwhMH0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcztlLmNvbG9yfHx6ZShuLFwiY3VyX2xpbmVfY29sb3JcIixlLnVwZGF0ZUNvbG9yKSx6ZShuLFwic3ZnU2hvd1wiLGUudXBkYXRlU2hvdyksMTxlLmJvdW5kVGFyZ2V0cy5sZW5ndGgmJmplKGZ1bmN0aW9uKCl7ZS51cGRhdGVDb2xvcigpLGUudXBkYXRlU2hvdygpLEkuYXJlYUFuY2hvci51cGRhdGUoZSkmJmUuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZXQoZS5wcm9wcyx7cG9zaXRpb246ITB9KX0pfSl9LHJlbW92ZU9wdGlvbjpmdW5jdGlvbihlLHQpe0kucG9pbnRBbmNob3IucmVtb3ZlT3B0aW9uKGUsdCl9LHJlbW92ZTpmdW5jdGlvbih0KXt0LmJvdW5kVGFyZ2V0cy5sZW5ndGgmJihjb25zb2xlLmVycm9yKFwiTGVhZGVyTGluZUF0dGFjaG1lbnQgd2FzIG5vdCB1bmJvdW5kIGJ5IHJlbW92ZVwiKSx0LmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe0kuYXJlYUFuY2hvci51bmJpbmQodCxlKX0pKSx0LnN2Zy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQuc3ZnKX0sZ2V0U3Ryb2tlV2lkdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSS5hcmVhQW5jaG9yLnVwZGF0ZShlKSYmMTxlLmJvdW5kVGFyZ2V0cy5sZW5ndGgmJmplKGZ1bmN0aW9uKCl7ZS5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnByb3BzIT09dCYmZXQoZS5wcm9wcyx7cG9zaXRpb246ITB9KX0pfSksZS5jdXJTdGF0cy5zdHJva2VXaWR0aH0sZ2V0UGF0aERhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbj1BZShlLmVsZW1lbnQsdC5iYXNlV2luZG93KTtyZXR1cm4gUmUoZS5jdXJTdGF0cy5wYXRoTGlzdFJlbCxmdW5jdGlvbihlKXtlLngrPW4ubGVmdCxlLnkrPW4udG9wfSl9LGdldEJCb3hOZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG49QWUoZS5lbGVtZW50LHQuYmFzZVdpbmRvdyksYT1lLmN1clN0YXRzLmJCb3hSZWw7cmV0dXJue2xlZnQ6YS5sZWZ0K24ubGVmdCx0b3A6YS50b3Arbi50b3AscmlnaHQ6YS5yaWdodCtuLmxlZnQsYm90dG9tOmEuYm90dG9tK24udG9wLHdpZHRoOmEud2lkdGgsaGVpZ2h0OmEuaGVpZ2h0fX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBhLG4saSxvLGUsbCxyLHMsdSxoLHAsYyxkLGYseSxtLFMsZyxfLHYsRSx4LGIsayx3LE8sTSxJLEMsTCxBLFYsUD10LmN1clN0YXRzLE49dC5hcGxTdGF0cyxUPXQuYm91bmRUYXJnZXRzLmxlbmd0aD90LmJvdW5kVGFyZ2V0c1swXS5wcm9wcy5jdXJTdGF0czpudWxsLFc9e307aWYoVy5zdHJva2VXaWR0aD1xZSh0LFAsXCJzdHJva2VXaWR0aFwiLG51bGwhPXQuc2l6ZT90LnNpemU6VD9ULmxpbmVfc3Ryb2tlV2lkdGg6ZGUubGluZVNpemUpLGE9Q2UodC5lbGVtZW50KSxXLmVsZW1lbnRXaWR0aD1xZSh0LFAsXCJlbGVtZW50V2lkdGhcIixhLndpZHRoKSxXLmVsZW1lbnRIZWlnaHQ9cWUodCxQLFwiZWxlbWVudEhlaWdodFwiLGEuaGVpZ2h0KSxXLmVsZW1lbnRMZWZ0PXFlKHQsUCxcImVsZW1lbnRMZWZ0XCIsYS5sZWZ0KSxXLmVsZW1lbnRUb3A9cWUodCxQLFwiZWxlbWVudFRvcFwiLGEudG9wKSxXLnN0cm9rZVdpZHRofHx0Lmhhc1JhdGlvJiYoVy5lbGVtZW50V2lkdGh8fFcuZWxlbWVudEhlaWdodCkpe3N3aXRjaCh0LnNoYXBlKXtjYXNlXCJyZWN0XCI6KEk9e2xlZnQ6dC54WzBdKih0LnhbMV0/YS53aWR0aDoxKSx0b3A6dC55WzBdKih0LnlbMV0/YS5oZWlnaHQ6MSksd2lkdGg6dC53aWR0aFswXSoodC53aWR0aFsxXT9hLndpZHRoOjEpLGhlaWdodDp0LmhlaWdodFswXSoodC5oZWlnaHRbMV0/YS5oZWlnaHQ6MSl9KS5yaWdodD1JLmxlZnQrSS53aWR0aCxJLmJvdHRvbT1JLnRvcCtJLmhlaWdodCxiPVAuc3Ryb2tlV2lkdGgvMixFPSh4PU1hdGgubWluKEkud2lkdGgsSS5oZWlnaHQpKT94LzIqTWF0aC5TUVJUMitiOjAsTz0odj10LnJhZGl1cz90LnJhZGl1czw9RT90LnJhZGl1czpFOjApPyh3PXYtKGs9KHYtYikvTWF0aC5TUVJUMiksTT12KmVlLE89W3t4OkkubGVmdC13LHk6SS50b3Ara30se3g6SS5sZWZ0K2sseTpJLnRvcC13fSx7eDpJLnJpZ2h0LWsseTpJLnRvcC13fSx7eDpJLnJpZ2h0K3cseTpJLnRvcCtrfSx7eDpJLnJpZ2h0K3cseTpJLmJvdHRvbS1rfSx7eDpJLnJpZ2h0LWsseTpJLmJvdHRvbSt3fSx7eDpJLmxlZnQrayx5OkkuYm90dG9tK3d9LHt4OkkubGVmdC13LHk6SS5ib3R0b20ta31dLFAucGF0aExpc3RSZWw9W1tPWzBdLHt4Ok9bMF0ueCx5Ok9bMF0ueS1NfSx7eDpPWzFdLngtTSx5Ok9bMV0ueX0sT1sxXV1dLE9bMV0ueCE9PU9bMl0ueCYmUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzFdLE9bMl1dKSxQLnBhdGhMaXN0UmVsLnB1c2goW09bMl0se3g6T1syXS54K00seTpPWzJdLnl9LHt4Ok9bM10ueCx5Ok9bM10ueS1NfSxPWzNdXSksT1szXS55IT09T1s0XS55JiZQLnBhdGhMaXN0UmVsLnB1c2goW09bM10sT1s0XV0pLFAucGF0aExpc3RSZWwucHVzaChbT1s0XSx7eDpPWzRdLngseTpPWzRdLnkrTX0se3g6T1s1XS54K00seTpPWzVdLnl9LE9bNV1dKSxPWzVdLnghPT1PWzZdLngmJlAucGF0aExpc3RSZWwucHVzaChbT1s1XSxPWzZdXSksUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzZdLHt4Ok9bNl0ueC1NLHk6T1s2XS55fSx7eDpPWzddLngseTpPWzddLnkrTX0sT1s3XV0pLE9bN10ueSE9PU9bMF0ueSYmUC5wYXRoTGlzdFJlbC5wdXNoKFtPWzddLE9bMF1dKSxQLnBhdGhMaXN0UmVsLnB1c2goW10pLHc9di1rK1Auc3Ryb2tlV2lkdGgvMixbe3g6SS5sZWZ0LXcseTpJLnRvcC13fSx7eDpJLnJpZ2h0K3cseTpJLmJvdHRvbSt3fV0pOih3PVAuc3Ryb2tlV2lkdGgvMixPPVt7eDpJLmxlZnQtdyx5OkkudG9wLXd9LHt4OkkucmlnaHQrdyx5OkkuYm90dG9tK3d9XSxQLnBhdGhMaXN0UmVsPVtbT1swXSx7eDpPWzFdLngseTpPWzBdLnl9XSxbe3g6T1sxXS54LHk6T1swXS55fSxPWzFdXSxbT1sxXSx7eDpPWzBdLngseTpPWzFdLnl9XSxbXV0sW3t4OkkubGVmdC1QLnN0cm9rZVdpZHRoLHk6SS50b3AtUC5zdHJva2VXaWR0aH0se3g6SS5yaWdodCtQLnN0cm9rZVdpZHRoLHk6SS5ib3R0b20rUC5zdHJva2VXaWR0aH1dKSxQLmJCb3hSZWw9e2xlZnQ6T1swXS54LHRvcDpPWzBdLnkscmlnaHQ6T1sxXS54LGJvdHRvbTpPWzFdLnksd2lkdGg6T1sxXS54LU9bMF0ueCxoZWlnaHQ6T1sxXS55LU9bMF0ueX07YnJlYWs7Y2FzZVwiY2lyY2xlXCI6KF89e2xlZnQ6dC54WzBdKih0LnhbMV0/YS53aWR0aDoxKSx0b3A6dC55WzBdKih0LnlbMV0/YS5oZWlnaHQ6MSksd2lkdGg6dC53aWR0aFswXSoodC53aWR0aFsxXT9hLndpZHRoOjEpLGhlaWdodDp0LmhlaWdodFswXSoodC5oZWlnaHRbMV0/YS5oZWlnaHQ6MSl9KS53aWR0aHx8Xy5oZWlnaHR8fChfLndpZHRoPV8uaGVpZ2h0PTEwKSxfLndpZHRofHwoXy53aWR0aD1fLmhlaWdodCksXy5oZWlnaHR8fChfLmhlaWdodD1fLndpZHRoKSxfLnJpZ2h0PV8ubGVmdCtfLndpZHRoLF8uYm90dG9tPV8udG9wK18uaGVpZ2h0LHI9Xy5sZWZ0K18ud2lkdGgvMixzPV8udG9wK18uaGVpZ2h0LzIsZD1QLnN0cm9rZVdpZHRoLzIsZj1fLndpZHRoLzIseT1fLmhlaWdodC8yLHU9ZipNYXRoLlNRUlQyK2QsaD15Kk1hdGguU1FSVDIrZCxwPXUqZWUsYz1oKmVlLGc9W3t4OnItdSx5OnN9LHt4OnIseTpzLWh9LHt4OnIrdSx5OnN9LHt4OnIseTpzK2h9XSxQLnBhdGhMaXN0UmVsPVtbZ1swXSx7eDpnWzBdLngseTpnWzBdLnktY30se3g6Z1sxXS54LXAseTpnWzFdLnl9LGdbMV1dLFtnWzFdLHt4OmdbMV0ueCtwLHk6Z1sxXS55fSx7eDpnWzJdLngseTpnWzJdLnktY30sZ1syXV0sW2dbMl0se3g6Z1syXS54LHk6Z1syXS55K2N9LHt4OmdbM10ueCtwLHk6Z1szXS55fSxnWzNdXSxbZ1szXSx7eDpnWzNdLngtcCx5OmdbM10ueX0se3g6Z1swXS54LHk6Z1swXS55K2N9LGdbMF1dLFtdXSxtPXUtZitQLnN0cm9rZVdpZHRoLzIsUz1oLXkrUC5zdHJva2VXaWR0aC8yLGc9W3t4Ol8ubGVmdC1tLHk6Xy50b3AtU30se3g6Xy5yaWdodCttLHk6Xy5ib3R0b20rU31dLFAuYkJveFJlbD17bGVmdDpnWzBdLngsdG9wOmdbMF0ueSxyaWdodDpnWzFdLngsYm90dG9tOmdbMV0ueSx3aWR0aDpnWzFdLngtZ1swXS54LGhlaWdodDpnWzFdLnktZ1swXS55fTticmVhaztjYXNlXCJwb2x5Z29uXCI6dC5wb2ludHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLnhbMF0qKGUueFsxXT9hLndpZHRoOjEpLG49ZS55WzBdKihlLnlbMV0/YS5oZWlnaHQ6MSk7aT8odDxpLmxlZnQmJihpLmxlZnQ9dCksdD5pLnJpZ2h0JiYoaS5yaWdodD10KSxuPGkudG9wJiYoaS50b3A9biksbj5pLmJvdHRvbSYmKGkuYm90dG9tPW4pKTppPXtsZWZ0OnQscmlnaHQ6dCx0b3A6bixib3R0b206bn0sbz9QLnBhdGhMaXN0UmVsLnB1c2goW28se3g6dCx5Om59XSk6UC5wYXRoTGlzdFJlbD1bXSxvPXt4OnQseTpufX0pLFAucGF0aExpc3RSZWwucHVzaChbXSksZT1QLnN0cm9rZVdpZHRoLzIsbD1be3g6aS5sZWZ0LWUseTppLnRvcC1lfSx7eDppLnJpZ2h0K2UseTppLmJvdHRvbStlfV0sUC5iQm94UmVsPXtsZWZ0OmxbMF0ueCx0b3A6bFswXS55LHJpZ2h0OmxbMV0ueCxib3R0b206bFsxXS55LHdpZHRoOmxbMV0ueC1sWzBdLngsaGVpZ2h0OmxbMV0ueS1sWzBdLnl9fVcucGF0aExpc3RSZWw9Vy5iQm94UmVsPSEwfXJldHVybihXLnBhdGhMaXN0UmVsfHxXLmVsZW1lbnRMZWZ0fHxXLmVsZW1lbnRUb3ApJiYoUC5wYXRoRGF0YT1SZShQLnBhdGhMaXN0UmVsLGZ1bmN0aW9uKGUpe2UueCs9YS5sZWZ0LGUueSs9YS50b3B9KSkscWUodCxOLFwic3Ryb2tlV2lkdGhcIixuPVAuc3Ryb2tlV2lkdGgpJiYodC5wYXRoLnN0eWxlLnN0cm9rZVdpZHRoPW4rXCJweFwiKSxHZShuPVAucGF0aERhdGEsTi5wYXRoRGF0YSkmJih0LnBhdGguc2V0UGF0aERhdGEobiksTi5wYXRoRGF0YT1uLFcucGF0aERhdGE9ITApLHQuZGFzaCYmKCFXLnBhdGhEYXRhJiYoIVcuc3Ryb2tlV2lkdGh8fHQuZGFzaExlbiYmdC5kYXNoR2FwKXx8KFAuZGFzaExlbj10LmRhc2hMZW58fDIqUC5zdHJva2VXaWR0aCxQLmRhc2hHYXA9dC5kYXNoR2FwfHxQLnN0cm9rZVdpZHRoKSxXLmRhc2g9cWUodCxOLFwiZGFzaExlblwiLFAuZGFzaExlbil8fFcuZGFzaCxXLmRhc2g9cWUodCxOLFwiZGFzaEdhcFwiLFAuZGFzaEdhcCl8fFcuZGFzaCxXLmRhc2gmJih0LnBhdGguc3R5bGUuc3Ryb2tlRGFzaGFycmF5PU4uZGFzaExlbitcIixcIitOLmRhc2hHYXApKSxDPVAudmlld0JveEJCb3gsTD1OLnZpZXdCb3hCQm94LEE9dC5zdmcudmlld0JveC5iYXNlVmFsLFY9dC5zdmcuc3R5bGUsQy54PVAuYkJveFJlbC5sZWZ0K2EubGVmdCxDLnk9UC5iQm94UmVsLnRvcCthLnRvcCxDLndpZHRoPVAuYkJveFJlbC53aWR0aCxDLmhlaWdodD1QLmJCb3hSZWwuaGVpZ2h0LFtcInhcIixcInlcIixcIndpZHRoXCIsXCJoZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXsobj1DW2VdKSE9PUxbZV0mJihBW2VdPUxbZV09bixWW29lW2VdXT1uKyhcInhcIj09PWV8fFwieVwiPT09ZT90LmJvZHlPZmZzZXRbZV06MCkrXCJweFwiKX0pLFcuc3Ryb2tlV2lkdGh8fFcucGF0aExpc3RSZWx8fFcuYkJveFJlbH19LG1vdXNlSG92ZXJBbmNob3I6e3R5cGU6XCJhbmNob3JcIixhcmdPcHRpb25zOlt7b3B0aW9uTmFtZTpcImVsZW1lbnRcIix0eXBlOkllfSx7b3B0aW9uTmFtZTpcInNob3dFZmZlY3ROYW1lXCIsdHlwZTpcInN0cmluZ1wifV0sc3R5bGU6e2JhY2tncm91bmRJbWFnZTpcInVybCgnZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFBITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2QybGtkR2c5SWpJMElpQm9aV2xuYUhROUlqSTBJajQ4Y0c5c2VXZHZiaUJ3YjJsdWRITTlJakkwTERBZ01DdzRJRGdzTVRFZ01Dd3hPU0ExTERJMElERXpMREUySURFMkxESTBJaUJtYVd4c1BTSmpiM0poYkNJdlBqd3ZjM1puUGc9PScpXCIsYmFja2dyb3VuZFNpemU6XCJcIixiYWNrZ3JvdW5kUmVwZWF0Olwibm8tcmVwZWF0XCIsYmFja2dyb3VuZENvbG9yOlwiI2Y4Zjg4MVwiLGN1cnNvcjpcImRlZmF1bHRcIn0saG92ZXJTdHlsZTp7YmFja2dyb3VuZEltYWdlOlwibm9uZVwiLGJhY2tncm91bmRDb2xvcjpcIiNmYWRmOGZcIn0scGFkZGluZzp7dG9wOjEscmlnaHQ6MTUsYm90dG9tOjEsbGVmdDoyfSxtaW5IZWlnaHQ6MTUsYmFja2dyb3VuZFBvc2l0aW9uOntyaWdodDoyLHRvcDoyfSxiYWNrZ3JvdW5kU2l6ZTp7d2lkdGg6MTIsaGVpZ2h0OjEyfSxkaXJLZXlzOltbXCJ0b3BcIixcIlRvcFwiXSxbXCJyaWdodFwiLFwiUmlnaHRcIl0sW1wiYm90dG9tXCIsXCJCb3R0b21cIl0sW1wibGVmdFwiLFwiTGVmdFwiXV0saW5pdDpmdW5jdGlvbihhLGkpe3ZhciBvLHQsZSxuLGwscixzLHUsaCxwLGMsZD1JLm1vdXNlSG92ZXJBbmNob3IsZj17fTtpZihhLmVsZW1lbnQ9SS5wb2ludEFuY2hvci5jaGVja0VsZW1lbnQoaS5lbGVtZW50KSx1PWEuZWxlbWVudCwhKChwPXUub3duZXJEb2N1bWVudCkmJihoPXAuZGVmYXVsdFZpZXcpJiZoLkhUTUxFbGVtZW50JiZ1IGluc3RhbmNlb2YgaC5IVE1MRWxlbWVudCkpdGhyb3cgbmV3IEVycm9yKFwiYGVsZW1lbnRgIG11c3QgYmUgSFRNTCBlbGVtZW50XCIpO3JldHVybiBkLnN0eWxlLmJhY2tncm91bmRTaXplPWQuYmFja2dyb3VuZFNpemUud2lkdGgrXCJweCBcIitkLmJhY2tncm91bmRTaXplLmhlaWdodCtcInB4XCIsW1wic3R5bGVcIixcImhvdmVyU3R5bGVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1kW2VdO2FbZV09T2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09blt0XSxlfSx7fSl9KSxcImlubGluZVwiPT09KG89YS5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLmVsZW1lbnQsXCJcIikpLmRpc3BsYXk/YS5zdHlsZS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCI6XCJub25lXCI9PT1vLmRpc3BsYXkmJihhLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKSxJLm1vdXNlSG92ZXJBbmNob3IuZGlyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1cInBhZGRpbmdcIitlWzFdO3BhcnNlRmxvYXQob1tuXSk8ZC5wYWRkaW5nW3RdJiYoYS5zdHlsZVtuXT1kLnBhZGRpbmdbdF0rXCJweFwiKX0pLGEuc3R5bGUuZGlzcGxheSYmKG49YS5lbGVtZW50LnN0eWxlLmRpc3BsYXksYS5lbGVtZW50LnN0eWxlLmRpc3BsYXk9YS5zdHlsZS5kaXNwbGF5KSxJLm1vdXNlSG92ZXJBbmNob3IuZGlyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVwicGFkZGluZ1wiK2VbMV07YS5zdHlsZVt0XSYmKGZbdF09YS5lbGVtZW50LnN0eWxlW3RdLGEuZWxlbWVudC5zdHlsZVt0XT1hLnN0eWxlW3RdKX0pLChlPWEuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkuaGVpZ2h0PGQubWluSGVpZ2h0JiYoc2U/KGM9ZC5taW5IZWlnaHQsXCJjb250ZW50LWJveFwiPT09by5ib3hTaXppbmc/Yy09cGFyc2VGbG9hdChvLmJvcmRlclRvcFdpZHRoKStwYXJzZUZsb2F0KG8uYm9yZGVyQm90dG9tV2lkdGgpK3BhcnNlRmxvYXQoby5wYWRkaW5nVG9wKStwYXJzZUZsb2F0KG8ucGFkZGluZ0JvdHRvbSk6XCJwYWRkaW5nLWJveFwiPT09by5ib3hTaXppbmcmJihjLT1wYXJzZUZsb2F0KG8uYm9yZGVyVG9wV2lkdGgpK3BhcnNlRmxvYXQoby5ib3JkZXJCb3R0b21XaWR0aCkpLGEuc3R5bGUuaGVpZ2h0PWMrXCJweFwiKTphLnN0eWxlLmhlaWdodD1wYXJzZUZsb2F0KG8uaGVpZ2h0KSsoZC5taW5IZWlnaHQtZS5oZWlnaHQpK1wicHhcIiksYS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249cGU/ZS53aWR0aC1kLmJhY2tncm91bmRTaXplLndpZHRoLWQuYmFja2dyb3VuZFBvc2l0aW9uLnJpZ2h0K1wicHggXCIrZC5iYWNrZ3JvdW5kUG9zaXRpb24udG9wK1wicHhcIjpcInJpZ2h0IFwiK2QuYmFja2dyb3VuZFBvc2l0aW9uLnJpZ2h0K1wicHggdG9wIFwiK2QuYmFja2dyb3VuZFBvc2l0aW9uLnRvcCtcInB4XCIsYS5zdHlsZS5kaXNwbGF5JiYoYS5lbGVtZW50LnN0eWxlLmRpc3BsYXk9biksSS5tb3VzZUhvdmVyQW5jaG9yLmRpcktleXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1cInBhZGRpbmdcIitlWzFdO2Euc3R5bGVbdF0mJihhLmVsZW1lbnQuc3R5bGVbdF09Zlt0XSl9KSxbXCJzdHlsZVwiLFwiaG92ZXJTdHlsZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWFbZV0sbj1pW2VdO2ZlKG4pJiZPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBuW2VdfHx5ZShuW2VdKT90W2VdPW5bZV06bnVsbD09bltlXSYmZGVsZXRlIHRbZV19KX0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkub25Td2l0Y2gmJihzPWkub25Td2l0Y2gpLGkuc2hvd0VmZmVjdE5hbWUmJk1baS5zaG93RWZmZWN0TmFtZV0mJihhLnNob3dFZmZlY3ROYW1lPWw9aS5zaG93RWZmZWN0TmFtZSkscj1pLmFuaW1PcHRpb25zLGEuZWxtU3R5bGU9dD1hLmVsZW1lbnQuc3R5bGUsYS5tb3VzZWVudGVyPWZ1bmN0aW9uKGUpe2EuaG92ZXJTdHlsZVNhdmU9ZC5nZXRTdHlsZXModCxPYmplY3Qua2V5cyhhLmhvdmVyU3R5bGUpKSxkLnNldFN0eWxlcyh0LGEuaG92ZXJTdHlsZSksYS5ib3VuZFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihlKXtudChlLnByb3BzLCEwLGwscil9KSxzJiZzKGUpfSxhLm1vdXNlbGVhdmU9ZnVuY3Rpb24oZSl7ZC5zZXRTdHlsZXModCxhLmhvdmVyU3R5bGVTYXZlKSxhLmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe250KGUucHJvcHMsITEsbCxyKX0pLHMmJnMoZSl9LCEwfSxiaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG4sYSxpLG8sbDtyZXR1cm4gdC5wcm9wcy5zdmc/SS5tb3VzZUhvdmVyQW5jaG9yLmxsU2hvdyh0LnByb3BzLCExLGUuc2hvd0VmZmVjdE5hbWUpOmplKGZ1bmN0aW9uKCl7SS5tb3VzZUhvdmVyQW5jaG9yLmxsU2hvdyh0LnByb3BzLCExLGUuc2hvd0VmZmVjdE5hbWUpfSksZS5lbmFibGVkfHwoZS5zdHlsZVNhdmU9SS5tb3VzZUhvdmVyQW5jaG9yLmdldFN0eWxlcyhlLmVsbVN0eWxlLE9iamVjdC5rZXlzKGUuc3R5bGUpKSxJLm1vdXNlSG92ZXJBbmNob3Iuc2V0U3R5bGVzKGUuZWxtU3R5bGUsZS5zdHlsZSksZS5yZW1vdmVFdmVudExpc3RlbmVyPShuPWUuZWxlbWVudCxhPWUubW91c2VlbnRlcixpPWUubW91c2VsZWF2ZSxcIm9ubW91c2VlbnRlclwiaW4gbiYmXCJvbm1vdXNlbGVhdmVcImluIG4/KG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIixhLCExKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsaSwhMSksZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsYSwhMSksbi5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLGksITEpfSk6KGNvbnNvbGUud2FybihcIm1vdXNlZW50ZXIgYW5kIG1vdXNlbGVhdmUgZXZlbnRzIHBvbHlmaWxsIGlzIGVuYWJsZWQuXCIpLG89ZnVuY3Rpb24oZSl7ZS5yZWxhdGVkVGFyZ2V0JiYoZS5yZWxhdGVkVGFyZ2V0PT09dGhpc3x8dGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlLnJlbGF0ZWRUYXJnZXQpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKXx8YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLG8pLGw9ZnVuY3Rpb24oZSl7ZS5yZWxhdGVkVGFyZ2V0JiYoZS5yZWxhdGVkVGFyZ2V0PT09dGhpc3x8dGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlLnJlbGF0ZWRUYXJnZXQpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKXx8aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsbCksZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIixvLCExKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGwsITEpfSkpLGUuZW5hYmxlZD0hMCksITB9LHVuYmluZDpmdW5jdGlvbihlLHQpe2UuZW5hYmxlZCYmZS5ib3VuZFRhcmdldHMubGVuZ3RoPD0xJiYoZS5yZW1vdmVFdmVudExpc3RlbmVyKCksSS5tb3VzZUhvdmVyQW5jaG9yLnNldFN0eWxlcyhlLmVsbVN0eWxlLGUuc3R5bGVTYXZlKSxlLmVuYWJsZWQ9ITEpLEkubW91c2VIb3ZlckFuY2hvci5sbFNob3codC5wcm9wcywhMCxlLnNob3dFZmZlY3ROYW1lKX0scmVtb3ZlT3B0aW9uOmZ1bmN0aW9uKGUsdCl7SS5wb2ludEFuY2hvci5yZW1vdmVPcHRpb24oZSx0KX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3QuYm91bmRUYXJnZXRzLmxlbmd0aCYmKGNvbnNvbGUuZXJyb3IoXCJMZWFkZXJMaW5lQXR0YWNobWVudCB3YXMgbm90IHVuYm91bmQgYnkgcmVtb3ZlXCIpLHQuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7SS5tb3VzZUhvdmVyQW5jaG9yLnVuYmluZCh0LGUpfSkpfSxnZXRCQm94TmVzdDpmdW5jdGlvbihlLHQpe3JldHVybiBBZShlLmVsZW1lbnQsdC5iYXNlV2luZG93KX0sbGxTaG93OmZ1bmN0aW9uKGUsdCxuKXtNW258fGUuY3VyU3RhdHMuc2hvd19lZmZlY3RdLnN0b3AoZSwhMCx0KSxlLmFwbFN0YXRzLnNob3dfb249dH0sZ2V0U3R5bGVzOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09blt0XSxlfSx7fSl9LHNldFN0eWxlczpmdW5jdGlvbih0LG4pe09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1uW2VdfSl9fSxjYXB0aW9uTGFiZWw6e3R5cGU6XCJsYWJlbFwiLGFyZ09wdGlvbnM6W3tvcHRpb25OYW1lOlwidGV4dFwiLHR5cGU6XCJzdHJpbmdcIn1dLHN0YXRzOntjb2xvcjp7fSx4Ont9LHk6e319LHRleHRTdHlsZVByb3BzOltcImZvbnRGYW1pbHlcIixcImZvbnRTdHlsZVwiLFwiZm9udFZhcmlhbnRcIixcImZvbnRXZWlnaHRcIixcImZvbnRTdHJldGNoXCIsXCJmb250U2l6ZVwiLFwiZm9udFNpemVBZGp1c3RcIixcImtlcm5pbmdcIixcImxldHRlclNwYWNpbmdcIixcIndvcmRTcGFjaW5nXCIsXCJ0ZXh0RGVjb3JhdGlvblwiXSxpbml0OmZ1bmN0aW9uKHUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQudGV4dCYmKHUudGV4dD10LnRleHQudHJpbSgpKSwhIXUudGV4dCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0LmNvbG9yJiYodS5jb2xvcj10LmNvbG9yLnRyaW0oKSksdS5vdXRsaW5lQ29sb3I9XCJzdHJpbmdcIj09dHlwZW9mIHQub3V0bGluZUNvbG9yP3Qub3V0bGluZUNvbG9yLnRyaW0oKTpcIiNmZmZcIixBcnJheS5pc0FycmF5KHQub2Zmc2V0KSYmeWUodC5vZmZzZXRbMF0pJiZ5ZSh0Lm9mZnNldFsxXSkmJih1Lm9mZnNldD17eDp0Lm9mZnNldFswXSx5OnQub2Zmc2V0WzFdfSkseWUodC5saW5lT2Zmc2V0KSYmKHUubGluZU9mZnNldD10LmxpbmVPZmZzZXQpLEkuY2FwdGlvbkxhYmVsLnRleHRTdHlsZVByb3BzLmZvckVhY2goZnVuY3Rpb24oZSl7bnVsbCE9dFtlXSYmKHVbZV09dFtlXSl9KSx1LnVwZGF0ZUNvbG9yPWZ1bmN0aW9uKGUpe0kuY2FwdGlvbkxhYmVsLnVwZGF0ZUNvbG9yKHUsZSl9LHUudXBkYXRlU29ja2V0WFk9ZnVuY3Rpb24oZSl7dmFyIHQsbixhLGksbz11LmN1clN0YXRzLGw9dS5hcGxTdGF0cyxyPWUuY3VyU3RhdHMscz1yLnBvc2l0aW9uX3NvY2tldFhZU0VbdS5zb2NrZXRJbmRleF07bnVsbCE9cy54JiYodS5vZmZzZXQ/KG8ueD1zLngrdS5vZmZzZXQueCxvLnk9cy55K3Uub2Zmc2V0LnkpOih0PXUuaGVpZ2h0LzIsbj1NYXRoLm1heChyLmF0dGFjaF9wbHVnU2lkZUxlblNFW3Uuc29ja2V0SW5kZXhdfHwwLHIubGluZV9zdHJva2VXaWR0aC8yKSxhPXIucG9zaXRpb25fc29ja2V0WFlTRVt1LnNvY2tldEluZGV4PzA6MV0scy5zb2NrZXRJZD09PVR8fHMuc29ja2V0SWQ9PT1QPyhvLng9cy5zb2NrZXRJZD09PVQ/cy54LXQtdS53aWR0aDpzLngrdCxvLnk9YS55PHMueT9zLnkrbit0OnMueS1uLXQtdS5oZWlnaHQpOihvLng9YS54PHMueD9zLngrbit0OnMueC1uLXQtdS53aWR0aCxvLnk9cy5zb2NrZXRJZD09PVY/cy55LXQtdS5oZWlnaHQ6cy55K3QpKSxxZSh1LGwsXCJ4XCIsaT1vLngpJiYodS5lbG1Qb3NpdGlvbi54LmJhc2VWYWwuZ2V0SXRlbSgwKS52YWx1ZT1pKSxxZSh1LGwsXCJ5XCIsaT1vLnkpJiYodS5lbG1Qb3NpdGlvbi55LmJhc2VWYWwuZ2V0SXRlbSgwKS52YWx1ZT1pK3UuaGVpZ2h0KSl9LHUudXBkYXRlUGF0aD1mdW5jdGlvbihlKXt2YXIgdCxuLGE9dS5jdXJTdGF0cyxpPXUuYXBsU3RhdHMsbz1lLnBhdGhMaXN0LmFuaW1WYWx8fGUucGF0aExpc3QuYmFzZVZhbDtvJiYodD1JLmNhcHRpb25MYWJlbC5nZXRNaWRQb2ludChvLHUubGluZU9mZnNldCksYS54PXQueC11LndpZHRoLzIsYS55PXQueS11LmhlaWdodC8yLHFlKHUsaSxcInhcIixuPWEueCkmJih1LmVsbVBvc2l0aW9uLnguYmFzZVZhbC5nZXRJdGVtKDApLnZhbHVlPW4pLHFlKHUsaSxcInlcIixuPWEueSkmJih1LmVsbVBvc2l0aW9uLnkuYmFzZVZhbC5nZXRJdGVtKDApLnZhbHVlPW4rdS5oZWlnaHQpKX0sdS51cGRhdGVTaG93PWZ1bmN0aW9uKGUpe0kuY2FwdGlvbkxhYmVsLnVwZGF0ZVNob3codSxlKX0scGUmJih1LmFkanVzdEVkZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj11LmN1clN0YXRzO251bGwhPW4ueCYmSS5jYXB0aW9uTGFiZWwuYWRqdXN0RWRnZSh0LHt4Om4ueCx5Om4ueSx3aWR0aDp1LndpZHRoLGhlaWdodDp1LmhlaWdodH0sdS5zdHJva2VXaWR0aC8yKX0pLCEwKX0sdXBkYXRlQ29sb3I6ZnVuY3Rpb24oZSx0KXt2YXIgbixhPWUuY3VyU3RhdHMsaT1lLmFwbFN0YXRzLG89dC5jdXJTdGF0czthLmNvbG9yPW49ZS5jb2xvcnx8by5saW5lX2NvbG9yLHFlKGUsaSxcImNvbG9yXCIsbikmJihlLnN0eWxlRmlsbC5maWxsPW4pfSx1cGRhdGVTaG93OmZ1bmN0aW9uKGUsdCl7dmFyIG49ITA9PT10LmlzU2hvd247biE9PWUuaXNTaG93biYmKGUuc3R5bGVTaG93LnZpc2liaWxpdHk9bj9cIlwiOlwiaGlkZGVuXCIsZS5pc1Nob3duPW4pfSxhZGp1c3RFZGdlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgYT17eDE6dC54LW4seTE6dC55LW4seDI6dC54K3Qud2lkdGgrbix5Mjp0LnkrdC5oZWlnaHQrbn07YS54MTxlLngxJiYoZS54MT1hLngxKSxhLnkxPGUueTEmJihlLnkxPWEueTEpLGEueDI+ZS54MiYmKGUueDI9YS54MiksYS55Mj5lLnkyJiYoZS55Mj1hLnkyKX0sbmV3VGV4dDpmdW5jdGlvbihlLHQsbixhLGkpe3ZhciBvLGwscixzLHUsaD10LmNyZWF0ZUVsZW1lbnROUyhyZSxcInRleHRcIik7cmV0dXJuIGgudGV4dENvbnRlbnQ9ZSxbaC54LGgueV0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLmNyZWF0ZVNWR0xlbmd0aCgpO3QubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUFgsMCksZS5iYXNlVmFsLmluaXRpYWxpemUodCl9KSxcImJvb2xlYW5cIiE9dHlwZW9mIGYmJihmPVwicGFpbnRPcmRlclwiaW4gaC5zdHlsZSksaSYmIWY/KGw9dC5jcmVhdGVFbGVtZW50TlMocmUsXCJkZWZzXCIpLGguaWQ9YSxsLmFwcGVuZENoaWxkKGgpLChzPShvPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwiZ1wiKSkuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJ1c2VcIikpKS5ocmVmLmJhc2VWYWw9XCIjXCIrYSwocj1vLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSkuaHJlZi5iYXNlVmFsPVwiI1wiK2EsKHU9cy5zdHlsZSkuc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLHtlbG1Qb3NpdGlvbjpoLHN0eWxlVGV4dDpoLnN0eWxlLHN0eWxlRmlsbDpyLnN0eWxlLHN0eWxlU3Ryb2tlOnUsc3R5bGVTaG93Om8uc3R5bGUsZWxtc0FwcGVuZDpbbCxvXX0pOih1PWguc3R5bGUsaSYmKHUuc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiLHUucGFpbnRPcmRlcj1cInN0cm9rZVwiKSx7ZWxtUG9zaXRpb246aCxzdHlsZVRleHQ6dSxzdHlsZUZpbGw6dSxzdHlsZVN0cm9rZTppP3U6bnVsbCxzdHlsZVNob3c6dSxlbG1zQXBwZW5kOltoXX0pfSxnZXRNaWRQb2ludDpmdW5jdGlvbihlLHQpe3ZhciBuLGEsaT1GZShlKSxvPWkuc2Vnc0xlbixsPWkubGVuQWxsLHI9LTEscz1sLzIrKHR8fDApO2lmKHM8PTApcmV0dXJuIDI9PT0obj1lWzBdKS5sZW5ndGg/UGUoblswXSxuWzFdLDApOlRlKG5bMF0sblsxXSxuWzJdLG5bM10sMCk7aWYobDw9cylyZXR1cm4gMj09PShuPWVbZS5sZW5ndGgtMV0pLmxlbmd0aD9QZShuWzBdLG5bMV0sMSk6VGUoblswXSxuWzFdLG5bMl0sblszXSwxKTtmb3IoYT1bXTtzPm9bKytyXTspYS5wdXNoKGVbcl0pLHMtPW9bcl07cmV0dXJuIDI9PT0obj1lW3JdKS5sZW5ndGg/UGUoblswXSxuWzFdLHMvb1tyXSk6VGUoblswXSxuWzFdLG5bMl0sblszXSxCZShuWzBdLG5bMV0sblsyXSxuWzNdLHMpKX0saW5pdFN2ZzpmdW5jdGlvbih0LG4pe3ZhciBlLGEsaT1JLmNhcHRpb25MYWJlbC5uZXdUZXh0KHQudGV4dCxuLmJhc2VXaW5kb3cuZG9jdW1lbnQsbi5zdmcsQStcIi1jYXB0aW9uTGFiZWwtXCIrdC5faWQsdC5vdXRsaW5lQ29sb3IpO1tcImVsbVBvc2l0aW9uXCIsXCJzdHlsZUZpbGxcIixcInN0eWxlU2hvd1wiLFwiZWxtc0FwcGVuZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09aVtlXX0pLHQuaXNTaG93bj0hMSx0LnN0eWxlU2hvdy52aXNpYmlsaXR5PVwiaGlkZGVuXCIsSS5jYXB0aW9uTGFiZWwudGV4dFN0eWxlUHJvcHMuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT10W2VdJiYoaS5zdHlsZVRleHRbZV09dFtlXSl9KSxpLmVsbXNBcHBlbmQuZm9yRWFjaChmdW5jdGlvbihlKXtuLnN2Zy5hcHBlbmRDaGlsZChlKX0pLGU9aS5lbG1Qb3NpdGlvbi5nZXRCQm94KCksdC53aWR0aD1lLndpZHRoLHQuaGVpZ2h0PWUuaGVpZ2h0LHQub3V0bGluZUNvbG9yJiYoYT0xMDwoYT1lLmhlaWdodC85KT8xMDphPDI/MjphLGkuc3R5bGVTdHJva2Uuc3Ryb2tlV2lkdGg9YStcInB4XCIsaS5zdHlsZVN0cm9rZS5zdHJva2U9dC5vdXRsaW5lQ29sb3IpLHQuc3Ryb2tlV2lkdGg9YXx8MCxYZSh0LmFwbFN0YXRzLEkuY2FwdGlvbkxhYmVsLnN0YXRzKSx0LnVwZGF0ZUNvbG9yKG4pLHQucmVmU29ja2V0WFk/dC51cGRhdGVTb2NrZXRYWShuKTp0LnVwZGF0ZVBhdGgobikscGUmJmV0KG4se30pLHQudXBkYXRlU2hvdyhuKX0sYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHM7cmV0dXJuIGUuY29sb3J8fERlKG4sXCJjdXJfbGluZV9jb2xvclwiLGUudXBkYXRlQ29sb3IpLChlLnJlZlNvY2tldFhZPVwic3RhcnRMYWJlbFwiPT09dC5vcHRpb25OYW1lfHxcImVuZExhYmVsXCI9PT10Lm9wdGlvbk5hbWUpPyhlLnNvY2tldEluZGV4PVwic3RhcnRMYWJlbFwiPT09dC5vcHRpb25OYW1lPzA6MSxEZShuLFwiYXBsX3Bvc2l0aW9uXCIsZS51cGRhdGVTb2NrZXRYWSksZS5vZmZzZXR8fChEZShuLFwiY3VyX2F0dGFjaF9wbHVnU2lkZUxlblNFXCIsZS51cGRhdGVTb2NrZXRYWSksRGUobixcImN1cl9saW5lX3N0cm9rZVdpZHRoXCIsZS51cGRhdGVTb2NrZXRYWSkpKTpEZShuLFwiYXBsX3BhdGhcIixlLnVwZGF0ZVBhdGgpLERlKG4sXCJzdmdTaG93XCIsZS51cGRhdGVTaG93KSxwZSYmRGUobixcIm5ld19lZGdlNHZpZXdCb3hcIixlLmFkanVzdEVkZ2UpLEkuY2FwdGlvbkxhYmVsLmluaXRTdmcoZSxuKSwhMH0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcztlLmVsbXNBcHBlbmQmJihlLmVsbXNBcHBlbmQuZm9yRWFjaChmdW5jdGlvbihlKXtuLnN2Zy5yZW1vdmVDaGlsZChlKX0pLGUuZWxtUG9zaXRpb249ZS5zdHlsZUZpbGw9ZS5zdHlsZVNob3c9ZS5lbG1zQXBwZW5kPW51bGwpLFhlKGUuY3VyU3RhdHMsSS5jYXB0aW9uTGFiZWwuc3RhdHMpLFhlKGUuYXBsU3RhdHMsSS5jYXB0aW9uTGFiZWwuc3RhdHMpLGUuY29sb3J8fHplKG4sXCJjdXJfbGluZV9jb2xvclwiLGUudXBkYXRlQ29sb3IpLGUucmVmU29ja2V0WFk/KHplKG4sXCJhcGxfcG9zaXRpb25cIixlLnVwZGF0ZVNvY2tldFhZKSxlLm9mZnNldHx8KHplKG4sXCJjdXJfYXR0YWNoX3BsdWdTaWRlTGVuU0VcIixlLnVwZGF0ZVNvY2tldFhZKSx6ZShuLFwiY3VyX2xpbmVfc3Ryb2tlV2lkdGhcIixlLnVwZGF0ZVNvY2tldFhZKSkpOnplKG4sXCJhcGxfcGF0aFwiLGUudXBkYXRlUGF0aCksemUobixcInN2Z1Nob3dcIixlLnVwZGF0ZVNob3cpLHBlJiYoemUobixcIm5ld19lZGdlNHZpZXdCb3hcIixlLmFkanVzdEVkZ2UpLGV0KG4se30pKX0scmVtb3ZlT3B0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcyxhPXt9O2FbdC5vcHRpb25OYW1lXT1cIlwiLG90KG4sYSl9LHJlbW92ZTpmdW5jdGlvbih0KXt0LmJvdW5kVGFyZ2V0cy5sZW5ndGgmJihjb25zb2xlLmVycm9yKFwiTGVhZGVyTGluZUF0dGFjaG1lbnQgd2FzIG5vdCB1bmJvdW5kIGJ5IHJlbW92ZVwiKSx0LmJvdW5kVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe0kuY2FwdGlvbkxhYmVsLnVuYmluZCh0LGUpfSkpfX0scGF0aExhYmVsOnt0eXBlOlwibGFiZWxcIixhcmdPcHRpb25zOlt7b3B0aW9uTmFtZTpcInRleHRcIix0eXBlOlwic3RyaW5nXCJ9XSxzdGF0czp7Y29sb3I6e30sc3RhcnRPZmZzZXQ6e30scGF0aERhdGE6e319LGluaXQ6ZnVuY3Rpb24ocyx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC50ZXh0JiYocy50ZXh0PXQudGV4dC50cmltKCkpLCEhcy50ZXh0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQuY29sb3ImJihzLmNvbG9yPXQuY29sb3IudHJpbSgpKSxzLm91dGxpbmVDb2xvcj1cInN0cmluZ1wiPT10eXBlb2YgdC5vdXRsaW5lQ29sb3I/dC5vdXRsaW5lQ29sb3IudHJpbSgpOlwiI2ZmZlwiLHllKHQubGluZU9mZnNldCkmJihzLmxpbmVPZmZzZXQ9dC5saW5lT2Zmc2V0KSxJLmNhcHRpb25MYWJlbC50ZXh0U3R5bGVQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJihzW2VdPXRbZV0pfSkscy51cGRhdGVDb2xvcj1mdW5jdGlvbihlKXtJLmNhcHRpb25MYWJlbC51cGRhdGVDb2xvcihzLGUpfSxzLnVwZGF0ZVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQsbj1zLmN1clN0YXRzLGE9cy5hcGxTdGF0cyxpPWUuY3VyU3RhdHMsbz1lLnBhdGhMaXN0LmFuaW1WYWx8fGUucGF0aExpc3QuYmFzZVZhbDtvJiYobi5wYXRoRGF0YT10PUkucGF0aExhYmVsLmdldE9mZnNldFBhdGhEYXRhKG8saS5saW5lX3N0cm9rZVdpZHRoLzIrcy5zdHJva2VXaWR0aC8yK3MuaGVpZ2h0LzQsMS4yNSpzLmhlaWdodCksR2UodCxhLnBhdGhEYXRhKSYmKHMuZWxtUGF0aC5zZXRQYXRoRGF0YSh0KSxhLnBhdGhEYXRhPXQscy5iQm94PXMuZWxtUG9zaXRpb24uZ2V0QkJveCgpLHMudXBkYXRlU3RhcnRPZmZzZXQoZSkpKX0scy51cGRhdGVTdGFydE9mZnNldD1mdW5jdGlvbihlKXt2YXIgdCxpLG4sYSxvPXMuY3VyU3RhdHMsbD1zLmFwbFN0YXRzLHI9ZS5jdXJTdGF0cztvLnBhdGhEYXRhJiYoMj09PXMuc2VtSW5kZXgmJiFzLmxpbmVPZmZzZXR8fChuPW8ucGF0aERhdGEucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG4sYT10LnZhbHVlcztzd2l0Y2godC50eXBlKXtjYXNlXCJNXCI6aT17eDphWzBdLHk6YVsxXX07YnJlYWs7Y2FzZVwiTFwiOm49e3g6YVswXSx5OmFbMV19LGkmJihlKz1WZShpLG4pKSxpPW47YnJlYWs7Y2FzZVwiQ1wiOm49e3g6YVs0XSx5OmFbNV19LGkmJihlKz1XZShpLHt4OmFbMF0seTphWzFdfSx7eDphWzJdLHk6YVszXX0sbikpLGk9bn1yZXR1cm4gZX0sMCksYT0wPT09cy5zZW1JbmRleD8wOjE9PT1zLnNlbUluZGV4P246bi8yLDIhPT1zLnNlbUluZGV4JiYodD1NYXRoLm1heChyLmF0dGFjaF9wbHVnQmFja0xlblNFW3Muc2VtSW5kZXhdfHwwLHIubGluZV9zdHJva2VXaWR0aC8yKStzLnN0cm9rZVdpZHRoLzIrcy5oZWlnaHQvNCxhPShhKz0wPT09cy5zZW1JbmRleD90Oi10KTwwPzA6bjxhP246YSkscy5saW5lT2Zmc2V0JiYoYT0oYSs9cy5saW5lT2Zmc2V0KTwwPzA6bjxhP246YSksby5zdGFydE9mZnNldD1hLHFlKHMsbCxcInN0YXJ0T2Zmc2V0XCIsYSkmJihzLmVsbU9mZnNldC5zdGFydE9mZnNldC5iYXNlVmFsLnZhbHVlPWEpKSl9LHMudXBkYXRlU2hvdz1mdW5jdGlvbihlKXtJLmNhcHRpb25MYWJlbC51cGRhdGVTaG93KHMsZSl9LHBlJiYocy5hZGp1c3RFZGdlPWZ1bmN0aW9uKGUsdCl7cy5iQm94JiZJLmNhcHRpb25MYWJlbC5hZGp1c3RFZGdlKHQscy5iQm94LHMuc3Ryb2tlV2lkdGgvMil9KSwhMCl9LGdldE9mZnNldFBhdGhEYXRhOmZ1bmN0aW9uKGUseCxuKXt2YXIgYixhLGs9W107ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBNYXRoLmFicyhlLngtdC54KTwzJiZNYXRoLmFicyhlLnktdC55KTwzfXJldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixhLGksbyxsLHIscyx1LGgscCxjLGQsZix5LG0sUyxnLF8sdixFOzI9PT1lLmxlbmd0aD8oZz1lWzBdLF89ZVsxXSx2PXgsRT1NYXRoLmF0YW4yKGcueS1fLnksXy54LWcueCkrLjUqTWF0aC5QSSx0PVt7eDpnLngrTWF0aC5jb3MoRSkqdix5OmcueStNYXRoLnNpbihFKSp2Ki0xfSx7eDpfLngrTWF0aC5jb3MoRSkqdix5Ol8ueStNYXRoLnNpbihFKSp2Ki0xfV0sYj8oYT1iLnBvaW50cywwPD0oaT1NYXRoLmF0YW4yKGFbMV0ueS1hWzBdLnksYVswXS54LWFbMV0ueCktTWF0aC5hdGFuMihlWzBdLnktZVsxXS55LGVbMV0ueC1lWzBdLngpKSYmaTw9TWF0aC5QST9uPXt0eXBlOlwibGluZVwiLHBvaW50czp0LGluc2lkZTohMH06KGw9TmUoYVswXSxhWzFdLHgpLG89TmUodFsxXSx0WzBdLHgpLHM9YVswXSxoPW8scD10WzFdLGM9KHU9bCkueC1zLngsZD11Lnktcy55LGY9cC54LWgueCx5PXAueS1oLnksbT0oLWQqKHMueC1oLngpK2MqKHMueS1oLnkpKS8oLWYqZCtjKnkpLFM9KGYqKHMueS1oLnkpLXkqKHMueC1oLngpKS8oLWYqZCtjKnkpLG49KHI9MDw9bSYmbTw9MSYmMDw9UyYmUzw9MT97eDpzLngrUypjLHk6cy55K1MqZH06bnVsbCk/e3R5cGU6XCJsaW5lXCIscG9pbnRzOlthWzFdPXIsdFsxXV19OihhWzFdPXcobyxsKT9vOmwse3R5cGU6XCJsaW5lXCIscG9pbnRzOltvLHRbMV1dfSksYi5sZW49VmUoYVswXSxhWzFdKSkpOm49e3R5cGU6XCJsaW5lXCIscG9pbnRzOnR9LG4ubGVuPVZlKG4ucG9pbnRzWzBdLG4ucG9pbnRzWzFdKSxrLnB1c2goYj1uKSk6KGsucHVzaCh7dHlwZTpcImN1YmljXCIscG9pbnRzOmZ1bmN0aW9uKGUsdCxuLGEsaSxvKXtmb3IodmFyIGwscixzPVdlKGUsdCxuLGEpL28sdT0xLyhvPGk/aS9vKnM6cyksaD1bXSxwPTA7cj0oOTAtKGw9VGUoZSx0LG4sYSxwKSkuYW5nbGUpKihNYXRoLlBJLzE4MCksaC5wdXNoKHt4OmwueCtNYXRoLmNvcyhyKSppLHk6bC55K01hdGguc2luKHIpKmkqLTF9KSwhKDE8PXApOykxPChwKz11KSYmKHA9MSk7cmV0dXJuIGh9KGVbMF0sZVsxXSxlWzJdLGVbM10seCwxNil9KSxiPW51bGwpfSksYj1udWxsLGsuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDtiPVwibGluZVwiPT09ZS50eXBlPyhlLmluc2lkZSYmKGIubGVuPng/KCh0PWIucG9pbnRzKVsxXT1OZSh0WzBdLHRbMV0sLXgpLGIubGVuPVZlKHRbMF0sdFsxXSkpOihiLnBvaW50cz1udWxsLGIubGVuPTApLGUubGVuPngrbj8oKHQ9ZS5wb2ludHMpWzBdPU5lKHRbMV0sdFswXSwtKHgrbikpLGUubGVuPVZlKHRbMF0sdFsxXSkpOihlLnBvaW50cz1udWxsLGUubGVuPTApKSxlKTpudWxsfSksay5yZWR1Y2UoZnVuY3Rpb24odCxlKXt2YXIgbj1lLnBvaW50cztyZXR1cm4gbiYmKGEmJncoblswXSxhKXx8dC5wdXNoKHt0eXBlOlwiTVwiLHZhbHVlczpbblswXS54LG5bMF0ueV19KSxcImxpbmVcIj09PWUudHlwZT90LnB1c2goe3R5cGU6XCJMXCIsdmFsdWVzOltuWzFdLngsblsxXS55XX0pOihuLnNoaWZ0KCksbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7dHlwZTpcIkxcIix2YWx1ZXM6W2UueCxlLnldfSl9KSksYT1uW24ubGVuZ3RoLTFdKSx0fSxbXSl9LG5ld1RleHQ6ZnVuY3Rpb24oZSx0LG4sYSl7dmFyIGksbyxsLHIscyx1LGgscCxjPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwiZGVmc1wiKSxkPWMuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJwYXRoXCIpKTtyZXR1cm4gZC5pZD1pPW4rXCItcGF0aFwiLChyPShsPXQuY3JlYXRlRWxlbWVudE5TKHJlLFwidGV4dFwiKSkuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50TlMocmUsXCJ0ZXh0UGF0aFwiKSkpLmhyZWYuYmFzZVZhbD1cIiNcIitpLHIuc3RhcnRPZmZzZXQuYmFzZVZhbC5uZXdWYWx1ZVNwZWNpZmllZFVuaXRzKFNWR0xlbmd0aC5TVkdfTEVOR1RIVFlQRV9QWCwwKSxyLnRleHRDb250ZW50PWUsXCJib29sZWFuXCIhPXR5cGVvZiBmJiYoZj1cInBhaW50T3JkZXJcImluIGwuc3R5bGUpLGEmJiFmPyhsLmlkPW89bitcIi10ZXh0XCIsYy5hcHBlbmRDaGlsZChsKSwoaD0ocz10LmNyZWF0ZUVsZW1lbnROUyhyZSxcImdcIikpLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudE5TKHJlLFwidXNlXCIpKSkuaHJlZi5iYXNlVmFsPVwiI1wiK28sKHU9cy5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnROUyhyZSxcInVzZVwiKSkpLmhyZWYuYmFzZVZhbD1cIiNcIitvLChwPWguc3R5bGUpLnN0cm9rZUxpbmVqb2luPVwicm91bmRcIix7ZWxtUG9zaXRpb246bCxlbG1QYXRoOmQsZWxtT2Zmc2V0OnIsc3R5bGVUZXh0Omwuc3R5bGUsc3R5bGVGaWxsOnUuc3R5bGUsc3R5bGVTdHJva2U6cCxzdHlsZVNob3c6cy5zdHlsZSxlbG1zQXBwZW5kOltjLHNdfSk6KHA9bC5zdHlsZSxhJiYocC5zdHJva2VMaW5lam9pbj1cInJvdW5kXCIscC5wYWludE9yZGVyPVwic3Ryb2tlXCIpLHtlbG1Qb3NpdGlvbjpsLGVsbVBhdGg6ZCxlbG1PZmZzZXQ6cixzdHlsZVRleHQ6cCxzdHlsZUZpbGw6cCxzdHlsZVN0cm9rZTphP3A6bnVsbCxzdHlsZVNob3c6cCxlbG1zQXBwZW5kOltjLGxdfSl9LGluaXRTdmc6ZnVuY3Rpb24odCxuKXt2YXIgZSxhLGk9SS5wYXRoTGFiZWwubmV3VGV4dCh0LnRleHQsbi5iYXNlV2luZG93LmRvY3VtZW50LEErXCItcGF0aExhYmVsLVwiK3QuX2lkLHQub3V0bGluZUNvbG9yKTtbXCJlbG1Qb3NpdGlvblwiLFwiZWxtUGF0aFwiLFwiZWxtT2Zmc2V0XCIsXCJzdHlsZUZpbGxcIixcInN0eWxlU2hvd1wiLFwiZWxtc0FwcGVuZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09aVtlXX0pLHQuaXNTaG93bj0hMSx0LnN0eWxlU2hvdy52aXNpYmlsaXR5PVwiaGlkZGVuXCIsSS5jYXB0aW9uTGFiZWwudGV4dFN0eWxlUHJvcHMuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT10W2VdJiYoaS5zdHlsZVRleHRbZV09dFtlXSl9KSxpLmVsbXNBcHBlbmQuZm9yRWFjaChmdW5jdGlvbihlKXtuLnN2Zy5hcHBlbmRDaGlsZChlKX0pLGkuZWxtUGF0aC5zZXRQYXRoRGF0YShbe3R5cGU6XCJNXCIsdmFsdWVzOlswLDEwMF19LHt0eXBlOlwiaFwiLHZhbHVlczpbMTAwXX1dKSxlPWkuZWxtUG9zaXRpb24uZ2V0QkJveCgpLGkuc3R5bGVUZXh0LnRleHRBbmNob3I9W1wic3RhcnRcIixcImVuZFwiLFwibWlkZGxlXCJdW3Quc2VtSW5kZXhdLDIhPT10LnNlbUluZGV4fHx0LmxpbmVPZmZzZXR8fGkuZWxtT2Zmc2V0LnN0YXJ0T2Zmc2V0LmJhc2VWYWwubmV3VmFsdWVTcGVjaWZpZWRVbml0cyhTVkdMZW5ndGguU1ZHX0xFTkdUSFRZUEVfUEVSQ0VOVEFHRSw1MCksdC5oZWlnaHQ9ZS5oZWlnaHQsdC5vdXRsaW5lQ29sb3ImJihhPTEwPChhPWUuaGVpZ2h0LzkpPzEwOmE8Mj8yOmEsaS5zdHlsZVN0cm9rZS5zdHJva2VXaWR0aD1hK1wicHhcIixpLnN0eWxlU3Ryb2tlLnN0cm9rZT10Lm91dGxpbmVDb2xvciksdC5zdHJva2VXaWR0aD1hfHwwLFhlKHQuYXBsU3RhdHMsSS5wYXRoTGFiZWwuc3RhdHMpLHQudXBkYXRlQ29sb3IobiksdC51cGRhdGVQYXRoKG4pLHQudXBkYXRlU3RhcnRPZmZzZXQobikscGUmJmV0KG4se30pLHQudXBkYXRlU2hvdyhuKX0sYmluZDpmdW5jdGlvbihlLHQpe3ZhciBuPXQucHJvcHM7cmV0dXJuIGUuY29sb3J8fERlKG4sXCJjdXJfbGluZV9jb2xvclwiLGUudXBkYXRlQ29sb3IpLERlKG4sXCJjdXJfbGluZV9zdHJva2VXaWR0aFwiLGUudXBkYXRlUGF0aCksRGUobixcImFwbF9wYXRoXCIsZS51cGRhdGVQYXRoKSxlLnNlbUluZGV4PVwic3RhcnRMYWJlbFwiPT09dC5vcHRpb25OYW1lPzA6XCJlbmRMYWJlbFwiPT09dC5vcHRpb25OYW1lPzE6MiwyPT09ZS5zZW1JbmRleCYmIWUubGluZU9mZnNldHx8RGUobixcImN1cl9hdHRhY2hfcGx1Z0JhY2tMZW5TRVwiLGUudXBkYXRlU3RhcnRPZmZzZXQpLERlKG4sXCJzdmdTaG93XCIsZS51cGRhdGVTaG93KSxwZSYmRGUobixcIm5ld19lZGdlNHZpZXdCb3hcIixlLmFkanVzdEVkZ2UpLEkucGF0aExhYmVsLmluaXRTdmcoZSxuKSwhMH0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5wcm9wcztlLmVsbXNBcHBlbmQmJihlLmVsbXNBcHBlbmQuZm9yRWFjaChmdW5jdGlvbihlKXtuLnN2Zy5yZW1vdmVDaGlsZChlKX0pLGUuZWxtUG9zaXRpb249ZS5lbG1QYXRoPWUuZWxtT2Zmc2V0PWUuc3R5bGVGaWxsPWUuc3R5bGVTaG93PWUuZWxtc0FwcGVuZD1udWxsKSxYZShlLmN1clN0YXRzLEkucGF0aExhYmVsLnN0YXRzKSxYZShlLmFwbFN0YXRzLEkucGF0aExhYmVsLnN0YXRzKSxlLmNvbG9yfHx6ZShuLFwiY3VyX2xpbmVfY29sb3JcIixlLnVwZGF0ZUNvbG9yKSx6ZShuLFwiY3VyX2xpbmVfc3Ryb2tlV2lkdGhcIixlLnVwZGF0ZVBhdGgpLHplKG4sXCJhcGxfcGF0aFwiLGUudXBkYXRlUGF0aCksMj09PWUuc2VtSW5kZXgmJiFlLmxpbmVPZmZzZXR8fHplKG4sXCJjdXJfYXR0YWNoX3BsdWdCYWNrTGVuU0VcIixlLnVwZGF0ZVN0YXJ0T2Zmc2V0KSx6ZShuLFwic3ZnU2hvd1wiLGUudXBkYXRlU2hvdykscGUmJih6ZShuLFwibmV3X2VkZ2U0dmlld0JveFwiLGUuYWRqdXN0RWRnZSksZXQobix7fSkpfSxyZW1vdmVPcHRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnByb3BzLGE9e307YVt0Lm9wdGlvbk5hbWVdPVwiXCIsb3QobixhKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3QuYm91bmRUYXJnZXRzLmxlbmd0aCYmKGNvbnNvbGUuZXJyb3IoXCJMZWFkZXJMaW5lQXR0YWNobWVudCB3YXMgbm90IHVuYm91bmQgYnkgcmVtb3ZlXCIpLHQuYm91bmRUYXJnZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7SS5wYXRoTGFiZWwudW5iaW5kKHQsZSl9KSl9fX0sT2JqZWN0LmtleXMoSSkuZm9yRWFjaChmdW5jdGlvbihlKXtsdFtlXT1mdW5jdGlvbigpe3JldHVybiBuZXcgQyhJW2VdLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfX0pLGx0LnBvc2l0aW9uQnlXaW5kb3dSZXNpemU9ITAsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix2LmFkZChmdW5jdGlvbigpe2x0LnBvc2l0aW9uQnlXaW5kb3dSZXNpemUmJk9iamVjdC5rZXlzKGdlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2V0KGdlW2VdLHtwb3NpdGlvbjohMH0pfSl9KSwhMSksbHR9KCk7IWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6ZVtcImxlYWRlci1saW5lXCJdPXQoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBMZWFkZXJMaW5lfSk7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIERPTidUIE1BTlVBTExZIEVESVQgVEhJUyBGSUxFXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLypcbiAqIEFuaW1FdmVudFxuICogaHR0cHM6Ly9naXRodWIuY29tL2Fuc2VraS9hbmltLWV2ZW50XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIxIGFuc2VraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG52YXIgTVNQRiA9IDEwMDAgLyA2MCxcbiAgICAvLyBtcy9mcmFtZSAoRlBTOiA2MClcbktFRVBfTE9PUCA9IDUwMCxcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSB0YXNrXG4gKiBAcHJvcGVydHkge0V2ZW50fSBldmVudFxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gbGlzdGVuZXJcbiAqL1xuXG4vKiogQHR5cGUge3Rhc2tbXX0gKi9cbnRhc2tzID0gW107XG5cbnZhciByZXF1ZXN0QW5pbSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIE1TUEYpO1xufSxcbiAgICBjYW5jZWxBbmltID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKHJlcXVlc3RJRCkge1xuICByZXR1cm4gY2xlYXJUaW1lb3V0KHJlcXVlc3RJRCk7XG59O1xuXG52YXIgbGFzdEZyYW1lVGltZSA9IERhdGUubm93KCksXG4gICAgcmVxdWVzdElEO1xuXG5mdW5jdGlvbiBzdGVwKCkge1xuICB2YXIgY2FsbGVkLCBuZXh0O1xuXG4gIGlmIChyZXF1ZXN0SUQpIHtcbiAgICBjYW5jZWxBbmltLmNhbGwod2luZG93LCByZXF1ZXN0SUQpO1xuICAgIHJlcXVlc3RJRCA9IG51bGw7XG4gIH1cblxuICB0YXNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgdmFyIGV2ZW50O1xuXG4gICAgaWYgKGV2ZW50ID0gdGFzay5ldmVudCkge1xuICAgICAgdGFzay5ldmVudCA9IG51bGw7IC8vIENsZWFyIGl0IGJlZm9yZSBgdGFzay5saXN0ZW5lcigpYCBiZWNhdXNlIHRoYXQgbWlnaHQgZmlyZSBhbm90aGVyIGV2ZW50LlxuXG4gICAgICB0YXNrLmxpc3RlbmVyKGV2ZW50KTtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICBpZiAoY2FsbGVkKSB7XG4gICAgbGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XG4gICAgbmV4dCA9IHRydWU7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3coKSAtIGxhc3RGcmFtZVRpbWUgPCBLRUVQX0xPT1ApIHtcbiAgICAvLyBHbyBvbiBmb3IgYSB3aGlsZVxuICAgIG5leHQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG5leHQpIHtcbiAgICByZXF1ZXN0SUQgPSByZXF1ZXN0QW5pbS5jYWxsKHdpbmRvdywgc3RlcCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5kZXhPZlRhc2tzKGxpc3RlbmVyKSB7XG4gIHZhciBpbmRleCA9IC0xO1xuICB0YXNrcy5zb21lKGZ1bmN0aW9uICh0YXNrLCBpKSB7XG4gICAgaWYgKHRhc2subGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICBpbmRleCA9IGk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbnZhciBBbmltRXZlbnQgPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0ZW5lciAtIEFuIGV2ZW50IGxpc3RlbmVyLlxuICAgKiBAcmV0dXJucyB7KGZ1bmN0aW9ufG51bGwpfSBBIHdyYXBwZWQgZXZlbnQgbGlzdGVuZXIuXG4gICAqL1xuICBhZGQ6IGZ1bmN0aW9uIGFkZChsaXN0ZW5lcikge1xuICAgIHZhciB0YXNrO1xuXG4gICAgaWYgKGluZGV4T2ZUYXNrcyhsaXN0ZW5lcikgPT09IC0xKSB7XG4gICAgICB0YXNrcy5wdXNoKHRhc2sgPSB7XG4gICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lclxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRhc2suZXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoIXJlcXVlc3RJRCkge1xuICAgICAgICAgIHN0ZXAoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobGlzdGVuZXIpIHtcbiAgICB2YXIgaVJlbW92ZTtcblxuICAgIGlmICgoaVJlbW92ZSA9IGluZGV4T2ZUYXNrcyhsaXN0ZW5lcikpID4gLTEpIHtcbiAgICAgIHRhc2tzLnNwbGljZShpUmVtb3ZlLCAxKTtcblxuICAgICAgaWYgKCF0YXNrcy5sZW5ndGggJiYgcmVxdWVzdElEKSB7XG4gICAgICAgIGNhbmNlbEFuaW0uY2FsbCh3aW5kb3csIHJlcXVlc3RJRCk7XG4gICAgICAgIHJlcXVlc3RJRCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgQW5pbUV2ZW50OyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBET04nVCBNQU5VQUxMWSBFRElUIFRISVMgRklMRVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qXG4gKiBDU1NQcmVmaXhcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnNla2kvY3NzcHJlZml4XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIxIGFuc2VraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5mdW5jdGlvbiB1Y2YodGV4dCkge1xuICByZXR1cm4gdGV4dC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHRleHQuc3Vic3RyKDEpO1xufVxuXG52YXIgUFJFRklYRVMgPSBbJ3dlYmtpdCcsICdtb3onLCAnbXMnLCAnbyddLFxuICAgIE5BTUVfUFJFRklYRVMgPSBQUkVGSVhFUy5yZWR1Y2UoZnVuY3Rpb24gKHByZWZpeGVzLCBwcmVmaXgpIHtcbiAgcHJlZml4ZXMucHVzaChwcmVmaXgpO1xuICBwcmVmaXhlcy5wdXNoKHVjZihwcmVmaXgpKTtcbiAgcmV0dXJuIHByZWZpeGVzO1xufSwgW10pLFxuICAgIFZBTFVFX1BSRUZJWEVTID0gUFJFRklYRVMubWFwKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgcmV0dXJuIFwiLVwiLmNvbmNhdChwcmVmaXgsIFwiLVwiKTtcbn0pLFxuXG4vKipcbiAqIEdldCBzYW1wbGUgQ1NTU3R5bGVEZWNsYXJhdGlvbi5cbiAqIEByZXR1cm5zIHtDU1NTdHlsZURlY2xhcmF0aW9ufVxuICovXG5nZXREZWNsYXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGRlY2xhcmF0aW9uO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuICB9O1xufSgpLFxuXG4vKipcbiAqIE5vcm1hbGl6ZSBuYW1lLlxuICogQHBhcmFtIHt9IHByb3BOYW1lIC0gQSBuYW1lIHRoYXQgaXMgbm9ybWFsaXplZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgbm9ybWFsaXplZCBuYW1lLlxuICovXG5ub3JtYWxpemVOYW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVQcmVmaXhlZE5hbWUgPSBuZXcgUmVnRXhwKCdeKD86JyArIFBSRUZJWEVTLmpvaW4oJ3wnKSArICcpKC4pJywgJ2knKSxcbiAgICAgIHJlVWMgPSAvW0EtWl0vO1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgcmV0dXJuIChwcm9wTmFtZSA9IChwcm9wTmFtZSArICcnKS5yZXBsYWNlKC9cXHMvZywgJycpLnJlcGxhY2UoLy0oW1xcZGEtel0pL2dpLCBmdW5jdGlvbiAoc3RyLCBwMSkge1xuICAgICAgcmV0dXJuIHAxLnRvVXBwZXJDYXNlKCk7XG4gICAgfSkgLy8gY2FtZWxDYXNlXG4gICAgLy8gJ21zJyBhbmQgJ01zJyBhcmUgZm91bmQgYnkgcmVQcmVmaXhlZE5hbWUgJ2knIG9wdGlvblxuICAgIC5yZXBsYWNlKHJlUHJlZml4ZWROYW1lLCBmdW5jdGlvbiAoc3RyLCBwMSkge1xuICAgICAgcmV0dXJuIHJlVWMudGVzdChwMSkgPyBwMS50b0xvd2VyQ2FzZSgpIDogc3RyO1xuICAgIH0pIC8vIFJlbW92ZSBwcmVmaXhcbiAgICApLnRvTG93ZXJDYXNlKCkgPT09ICdmbG9hdCcgPyAnY3NzRmxvYXQnIDogcHJvcE5hbWU7XG4gIH07IC8vIEZvciBvbGQgQ1NTT01cbn0oKSxcblxuLyoqXG4gKiBOb3JtYWxpemUgdmFsdWUuXG4gKiBAcGFyYW0ge30gcHJvcFZhbHVlIC0gQSB2YWx1ZSB0aGF0IGlzIG5vcm1hbGl6ZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIG5vcm1hbGl6ZWQgdmFsdWUuXG4gKi9cbm5vcm1hbGl6ZVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVQcmVmaXhlZFZhbHVlID0gbmV3IFJlZ0V4cCgnXig/OicgKyBWQUxVRV9QUkVGSVhFUy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gIHJldHVybiBmdW5jdGlvbiAocHJvcFZhbHVlKSB7XG4gICAgcmV0dXJuIChwcm9wVmFsdWUgIT0gbnVsbCA/IHByb3BWYWx1ZSArICcnIDogJycpLnJlcGxhY2UoL1xccy9nLCAnJykucmVwbGFjZShyZVByZWZpeGVkVmFsdWUsICcnKTtcbiAgfTtcbn0oKSxcblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgYENTUy5zdXBwb3J0c2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcE5hbWUgLSBBIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFZhbHVlIC0gQSB2YWx1ZS5cbiAqICAgICBTaW5jZSBgQ1NTU3R5bGVEZWNsYXJhdGlvbi5zZXRQcm9wZXJ0eWAgbWlnaHQgcmV0dXJuIHVuZXhwZWN0ZWQgcmVzdWx0LFxuICogICAgIHRoZSBgcHJvcFZhbHVlYCBzaG91bGQgYmUgY2hlY2tlZCBiZWZvcmUgdGhlIGBjc3NTdXBwb3J0c2AgaXMgY2FsbGVkLlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBnaXZlbiBwYWlyIGlzIGFjY2VwdGVkLlxuICovXG5jc3NTdXBwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgvLyByZXR1cm4gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzIHx8ICgocHJvcE5hbWUsIHByb3BWYWx1ZSkgPT4ge1xuICAgIC8vIGBDU1Muc3VwcG9ydHNgIGRvZXNuJ3QgZmluZCBwcmVmaXhlZCBwcm9wZXJ0eS5cbiAgICBmdW5jdGlvbiAocHJvcE5hbWUsIHByb3BWYWx1ZSkge1xuICAgICAgdmFyIGRlY2xhcmF0aW9uID0gZ2V0RGVjbGFyYXRpb24oKTsgLy8gSW4gc29tZSBicm93c2VycywgYGRlY2xhcmF0aW9uW3Byb3BdID0gdmFsdWVgIHVwZGF0ZXMgYW55IHByb3BlcnR5LlxuXG4gICAgICBwcm9wTmFtZSA9IHByb3BOYW1lLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIFwiLVwiLmNvbmNhdChzdHIudG9Mb3dlckNhc2UoKSk7XG4gICAgICB9KTsgLy8ga2ViYWItY2FzZVxuXG4gICAgICBkZWNsYXJhdGlvbi5zZXRQcm9wZXJ0eShwcm9wTmFtZSwgcHJvcFZhbHVlKTtcbiAgICAgIHJldHVybiBkZWNsYXJhdGlvbltwcm9wTmFtZV0gIT0gbnVsbCAmJiAvLyBCZWNhdXNlIGdldFByb3BlcnR5VmFsdWUgcmV0dXJucyAnJyBpZiBpdCBpcyB1bnN1cHBvcnRlZFxuICAgICAgZGVjbGFyYXRpb24uZ2V0UHJvcGVydHlWYWx1ZShwcm9wTmFtZSkgPT09IHByb3BWYWx1ZTtcbiAgICB9XG4gICk7XG59KCksXG4gICAgLy8gQ2FjaGVcbnByb3BOYW1lcyA9IHt9LFxuICAgIHByb3BWYWx1ZXMgPSB7fTtcblxuZnVuY3Rpb24gZ2V0TmFtZShwcm9wTmFtZSkge1xuICBwcm9wTmFtZSA9IG5vcm1hbGl6ZU5hbWUocHJvcE5hbWUpO1xuXG4gIGlmIChwcm9wTmFtZSAmJiBwcm9wTmFtZXNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICB2YXIgZGVjbGFyYXRpb24gPSBnZXREZWNsYXJhdGlvbigpO1xuXG4gICAgaWYgKGRlY2xhcmF0aW9uW3Byb3BOYW1lXSAhPSBudWxsKSB7XG4gICAgICAvLyBPcmlnaW5hbFxuICAgICAgcHJvcE5hbWVzW3Byb3BOYW1lXSA9IHByb3BOYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUcnkgd2l0aCBwcmVmaXhlc1xuICAgICAgdmFyIHVjZk5hbWUgPSB1Y2YocHJvcE5hbWUpO1xuXG4gICAgICBpZiAoIU5BTUVfUFJFRklYRVMuc29tZShmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAgIHZhciBwcmVmaXhlZCA9IHByZWZpeCArIHVjZk5hbWU7XG5cbiAgICAgICAgaWYgKGRlY2xhcmF0aW9uW3ByZWZpeGVkXSAhPSBudWxsKSB7XG4gICAgICAgICAgcHJvcE5hbWVzW3Byb3BOYW1lXSA9IHByZWZpeGVkO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSkpIHtcbiAgICAgICAgcHJvcE5hbWVzW3Byb3BOYW1lXSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcm9wTmFtZXNbcHJvcE5hbWVdIHx8IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUocHJvcE5hbWUsIHByb3BWYWx1ZSkge1xuICB2YXIgcmVzO1xuXG4gIGlmICghKHByb3BOYW1lID0gZ2V0TmFtZShwcm9wTmFtZSkpKSB7XG4gICAgcmV0dXJuIHJlcztcbiAgfSAvLyBJbnZhbGlkIHByb3BlcnR5XG5cblxuICBwcm9wVmFsdWVzW3Byb3BOYW1lXSA9IHByb3BWYWx1ZXNbcHJvcE5hbWVdIHx8IHt9O1xuICAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpID8gcHJvcFZhbHVlIDogW3Byb3BWYWx1ZV0pLnNvbWUoZnVuY3Rpb24gKHByb3BWYWx1ZSkge1xuICAgIHByb3BWYWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHByb3BWYWx1ZSk7XG5cbiAgICBpZiAocHJvcFZhbHVlc1twcm9wTmFtZV1bcHJvcFZhbHVlXSAhPSBudWxsKSB7XG4gICAgICAvLyBDYWNoZVxuICAgICAgaWYgKHByb3BWYWx1ZXNbcHJvcE5hbWVdW3Byb3BWYWx1ZV0gIT09IGZhbHNlKSB7XG4gICAgICAgIHJlcyA9IHByb3BWYWx1ZXNbcHJvcE5hbWVdW3Byb3BWYWx1ZV07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7IC8vIENvbnRpbnVlIHRvIG5leHQgdmFsdWVcbiAgICB9XG5cbiAgICBpZiAoY3NzU3VwcG9ydHMocHJvcE5hbWUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIC8vIE9yaWdpbmFsXG4gICAgICByZXMgPSBwcm9wVmFsdWVzW3Byb3BOYW1lXVtwcm9wVmFsdWVdID0gcHJvcFZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFZBTFVFX1BSRUZJWEVTLnNvbWUoZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgLy8gVHJ5IHdpdGggcHJlZml4ZXNcbiAgICAgIHZhciBwcmVmaXhlZCA9IHByZWZpeCArIHByb3BWYWx1ZTtcblxuICAgICAgaWYgKGNzc1N1cHBvcnRzKHByb3BOYW1lLCBwcmVmaXhlZCkpIHtcbiAgICAgICAgcmVzID0gcHJvcFZhbHVlc1twcm9wTmFtZV1bcHJvcFZhbHVlXSA9IHByZWZpeGVkO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm9wVmFsdWVzW3Byb3BOYW1lXVtwcm9wVmFsdWVdID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBDb250aW51ZSB0byBuZXh0IHZhbHVlXG4gIH0pO1xuICByZXR1cm4gdHlwZW9mIHJlcyA9PT0gJ3N0cmluZycgPyByZXMgOiB2b2lkIDA7IC8vIEl0IG1pZ2h0IGJlIGVtcHR5IHN0cmluZy5cbn1cblxudmFyIENTU1ByZWZpeCA9IHtcbiAgZ2V0TmFtZTogZ2V0TmFtZSxcbiAgZ2V0VmFsdWU6IGdldFZhbHVlXG59O1xuZXhwb3J0IGRlZmF1bHQgQ1NTUHJlZml4OyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBET04nVCBNQU5VQUxMWSBFRElUIFRISVMgRklMRVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qXG4gKiBtQ2xhc3NMaXN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5zZWtpL20tY2xhc3MtbGlzdFxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSBhbnNla2lcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplKHRva2VuKSB7XG4gIHJldHVybiAodG9rZW4gKyAnJykudHJpbSgpO1xufSAvLyBOb3QgYHx8YFxuXG5cbmZ1bmN0aW9uIGFwcGx5TGlzdChsaXN0LCBlbGVtZW50KSB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGxpc3Quam9pbignICcpKTtcbn1cblxuZnVuY3Rpb24gX2FkZChsaXN0LCBlbGVtZW50LCB0b2tlbnMpIHtcbiAgaWYgKHRva2Vucy5maWx0ZXIoZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgaWYgKCEodG9rZW4gPSBub3JtYWxpemUodG9rZW4pKSB8fCBsaXN0LmluZGV4T2YodG9rZW4pICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxpc3QucHVzaCh0b2tlbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pLmxlbmd0aCkge1xuICAgIGFwcGx5TGlzdChsaXN0LCBlbGVtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfcmVtb3ZlKGxpc3QsIGVsZW1lbnQsIHRva2Vucykge1xuICBpZiAodG9rZW5zLmZpbHRlcihmdW5jdGlvbiAodG9rZW4pIHtcbiAgICB2YXIgaTtcblxuICAgIGlmICghKHRva2VuID0gbm9ybWFsaXplKHRva2VuKSkgfHwgKGkgPSBsaXN0LmluZGV4T2YodG9rZW4pKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsaXN0LnNwbGljZShpLCAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSkubGVuZ3RoKSB7XG4gICAgYXBwbHlMaXN0KGxpc3QsIGVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF90b2dnbGUobGlzdCwgZWxlbWVudCwgdG9rZW4sIGZvcmNlKSB7XG4gIHZhciBpID0gbGlzdC5pbmRleE9mKHRva2VuID0gbm9ybWFsaXplKHRva2VuKSk7XG5cbiAgaWYgKGkgIT09IC0xKSB7XG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsaXN0LnNwbGljZShpLCAxKTtcbiAgICBhcHBseUxpc3QobGlzdCwgZWxlbWVudCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGZvcmNlID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxpc3QucHVzaCh0b2tlbik7XG4gIGFwcGx5TGlzdChsaXN0LCBlbGVtZW50KTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIF9yZXBsYWNlKGxpc3QsIGVsZW1lbnQsIHRva2VuLCBuZXdUb2tlbikge1xuICB2YXIgaTtcblxuICBpZiAoISh0b2tlbiA9IG5vcm1hbGl6ZSh0b2tlbikpIHx8ICEobmV3VG9rZW4gPSBub3JtYWxpemUobmV3VG9rZW4pKSB8fCB0b2tlbiA9PT0gbmV3VG9rZW4gfHwgKGkgPSBsaXN0LmluZGV4T2YodG9rZW4pKSA9PT0gLTEpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsaXN0LnNwbGljZShpLCAxKTtcblxuICBpZiAobGlzdC5pbmRleE9mKG5ld1Rva2VuKSA9PT0gLTEpIHtcbiAgICBsaXN0LnB1c2gobmV3VG9rZW4pO1xuICB9XG5cbiAgYXBwbHlMaXN0KGxpc3QsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBtQ2xhc3NMaXN0KGVsZW1lbnQpIHtcbiAgcmV0dXJuICFtQ2xhc3NMaXN0Lmlnbm9yZU5hdGl2ZSAmJiBlbGVtZW50LmNsYXNzTGlzdCB8fCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxpc3QgPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpLnRyaW0oKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgIHJldHVybiAhIXRva2VuO1xuICAgIH0pLFxuICAgICAgICBpbnMgPSB7XG4gICAgICBsZW5ndGg6IGxpc3QubGVuZ3RoLFxuICAgICAgaXRlbTogZnVuY3Rpb24gaXRlbShpKSB7XG4gICAgICAgIHJldHVybiBsaXN0W2ldO1xuICAgICAgfSxcbiAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiBjb250YWlucyh0b2tlbikge1xuICAgICAgICByZXR1cm4gbGlzdC5pbmRleE9mKG5vcm1hbGl6ZSh0b2tlbikpICE9PSAtMTtcbiAgICAgIH0sXG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgICAgX2FkZChsaXN0LCBlbGVtZW50LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblxuICAgICAgICByZXR1cm4gbUNsYXNzTGlzdC5tZXRob2RDaGFpbiA/IGlucyA6IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgX3JlbW92ZShsaXN0LCBlbGVtZW50LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcblxuICAgICAgICByZXR1cm4gbUNsYXNzTGlzdC5tZXRob2RDaGFpbiA/IGlucyA6IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSh0b2tlbiwgZm9yY2UpIHtcbiAgICAgICAgcmV0dXJuIF90b2dnbGUobGlzdCwgZWxlbWVudCwgdG9rZW4sIGZvcmNlKTtcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiBmdW5jdGlvbiByZXBsYWNlKHRva2VuLCBuZXdUb2tlbikge1xuICAgICAgICBfcmVwbGFjZShsaXN0LCBlbGVtZW50LCB0b2tlbiwgbmV3VG9rZW4pO1xuXG4gICAgICAgIHJldHVybiBtQ2xhc3NMaXN0Lm1ldGhvZENoYWluID8gaW5zIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGlucztcbiAgfSgpO1xufVxuXG5tQ2xhc3NMaXN0Lm1ldGhvZENoYWluID0gdHJ1ZTtcbmV4cG9ydCBkZWZhdWx0IG1DbGFzc0xpc3Q7IiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIERPTidUIE1BTlVBTExZIEVESVQgVEhJUyBGSUxFXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKlxuICogUG9pbnRlckV2ZW50XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYW5zZWtpL3BvaW50ZXItZXZlbnRcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjIgYW5zZWtpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbmltcG9ydCBBbmltRXZlbnQgZnJvbSAnYW5pbS1ldmVudCc7XG52YXIgTU9VU0VfRU1VX0lOVEVSVkFMID0gNDAwLFxuICAgIC8vIEF2b2lkIG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cbkNMSUNLX0VNVUxBVE9SX0VMRU1FTlRTID0gW10sXG4gICAgREJMQ0xJQ0tfRU1VTEFUT1JfRUxFTUVOVFMgPSBbXTsgLy8gU3VwcG9ydCBvcHRpb25zIGZvciBhZGRFdmVudExpc3RlbmVyXG5cbnZhciBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG5cbnRyeSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSkpO1xufSBjYXRjaCAoZXJyb3IpIHtcbiAgLyogaWdub3JlICovXG59XG4vKipcbiAqIGFkZEV2ZW50TGlzdGVuZXIgd2l0aCBzcGVjaWZpYyBvcHRpb24uXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEFuIGV2ZW50LXRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgLSBUaGUgRXZlbnRMaXN0ZW5lci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gIC8vIFdoZW4gYHBhc3NpdmVgIGlzIG5vdCBzdXBwb3J0ZWQsIGNvbnNpZGVyIHRoYXQgdGhlIGB1c2VDYXB0dXJlYCBpcyBzdXBwb3J0ZWQgaW5zdGVhZCBvZlxuICAvLyBgb3B0aW9uc2AgKGkuZS4gb3B0aW9ucyBvdGhlciB0aGFuIHRoZSBgcGFzc2l2ZWAgYWxzbyBhcmUgbm90IHN1cHBvcnRlZCkuXG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBwYXNzaXZlU3VwcG9ydGVkID8gb3B0aW9ucyA6IG9wdGlvbnMuY2FwdHVyZSk7XG59XG5cbmZ1bmN0aW9uIGdldFBvaW50c0xlbmd0aChwMCwgcDEpIHtcbiAgdmFyIGx4ID0gcDAueCAtIHAxLngsXG4gICAgICBseSA9IHAwLnkgLSBwMS55O1xuICByZXR1cm4gTWF0aC5zcXJ0KGx4ICogbHggKyBseSAqIGx5KTtcbn1cbi8qKlxuICogR2V0IFRvdWNoIGluc3RhbmNlIGluIGxpc3QuXG4gKiBAcGFyYW0ge1RvdWNoW119IHRvdWNoZXMgLSBBbiBBcnJheSBvciBUb3VjaExpc3QgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgLSBUb3VjaCNpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7KFRvdWNofG51bGwpfSAtIEEgZm91bmQgVG91Y2ggaW5zdGFuY2UuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRUb3VjaEJ5SWQodG91Y2hlcywgaWQpIHtcbiAgaWYgKHRvdWNoZXMgIT0gbnVsbCAmJiBpZCAhPSBudWxsKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodG91Y2hlc1tpXS5pZGVudGlmaWVyID09PSBpZCkge1xuICAgICAgICByZXR1cm4gdG91Y2hlc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHh5IC0gU29tZXRoaW5nIHRoYXQgbWlnaHQgaGF2ZSBjbGllbnRYIGFuZCBjbGllbnRZLlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gYHRydWVgIGlmIGl0IGhhcyB2YWxpZCBjbGllbnRYIGFuZCBjbGllbnRZLlxuICovXG5cblxuZnVuY3Rpb24gaGFzWFkoeHkpIHtcbiAgcmV0dXJuIHh5ICYmIHR5cGVvZiB4eS5jbGllbnRYID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeHkuY2xpZW50WSA9PT0gJ251bWJlcic7XG59IC8vIEdlY2tvLCBUcmlkZW50IHBpY2sgZHJhZy1ldmVudCBvZiBzb21lIGVsZW1lbnRzIHN1Y2ggYXMgaW1nLCBhLCBldGMuXG5cblxuZnVuY3Rpb24gZHJhZ3N0YXJ0KGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbnZhciBQb2ludGVyRXZlbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgYFBvaW50ZXJFdmVudGAgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBQb2ludGVyRXZlbnQob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9pbnRlckV2ZW50KTtcblxuICAgIHRoaXMuc3RhcnRIYW5kbGVycyA9IHt9O1xuICAgIHRoaXMubGFzdEhhbmRsZXJJZCA9IDA7XG4gICAgdGhpcy5jdXJQb2ludGVyQ2xhc3MgPSBudWxsO1xuICAgIHRoaXMuY3VyVG91Y2hJZCA9IG51bGw7XG4gICAgdGhpcy5sYXN0UG9pbnRlclhZID0ge1xuICAgICAgY2xpZW50WDogMCxcbiAgICAgIGNsaWVudFk6IDBcbiAgICB9O1xuICAgIHRoaXMubGFzdFRvdWNoVGltZSA9IDA7IC8vIE9wdGlvbnNcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC8vIERlZmF1bHRcbiAgICAgIHByZXZlbnREZWZhdWx0OiB0cnVlLFxuICAgICAgc3RvcFByb3BhZ2F0aW9uOiB0cnVlXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBbJ3ByZXZlbnREZWZhdWx0JywgJ3N0b3BQcm9wYWdhdGlvbiddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnNbb3B0aW9uXSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgX3RoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHN0YXJ0SGFuZGxlciAtIFRoaXMgaXMgY2FsbGVkIHdpdGggcG9pbnRlclhZIHdoZW4gaXQgc3RhcnRzLiBUaGlzIHJldHVybnMgYm9vbGVhbi5cbiAgICogQHJldHVybnMge251bWJlcn0gaGFuZGxlcklkIHdoaWNoIGlzIHVzZWQgZm9yIGFkZGluZy9yZW1vdmluZyB0byBlbGVtZW50LlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQb2ludGVyRXZlbnQsIFt7XG4gICAga2V5OiBcInJlZ1N0YXJ0SGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWdTdGFydEhhbmRsZXIoc3RhcnRIYW5kbGVyKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIHRoYXQuc3RhcnRIYW5kbGVyc1srK3RoYXQubGFzdEhhbmRsZXJJZF0gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50ZXJDbGFzcyA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nID8gJ21vdXNlJyA6ICd0b3VjaCcsXG4gICAgICAgICAgICBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgcG9pbnRlclhZLCB0b3VjaElkO1xuXG4gICAgICAgIGlmIChwb2ludGVyQ2xhc3MgPT09ICd0b3VjaCcpIHtcbiAgICAgICAgICB0aGF0Lmxhc3RUb3VjaFRpbWUgPSBub3c7IC8vIEF2b2lkIG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cblxuICAgICAgICAgIHBvaW50ZXJYWSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICAgIHRvdWNoSWQgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEF2b2lkIG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cbiAgICAgICAgICBpZiAobm93IC0gdGhhdC5sYXN0VG91Y2hUaW1lIDwgTU9VU0VfRU1VX0lOVEVSVkFMKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9pbnRlclhZID0gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhc1hZKHBvaW50ZXJYWSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNsaWVudFgvY2xpZW50WScpO1xuICAgICAgICB9IC8vIEl0IGlzIG5ldyBvbmUgZXZlbiBpZiB0aG9zZSBhcmUgJ21vdXNlJyBvciBJRCBpcyBzYW1lLCB0aGVuIGNhbmNlbCBjdXJyZW50IG9uZS5cblxuXG4gICAgICAgIGlmICh0aGF0LmN1clBvaW50ZXJDbGFzcykge1xuICAgICAgICAgIHRoYXQuY2FuY2VsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnRIYW5kbGVyLmNhbGwodGhhdCwgcG9pbnRlclhZKSkge1xuICAgICAgICAgIHRoYXQuY3VyUG9pbnRlckNsYXNzID0gcG9pbnRlckNsYXNzO1xuICAgICAgICAgIHRoYXQuY3VyVG91Y2hJZCA9IHBvaW50ZXJDbGFzcyA9PT0gJ3RvdWNoJyA/IHRvdWNoSWQgOiBudWxsO1xuICAgICAgICAgIHRoYXQubGFzdFBvaW50ZXJYWS5jbGllbnRYID0gcG9pbnRlclhZLmNsaWVudFg7XG4gICAgICAgICAgdGhhdC5sYXN0UG9pbnRlclhZLmNsaWVudFkgPSBwb2ludGVyWFkuY2xpZW50WTtcblxuICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRoYXQubGFzdEhhbmRsZXJJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZXJJZCAtIEFuIElEIHdoaWNoIHdhcyByZXR1cm5lZCBieSByZWdTdGFydEhhbmRsZXIuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bnJlZ1N0YXJ0SGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnJlZ1N0YXJ0SGFuZGxlcihoYW5kbGVySWQpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0YXJ0SGFuZGxlcnNbaGFuZGxlcklkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlcklkIC0gQW4gSUQgd2hpY2ggd2FzIHJldHVybmVkIGJ5IHJlZ1N0YXJ0SGFuZGxlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBoYW5kbGVySWQgd2hpY2ggd2FzIHBhc3NlZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZFN0YXJ0SGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRTdGFydEhhbmRsZXIoZWxlbWVudCwgaGFuZGxlcklkKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGFuZGxlcklkOiBcIi5jb25jYXQoaGFuZGxlcklkKSk7XG4gICAgICB9XG5cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAnbW91c2Vkb3duJywgdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2hzdGFydCcsIHRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdLCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ2RyYWdzdGFydCcsIGRyYWdzdGFydCwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGhhbmRsZXJJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlcklkIC0gQW4gSUQgd2hpY2ggd2FzIHJldHVybmVkIGJ5IHJlZ1N0YXJ0SGFuZGxlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBoYW5kbGVySWQgd2hpY2ggd2FzIHBhc3NlZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVN0YXJ0SGFuZGxlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVTdGFydEhhbmRsZXIoZWxlbWVudCwgaGFuZGxlcklkKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGFuZGxlcklkOiBcIi5jb25jYXQoaGFuZGxlcklkKSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5zdGFydEhhbmRsZXJzW2hhbmRsZXJJZF0sIGZhbHNlKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuc3RhcnRIYW5kbGVyc1toYW5kbGVySWRdLCBmYWxzZSk7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGRyYWdzdGFydCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIGhhbmRsZXJJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gQSB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtb3ZlSGFuZGxlciAtIFRoaXMgaXMgY2FsbGVkIHdpdGggcG9pbnRlclhZIHdoZW4gaXQgbW92ZXMuXG4gICAgICogQHBhcmFtIHs/Ym9vbGVhbn0gcmF3RXZlbnQgLSBDYXB0dXJlIGV2ZW50cyB3aXRob3V0IGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkTW92ZUhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTW92ZUhhbmRsZXIoZWxlbWVudCwgbW92ZUhhbmRsZXIsIHJhd0V2ZW50KSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50ZXJDbGFzcyA9IGV2ZW50LnR5cGUgPT09ICdtb3VzZW1vdmUnID8gJ21vdXNlJyA6ICd0b3VjaCc7IC8vIEF2b2lkIG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cblxuICAgICAgICBpZiAocG9pbnRlckNsYXNzID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgdGhhdC5sYXN0VG91Y2hUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludGVyQ2xhc3MgPT09IHRoYXQuY3VyUG9pbnRlckNsYXNzKSB7XG4gICAgICAgICAgdmFyIHBvaW50ZXJYWSA9IHBvaW50ZXJDbGFzcyA9PT0gJ3RvdWNoJyA/IGdldFRvdWNoQnlJZChldmVudC5jaGFuZ2VkVG91Y2hlcywgdGhhdC5jdXJUb3VjaElkKSA6IGV2ZW50O1xuXG4gICAgICAgICAgaWYgKGhhc1hZKHBvaW50ZXJYWSkpIHtcbiAgICAgICAgICAgIGlmIChwb2ludGVyWFkuY2xpZW50WCAhPT0gdGhhdC5sYXN0UG9pbnRlclhZLmNsaWVudFggfHwgcG9pbnRlclhZLmNsaWVudFkgIT09IHRoYXQubGFzdFBvaW50ZXJYWS5jbGllbnRZKSB7XG4gICAgICAgICAgICAgIHRoYXQubW92ZShwb2ludGVyWFkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgd3JhcHBlZEhhbmRsZXIgPSByYXdFdmVudCA/IGhhbmRsZXIgOiBBbmltRXZlbnQuYWRkKGhhbmRsZXIpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICdtb3VzZW1vdmUnLCB3cmFwcGVkSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaG1vdmUnLCB3cmFwcGVkSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhhdC5jdXJNb3ZlSGFuZGxlciA9IG1vdmVIYW5kbGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3tjbGllbnRYLCBjbGllbnRZfX0gW3BvaW50ZXJYWV0gLSBUaGlzIG1pZ2h0IGJlIE1vdXNlRXZlbnQsIFRvdWNoIG9mIFRvdWNoRXZlbnQgb3IgT2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlKHBvaW50ZXJYWSkge1xuICAgICAgaWYgKGhhc1hZKHBvaW50ZXJYWSkpIHtcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRlclhZLmNsaWVudFggPSBwb2ludGVyWFkuY2xpZW50WDtcbiAgICAgICAgdGhpcy5sYXN0UG9pbnRlclhZLmNsaWVudFkgPSBwb2ludGVyWFkuY2xpZW50WTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY3VyTW92ZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jdXJNb3ZlSGFuZGxlcih0aGlzLmxhc3RQb2ludGVyWFkpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZEhhbmRsZXIgLSBUaGlzIGlzIGNhbGxlZCB3aXRoIHBvaW50ZXJYWSB3aGVuIGl0IGVuZHMuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRFbmRIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEVuZEhhbmRsZXIoZWxlbWVudCwgZW5kSGFuZGxlcikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVkSGFuZGxlcihldmVudCkge1xuICAgICAgICB2YXIgcG9pbnRlckNsYXNzID0gZXZlbnQudHlwZSA9PT0gJ21vdXNldXAnID8gJ21vdXNlJyA6ICd0b3VjaCc7IC8vIEF2b2lkIG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cblxuICAgICAgICBpZiAocG9pbnRlckNsYXNzID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgdGhhdC5sYXN0VG91Y2hUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludGVyQ2xhc3MgPT09IHRoYXQuY3VyUG9pbnRlckNsYXNzKSB7XG4gICAgICAgICAgdmFyIHBvaW50ZXJYWSA9IHBvaW50ZXJDbGFzcyA9PT0gJ3RvdWNoJyA/IGdldFRvdWNoQnlJZChldmVudC5jaGFuZ2VkVG91Y2hlcywgdGhhdC5jdXJUb3VjaElkKSB8fCAoIC8vIEl0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gYHRvdWNoZXNgIGV2ZW4gaWYgaXQgaXMgbm90IGluIGBjaGFuZ2VkVG91Y2hlc2AuXG4gICAgICAgICAgZ2V0VG91Y2hCeUlkKGV2ZW50LnRvdWNoZXMsIHRoYXQuY3VyVG91Y2hJZCkgPyBudWxsIDoge30pIDogLy8gYHt9YCBtZWFucyBtYXRjaGluZ1xuICAgICAgICAgIGV2ZW50O1xuXG4gICAgICAgICAgaWYgKHBvaW50ZXJYWSkge1xuICAgICAgICAgICAgdGhhdC5lbmQocG9pbnRlclhZKTtcblxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICdtb3VzZXVwJywgd3JhcHBlZEhhbmRsZXIsIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyhlbGVtZW50LCAndG91Y2hlbmQnLCB3cmFwcGVkSGFuZGxlciwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhhdC5jdXJFbmRIYW5kbGVyID0gZW5kSGFuZGxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHt7Y2xpZW50WCwgY2xpZW50WX19IFtwb2ludGVyWFldIC0gVGhpcyBtaWdodCBiZSBNb3VzZUV2ZW50LCBUb3VjaCBvZiBUb3VjaEV2ZW50IG9yIE9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmQocG9pbnRlclhZKSB7XG4gICAgICBpZiAoaGFzWFkocG9pbnRlclhZKSkge1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyWFkuY2xpZW50WCA9IHBvaW50ZXJYWS5jbGllbnRYO1xuICAgICAgICB0aGlzLmxhc3RQb2ludGVyWFkuY2xpZW50WSA9IHBvaW50ZXJYWS5jbGllbnRZO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jdXJFbmRIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY3VyRW5kSGFuZGxlcih0aGlzLmxhc3RQb2ludGVyWFkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmN1clBvaW50ZXJDbGFzcyA9IHRoaXMuY3VyVG91Y2hJZCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FuY2VsSGFuZGxlciAtIFRoaXMgaXMgY2FsbGVkIHdoZW4gaXQgY2FuY2Vscy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZENhbmNlbEhhbmRsZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2FuY2VsSGFuZGxlcihlbGVtZW50LCBjYW5jZWxIYW5kbGVyKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZWRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgTm93LCB0aGlzIGlzIGZpcmVkIGJ5IHRvdWNoY2FuY2VsIG9ubHksIGJ1dCBpdCBtaWdodCBiZSBmaXJlZCBldmVuIGlmIGN1clBvaW50ZXJDbGFzcyBpcyBtb3VzZS5cbiAgICAgICAgKi9cbiAgICAgICAgLy8gY29uc3QgcG9pbnRlckNsYXNzID0gJ3RvdWNoJztcbiAgICAgICAgdGhhdC5sYXN0VG91Y2hUaW1lID0gRGF0ZS5ub3coKTsgLy8gQXZvaWQgbW91c2UgZXZlbnRzIGVtdWxhdGlvblxuXG4gICAgICAgIGlmICh0aGF0LmN1clBvaW50ZXJDbGFzcyAhPSBudWxsKSB7XG4gICAgICAgICAgdmFyIHBvaW50ZXJYWSA9IGdldFRvdWNoQnlJZChldmVudC5jaGFuZ2VkVG91Y2hlcywgdGhhdC5jdXJUb3VjaElkKSB8fCAoIC8vIEl0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gYHRvdWNoZXNgIGV2ZW4gaWYgaXQgaXMgbm90IGluIGBjaGFuZ2VkVG91Y2hlc2AuXG4gICAgICAgICAgZ2V0VG91Y2hCeUlkKGV2ZW50LnRvdWNoZXMsIHRoYXQuY3VyVG91Y2hJZCkgPyBudWxsIDoge30pOyAvLyBge31gIG1lYW5zIG1hdGNoaW5nXG5cbiAgICAgICAgICBpZiAocG9pbnRlclhZKSB7XG4gICAgICAgICAgICB0aGF0LmNhbmNlbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNoY2FuY2VsJywgd3JhcHBlZEhhbmRsZXIsIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoYXQuY3VyQ2FuY2VsSGFuZGxlciA9IGNhbmNlbEhhbmRsZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2FuY2VsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgIGlmICh0aGlzLmN1ckNhbmNlbEhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jdXJDYW5jZWxIYW5kbGVyKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3VyUG9pbnRlckNsYXNzID0gdGhpcy5jdXJUb3VjaElkID0gbnVsbDtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgYGNsaWNrYCBldmVudCB2aWEgYHRvdWNoZW5kYCBldmVudC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUYXJnZXQgZWxlbWVudCwgbGlzdGVuZXJzIHRoYXQgY2FsbCBgZXZlbnQucHJldmVudERlZmF1bHQoKWAgYXJlIGF0dGFjaGVkIGxhdGVyLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gbW92ZVRvbGVyYW5jZSAtIE1vdmUgdG9sZXJhbmNlLlxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gdGltZVRvbGVyYW5jZSAtIFRpbWUgdG9sZXJhbmNlLlxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBUaGUgcGFzc2VkIGBlbGVtZW50YC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImluaXRDbGlja0VtdWxhdG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRDbGlja0VtdWxhdG9yKGVsZW1lbnQsIG1vdmVUb2xlcmFuY2UsIHRpbWVUb2xlcmFuY2UpIHtcbiAgICAgIGlmIChDTElDS19FTVVMQVRPUl9FTEVNRU5UUy5pbmNsdWRlcyhlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgQ0xJQ0tfRU1VTEFUT1JfRUxFTUVOVFMucHVzaChlbGVtZW50KTtcbiAgICAgIHZhciBERUZBVUxUX01PVkVfVE9MRVJBTkNFID0gMTYsXG4gICAgICAgICAgLy8gcHhcbiAgICAgIERFRkFVTFRfVElNRV9UT0xFUkFOQ0UgPSA0MDA7IC8vIG1zXG5cbiAgICAgIHZhciBzdGFydFgsIHN0YXJ0WSwgdG91Y2hJZCwgc3RhcnRNcztcblxuICAgICAgaWYgKG1vdmVUb2xlcmFuY2UgPT0gbnVsbCkge1xuICAgICAgICBtb3ZlVG9sZXJhbmNlID0gREVGQVVMVF9NT1ZFX1RPTEVSQU5DRTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWVUb2xlcmFuY2UgPT0gbnVsbCkge1xuICAgICAgICB0aW1lVG9sZXJhbmNlID0gREVGQVVMVF9USU1FX1RPTEVSQU5DRTtcbiAgICAgIH1cblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICBzdGFydFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICBzdGFydFkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICB0b3VjaElkID0gdG91Y2guaWRlbnRpZmllcjtcbiAgICAgICAgc3RhcnRNcyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgfSwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKGVsZW1lbnQsICd0b3VjaGVuZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgdG91Y2ggPSBnZXRUb3VjaEJ5SWQoZXZlbnQuY2hhbmdlZFRvdWNoZXMsIHRvdWNoSWQpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnRYID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc3RhcnRZID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc3RhcnRNcyA9PT0gJ251bWJlcicgJiYgdG91Y2ggJiYgdHlwZW9mIHRvdWNoLmNsaWVudFggPT09ICdudW1iZXInICYmIHR5cGVvZiB0b3VjaC5jbGllbnRZID09PSAnbnVtYmVyJyAmJiBnZXRQb2ludHNMZW5ndGgoe1xuICAgICAgICAgIHg6IHN0YXJ0WCxcbiAgICAgICAgICB5OiBzdGFydFlcbiAgICAgICAgfSwge1xuICAgICAgICAgIHg6IHRvdWNoLmNsaWVudFgsXG4gICAgICAgICAgeTogdG91Y2guY2xpZW50WVxuICAgICAgICB9KSA8PSBtb3ZlVG9sZXJhbmNlICYmIHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRNcyA8PSB0aW1lVG9sZXJhbmNlKSB7XG4gICAgICAgICAgLy8gRklSRVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywge1xuICAgICAgICAgICAgICBjbGllbnRYOiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaC5jbGllbnRZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0V2ZW50LmVtdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydFggPSBzdGFydFkgPSB0b3VjaElkID0gc3RhcnRNcyA9IG51bGw7XG4gICAgICB9LCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ3RvdWNoY2FuY2VsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzdGFydFggPSBzdGFydFkgPSB0b3VjaElkID0gc3RhcnRNcyA9IG51bGw7XG4gICAgICB9LCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW11bGF0ZSBgZGJsY2xpY2tgIGV2ZW50IHZpYSBgdG91Y2hlbmRgIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRhcmdldCBlbGVtZW50LCBsaXN0ZW5lcnMgdGhhdCBjYWxsIGBldmVudC5wcmV2ZW50RGVmYXVsdCgpYCBhcmUgYXR0YWNoZWQgbGF0ZXIuXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSBtb3ZlVG9sZXJhbmNlIC0gTW92ZSB0b2xlcmFuY2UuXG4gICAgICogQHBhcmFtIHs/bnVtYmVyfSB0aW1lVG9sZXJhbmNlIC0gVGltZSB0b2xlcmFuY2UuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9IFRoZSBwYXNzZWQgYGVsZW1lbnRgLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdERibENsaWNrRW11bGF0b3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdERibENsaWNrRW11bGF0b3IoZWxlbWVudCwgbW92ZVRvbGVyYW5jZSwgdGltZVRvbGVyYW5jZSkge1xuICAgICAgaWYgKERCTENMSUNLX0VNVUxBVE9SX0VMRU1FTlRTLmluY2x1ZGVzKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBEQkxDTElDS19FTVVMQVRPUl9FTEVNRU5UUy5wdXNoKGVsZW1lbnQpO1xuICAgICAgdmFyIERFRkFVTFRfTU9WRV9UT0xFUkFOQ0UgPSAxNixcbiAgICAgICAgICAvLyBweFxuICAgICAgREVGQVVMVF9USU1FX1RPTEVSQU5DRSA9IDQwMDsgLy8gbXNcblxuICAgICAgdmFyIHN0YXJ0WCwgc3RhcnRZLCBzdGFydE1zO1xuXG4gICAgICBpZiAobW92ZVRvbGVyYW5jZSA9PSBudWxsKSB7XG4gICAgICAgIG1vdmVUb2xlcmFuY2UgPSBERUZBVUxUX01PVkVfVE9MRVJBTkNFO1xuICAgICAgfVxuXG4gICAgICBpZiAodGltZVRvbGVyYW5jZSA9PSBudWxsKSB7XG4gICAgICAgIHRpbWVUb2xlcmFuY2UgPSBERUZBVUxUX1RJTUVfVE9MRVJBTkNFO1xuICAgICAgfVxuXG4gICAgICBQb2ludGVyRXZlbnQuaW5pdENsaWNrRW11bGF0b3IoZWxlbWVudCwgbW92ZVRvbGVyYW5jZSwgdGltZVRvbGVyYW5jZSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMoZWxlbWVudCwgJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQuZW11bGF0ZWQgfHwgLy8gSWdub3JlIGV2ZW50cyB0aGF0IGFyZSBub3QgZnJvbSBgdG91Y2hlbmRgLlxuICAgICAgICB0eXBlb2YgZXZlbnQuY2xpZW50WCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIGV2ZW50LmNsaWVudFkgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydFggPT09ICdudW1iZXInICYmIGdldFBvaW50c0xlbmd0aCh7XG4gICAgICAgICAgeDogc3RhcnRYLFxuICAgICAgICAgIHk6IHN0YXJ0WVxuICAgICAgICB9LCB7XG4gICAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgICAgIH0pIDw9IG1vdmVUb2xlcmFuY2UgJiYgcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydE1zIDw9IHRpbWVUb2xlcmFuY2UgKiAyKSB7XG4gICAgICAgICAgLy8gdXAgKHRvbGVyYW5jZSkgZG93biAodG9sZXJhbmNlKSB1cFxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gRklSRVxuICAgICAgICAgICAgdmFyIG5ld0V2ZW50ID0gbmV3IE1vdXNlRXZlbnQoJ2RibGNsaWNrJywge1xuICAgICAgICAgICAgICBjbGllbnRYOiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICBjbGllbnRZOiBldmVudC5jbGllbnRZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0V2ZW50LmVtdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXdFdmVudCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgc3RhcnRYID0gc3RhcnRZID0gc3RhcnRNcyA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gMXN0XG4gICAgICAgICAgc3RhcnRYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICBzdGFydFkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICAgIHN0YXJ0TXMgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBjYXB0dXJlOiBmYWxzZSxcbiAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvaW50ZXJFdmVudDtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlckV2ZW50OyIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICBET04nVCBNQU5VQUxMWSBFRElUIFRISVMgRklMRVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG4vKlxuICogUGxhaW5EcmFnZ2FibGVcbiAqIGh0dHBzOi8vYW5zZWtpLmdpdGh1Yi5pby9wbGFpbi1kcmFnZ2FibGUvXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDIxIGFuc2VraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5pbXBvcnQgUG9pbnRlckV2ZW50IGZyb20gJ3BvaW50ZXItZXZlbnQnO1xuaW1wb3J0IENTU1ByZWZpeCBmcm9tICdjc3NwcmVmaXgnO1xuaW1wb3J0IEFuaW1FdmVudCBmcm9tICdhbmltLWV2ZW50JztcbmltcG9ydCBtQ2xhc3NMaXN0IGZyb20gJ20tY2xhc3MtbGlzdCc7XG5tQ2xhc3NMaXN0Lmlnbm9yZU5hdGl2ZSA9IHRydWU7XG5cbnZhciBaSU5ERVggPSA5MDAwLFxuICAgIC8vIFtTTkFQXVxuU05BUF9HUkFWSVRZID0gMjAsXG4gICAgU05BUF9DT1JORVIgPSAndGwnLFxuICAgIFNOQVBfU0lERSA9ICdib3RoJyxcbiAgICBTTkFQX0VER0UgPSAnYm90aCcsXG4gICAgU05BUF9CQVNFID0gJ2NvbnRhaW5tZW50JyxcbiAgICBTTkFQX0FMTF9DT1JORVJTID0gWyd0bCcsICd0cicsICdibCcsICdiciddLFxuICAgIFNOQVBfQUxMX1NJREVTID0gWydzdGFydCcsICdlbmQnXSxcbiAgICBTTkFQX0FMTF9FREdFUyA9IFsnaW5zaWRlJywgJ291dHNpZGUnXSxcbiAgICAvLyBbL1NOQVBdXG4vLyBbQVVUTy1TQ1JPTExdXG5BVVRPU0NST0xMX1NQRUVEID0gWzQwLCAyMDAsIDEwMDBdLFxuICAgIEFVVE9TQ1JPTExfU0VOU0lUSVZJVFkgPSBbMTAwLCA0MCwgMF0sXG4gICAgLy8gWy9BVVRPLVNDUk9MTF1cbklTX0VER0UgPSAnLW1zLXNjcm9sbC1saW1pdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmICctbXMtaW1lLWFsaWduJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgIXdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCxcbiAgICBJU19UUklERU5UID0gIUlTX0VER0UgJiYgISFkb2N1bWVudC51bmlxdWVJRCxcbiAgICAvLyBGdXR1cmUgRWRnZSBtaWdodCBzdXBwb3J0IGBkb2N1bWVudC51bmlxdWVJRGAuXG5JU19HRUNLTyA9ICgnTW96QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlKSxcbiAgICBJU19CTElOSyA9ICFJU19FREdFICYmICFJU19HRUNLTyAmJiAvLyBFZGdlIGhhcyBgd2luZG93LmNocm9tZWAsIGFuZCBmdXR1cmUgR2Vja28gbWlnaHQgaGF2ZSB0aGF0LlxuISF3aW5kb3cuY2hyb21lICYmICEhd2luZG93LkNTUyxcbiAgICBJU19XRUJLSVQgPSAhSVNfRURHRSAmJiAhSVNfVFJJREVOVCAmJiAhSVNfR0VDS08gJiYgIUlTX0JMSU5LICYmIC8vIFNvbWUgZW5naW5lcyBzdXBwb3J0IGB3ZWJraXQtKmAgcHJvcGVydGllcy5cbiF3aW5kb3cuY2hyb21lICYmICdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsXG4gICAgaXNPYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nLFxuICAgICAgZm5Ub1N0cmluZyA9IHt9Lmhhc093blByb3BlcnR5LnRvU3RyaW5nLFxuICAgICAgb2JqRm5TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoT2JqZWN0KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgcHJvdG8sIGNvbnN0cjtcbiAgICByZXR1cm4gb2JqICYmIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgJiYgKCEocHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSkgfHwgKGNvbnN0ciA9IHByb3RvLmhhc093blByb3BlcnR5KCdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yKSAmJiB0eXBlb2YgY29uc3RyID09PSAnZnVuY3Rpb24nICYmIGZuVG9TdHJpbmcuY2FsbChjb25zdHIpID09PSBvYmpGblN0cmluZyk7XG4gIH07XG59KCksXG4gICAgaXNGaW5pdGUgPSBOdW1iZXIuaXNGaW5pdGUgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHdpbmRvdy5pc0Zpbml0ZSh2YWx1ZSk7XG59LFxuXG4vKiogQHR5cGUge09iamVjdC48X2lkOiBudW1iZXIsIHByb3BzPn0gKi9cbmluc1Byb3BzID0ge30sXG4gICAgcG9pbnRlck9mZnNldCA9IHt9LFxuICAgIHBvaW50ZXJFdmVudCA9IG5ldyBQb2ludGVyRXZlbnQoKTtcblxudmFyIGluc0lkID0gMCxcbiAgICBhY3RpdmVQcm9wcyxcbiAgICBoYXNNb3ZlZCxcbiAgICBib2R5LFxuICAgIC8vIENTUyBwcm9wZXJ0eS92YWx1ZVxuY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IsXG4gICAgY3NzVmFsdWVEcmFnZ2luZ0N1cnNvcixcbiAgICBjc3NPcmdWYWx1ZUJvZHlDdXJzb3IsXG4gICAgY3NzUHJvcFRyYW5zaXRpb25Qcm9wZXJ0eSxcbiAgICBjc3NQcm9wVHJhbnNmb3JtLFxuICAgIGNzc1Byb3BVc2VyU2VsZWN0LFxuICAgIGNzc09yZ1ZhbHVlQm9keVVzZXJTZWxlY3QsXG4gICAgLy8gVHJ5IHRvIHNldCBgY3Vyc29yYCBwcm9wZXJ0eS5cbmNzc1dhbnRlZFZhbHVlRHJhZ2dhYmxlQ3Vyc29yID0gSVNfV0VCS0lUID8gWydhbGwtc2Nyb2xsJywgJ21vdmUnXSA6IFsnZ3JhYicsICdhbGwtc2Nyb2xsJywgJ21vdmUnXSxcbiAgICBjc3NXYW50ZWRWYWx1ZURyYWdnaW5nQ3Vyc29yID0gSVNfV0VCS0lUID8gJ21vdmUnIDogWydncmFiYmluZycsICdtb3ZlJ10sXG4gICAgLy8gY2xhc3NcbmRyYWdnYWJsZUNsYXNzID0gJ3BsYWluLWRyYWdnYWJsZScsXG4gICAgZHJhZ2dpbmdDbGFzcyA9ICdwbGFpbi1kcmFnZ2FibGUtZHJhZ2dpbmcnLFxuICAgIG1vdmluZ0NsYXNzID0gJ3BsYWluLWRyYWdnYWJsZS1tb3ZpbmcnOyAvLyBbQVVUTy1TQ1JPTExdXG4vLyBTY3JvbGwgQW5pbWF0aW9uIENvbnRyb2xsZXJcblxudmFyIHNjcm9sbEZyYW1lID0ge30sXG4gICAgTVNQRiA9IDEwMDAgLyA2MCxcbiAgICAvLyBtcy9mcmFtZSAoRlBTOiA2MClcbnJlcXVlc3RBbmltID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgTVNQRik7XG59LFxuICAgIGNhbmNlbEFuaW0gPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAocmVxdWVzdElEKSB7XG4gIHJldHVybiBjbGVhclRpbWVvdXQocmVxdWVzdElEKTtcbn07XG5cbntcbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IE1vdmVBcmdzXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkaXIgLSBbLTEgfCAxXSBtaW51cyBvciBwbHVzIHRvIHBvc2l0aW9uIHZhbHVlLlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gc3BlZWQgLSBweC9tc1xuICAgKiBAcHJvcGVydHkge251bWJlcn0gbWluIC0gTWluaW11bSBwb3NpdGlvbiB2YWx1ZS5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1heCAtIE1heGltdW0gcG9zaXRpb24gdmFsdWUuXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGFzdEZyYW1lVGltZV0gLSBUaW1lIG9mIGxhc3QgZnJhbWUuXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGFzdFZhbHVlXSAtIFN0cmljdCB2YWx1ZSBvZiBsYXN0IGZyYW1lLlxuICAgKi9cbiAgdmFyIGN1clh5TW92ZUFyZ3MgPSB7fSxcbiAgICAgIGN1ckVsZW1lbnQsXG4gICAgICBjdXJTY3JvbGxYWSxcbiAgICAgIHJlcXVlc3RJRDtcblxuICBmdW5jdGlvbiBmcmFtZVVwZGF0ZSgpIHtcbiAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBbJ3gnLCAneSddLmZvckVhY2goZnVuY3Rpb24gKHh5KSB7XG4gICAgICB2YXIgbW92ZUFyZ3MgPSBjdXJYeU1vdmVBcmdzW3h5XTtcblxuICAgICAgaWYgKG1vdmVBcmdzKSB7XG4gICAgICAgIHZhciB0aW1lTGVuID0gbm93IC0gbW92ZUFyZ3MubGFzdEZyYW1lVGltZSxcbiAgICAgICAgICAgIGFic1ZhbHVlID0gY3VyU2Nyb2xsWFkoY3VyRWxlbWVudCwgeHkpLFxuICAgICAgICAgICAgY3VyVmFsdWUgPSBtb3ZlQXJncy5sYXN0VmFsdWUgIT0gbnVsbCAmJiBNYXRoLmFicyhtb3ZlQXJncy5sYXN0VmFsdWUgLSBhYnNWYWx1ZSkgPCAxMCAvLyBJdCB3YXMgbm90IG1vdmVkIG1hbnVhbGx5XG4gICAgICAgID8gbW92ZUFyZ3MubGFzdFZhbHVlIDogYWJzVmFsdWU7XG5cbiAgICAgICAgaWYgKG1vdmVBcmdzLmRpciA9PT0gLTEgPyBjdXJWYWx1ZSA+IG1vdmVBcmdzLm1pbiA6IGN1clZhbHVlIDwgbW92ZUFyZ3MubWF4KSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VyVmFsdWUgKyBtb3ZlQXJncy5zcGVlZCAqIHRpbWVMZW4gKiBtb3ZlQXJncy5kaXI7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPCBtb3ZlQXJncy5taW4pIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gbW92ZUFyZ3MubWluO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV3VmFsdWUgPiBtb3ZlQXJncy5tYXgpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gbW92ZUFyZ3MubWF4O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGN1clNjcm9sbFhZKGN1ckVsZW1lbnQsIHh5LCBuZXdWYWx1ZSk7XG4gICAgICAgICAgbW92ZUFyZ3MubGFzdFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBtb3ZlQXJncy5sYXN0RnJhbWVUaW1lID0gbm93O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJhbWUoKSB7XG4gICAgY2FuY2VsQW5pbS5jYWxsKHdpbmRvdywgcmVxdWVzdElEKTtcbiAgICBmcmFtZVVwZGF0ZSgpO1xuICAgIHJlcXVlc3RJRCA9IHJlcXVlc3RBbmltLmNhbGwod2luZG93LCBmcmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7e3g6ID9Nb3ZlQXJncywgeTogP01vdmVBcmdzfX0geHlNb3ZlQXJncyAtIE1vdmVBcmdzIGZvciB4IGFuZCB5XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHNjcm9sbFhZIC0gKGVsZW1lbnQ6IEVsZW1lbnQsIHh5OiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpID0+IG51bWJlclxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBzY3JvbGxGcmFtZS5tb3ZlID0gZnVuY3Rpb24gKGVsZW1lbnQsIHh5TW92ZUFyZ3MsIHNjcm9sbFhZKSB7XG4gICAgY2FuY2VsQW5pbS5jYWxsKHdpbmRvdywgcmVxdWVzdElEKTtcbiAgICBmcmFtZVVwZGF0ZSgpOyAvLyBVcGRhdGUgY3VycmVudCBkYXRhIG5vdyBiZWNhdXNlIGl0IG1pZ2h0IGJlIG5vdCBjb250aW51YXRpb24uXG4gICAgLy8gUmUtdXNlIGxhc3RWYWx1ZVxuXG4gICAgaWYgKGN1ckVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICAgIGlmICh4eU1vdmVBcmdzLnggJiYgY3VyWHlNb3ZlQXJncy54KSB7XG4gICAgICAgIHh5TW92ZUFyZ3MueC5sYXN0VmFsdWUgPSBjdXJYeU1vdmVBcmdzLngubGFzdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoeHlNb3ZlQXJncy55ICYmIGN1clh5TW92ZUFyZ3MueSkge1xuICAgICAgICB4eU1vdmVBcmdzLnkubGFzdFZhbHVlID0gY3VyWHlNb3ZlQXJncy55Lmxhc3RWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjdXJFbGVtZW50ID0gZWxlbWVudDtcbiAgICBjdXJYeU1vdmVBcmdzID0geHlNb3ZlQXJncztcbiAgICBjdXJTY3JvbGxYWSA9IHNjcm9sbFhZO1xuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgIFsneCcsICd5J10uZm9yRWFjaChmdW5jdGlvbiAoeHkpIHtcbiAgICAgIHZhciBtb3ZlQXJncyA9IGN1clh5TW92ZUFyZ3NbeHldO1xuXG4gICAgICBpZiAobW92ZUFyZ3MpIHtcbiAgICAgICAgbW92ZUFyZ3MubGFzdEZyYW1lVGltZSA9IG5vdztcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXF1ZXN0SUQgPSByZXF1ZXN0QW5pbS5jYWxsKHdpbmRvdywgZnJhbWUpO1xuICB9O1xuXG4gIHNjcm9sbEZyYW1lLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2FuY2VsQW5pbS5jYWxsKHdpbmRvdywgcmVxdWVzdElEKTtcbiAgICBmcmFtZVVwZGF0ZSgpO1xuICAgIGN1clh5TW92ZUFyZ3MgPSB7fTtcbiAgICBjdXJFbGVtZW50ID0gbnVsbDsgLy8gUmVtb3ZlIHJlZmVyZW5jZVxuICB9O1xufVxuXG5mdW5jdGlvbiBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCB4eSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBpZiAoeHkgPT09ICd4Jykge1xuICAgICAgZWxlbWVudC5zY3JvbGxUbyh2YWx1ZSwgZWxlbWVudC5wYWdlWU9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc2Nyb2xsVG8oZWxlbWVudC5wYWdlWE9mZnNldCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB4eSA9PT0gJ3gnID8gZWxlbWVudC5wYWdlWE9mZnNldCA6IGVsZW1lbnQucGFnZVlPZmZzZXQ7XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCB4eSwgdmFsdWUpIHtcbiAgdmFyIHByb3AgPSB4eSA9PT0gJ3gnID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCc7XG5cbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICBlbGVtZW50W3Byb3BdID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFtwcm9wXTtcbn1cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU2Nyb2xsYWJsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNsaWVudFdpZHRoIC0gd2lkdGggb2Ygc2Nyb2xsYWJsZSBhcmVhLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNsaWVudEhlaWdodCAtIGhlaWdodCBvZiBzY3JvbGxhYmxlIGFyZWEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2Nyb2xsV2lkdGggLSB3aWR0aCBvZiBpbm5lciBjb250ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNjcm9sbEhlaWdodCAtIGhlaWdodCBvZiBpbm5lciBjb250ZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNsaWVudFggLSBYIG9mIHNjcm9sbGFibGUgYXJlYSwgZG9jdW1lbnQgY29vcmRpbmF0ZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjbGllbnRZIC0gVCBvZiBzY3JvbGxhYmxlIGFyZWEsIGRvY3VtZW50IGNvb3JkaW5hdGUuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFufSBbaXNXaW5kb3ddIC0gYHRydWVgIGlmIGVsZW1lbnQgaXMgd2luZG93LlxuICogQHBhcmFtIHtib29sZWFufSBbZG9udFNjcm9sbF0gLSBgdHJ1ZWAgbWFrZXMgaXQgc2tpcCBzY3JvbGwgdGhhdCBnZXRzIHNjcm9sbFdpZHRoL0hlaWdodC5cbiAqIEByZXR1cm5zIHtTY3JvbGxhYmxlfSBJbmZvcm1hdGlvbiBmb3Igc2Nyb2xsLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsYWJsZShlbGVtZW50LCBpc1dpbmRvdywgZG9udFNjcm9sbCkge1xuICB2YXIgc2Nyb2xsYWJsZSA9IHt9O1xuICB2YXIgY21wU3R5bGVIdG1sLCBjbXBTdHlsZUJvZHksIGNtcFN0eWxlRWxlbWVudDsgLy8gY2xpZW50V2lkdGgvSGVpZ2h0XG5cbiAgKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBzY3JvbGxhYmxlLmNsaWVudFdpZHRoID0gdGFyZ2V0LmNsaWVudFdpZHRoO1xuICAgIHNjcm9sbGFibGUuY2xpZW50SGVpZ2h0ID0gdGFyZ2V0LmNsaWVudEhlaWdodDtcbiAgfSkoaXNXaW5kb3cgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBlbGVtZW50KTsgLy8gc2Nyb2xsV2lkdGgvSGVpZ2h0XG5cbiAgLypcbiAgICBHZWNrbyBidWcsIGJvdHRvbS1wYWRkaW5nIG9mIGVsZW1lbnQgaXMgcmVkdWNlZC5cbiAgICBCbGluayBmb3IgQW5kcm9pZCBidWcsIGJvcmRlcnMgb2YgPGh0bWw+IGlzIHJlbmRlcmVkIGJ1dCB0aG9zZSBhcmUgbm90IGFkZGVkIHRvIHNjcm9sbFcvSC5cbiAgICBUaGVuLCBtb3ZlIGl0IHRvIG1heCBzY3JvbGwgcG9zaXRpb24gKHN1ZmZpY2llbnRseSBsYXJnZXIgdmFsdWVzKSBmb3JjaWJseSwgYW5kIGdldCBzY3JvbGwgcG9zaXRpb24uXG4gICovXG5cblxuICB2YXIgbWF4U2Nyb2xsTGVmdCA9IDAsXG4gICAgICBtYXhTY3JvbGxUb3AgPSAwO1xuXG4gIGlmICghZG9udFNjcm9sbCkge1xuICAgIHZhciBjdXJTY3JvbGxMZWZ0LCBjdXJTY3JvbGxUb3A7XG5cbiAgICBpZiAoaXNXaW5kb3cpIHtcbiAgICAgIGN1clNjcm9sbExlZnQgPSBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCAneCcpO1xuICAgICAgY3VyU2Nyb2xsVG9wID0gc2Nyb2xsWFlXaW5kb3coZWxlbWVudCwgJ3knKTtcbiAgICAgIGNtcFN0eWxlSHRtbCA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnJyk7XG4gICAgICBjbXBTdHlsZUJvZHkgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHksICcnKTtcbiAgICAgIG1heFNjcm9sbExlZnQgPSBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCAneCcsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCArIHNjcm9sbGFibGUuY2xpZW50V2lkdGggKyAvLyBCbGluayBmb3IgQW5kcm9pZCBidWcsIHNjcm9sbCogcmV0dXJucyBzaXplIG9mIHNtYWxsZXIgYm9keVxuICAgICAgWydtYXJnaW5MZWZ0JywgJ21hcmdpblJpZ2h0JywgJ2JvcmRlckxlZnRXaWR0aCcsICdib3JkZXJSaWdodFdpZHRoJywgJ3BhZGRpbmdMZWZ0JywgJ3BhZGRpbmdSaWdodCddLnJlZHVjZShmdW5jdGlvbiAobGVuLCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBsZW4gKyAocGFyc2VGbG9hdChjbXBTdHlsZUh0bWxbcHJvcF0pIHx8IDApICsgKHBhcnNlRmxvYXQoY21wU3R5bGVCb2R5W3Byb3BdKSB8fCAwKTtcbiAgICAgIH0sIDApKTtcbiAgICAgIG1heFNjcm9sbFRvcCA9IHNjcm9sbFhZV2luZG93KGVsZW1lbnQsICd5JywgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCArIHNjcm9sbGFibGUuY2xpZW50SGVpZ2h0ICsgWydtYXJnaW5Ub3AnLCAnbWFyZ2luQm90dG9tJywgJ2JvcmRlclRvcFdpZHRoJywgJ2JvcmRlckJvdHRvbVdpZHRoJywgJ3BhZGRpbmdUb3AnLCAncGFkZGluZ0JvdHRvbSddLnJlZHVjZShmdW5jdGlvbiAobGVuLCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBsZW4gKyAocGFyc2VGbG9hdChjbXBTdHlsZUh0bWxbcHJvcF0pIHx8IDApICsgKHBhcnNlRmxvYXQoY21wU3R5bGVCb2R5W3Byb3BdKSB8fCAwKTtcbiAgICAgIH0sIDApKTtcbiAgICAgIHNjcm9sbFhZV2luZG93KGVsZW1lbnQsICd4JywgY3VyU2Nyb2xsTGVmdCk7XG4gICAgICBzY3JvbGxYWVdpbmRvdyhlbGVtZW50LCAneScsIGN1clNjcm9sbFRvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1clNjcm9sbExlZnQgPSBzY3JvbGxYWUVsZW1lbnQoZWxlbWVudCwgJ3gnKTtcbiAgICAgIGN1clNjcm9sbFRvcCA9IHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCAneScpO1xuICAgICAgY21wU3R5bGVFbGVtZW50ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAnJyk7XG4gICAgICBtYXhTY3JvbGxMZWZ0ID0gc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsICd4JywgZWxlbWVudC5zY3JvbGxXaWR0aCArIHNjcm9sbGFibGUuY2xpZW50V2lkdGggKyAvLyBCbGluayBmb3IgQW5kcm9pZCBidWcsIHNjcm9sbCogcmV0dXJucyBzaXplIG9mIHNtYWxsZXIgYm9keVxuICAgICAgWydtYXJnaW5MZWZ0JywgJ21hcmdpblJpZ2h0JywgJ2JvcmRlckxlZnRXaWR0aCcsICdib3JkZXJSaWdodFdpZHRoJywgJ3BhZGRpbmdMZWZ0JywgJ3BhZGRpbmdSaWdodCddLnJlZHVjZShmdW5jdGlvbiAobGVuLCBwcm9wKSB7XG4gICAgICAgIHJldHVybiBsZW4gKyAocGFyc2VGbG9hdChjbXBTdHlsZUVsZW1lbnRbcHJvcF0pIHx8IDApO1xuICAgICAgfSwgMCkpO1xuICAgICAgbWF4U2Nyb2xsVG9wID0gc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsICd5JywgZWxlbWVudC5zY3JvbGxIZWlnaHQgKyBzY3JvbGxhYmxlLmNsaWVudEhlaWdodCArIFsnbWFyZ2luVG9wJywgJ21hcmdpbkJvdHRvbScsICdib3JkZXJUb3BXaWR0aCcsICdib3JkZXJCb3R0b21XaWR0aCcsICdwYWRkaW5nVG9wJywgJ3BhZGRpbmdCb3R0b20nXS5yZWR1Y2UoZnVuY3Rpb24gKGxlbiwgcHJvcCkge1xuICAgICAgICByZXR1cm4gbGVuICsgKHBhcnNlRmxvYXQoY21wU3R5bGVFbGVtZW50W3Byb3BdKSB8fCAwKTtcbiAgICAgIH0sIDApKTtcbiAgICAgIHNjcm9sbFhZRWxlbWVudChlbGVtZW50LCAneCcsIGN1clNjcm9sbExlZnQpO1xuICAgICAgc2Nyb2xsWFlFbGVtZW50KGVsZW1lbnQsICd5JywgY3VyU2Nyb2xsVG9wKTtcbiAgICB9XG4gIH1cblxuICBzY3JvbGxhYmxlLnNjcm9sbFdpZHRoID0gc2Nyb2xsYWJsZS5jbGllbnRXaWR0aCArIG1heFNjcm9sbExlZnQ7XG4gIHNjcm9sbGFibGUuc2Nyb2xsSGVpZ2h0ID0gc2Nyb2xsYWJsZS5jbGllbnRIZWlnaHQgKyBtYXhTY3JvbGxUb3A7IC8vIGNsaWVudFgvWVxuXG4gIHZhciByZWN0O1xuXG4gIGlmIChpc1dpbmRvdykge1xuICAgIHNjcm9sbGFibGUuY2xpZW50WCA9IHNjcm9sbGFibGUuY2xpZW50WSA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gcGFkZGluZy1ib3hcbiAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGlmICghY21wU3R5bGVFbGVtZW50KSB7XG4gICAgICBjbXBTdHlsZUVsZW1lbnQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKTtcbiAgICB9XG5cbiAgICBzY3JvbGxhYmxlLmNsaWVudFggPSByZWN0LmxlZnQgKyAocGFyc2VGbG9hdChjbXBTdHlsZUVsZW1lbnQuYm9yZGVyTGVmdFdpZHRoKSB8fCAwKTtcbiAgICBzY3JvbGxhYmxlLmNsaWVudFkgPSByZWN0LnRvcCArIChwYXJzZUZsb2F0KGNtcFN0eWxlRWxlbWVudC5ib3JkZXJUb3BXaWR0aCkgfHwgMCk7XG4gIH1cblxuICByZXR1cm4gc2Nyb2xsYWJsZTtcbn0gLy8gWy9BVVRPLVNDUk9MTF1cblxuXG5mdW5jdGlvbiBjb3B5VHJlZShvYmopIHtcbiAgcmV0dXJuICFvYmogPyBvYmogOiBpc09iamVjdChvYmopID8gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24gKGNvcHlPYmosIGtleSkge1xuICAgIGNvcHlPYmpba2V5XSA9IGNvcHlUcmVlKG9ialtrZXldKTtcbiAgICByZXR1cm4gY29weU9iajtcbiAgfSwge30pIDogQXJyYXkuaXNBcnJheShvYmopID8gb2JqLm1hcChjb3B5VHJlZSkgOiBvYmo7XG59XG5cbmZ1bmN0aW9uIGhhc0NoYW5nZWQoYSwgYikge1xuICB2YXIgdHlwZUEsIGtleXNBO1xuICByZXR1cm4gX3R5cGVvZihhKSAhPT0gX3R5cGVvZihiKSB8fCAodHlwZUEgPSBpc09iamVjdChhKSA/ICdvYmonIDogQXJyYXkuaXNBcnJheShhKSA/ICdhcnJheScgOiAnJykgIT09IChpc09iamVjdChiKSA/ICdvYmonIDogQXJyYXkuaXNBcnJheShiKSA/ICdhcnJheScgOiAnJykgfHwgKHR5cGVBID09PSAnb2JqJyA/IGhhc0NoYW5nZWQoa2V5c0EgPSBPYmplY3Qua2V5cyhhKS5zb3J0KCksIE9iamVjdC5rZXlzKGIpLnNvcnQoKSkgfHwga2V5c0Euc29tZShmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiBoYXNDaGFuZ2VkKGFbcHJvcF0sIGJbcHJvcF0pO1xuICB9KSA6IHR5cGVBID09PSAnYXJyYXknID8gYS5sZW5ndGggIT09IGIubGVuZ3RoIHx8IGEuc29tZShmdW5jdGlvbiAoYVZhbCwgaSkge1xuICAgIHJldHVybiBoYXNDaGFuZ2VkKGFWYWwsIGJbaV0pO1xuICB9KSA6IGEgIT09IGIpO1xufVxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBBIHRhcmdldCBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBjb25uZWN0ZWQgZWxlbWVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiAhIShlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIC8vIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxuICB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT09ICdmdW5jdGlvbicgJiYgIShlbGVtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGRvY3VtZW50KSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRElTQ09OTkVDVEVEKSk7XG59XG4vKipcbiAqIEFuIG9iamVjdCB0aGF0IHNpbXVsYXRlcyBgRE9NUmVjdGAgdG8gaW5kaWNhdGUgYSBib3VuZGluZy1ib3guXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBCQm94XG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IGxlZnQgLSBkb2N1bWVudCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IHRvcCAtIGRvY3VtZW50IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0gcmlnaHQgLSBkb2N1bWVudCBjb29yZGluYXRlXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IGJvdHRvbSAtIGRvY3VtZW50IGNvb3JkaW5hdGVcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxudWxsKX0geCAtIFN1YnN0aXR1dGVzIGZvciBsZWZ0XG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IHkgLSBTdWJzdGl0dXRlcyBmb3IgdG9wXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IHdpZHRoXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8bnVsbCl9IGhlaWdodFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGJCb3ggLSBBIHRhcmdldCBvYmplY3QuXG4gKiBAcmV0dXJucyB7KEJCb3h8bnVsbCl9IEEgbm9ybWFsaXplZCBgQkJveGAsIG9yIG51bGwgaWYgYGJCb3hgIGlzIGludmFsaWQuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZEJCb3goYkJveCkge1xuICBpZiAoIWlzT2JqZWN0KGJCb3gpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgdmFsdWU7XG5cbiAgaWYgKGlzRmluaXRlKHZhbHVlID0gYkJveC5sZWZ0KSB8fCBpc0Zpbml0ZSh2YWx1ZSA9IGJCb3gueCkpIHtcbiAgICBiQm94LmxlZnQgPSBiQm94LnggPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZSh2YWx1ZSA9IGJCb3gudG9wKSB8fCBpc0Zpbml0ZSh2YWx1ZSA9IGJCb3gueSkpIHtcbiAgICBiQm94LnRvcCA9IGJCb3gueSA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGlzRmluaXRlKGJCb3gud2lkdGgpICYmIGJCb3gud2lkdGggPj0gMCkge1xuICAgIGJCb3gucmlnaHQgPSBiQm94LmxlZnQgKyBiQm94LndpZHRoO1xuICB9IGVsc2UgaWYgKGlzRmluaXRlKGJCb3gucmlnaHQpICYmIGJCb3gucmlnaHQgPj0gYkJveC5sZWZ0KSB7XG4gICAgYkJveC53aWR0aCA9IGJCb3gucmlnaHQgLSBiQm94LmxlZnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoaXNGaW5pdGUoYkJveC5oZWlnaHQpICYmIGJCb3guaGVpZ2h0ID49IDApIHtcbiAgICBiQm94LmJvdHRvbSA9IGJCb3gudG9wICsgYkJveC5oZWlnaHQ7XG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUoYkJveC5ib3R0b20pICYmIGJCb3guYm90dG9tID49IGJCb3gudG9wKSB7XG4gICAgYkJveC5oZWlnaHQgPSBiQm94LmJvdHRvbSAtIGJCb3gudG9wO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGJCb3g7XG59XG4vKipcbiAqIEEgdmFsdWUgdGhhdCBpcyBQaXhlbHMgb3IgUmF0aW9cbiAqIEB0eXBlZGVmIHt7dmFsdWU6IG51bWJlciwgaXNSYXRpbzogYm9vbGVhbn19IFBQVmFsdWVcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkUFBWYWx1ZSh2YWx1ZSkge1xuICAvLyBHZXQgUFBWYWx1ZSBmcm9tIHN0cmluZyAoYWxsIGAvc2Agd2VyZSBhbHJlYWR5IHJlbW92ZWQpXG4gIGZ1bmN0aW9uIHN0cmluZzJQUFZhbHVlKGluU3RyaW5nKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAvXiguKz8pKCUpPyQvLmV4ZWMoaW5TdHJpbmcpO1xuICAgIHZhciB2YWx1ZSwgaXNSYXRpbztcbiAgICByZXR1cm4gbWF0Y2hlcyAmJiBpc0Zpbml0ZSh2YWx1ZSA9IHBhcnNlRmxvYXQobWF0Y2hlc1sxXSkpID8ge1xuICAgICAgdmFsdWU6IChpc1JhdGlvID0gISEobWF0Y2hlc1syXSAmJiB2YWx1ZSkpID8gdmFsdWUgLyAxMDAgOiB2YWx1ZSxcbiAgICAgIGlzUmF0aW86IGlzUmF0aW9cbiAgICB9IDogbnVsbDsgLy8gMCUgLT4gMFxuICB9XG5cbiAgcmV0dXJuIGlzRmluaXRlKHZhbHVlKSA/IHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgaXNSYXRpbzogZmFsc2VcbiAgfSA6IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzdHJpbmcyUFBWYWx1ZSh2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHBwVmFsdWUyT3B0aW9uVmFsdWUocHBWYWx1ZSkge1xuICByZXR1cm4gcHBWYWx1ZS5pc1JhdGlvID8gXCJcIi5jb25jYXQocHBWYWx1ZS52YWx1ZSAqIDEwMCwgXCIlXCIpIDogcHBWYWx1ZS52YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVBQVmFsdWUocHBWYWx1ZSwgYmFzZU9yaWdpbiwgYmFzZVNpemUpIHtcbiAgcmV0dXJuIHR5cGVvZiBwcFZhbHVlID09PSAnbnVtYmVyJyA/IHBwVmFsdWUgOiBiYXNlT3JpZ2luICsgcHBWYWx1ZS52YWx1ZSAqIChwcFZhbHVlLmlzUmF0aW8gPyBiYXNlU2l6ZSA6IDEpO1xufVxuLyoqXG4gKiBBbiBvYmplY3QgdGhhdCBzaW11bGF0ZXMgQkJveCBidXQgcHJvcGVydGllcyBhcmUgUFBWYWx1ZS5cbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBQQkJveFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGJCb3ggLSBBIHRhcmdldCBvYmplY3QuXG4gKiBAcmV0dXJucyB7KFBQQkJveHxudWxsKX0gQSBub3JtYWxpemVkIGBQUEJCb3hgLCBvciBudWxsIGlmIGBiQm94YCBpcyBpbnZhbGlkLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRQUEJCb3goYkJveCkge1xuICBpZiAoIWlzT2JqZWN0KGJCb3gpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcHBWYWx1ZTtcblxuICBpZiAoKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC5sZWZ0KSkgfHwgKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC54KSkpIHtcbiAgICBiQm94LmxlZnQgPSBiQm94LnggPSBwcFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKGJCb3gudG9wKSkgfHwgKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC55KSkpIHtcbiAgICBiQm94LnRvcCA9IGJCb3gueSA9IHBwVmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC53aWR0aCkpICYmIHBwVmFsdWUudmFsdWUgPj0gMCkge1xuICAgIGJCb3gud2lkdGggPSBwcFZhbHVlO1xuICAgIGRlbGV0ZSBiQm94LnJpZ2h0O1xuICB9IGVsc2UgaWYgKHBwVmFsdWUgPSB2YWxpZFBQVmFsdWUoYkJveC5yaWdodCkpIHtcbiAgICBiQm94LnJpZ2h0ID0gcHBWYWx1ZTtcbiAgICBkZWxldGUgYkJveC53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICgocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LmhlaWdodCkpICYmIHBwVmFsdWUudmFsdWUgPj0gMCkge1xuICAgIGJCb3guaGVpZ2h0ID0gcHBWYWx1ZTtcbiAgICBkZWxldGUgYkJveC5ib3R0b207XG4gIH0gZWxzZSBpZiAocHBWYWx1ZSA9IHZhbGlkUFBWYWx1ZShiQm94LmJvdHRvbSkpIHtcbiAgICBiQm94LmJvdHRvbSA9IHBwVmFsdWU7XG4gICAgZGVsZXRlIGJCb3guaGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGJCb3g7XG59XG5cbmZ1bmN0aW9uIHBwQkJveDJPcHRpb25PYmplY3QocHBCQm94KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhwcEJCb3gpLnJlZHVjZShmdW5jdGlvbiAob2JqLCBwcm9wKSB7XG4gICAgb2JqW3Byb3BdID0gcHBWYWx1ZTJPcHRpb25WYWx1ZShwcEJCb3hbcHJvcF0pO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn0gLy8gUFBCQm94IC0+IEJCb3hcblxuXG5mdW5jdGlvbiByZXNvbHZlUFBCQm94KHBwQkJveCwgYmFzZUJCb3gpIHtcbiAgdmFyIHByb3AyQXhpcyA9IHtcbiAgICBsZWZ0OiAneCcsXG4gICAgcmlnaHQ6ICd4JyxcbiAgICB4OiAneCcsXG4gICAgd2lkdGg6ICd4JyxcbiAgICB0b3A6ICd5JyxcbiAgICBib3R0b206ICd5JyxcbiAgICB5OiAneScsXG4gICAgaGVpZ2h0OiAneSdcbiAgfSxcbiAgICAgIGJhc2VPcmlnaW5YWSA9IHtcbiAgICB4OiBiYXNlQkJveC5sZWZ0LFxuICAgIHk6IGJhc2VCQm94LnRvcFxuICB9LFxuICAgICAgYmFzZVNpemVYWSA9IHtcbiAgICB4OiBiYXNlQkJveC53aWR0aCxcbiAgICB5OiBiYXNlQkJveC5oZWlnaHRcbiAgfTtcbiAgcmV0dXJuIHZhbGlkQkJveChPYmplY3Qua2V5cyhwcEJCb3gpLnJlZHVjZShmdW5jdGlvbiAoYkJveCwgcHJvcCkge1xuICAgIGJCb3hbcHJvcF0gPSByZXNvbHZlUFBWYWx1ZShwcEJCb3hbcHJvcF0sIHByb3AgPT09ICd3aWR0aCcgfHwgcHJvcCA9PT0gJ2hlaWdodCcgPyAwIDogYmFzZU9yaWdpblhZW3Byb3AyQXhpc1twcm9wXV0sIGJhc2VTaXplWFlbcHJvcDJBeGlzW3Byb3BdXSk7XG4gICAgcmV0dXJuIGJCb3g7XG4gIH0sIHt9KSk7XG59XG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0gez9ib29sZWFufSBnZXRQYWRkaW5nQm94IC0gR2V0IHBhZGRpbmctYm94IGluc3RlYWQgb2YgYm9yZGVyLWJveCBhcyBib3VuZGluZy1ib3guXG4gKiBAcmV0dXJucyB7QkJveH0gQSBib3VuZGluZy1ib3ggb2YgYGVsZW1lbnRgLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0QkJveChlbGVtZW50LCBnZXRQYWRkaW5nQm94KSB7XG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIGJCb3ggPSB7XG4gICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgIHRvcDogcmVjdC50b3AsXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xuICBiQm94LmxlZnQgKz0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICBiQm94LnRvcCArPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgaWYgKGdldFBhZGRpbmdCb3gpIHtcbiAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAnJyksXG4gICAgICAgIGJvcmRlclRvcCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDAsXG4gICAgICAgIGJvcmRlclJpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSB8fCAwLFxuICAgICAgICBib3JkZXJCb3R0b20gPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKSB8fCAwLFxuICAgICAgICBib3JkZXJMZWZ0ID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpIHx8IDA7XG4gICAgYkJveC5sZWZ0ICs9IGJvcmRlckxlZnQ7XG4gICAgYkJveC50b3AgKz0gYm9yZGVyVG9wO1xuICAgIGJCb3gud2lkdGggLT0gYm9yZGVyTGVmdCArIGJvcmRlclJpZ2h0O1xuICAgIGJCb3guaGVpZ2h0IC09IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgfVxuXG4gIHJldHVybiB2YWxpZEJCb3goYkJveCk7XG59XG4vKipcbiAqIE9wdGltaXplIGFuIGVsZW1lbnQgZm9yIGFuaW1hdGlvbi5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEEgdGFyZ2V0IGVsZW1lbnQuXG4gKiBAcGFyYW0gez9ib29sZWFufSBncHVUcmlnZ2VyIC0gSW5pdGlhbGl6ZSBmb3IgU1ZHRWxlbWVudCBpZiBgdHJ1ZWAuXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gQSB0YXJnZXQgZWxlbWVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXRBbmltKGVsZW1lbnQsIGdwdVRyaWdnZXIpIHtcbiAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcbiAgc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IgPSAndHJhbnNwYXJlbnQnOyAvLyBPbmx5IHdoZW4gaXQgaGFzIG5vIHNoYWRvd1xuXG4gIHZhciBjc3NQcm9wQm94U2hhZG93ID0gQ1NTUHJlZml4LmdldE5hbWUoJ2JveFNoYWRvdycpLFxuICAgICAgYm94U2hhZG93ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpW2Nzc1Byb3BCb3hTaGFkb3ddO1xuXG4gIGlmICghYm94U2hhZG93IHx8IGJveFNoYWRvdyA9PT0gJ25vbmUnKSB7XG4gICAgc3R5bGVbY3NzUHJvcEJveFNoYWRvd10gPSAnMCAwIDFweCB0cmFuc3BhcmVudCc7XG4gIH1cblxuICBpZiAoZ3B1VHJpZ2dlciAmJiBjc3NQcm9wVHJhbnNmb3JtKSB7XG4gICAgc3R5bGVbY3NzUHJvcFRyYW5zZm9ybV0gPSAndHJhbnNsYXRlWigwKSc7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gc2V0RHJhZ2dhYmxlQ3Vyc29yKGVsZW1lbnQsIG9yZ0N1cnNvcikge1xuICBpZiAoY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgPT0gbnVsbCkge1xuICAgIGlmIChjc3NXYW50ZWRWYWx1ZURyYWdnYWJsZUN1cnNvciAhPT0gZmFsc2UpIHtcbiAgICAgIGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yID0gQ1NTUHJlZml4LmdldFZhbHVlKCdjdXJzb3InLCBjc3NXYW50ZWRWYWx1ZURyYWdnYWJsZUN1cnNvcik7XG4gICAgfSAvLyBUaGUgd2FudGVkIHZhbHVlIHdhcyBkZW5pZWQsIG9yIGNoYW5naW5nIGlzIG5vdCB3YW50ZWQuXG5cblxuICAgIGlmIChjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciA9PSBudWxsKSB7XG4gICAgICBjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciA9IGZhbHNlO1xuICAgIH1cbiAgfSAvLyBVcGRhdGUgaXQgdG8gY2hhbmdlIGEgc3RhdGUgZXZlbiBpZiBjc3NWYWx1ZURyYWdnYWJsZUN1cnNvciBpcyBmYWxzZS5cblxuXG4gIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3IgPT09IGZhbHNlID8gb3JnQ3Vyc29yIDogY3NzVmFsdWVEcmFnZ2FibGVDdXJzb3I7XG59XG5cbmZ1bmN0aW9uIHNldERyYWdnaW5nQ3Vyc29yKGVsZW1lbnQpIHtcbiAgaWYgKGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgPT0gbnVsbCkge1xuICAgIGlmIChjc3NXYW50ZWRWYWx1ZURyYWdnaW5nQ3Vyc29yICE9PSBmYWxzZSkge1xuICAgICAgY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciA9IENTU1ByZWZpeC5nZXRWYWx1ZSgnY3Vyc29yJywgY3NzV2FudGVkVmFsdWVEcmFnZ2luZ0N1cnNvcik7XG4gICAgfSAvLyBUaGUgd2FudGVkIHZhbHVlIHdhcyBkZW5pZWQsIG9yIGNoYW5naW5nIGlzIG5vdCB3YW50ZWQuXG5cblxuICAgIGlmIChjc3NWYWx1ZURyYWdnaW5nQ3Vyc29yID09IG51bGwpIHtcbiAgICAgIGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAoY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciAhPT0gZmFsc2UpIHtcbiAgICBlbGVtZW50LnN0eWxlLmN1cnNvciA9IGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3I7XG4gIH1cbn0gLy8gW1NWR11cblxuLyoqXG4gKiBHZXQgU1ZHIGNvb3JkaW5hdGVzIGZyb20gdmlld3BvcnQgY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gY2xpZW50WCAtIHZpZXdwb3J0IFguXG4gKiBAcGFyYW0ge251bWJlcn0gY2xpZW50WSAtIHZpZXdwb3J0IFkuXG4gKiBAcmV0dXJucyB7U1ZHUG9pbnR9IFNWRyBjb29yZGluYXRlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZpZXdQb2ludDJTdmdQb2ludChwcm9wcywgY2xpZW50WCwgY2xpZW50WSkge1xuICB2YXIgc3ZnUG9pbnQgPSBwcm9wcy5zdmdQb2ludDtcbiAgc3ZnUG9pbnQueCA9IGNsaWVudFg7XG4gIHN2Z1BvaW50LnkgPSBjbGllbnRZO1xuICByZXR1cm4gc3ZnUG9pbnQubWF0cml4VHJhbnNmb3JtKHByb3BzLnN2Z0N0bUVsZW1lbnQuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbn0gLy8gWy9TVkddXG5cbi8qKlxuICogTW92ZSBieSBgdHJhbnNsYXRlYC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7e2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9fSBwb3NpdGlvbiAtIE5ldyBwb3NpdGlvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaXQgd2FzIG1vdmVkLlxuICovXG5cblxuZnVuY3Rpb24gbW92ZVRyYW5zbGF0ZShwcm9wcywgcG9zaXRpb24pIHtcbiAgdmFyIGVsZW1lbnRCQm94ID0gcHJvcHMuZWxlbWVudEJCb3g7XG5cbiAgaWYgKHBvc2l0aW9uLmxlZnQgIT09IGVsZW1lbnRCQm94LmxlZnQgfHwgcG9zaXRpb24udG9wICE9PSBlbGVtZW50QkJveC50b3ApIHtcbiAgICB2YXIgb2Zmc2V0ID0gcHJvcHMuaHRtbE9mZnNldDtcbiAgICBwcm9wcy5lbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zZm9ybV0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQocG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0LCBcInB4LCBcIikuY29uY2F0KHBvc2l0aW9uLnRvcCArIG9mZnNldC50b3AsIFwicHgpXCIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSAvLyBbTEVGVFRPUF1cblxuLyoqXG4gKiBNb3ZlIGJ5IGBsZWZ0YCBhbmQgYHRvcGAuXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3tsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyfX0gcG9zaXRpb24gLSBOZXcgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGl0IHdhcyBtb3ZlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1vdmVMZWZ0VG9wKHByb3BzLCBwb3NpdGlvbikge1xuICB2YXIgZWxlbWVudEJCb3ggPSBwcm9wcy5lbGVtZW50QkJveCxcbiAgICAgIGVsZW1lbnRTdHlsZSA9IHByb3BzLmVsZW1lbnRTdHlsZSxcbiAgICAgIG9mZnNldCA9IHByb3BzLmh0bWxPZmZzZXQ7XG4gIHZhciBtb3ZlZCA9IGZhbHNlO1xuXG4gIGlmIChwb3NpdGlvbi5sZWZ0ICE9PSBlbGVtZW50QkJveC5sZWZ0KSB7XG4gICAgZWxlbWVudFN0eWxlLmxlZnQgPSBwb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnQgKyAncHgnO1xuICAgIG1vdmVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChwb3NpdGlvbi50b3AgIT09IGVsZW1lbnRCQm94LnRvcCkge1xuICAgIGVsZW1lbnRTdHlsZS50b3AgPSBwb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wICsgJ3B4JztcbiAgICBtb3ZlZCA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gbW92ZWQ7XG59IC8vIFsvTEVGVFRPUF1cbi8vIFtTVkddXG5cbi8qKlxuICogTW92ZSBTVkdFbGVtZW50LlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHBhcmFtIHt7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlcn19IHBvc2l0aW9uIC0gTmV3IHBvc2l0aW9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpdCB3YXMgbW92ZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBtb3ZlU3ZnKHByb3BzLCBwb3NpdGlvbikge1xuICB2YXIgZWxlbWVudEJCb3ggPSBwcm9wcy5lbGVtZW50QkJveDtcblxuICBpZiAocG9zaXRpb24ubGVmdCAhPT0gZWxlbWVudEJCb3gubGVmdCB8fCBwb3NpdGlvbi50b3AgIT09IGVsZW1lbnRCQm94LnRvcCkge1xuICAgIHZhciBvZmZzZXQgPSBwcm9wcy5zdmdPZmZzZXQsXG4gICAgICAgIG9yaWdpbkJCb3ggPSBwcm9wcy5zdmdPcmlnaW5CQm94LFxuICAgICAgICBwb2ludCA9IHZpZXdQb2ludDJTdmdQb2ludChwcm9wcywgcG9zaXRpb24ubGVmdCAtIHdpbmRvdy5wYWdlWE9mZnNldCwgcG9zaXRpb24udG9wIC0gd2luZG93LnBhZ2VZT2Zmc2V0KTtcbiAgICBwcm9wcy5zdmdUcmFuc2Zvcm0uc2V0VHJhbnNsYXRlKHBvaW50LnggKyBvZmZzZXQueCAtIG9yaWdpbkJCb3gueCwgcG9pbnQueSArIG9mZnNldC55IC0gb3JpZ2luQkJveC55KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn0gLy8gWy9TVkddXG5cbi8qKlxuICogU2V0IGBwcm9wcy5lbGVtZW50YCBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7e2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9fSBwb3NpdGlvbiAtIE5ldyBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYkNoZWNrXSAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdpdGggdmFsaWQgcG9zaXRpb24sIGNhbmNlbCBtb3ZpbmcgaWYgaXQgcmV0dXJucyBgZmFsc2VgLlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpdCB3YXMgbW92ZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBtb3ZlKHByb3BzLCBwb3NpdGlvbiwgY2JDaGVjaykge1xuICB2YXIgZWxlbWVudEJCb3ggPSBwcm9wcy5lbGVtZW50QkJveDtcblxuICBmdW5jdGlvbiBmaXgoKSB7XG4gICAgaWYgKHByb3BzLm1pbkxlZnQgPj0gcHJvcHMubWF4TGVmdCkge1xuICAgICAgLy8gRGlzYWJsZWRcbiAgICAgIHBvc2l0aW9uLmxlZnQgPSBlbGVtZW50QkJveC5sZWZ0O1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24ubGVmdCA8IHByb3BzLm1pbkxlZnQpIHtcbiAgICAgIHBvc2l0aW9uLmxlZnQgPSBwcm9wcy5taW5MZWZ0O1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24ubGVmdCA+IHByb3BzLm1heExlZnQpIHtcbiAgICAgIHBvc2l0aW9uLmxlZnQgPSBwcm9wcy5tYXhMZWZ0O1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5taW5Ub3AgPj0gcHJvcHMubWF4VG9wKSB7XG4gICAgICAvLyBEaXNhYmxlZFxuICAgICAgcG9zaXRpb24udG9wID0gZWxlbWVudEJCb3gudG9wO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24udG9wIDwgcHJvcHMubWluVG9wKSB7XG4gICAgICBwb3NpdGlvbi50b3AgPSBwcm9wcy5taW5Ub3A7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbi50b3AgPiBwcm9wcy5tYXhUb3ApIHtcbiAgICAgIHBvc2l0aW9uLnRvcCA9IHByb3BzLm1heFRvcDtcbiAgICB9XG4gIH1cblxuICBmaXgoKTtcblxuICBpZiAoY2JDaGVjaykge1xuICAgIGlmIChjYkNoZWNrKHBvc2l0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmaXgoKTsgLy8gQWdhaW5cbiAgfVxuXG4gIHZhciBtb3ZlZCA9IHByb3BzLm1vdmVFbG0ocHJvcHMsIHBvc2l0aW9uKTtcblxuICBpZiAobW92ZWQpIHtcbiAgICAvLyBVcGRhdGUgZWxlbWVudEJCb3hcbiAgICBwcm9wcy5lbGVtZW50QkJveCA9IHZhbGlkQkJveCh7XG4gICAgICBsZWZ0OiBwb3NpdGlvbi5sZWZ0LFxuICAgICAgdG9wOiBwb3NpdGlvbi50b3AsXG4gICAgICB3aWR0aDogZWxlbWVudEJCb3gud2lkdGgsXG4gICAgICBoZWlnaHQ6IGVsZW1lbnRCQm94LmhlaWdodFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG1vdmVkO1xufVxuLyoqXG4gKiBJbml0aWFsaXplIEhUTUxFbGVtZW50IGZvciBgdHJhbnNsYXRlYCwgYW5kIGdldCBgb2Zmc2V0YCB0aGF0IGlzIHVzZWQgYnkgYG1vdmVUcmFuc2xhdGVgLlxuICogQHBhcmFtIHtwcm9wc30gcHJvcHMgLSBgcHJvcHNgIG9mIGluc3RhbmNlLlxuICogQHJldHVybnMge0JCb3h9IEN1cnJlbnQgQkJveCB3aXRob3V0IGFuaW1hdGlvbiwgaS5lLiBsZWZ0L3RvcCBwcm9wZXJ0aWVzLlxuICovXG5cblxuZnVuY3Rpb24gaW5pdFRyYW5zbGF0ZShwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHByb3BzLmVsZW1lbnQsXG4gICAgICBlbGVtZW50U3R5bGUgPSBwcm9wcy5lbGVtZW50U3R5bGUsXG4gICAgICBjdXJQb3NpdGlvbiA9IGdldEJCb3goZWxlbWVudCksXG4gICAgICAvLyBHZXQgQkJveCBiZWZvcmUgY2hhbmdlIHN0eWxlLlxuICBSRVNUT1JFX1BST1BTID0gWydkaXNwbGF5JywgJ21hcmdpblRvcCcsICdtYXJnaW5Cb3R0b20nLCAnd2lkdGgnLCAnaGVpZ2h0J107XG4gIFJFU1RPUkVfUFJPUFMudW5zaGlmdChjc3NQcm9wVHJhbnNmb3JtKTsgLy8gUmVzZXQgYHRyYW5zaXRpb24tcHJvcGVydHlgIGV2ZXJ5IHRpbWUgYmVjYXVzZSBpdCBtaWdodCBiZSBjaGFuZ2VkIGZyZXF1ZW50bHkuXG5cbiAgdmFyIG9yZ1RyYW5zaXRpb25Qcm9wZXJ0eSA9IGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5XTtcbiAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHldID0gJ25vbmUnOyAvLyBEaXNhYmxlIGFuaW1hdGlvblxuXG4gIHZhciBmaXhQb3NpdGlvbiA9IGdldEJCb3goZWxlbWVudCk7XG5cbiAgaWYgKCFwcm9wcy5vcmdTdHlsZSkge1xuICAgIHByb3BzLm9yZ1N0eWxlID0gUkVTVE9SRV9QUk9QUy5yZWR1Y2UoZnVuY3Rpb24gKG9yZ1N0eWxlLCBwcm9wKSB7XG4gICAgICBvcmdTdHlsZVtwcm9wXSA9IGVsZW1lbnRTdHlsZVtwcm9wXSB8fCAnJztcbiAgICAgIHJldHVybiBvcmdTdHlsZTtcbiAgICB9LCB7fSk7XG4gICAgcHJvcHMubGFzdFN0eWxlID0ge307XG4gIH0gZWxzZSB7XG4gICAgUkVTVE9SRV9QUk9QUy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAvLyBTa2lwIHRoaXMgaWYgaXQgc2VlbXMgdXNlciBjaGFuZ2VkIGl0LiAoaXQgY2FuJ3QgY2hlY2sgcGVyZmVjdGx5LilcbiAgICAgIGlmIChwcm9wcy5sYXN0U3R5bGVbcHJvcF0gPT0gbnVsbCB8fCBlbGVtZW50U3R5bGVbcHJvcF0gPT09IHByb3BzLmxhc3RTdHlsZVtwcm9wXSkge1xuICAgICAgICBlbGVtZW50U3R5bGVbcHJvcF0gPSBwcm9wcy5vcmdTdHlsZVtwcm9wXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBvcmdTaXplID0gZ2V0QkJveChlbGVtZW50KSxcbiAgICAgIGNtcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpOyAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXRyYW5zZm9ybXMtMS8jdHJhbnNmb3JtYWJsZS1lbGVtZW50XG5cbiAgaWYgKGNtcFN0eWxlLmRpc3BsYXkgPT09ICdpbmxpbmUnKSB7XG4gICAgZWxlbWVudFN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICBbJ1RvcCcsICdCb3R0b20nXS5mb3JFYWNoKGZ1bmN0aW9uIChkaXJQcm9wKSB7XG4gICAgICB2YXIgcGFkZGluZyA9IHBhcnNlRmxvYXQoY21wU3R5bGVbXCJwYWRkaW5nXCIuY29uY2F0KGRpclByb3ApXSk7IC8vIHBhZGRpbmdUb3AvQm90dG9tIG1ha2UgcGFkZGluZyBidXQgZG9uJ3QgbWFrZSBzcGFjZSAtPiBuZWdhdGl2ZSBtYXJnaW4gaW4gaW5saW5lLWJsb2NrXG4gICAgICAvLyBtYXJnaW5Ub3AvQm90dG9tIGRvbid0IHdvcmsgaW4gaW5saW5lIGVsZW1lbnQgLT4gYDBgIGluIGlubGluZS1ibG9ja1xuXG4gICAgICBlbGVtZW50U3R5bGVbXCJtYXJnaW5cIi5jb25jYXQoZGlyUHJvcCldID0gcGFkZGluZyA/IFwiLVwiLmNvbmNhdChwYWRkaW5nLCBcInB4XCIpIDogJzAnO1xuICAgIH0pO1xuICB9XG5cbiAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgwLCAwKSc7IC8vIEdldCBkb2N1bWVudCBvZmZzZXQuXG5cbiAgdmFyIG5ld0JCb3ggPSBnZXRCQm94KGVsZW1lbnQpO1xuICB2YXIgb2Zmc2V0ID0gcHJvcHMuaHRtbE9mZnNldCA9IHtcbiAgICBsZWZ0OiBuZXdCQm94LmxlZnQgPyAtbmV3QkJveC5sZWZ0IDogMCxcbiAgICB0b3A6IG5ld0JCb3gudG9wID8gLW5ld0JCb3gudG9wIDogMFxuICB9OyAvLyBhdm9pZCBgLTBgXG4gIC8vIFJlc3RvcmUgcG9zaXRpb25cblxuICBlbGVtZW50U3R5bGVbY3NzUHJvcFRyYW5zZm9ybV0gPSBcInRyYW5zbGF0ZShcIi5jb25jYXQoY3VyUG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0LCBcInB4LCBcIikuY29uY2F0KGN1clBvc2l0aW9uLnRvcCArIG9mZnNldC50b3AsIFwicHgpXCIpOyAvLyBSZXN0b3JlIHNpemVcblxuICBbJ3dpZHRoJywgJ2hlaWdodCddLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBpZiAobmV3QkJveFtwcm9wXSAhPT0gb3JnU2l6ZVtwcm9wXSkge1xuICAgICAgLy8gSWdub3JlIGBib3gtc2l6aW5nYFxuICAgICAgZWxlbWVudFN0eWxlW3Byb3BdID0gb3JnU2l6ZVtwcm9wXSArICdweCc7XG4gICAgICBuZXdCQm94ID0gZ2V0QkJveChlbGVtZW50KTtcblxuICAgICAgaWYgKG5ld0JCb3hbcHJvcF0gIT09IG9yZ1NpemVbcHJvcF0pIHtcbiAgICAgICAgLy8gUmV0cnlcbiAgICAgICAgZWxlbWVudFN0eWxlW3Byb3BdID0gb3JnU2l6ZVtwcm9wXSAtIChuZXdCQm94W3Byb3BdIC0gb3JnU2l6ZVtwcm9wXSkgKyAncHgnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByb3BzLmxhc3RTdHlsZVtwcm9wXSA9IGVsZW1lbnRTdHlsZVtwcm9wXTtcbiAgfSk7IC8vIFJlc3RvcmUgYHRyYW5zaXRpb24tcHJvcGVydHlgXG5cbiAgZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgLyogZm9yY2UgcmVmbG93ICovXG4gIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cbiAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHldID0gb3JnVHJhbnNpdGlvblByb3BlcnR5O1xuXG4gIGlmIChmaXhQb3NpdGlvbi5sZWZ0ICE9PSBjdXJQb3NpdGlvbi5sZWZ0IHx8IGZpeFBvc2l0aW9uLnRvcCAhPT0gY3VyUG9zaXRpb24udG9wKSB7XG4gICAgLy8gSXQgc2VlbXMgdGhhdCBpdCBpcyBtb3ZpbmcuXG4gICAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2Zvcm1dID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KGZpeFBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdCwgXCJweCwgXCIpLmNvbmNhdChmaXhQb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wLCBcInB4KVwiKTtcbiAgfVxuXG4gIHJldHVybiBmaXhQb3NpdGlvbjtcbn0gLy8gW0xFRlRUT1BdXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBIVE1MRWxlbWVudCBmb3IgYGxlZnRgIGFuZCBgdG9wYCwgYW5kIGdldCBgb2Zmc2V0YCB0aGF0IGlzIHVzZWQgYnkgYG1vdmVMZWZ0VG9wYC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHtCQm94fSBDdXJyZW50IEJCb3ggd2l0aG91dCBhbmltYXRpb24sIGkuZS4gbGVmdC90b3AgcHJvcGVydGllcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXRMZWZ0VG9wKHByb3BzKSB7XG4gIHZhciBlbGVtZW50ID0gcHJvcHMuZWxlbWVudCxcbiAgICAgIGVsZW1lbnRTdHlsZSA9IHByb3BzLmVsZW1lbnRTdHlsZSxcbiAgICAgIGN1clBvc2l0aW9uID0gZ2V0QkJveChlbGVtZW50KSxcbiAgICAgIC8vIEdldCBCQm94IGJlZm9yZSBjaGFuZ2Ugc3R5bGUuXG4gIFJFU1RPUkVfUFJPUFMgPSBbJ3Bvc2l0aW9uJywgJ21hcmdpblRvcCcsICdtYXJnaW5SaWdodCcsICdtYXJnaW5Cb3R0b20nLCAnbWFyZ2luTGVmdCcsICd3aWR0aCcsICdoZWlnaHQnXTsgLy8gUmVzZXQgYHRyYW5zaXRpb24tcHJvcGVydHlgIGV2ZXJ5IHRpbWUgYmVjYXVzZSBpdCBtaWdodCBiZSBjaGFuZ2VkIGZyZXF1ZW50bHkuXG5cbiAgdmFyIG9yZ1RyYW5zaXRpb25Qcm9wZXJ0eSA9IGVsZW1lbnRTdHlsZVtjc3NQcm9wVHJhbnNpdGlvblByb3BlcnR5XTtcbiAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHldID0gJ25vbmUnOyAvLyBEaXNhYmxlIGFuaW1hdGlvblxuXG4gIHZhciBmaXhQb3NpdGlvbiA9IGdldEJCb3goZWxlbWVudCk7XG5cbiAgaWYgKCFwcm9wcy5vcmdTdHlsZSkge1xuICAgIHByb3BzLm9yZ1N0eWxlID0gUkVTVE9SRV9QUk9QUy5yZWR1Y2UoZnVuY3Rpb24gKG9yZ1N0eWxlLCBwcm9wKSB7XG4gICAgICBvcmdTdHlsZVtwcm9wXSA9IGVsZW1lbnRTdHlsZVtwcm9wXSB8fCAnJztcbiAgICAgIHJldHVybiBvcmdTdHlsZTtcbiAgICB9LCB7fSk7XG4gICAgcHJvcHMubGFzdFN0eWxlID0ge307XG4gIH0gZWxzZSB7XG4gICAgUkVTVE9SRV9QUk9QUy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAvLyBTa2lwIHRoaXMgaWYgaXQgc2VlbXMgdXNlciBjaGFuZ2VkIGl0LiAoaXQgY2FuJ3QgY2hlY2sgcGVyZmVjdGx5LilcbiAgICAgIGlmIChwcm9wcy5sYXN0U3R5bGVbcHJvcF0gPT0gbnVsbCB8fCBlbGVtZW50U3R5bGVbcHJvcF0gPT09IHByb3BzLmxhc3RTdHlsZVtwcm9wXSkge1xuICAgICAgICBlbGVtZW50U3R5bGVbcHJvcF0gPSBwcm9wcy5vcmdTdHlsZVtwcm9wXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBvcmdTaXplID0gZ2V0QkJveChlbGVtZW50KTtcbiAgZWxlbWVudFN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgZWxlbWVudFN0eWxlLmxlZnQgPSBlbGVtZW50U3R5bGUudG9wID0gZWxlbWVudFN0eWxlLm1hcmdpbiA9ICcwJzsgLy8gR2V0IGRvY3VtZW50IG9mZnNldC5cblxuICB2YXIgbmV3QkJveCA9IGdldEJCb3goZWxlbWVudCk7XG4gIHZhciBvZmZzZXQgPSBwcm9wcy5odG1sT2Zmc2V0ID0ge1xuICAgIGxlZnQ6IG5ld0JCb3gubGVmdCA/IC1uZXdCQm94LmxlZnQgOiAwLFxuICAgIHRvcDogbmV3QkJveC50b3AgPyAtbmV3QkJveC50b3AgOiAwXG4gIH07IC8vIGF2b2lkIGAtMGBcbiAgLy8gUmVzdG9yZSBwb3NpdGlvblxuXG4gIGVsZW1lbnRTdHlsZS5sZWZ0ID0gY3VyUG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0ICsgJ3B4JztcbiAgZWxlbWVudFN0eWxlLnRvcCA9IGN1clBvc2l0aW9uLnRvcCArIG9mZnNldC50b3AgKyAncHgnOyAvLyBSZXN0b3JlIHNpemVcblxuICBbJ3dpZHRoJywgJ2hlaWdodCddLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICBpZiAobmV3QkJveFtwcm9wXSAhPT0gb3JnU2l6ZVtwcm9wXSkge1xuICAgICAgLy8gSWdub3JlIGBib3gtc2l6aW5nYFxuICAgICAgZWxlbWVudFN0eWxlW3Byb3BdID0gb3JnU2l6ZVtwcm9wXSArICdweCc7XG4gICAgICBuZXdCQm94ID0gZ2V0QkJveChlbGVtZW50KTtcblxuICAgICAgaWYgKG5ld0JCb3hbcHJvcF0gIT09IG9yZ1NpemVbcHJvcF0pIHtcbiAgICAgICAgLy8gUmV0cnlcbiAgICAgICAgZWxlbWVudFN0eWxlW3Byb3BdID0gb3JnU2l6ZVtwcm9wXSAtIChuZXdCQm94W3Byb3BdIC0gb3JnU2l6ZVtwcm9wXSkgKyAncHgnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByb3BzLmxhc3RTdHlsZVtwcm9wXSA9IGVsZW1lbnRTdHlsZVtwcm9wXTtcbiAgfSk7IC8vIFJlc3RvcmUgYHRyYW5zaXRpb24tcHJvcGVydHlgXG5cbiAgZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgLyogZm9yY2UgcmVmbG93ICovXG4gIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cbiAgZWxlbWVudFN0eWxlW2Nzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHldID0gb3JnVHJhbnNpdGlvblByb3BlcnR5O1xuXG4gIGlmIChmaXhQb3NpdGlvbi5sZWZ0ICE9PSBjdXJQb3NpdGlvbi5sZWZ0IHx8IGZpeFBvc2l0aW9uLnRvcCAhPT0gY3VyUG9zaXRpb24udG9wKSB7XG4gICAgLy8gSXQgc2VlbXMgdGhhdCBpdCBpcyBtb3ZpbmcuXG4gICAgZWxlbWVudFN0eWxlLmxlZnQgPSBmaXhQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnQgKyAncHgnO1xuICAgIGVsZW1lbnRTdHlsZS50b3AgPSBmaXhQb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wICsgJ3B4JztcbiAgfVxuXG4gIHJldHVybiBmaXhQb3NpdGlvbjtcbn0gLy8gWy9MRUZUVE9QXVxuLy8gW1NWR11cblxuLyoqXG4gKiBJbml0aWFsaXplIFNWR0VsZW1lbnQsIGFuZCBnZXQgYG9mZnNldGAgdGhhdCBpcyB1c2VkIGJ5IGBtb3ZlU3ZnYC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHtCQm94fSBDdXJyZW50IEJCb3ggd2l0aG91dCBhbmltYXRpb24sIGkuZS4gbGVmdC90b3AgcHJvcGVydGllcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXRTdmcocHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSBwcm9wcy5lbGVtZW50LFxuICAgICAgc3ZnVHJhbnNmb3JtID0gcHJvcHMuc3ZnVHJhbnNmb3JtLFxuICAgICAgY3VyUmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAvLyBHZXQgUmVjdCBiZWZvcmUgY2hhbmdlIHBvc2l0aW9uLlxuICBmaXhQb3NpdGlvbiA9IGdldEJCb3goZWxlbWVudCk7XG4gIHN2Z1RyYW5zZm9ybS5zZXRUcmFuc2xhdGUoMCwgMCk7XG4gIHZhciBvcmlnaW5CQm94ID0gcHJvcHMuc3ZnT3JpZ2luQkJveCA9IGVsZW1lbnQuZ2V0QkJveCgpLFxuICAgICAgLy8gVHJ5IHRvIGdldCBTVkcgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbi5cbiAgbmV3UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBvcmlnaW5Qb2ludCA9IHZpZXdQb2ludDJTdmdQb2ludChwcm9wcywgbmV3UmVjdC5sZWZ0LCBuZXdSZWN0LnRvcCksXG4gICAgICAvLyBHZWNrbyBidWcsIGdldFNjcmVlbkNUTSByZXR1cm5zIGluY29ycmVjdCBDVE0sIGFuZCBvcmlnaW5Qb2ludCBtaWdodCBub3QgYmUgY3VycmVudCBwb3NpdGlvbi5cbiAgb2Zmc2V0ID0gcHJvcHMuc3ZnT2Zmc2V0ID0ge1xuICAgIHg6IG9yaWdpbkJCb3gueCAtIG9yaWdpblBvaW50LngsXG4gICAgeTogb3JpZ2luQkJveC55IC0gb3JpZ2luUG9pbnQueVxuICB9LFxuICAgICAgLy8gUmVzdG9yZSBwb3NpdGlvblxuICBjdXJQb2ludCA9IHZpZXdQb2ludDJTdmdQb2ludChwcm9wcywgY3VyUmVjdC5sZWZ0LCBjdXJSZWN0LnRvcCk7XG4gIHN2Z1RyYW5zZm9ybS5zZXRUcmFuc2xhdGUoY3VyUG9pbnQueCArIG9mZnNldC54IC0gb3JpZ2luQkJveC54LCBjdXJQb2ludC55ICsgb2Zmc2V0LnkgLSBvcmlnaW5CQm94LnkpO1xuICByZXR1cm4gZml4UG9zaXRpb247XG59IC8vIFsvU1ZHXVxuXG4vKipcbiAqIFNldCBgZWxlbWVudEJCb3hgLCBgY29udGFpbm1lbnRCQm94YCwgYG1pbi9tYXhgYExlZnQvVG9wYCBhbmQgYHNuYXBUYXJnZXRzYC5cbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZXZlbnRUeXBlXSAtIEEgdHlwZSBvZiBldmVudCB0aGF0IGtpY2tlZCB0aGlzIG1ldGhvZC5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cblxuZnVuY3Rpb24gaW5pdEJCb3gocHJvcHMsIGV2ZW50VHlwZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBkb2NCQm94ID0gZ2V0QkJveChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLFxuICAgICAgZWxlbWVudEJCb3ggPSBwcm9wcy5lbGVtZW50QkJveCA9IHByb3BzLmluaXRFbG0ocHJvcHMpLFxuICAgICAgLy8gcmVzZXQgb2Zmc2V0IGV0Yy5cbiAgY29udGFpbm1lbnRCQm94ID0gcHJvcHMuY29udGFpbm1lbnRCQm94ID0gcHJvcHMuY29udGFpbm1lbnRJc0JCb3ggPyByZXNvbHZlUFBCQm94KHByb3BzLm9wdGlvbnMuY29udGFpbm1lbnQsIGRvY0JCb3gpIHx8IGRvY0JCb3ggOiBnZXRCQm94KHByb3BzLm9wdGlvbnMuY29udGFpbm1lbnQsIHRydWUpO1xuICBwcm9wcy5taW5MZWZ0ID0gY29udGFpbm1lbnRCQm94LmxlZnQ7XG4gIHByb3BzLm1heExlZnQgPSBjb250YWlubWVudEJCb3gucmlnaHQgLSBlbGVtZW50QkJveC53aWR0aDtcbiAgcHJvcHMubWluVG9wID0gY29udGFpbm1lbnRCQm94LnRvcDtcbiAgcHJvcHMubWF4VG9wID0gY29udGFpbm1lbnRCQm94LmJvdHRvbSAtIGVsZW1lbnRCQm94LmhlaWdodDsgLy8gQWRqdXN0IHBvc2l0aW9uXG5cbiAgbW92ZShwcm9wcywge1xuICAgIGxlZnQ6IGVsZW1lbnRCQm94LmxlZnQsXG4gICAgdG9wOiBlbGVtZW50QkJveC50b3BcbiAgfSk7IC8vIFtTTkFQXVxuICAvLyBTbmFwLXRhcmdldHNcblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gU25hcFRhcmdldFxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3hdIC0gQSBjb29yZGluYXRlIGl0IG1vdmVzIHRvLiBJdCBoYXMgeCBvciB5IG9yIGJvdGguXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbeV1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtncmF2aXR5WFN0YXJ0XSAtIEdyYXZpdHkgem9uZS4gSXQgaGFzICpTdGFydCBvciAqRW5kIG9yIGJvdGgsIGFuZCAqWCogb3IgKlkqIG9yIGJvdGguXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3Jhdml0eVhFbmRdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZ3Jhdml0eVlTdGFydF1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtncmF2aXR5WUVuZF1cbiAgICovXG5cbiAgaWYgKHByb3BzLnBhcnNlZFNuYXBUYXJnZXRzKSB7XG4gICAgdmFyIGVsZW1lbnRTaXplWFkgPSB7XG4gICAgICB4OiBlbGVtZW50QkJveC53aWR0aCxcbiAgICAgIHk6IGVsZW1lbnRCQm94LmhlaWdodFxuICAgIH0sXG4gICAgICAgIG1pblhZID0ge1xuICAgICAgeDogcHJvcHMubWluTGVmdCxcbiAgICAgIHk6IHByb3BzLm1pblRvcFxuICAgIH0sXG4gICAgICAgIG1heFhZID0ge1xuICAgICAgeDogcHJvcHMubWF4TGVmdCxcbiAgICAgIHk6IHByb3BzLm1heFRvcFxuICAgIH0sXG4gICAgICAgIHByb3AyQXhpcyA9IHtcbiAgICAgIGxlZnQ6ICd4JyxcbiAgICAgIHJpZ2h0OiAneCcsXG4gICAgICB4OiAneCcsXG4gICAgICB3aWR0aDogJ3gnLFxuICAgICAgeFN0YXJ0OiAneCcsXG4gICAgICB4RW5kOiAneCcsXG4gICAgICB4U3RlcDogJ3gnLFxuICAgICAgdG9wOiAneScsXG4gICAgICBib3R0b206ICd5JyxcbiAgICAgIHk6ICd5JyxcbiAgICAgIGhlaWdodDogJ3knLFxuICAgICAgeVN0YXJ0OiAneScsXG4gICAgICB5RW5kOiAneScsXG4gICAgICB5U3RlcDogJ3knXG4gICAgfSxcbiAgICAgICAgc25hcFRhcmdldHMgPSBwcm9wcy5wYXJzZWRTbmFwVGFyZ2V0cy5yZWR1Y2UoZnVuY3Rpb24gKHNuYXBUYXJnZXRzLCBwYXJzZWRTbmFwVGFyZ2V0KSB7XG4gICAgICB2YXIgYmFzZVJlY3QgPSBwYXJzZWRTbmFwVGFyZ2V0LmJhc2UgPT09ICdjb250YWlubWVudCcgPyBjb250YWlubWVudEJCb3ggOiBkb2NCQm94LFxuICAgICAgICAgIGJhc2VPcmlnaW5YWSA9IHtcbiAgICAgICAgeDogYmFzZVJlY3QubGVmdCxcbiAgICAgICAgeTogYmFzZVJlY3QudG9wXG4gICAgICB9LFxuICAgICAgICAgIGJhc2VTaXplWFkgPSB7XG4gICAgICAgIHg6IGJhc2VSZWN0LndpZHRoLFxuICAgICAgICB5OiBiYXNlUmVjdC5oZWlnaHRcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIEJhc2ljYWxseSwgc2hhbGxvdyBjb3B5IGZyb20gcGFyc2VkU25hcFRhcmdldCwgYW5kIGl0IGNhbiBoYXZlIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgICAqIEB0eXBlZGVmIHt7eDogKG51bWJlcnxQUFZhbHVlKSwgeSwgeFN0YXJ0LCB4RW5kLCB4U3RlcCwgeVN0YXJ0LCB5RW5kLCB5U3RlcH19IFRhcmdldFhZXG4gICAgICAgKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbY29ybmVyc10gLSBBcHBsaWVkIHZhbHVlLlxuICAgICAgICogQHByb3BlcnR5IHtzdHJpbmdbXX0gW3NpZGVzXVxuICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBjZW50ZXJcbiAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbeEdyYXZpdHldIC0gT3ZlcnJpZGUgcGFyc2VkU25hcFRhcmdldC5ncmF2aXR5LlxuICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt5R3Jhdml0eV1cbiAgICAgICAqL1xuICAgICAgLy8gQWRkIHNpbmdsZSBQb2ludCBvciBMaW5lIChpLmUuIHRhcmdldFhZIGhhcyBubyAqU3RlcClcblxuICAgICAgZnVuY3Rpb24gYWRkU25hcFRhcmdldCh0YXJnZXRYWSkge1xuICAgICAgICBpZiAodGFyZ2V0WFkuY2VudGVyID09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRYWS5jZW50ZXIgPSBwYXJzZWRTbmFwVGFyZ2V0LmNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRYWS54R3Jhdml0eSA9PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0WFkueEdyYXZpdHkgPSBwYXJzZWRTbmFwVGFyZ2V0LmdyYXZpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0WFkueUdyYXZpdHkgPT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldFhZLnlHcmF2aXR5ID0gcGFyc2VkU25hcFRhcmdldC5ncmF2aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldFhZLnggIT0gbnVsbCAmJiB0YXJnZXRYWS55ICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBQb2ludFxuICAgICAgICAgIHRhcmdldFhZLnggPSByZXNvbHZlUFBWYWx1ZSh0YXJnZXRYWS54LCBiYXNlT3JpZ2luWFkueCwgYmFzZVNpemVYWS54KTtcbiAgICAgICAgICB0YXJnZXRYWS55ID0gcmVzb2x2ZVBQVmFsdWUodGFyZ2V0WFkueSwgYmFzZU9yaWdpblhZLnksIGJhc2VTaXplWFkueSk7XG5cbiAgICAgICAgICBpZiAodGFyZ2V0WFkuY2VudGVyKSB7XG4gICAgICAgICAgICB0YXJnZXRYWS54IC09IGVsZW1lbnRTaXplWFkueCAvIDI7XG4gICAgICAgICAgICB0YXJnZXRYWS55IC09IGVsZW1lbnRTaXplWFkueSAvIDI7XG4gICAgICAgICAgICB0YXJnZXRYWS5jb3JuZXJzID0gWyd0bCddO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICh0YXJnZXRYWS5jb3JuZXJzIHx8IHBhcnNlZFNuYXBUYXJnZXQuY29ybmVycykuZm9yRWFjaChmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHRhcmdldFhZLnggLSAoY29ybmVyID09PSAndHInIHx8IGNvcm5lciA9PT0gJ2JyJyA/IGVsZW1lbnRTaXplWFkueCA6IDApLFxuICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRYWS55IC0gKGNvcm5lciA9PT0gJ2JsJyB8fCBjb3JuZXIgPT09ICdicicgPyBlbGVtZW50U2l6ZVhZLnkgOiAwKTtcblxuICAgICAgICAgICAgaWYgKHggPj0gbWluWFkueCAmJiB4IDw9IG1heFhZLnggJiYgeSA+PSBtaW5YWS55ICYmIHkgPD0gbWF4WFkueSkge1xuICAgICAgICAgICAgICB2YXIgc25hcFRhcmdldCA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGdyYXZpdHlYU3RhcnQgPSB4IC0gdGFyZ2V0WFkueEdyYXZpdHksXG4gICAgICAgICAgICAgICAgICBncmF2aXR5WEVuZCA9IHggKyB0YXJnZXRYWS54R3Jhdml0eSxcbiAgICAgICAgICAgICAgICAgIGdyYXZpdHlZU3RhcnQgPSB5IC0gdGFyZ2V0WFkueUdyYXZpdHksXG4gICAgICAgICAgICAgICAgICBncmF2aXR5WUVuZCA9IHkgKyB0YXJnZXRYWS55R3Jhdml0eTtcblxuICAgICAgICAgICAgICBpZiAoZ3Jhdml0eVhTdGFydCA+IG1pblhZLngpIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0LmdyYXZpdHlYU3RhcnQgPSBncmF2aXR5WFN0YXJ0O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGdyYXZpdHlYRW5kIDwgbWF4WFkueCkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXQuZ3Jhdml0eVhFbmQgPSBncmF2aXR5WEVuZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChncmF2aXR5WVN0YXJ0ID4gbWluWFkueSkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXQuZ3Jhdml0eVlTdGFydCA9IGdyYXZpdHlZU3RhcnQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZ3Jhdml0eVlFbmQgPCBtYXhYWS55KSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldC5ncmF2aXR5WUVuZCA9IGdyYXZpdHlZRW5kO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc25hcFRhcmdldHMucHVzaChzbmFwVGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMaW5lXG4gICAgICAgICAgdmFyIHNwZWNBeGlzID0gdGFyZ2V0WFkueCAhPSBudWxsID8gJ3gnIDogJ3knLFxuICAgICAgICAgICAgICByYW5nZUF4aXMgPSBzcGVjQXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnLFxuICAgICAgICAgICAgICBzdGFydFByb3AgPSBcIlwiLmNvbmNhdChyYW5nZUF4aXMsIFwiU3RhcnRcIiksXG4gICAgICAgICAgICAgIGVuZFByb3AgPSBcIlwiLmNvbmNhdChyYW5nZUF4aXMsIFwiRW5kXCIpLFxuICAgICAgICAgICAgICBncmF2aXR5UHJvcCA9IFwiXCIuY29uY2F0KHNwZWNBeGlzLCBcIkdyYXZpdHlcIiksXG4gICAgICAgICAgICAgIHNwZWNBeGlzTCA9IHNwZWNBeGlzLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICAgIHJhbmdlQXhpc0wgPSByYW5nZUF4aXMudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgICAgZ3Jhdml0eVNwZWNTdGFydFByb3AgPSBcImdyYXZpdHlcIi5jb25jYXQoc3BlY0F4aXNMLCBcIlN0YXJ0XCIpLFxuICAgICAgICAgICAgICBncmF2aXR5U3BlY0VuZFByb3AgPSBcImdyYXZpdHlcIi5jb25jYXQoc3BlY0F4aXNMLCBcIkVuZFwiKSxcbiAgICAgICAgICAgICAgZ3Jhdml0eVJhbmdlU3RhcnRQcm9wID0gXCJncmF2aXR5XCIuY29uY2F0KHJhbmdlQXhpc0wsIFwiU3RhcnRcIiksXG4gICAgICAgICAgICAgIGdyYXZpdHlSYW5nZUVuZFByb3AgPSBcImdyYXZpdHlcIi5jb25jYXQocmFuZ2VBeGlzTCwgXCJFbmRcIik7XG4gICAgICAgICAgdGFyZ2V0WFlbc3BlY0F4aXNdID0gcmVzb2x2ZVBQVmFsdWUodGFyZ2V0WFlbc3BlY0F4aXNdLCBiYXNlT3JpZ2luWFlbc3BlY0F4aXNdLCBiYXNlU2l6ZVhZW3NwZWNBeGlzXSk7XG4gICAgICAgICAgdGFyZ2V0WFlbc3RhcnRQcm9wXSA9IHJlc29sdmVQUFZhbHVlKHRhcmdldFhZW3N0YXJ0UHJvcF0sIGJhc2VPcmlnaW5YWVtyYW5nZUF4aXNdLCBiYXNlU2l6ZVhZW3JhbmdlQXhpc10pO1xuICAgICAgICAgIHRhcmdldFhZW2VuZFByb3BdID0gcmVzb2x2ZVBQVmFsdWUodGFyZ2V0WFlbZW5kUHJvcF0sIGJhc2VPcmlnaW5YWVtyYW5nZUF4aXNdLCBiYXNlU2l6ZVhZW3JhbmdlQXhpc10pIC0gZWxlbWVudFNpemVYWVtyYW5nZUF4aXNdOyAvLyBSZWR1Y2UgdGhlIGVuZCBvZiB0aGUgbGluZS5cblxuICAgICAgICAgIGlmICh0YXJnZXRYWVtzdGFydFByb3BdID4gdGFyZ2V0WFlbZW5kUHJvcF0gfHwgLy8gU21hbGxlciB0aGFuIGVsZW1lbnQgc2l6ZS5cbiAgICAgICAgICB0YXJnZXRYWVtzdGFydFByb3BdID4gbWF4WFlbcmFuZ2VBeGlzXSB8fCB0YXJnZXRYWVtlbmRQcm9wXSA8IG1pblhZW3JhbmdlQXhpc10pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGFyZ2V0WFkuY2VudGVyKSB7XG4gICAgICAgICAgICB0YXJnZXRYWVtzcGVjQXhpc10gLT0gZWxlbWVudFNpemVYWVtzcGVjQXhpc10gLyAyO1xuICAgICAgICAgICAgdGFyZ2V0WFkuc2lkZXMgPSBbJ3N0YXJ0J107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgKHRhcmdldFhZLnNpZGVzIHx8IHBhcnNlZFNuYXBUYXJnZXQuc2lkZXMpLmZvckVhY2goZnVuY3Rpb24gKHNpZGUpIHtcbiAgICAgICAgICAgIHZhciB4eSA9IHRhcmdldFhZW3NwZWNBeGlzXSAtIChzaWRlID09PSAnZW5kJyA/IGVsZW1lbnRTaXplWFlbc3BlY0F4aXNdIDogMCk7XG5cbiAgICAgICAgICAgIGlmICh4eSA+PSBtaW5YWVtzcGVjQXhpc10gJiYgeHkgPD0gbWF4WFlbc3BlY0F4aXNdKSB7XG4gICAgICAgICAgICAgIHZhciBzbmFwVGFyZ2V0ID0ge30sXG4gICAgICAgICAgICAgICAgICBncmF2aXR5U3BlY1N0YXJ0ID0geHkgLSB0YXJnZXRYWVtncmF2aXR5UHJvcF0sXG4gICAgICAgICAgICAgICAgICBncmF2aXR5U3BlY0VuZCA9IHh5ICsgdGFyZ2V0WFlbZ3Jhdml0eVByb3BdO1xuICAgICAgICAgICAgICBzbmFwVGFyZ2V0W3NwZWNBeGlzXSA9IHh5O1xuXG4gICAgICAgICAgICAgIGlmIChncmF2aXR5U3BlY1N0YXJ0ID4gbWluWFlbc3BlY0F4aXNdKSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldFtncmF2aXR5U3BlY1N0YXJ0UHJvcF0gPSBncmF2aXR5U3BlY1N0YXJ0O1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGdyYXZpdHlTcGVjRW5kIDwgbWF4WFlbc3BlY0F4aXNdKSB7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldFtncmF2aXR5U3BlY0VuZFByb3BdID0gZ3Jhdml0eVNwZWNFbmQ7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodGFyZ2V0WFlbc3RhcnRQcm9wXSA+IG1pblhZW3JhbmdlQXhpc10pIHtcbiAgICAgICAgICAgICAgICBzbmFwVGFyZ2V0W2dyYXZpdHlSYW5nZVN0YXJ0UHJvcF0gPSB0YXJnZXRYWVtzdGFydFByb3BdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHRhcmdldFhZW2VuZFByb3BdIDwgbWF4WFlbcmFuZ2VBeGlzXSkge1xuICAgICAgICAgICAgICAgIHNuYXBUYXJnZXRbZ3Jhdml0eVJhbmdlRW5kUHJvcF0gPSB0YXJnZXRYWVtlbmRQcm9wXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNuYXBUYXJnZXRzLnB1c2goc25hcFRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGJCb3g7XG5cbiAgICAgIGlmICgoYkJveCA9IHBhcnNlZFNuYXBUYXJnZXQuZWxlbWVudCA/IGdldEJCb3gocGFyc2VkU25hcFRhcmdldC5lbGVtZW50KSA6IG51bGwpIHx8IC8vIEVsZW1lbnRcbiAgICAgIHBhcnNlZFNuYXBUYXJnZXQucHBCQm94KSB7XG4gICAgICAgIGlmIChwYXJzZWRTbmFwVGFyZ2V0LnBwQkJveCkge1xuICAgICAgICAgIGJCb3ggPSByZXNvbHZlUFBCQm94KHBhcnNlZFNuYXBUYXJnZXQucHBCQm94LCBiYXNlUmVjdCk7XG4gICAgICAgIH0gLy8gQkJveFxuXG5cbiAgICAgICAgaWYgKGJCb3gpIHtcbiAgICAgICAgICAvLyBEcm9wIGludmFsaWQgQkJveC5cbiAgICAgICAgICAvLyBFeHBhbmQgaW50byA0IGxpbmVzLlxuICAgICAgICAgIHBhcnNlZFNuYXBUYXJnZXQuZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aGVuWCA9IHBhcnNlZFNuYXBUYXJnZXQuZ3Jhdml0eSxcbiAgICAgICAgICAgICAgICBsZW5ndGhlblkgPSBwYXJzZWRTbmFwVGFyZ2V0LmdyYXZpdHk7XG5cbiAgICAgICAgICAgIGlmIChlZGdlID09PSAnb3V0c2lkZScpIHtcbiAgICAgICAgICAgICAgLy8gU25hcCBpdCB3aGVuIGEgcGFydCBvZiB0aGUgZWxlbWVudCBpcyBwYXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgICAgICAgICAgbGVuZ3RoZW5YICs9IGVsZW1lbnRCQm94LndpZHRoO1xuICAgICAgICAgICAgICBsZW5ndGhlblkgKz0gZWxlbWVudEJCb3guaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgeFN0YXJ0ID0gYkJveC5sZWZ0IC0gbGVuZ3RoZW5YLFxuICAgICAgICAgICAgICAgIHhFbmQgPSBiQm94LnJpZ2h0ICsgbGVuZ3RoZW5YLFxuICAgICAgICAgICAgICAgIHlTdGFydCA9IGJCb3gudG9wIC0gbGVuZ3RoZW5ZLFxuICAgICAgICAgICAgICAgIHlFbmQgPSBiQm94LmJvdHRvbSArIGxlbmd0aGVuWTtcbiAgICAgICAgICAgIHZhciBzaWRlID0gZWRnZSA9PT0gJ2luc2lkZScgPyAnc3RhcnQnIDogJ2VuZCc7XG4gICAgICAgICAgICBhZGRTbmFwVGFyZ2V0KHtcbiAgICAgICAgICAgICAgeFN0YXJ0OiB4U3RhcnQsXG4gICAgICAgICAgICAgIHhFbmQ6IHhFbmQsXG4gICAgICAgICAgICAgIHk6IGJCb3gudG9wLFxuICAgICAgICAgICAgICBzaWRlczogW3NpZGVdLFxuICAgICAgICAgICAgICBjZW50ZXI6IGZhbHNlXG4gICAgICAgICAgICB9KTsgLy8gVG9wXG5cbiAgICAgICAgICAgIGFkZFNuYXBUYXJnZXQoe1xuICAgICAgICAgICAgICB4OiBiQm94LmxlZnQsXG4gICAgICAgICAgICAgIHlTdGFydDogeVN0YXJ0LFxuICAgICAgICAgICAgICB5RW5kOiB5RW5kLFxuICAgICAgICAgICAgICBzaWRlczogW3NpZGVdLFxuICAgICAgICAgICAgICBjZW50ZXI6IGZhbHNlXG4gICAgICAgICAgICB9KTsgLy8gTGVmdFxuXG4gICAgICAgICAgICBzaWRlID0gZWRnZSA9PT0gJ2luc2lkZScgPyAnZW5kJyA6ICdzdGFydCc7XG4gICAgICAgICAgICBhZGRTbmFwVGFyZ2V0KHtcbiAgICAgICAgICAgICAgeFN0YXJ0OiB4U3RhcnQsXG4gICAgICAgICAgICAgIHhFbmQ6IHhFbmQsXG4gICAgICAgICAgICAgIHk6IGJCb3guYm90dG9tLFxuICAgICAgICAgICAgICBzaWRlczogW3NpZGVdLFxuICAgICAgICAgICAgICBjZW50ZXI6IGZhbHNlXG4gICAgICAgICAgICB9KTsgLy8gQm90dG9tXG5cbiAgICAgICAgICAgIGFkZFNuYXBUYXJnZXQoe1xuICAgICAgICAgICAgICB4OiBiQm94LnJpZ2h0LFxuICAgICAgICAgICAgICB5U3RhcnQ6IHlTdGFydCxcbiAgICAgICAgICAgICAgeUVuZDogeUVuZCxcbiAgICAgICAgICAgICAgc2lkZXM6IFtzaWRlXSxcbiAgICAgICAgICAgICAgY2VudGVyOiBmYWxzZVxuICAgICAgICAgICAgfSk7IC8vIFJpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBleHBhbmRlZCA9IFtbJ3gnLCAneScsICd4U3RhcnQnLCAneEVuZCcsICd4U3RlcCcsICd5U3RhcnQnLCAneUVuZCcsICd5U3RlcCddLnJlZHVjZShmdW5jdGlvbiAodGFyZ2V0WFksIHByb3ApIHtcbiAgICAgICAgICBpZiAocGFyc2VkU25hcFRhcmdldFtwcm9wXSkge1xuICAgICAgICAgICAgdGFyZ2V0WFlbcHJvcF0gPSByZXNvbHZlUFBWYWx1ZShwYXJzZWRTbmFwVGFyZ2V0W3Byb3BdLCBwcm9wID09PSAneFN0ZXAnIHx8IHByb3AgPT09ICd5U3RlcCcgPyAwIDogYmFzZU9yaWdpblhZW3Byb3AyQXhpc1twcm9wXV0sIGJhc2VTaXplWFlbcHJvcDJBeGlzW3Byb3BdXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHRhcmdldFhZO1xuICAgICAgICB9LCB7fSldO1xuICAgICAgICBbJ3gnLCAneSddLmZvckVhY2goZnVuY3Rpb24gKGF4aXMpIHtcbiAgICAgICAgICB2YXIgc3RhcnRQcm9wID0gXCJcIi5jb25jYXQoYXhpcywgXCJTdGFydFwiKSxcbiAgICAgICAgICAgICAgZW5kUHJvcCA9IFwiXCIuY29uY2F0KGF4aXMsIFwiRW5kXCIpLFxuICAgICAgICAgICAgICBzdGVwUHJvcCA9IFwiXCIuY29uY2F0KGF4aXMsIFwiU3RlcFwiKSxcbiAgICAgICAgICAgICAgZ3Jhdml0eVByb3AgPSBcIlwiLmNvbmNhdChheGlzLCBcIkdyYXZpdHlcIik7XG4gICAgICAgICAgZXhwYW5kZWQgPSBleHBhbmRlZC5yZWR1Y2UoZnVuY3Rpb24gKGV4cGFuZGVkLCB0YXJnZXRYWSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGFyZ2V0WFlbc3RhcnRQcm9wXSxcbiAgICAgICAgICAgICAgICBlbmQgPSB0YXJnZXRYWVtlbmRQcm9wXSxcbiAgICAgICAgICAgICAgICBzdGVwID0gdGFyZ2V0WFlbc3RlcFByb3BdO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnQgIT0gbnVsbCAmJiBlbmQgIT0gbnVsbCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cGFuZGVkO1xuICAgICAgICAgICAgfSAvLyBzdGFydCA+PSBlbmRcblxuXG4gICAgICAgICAgICBpZiAoc3RlcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIGlmIChzdGVwIDwgMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBleHBhbmRlZDtcbiAgICAgICAgICAgICAgfSAvLyBzdGVwID49IDJweCAtPiBFeHBhbmQgYnkgc3RlcFxuXG5cbiAgICAgICAgICAgICAgdmFyIGdyYXZpdHkgPSBzdGVwIC8gMjsgLy8gbWF4XG5cbiAgICAgICAgICAgICAgZ3Jhdml0eSA9IHBhcnNlZFNuYXBUYXJnZXQuZ3Jhdml0eSA+IGdyYXZpdHkgPyBncmF2aXR5IDogbnVsbDtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBjdXJWYWx1ZSA9IHN0YXJ0OyBjdXJWYWx1ZSA8PSBlbmQ7IGN1clZhbHVlICs9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhwYW5kZWRYWSA9IE9iamVjdC5rZXlzKHRhcmdldFhZKS5yZWR1Y2UoZnVuY3Rpb24gKGV4cGFuZGVkWFksIHByb3ApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwcm9wICE9PSBzdGFydFByb3AgJiYgcHJvcCAhPT0gZW5kUHJvcCAmJiBwcm9wICE9PSBzdGVwUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZFhZW3Byb3BdID0gdGFyZ2V0WFlbcHJvcF07XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBleHBhbmRlZFhZO1xuICAgICAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgICAgICBleHBhbmRlZFhZW2F4aXNdID0gY3VyVmFsdWU7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRYWVtncmF2aXR5UHJvcF0gPSBncmF2aXR5O1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkLnB1c2goZXhwYW5kZWRYWSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV4cGFuZGVkLnB1c2godGFyZ2V0WFkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXhwYW5kZWQ7XG4gICAgICAgICAgfSwgW10pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXhwYW5kZWQuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0WFkpIHtcbiAgICAgICAgICBhZGRTbmFwVGFyZ2V0KHRhcmdldFhZKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzbmFwVGFyZ2V0cztcbiAgICB9LCBbXSk7XG4gICAgcHJvcHMuc25hcFRhcmdldHMgPSBzbmFwVGFyZ2V0cy5sZW5ndGggPyBzbmFwVGFyZ2V0cyA6IG51bGw7XG4gIH0gLy8gWy9TTkFQXVxuICAvLyBbQVVUTy1TQ1JPTExdXG5cblxuICB2YXIgYXV0b1Njcm9sbCA9IHt9LFxuICAgICAgYXV0b1Njcm9sbE9wdGlvbnMgPSBwcm9wcy5vcHRpb25zLmF1dG9TY3JvbGw7XG5cbiAgaWYgKGF1dG9TY3JvbGxPcHRpb25zKSB7XG4gICAgYXV0b1Njcm9sbC5pc1dpbmRvdyA9IGF1dG9TY3JvbGxPcHRpb25zLnRhcmdldCA9PT0gd2luZG93O1xuICAgIGF1dG9TY3JvbGwudGFyZ2V0ID0gYXV0b1Njcm9sbE9wdGlvbnMudGFyZ2V0O1xuICAgIHZhciBkb250U2Nyb2xsID0gZXZlbnRUeXBlID09PSAnc2Nyb2xsJyxcbiAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRlZCBjYWxsaW5nXG4gICAgc2Nyb2xsYWJsZSA9IGdldFNjcm9sbGFibGUoYXV0b1Njcm9sbE9wdGlvbnMudGFyZ2V0LCBhdXRvU2Nyb2xsLmlzV2luZG93LCBkb250U2Nyb2xsKSxcbiAgICAgICAgc2Nyb2xsYWJsZUJCb3ggPSB2YWxpZEJCb3goe1xuICAgICAgbGVmdDogc2Nyb2xsYWJsZS5jbGllbnRYLFxuICAgICAgdG9wOiBzY3JvbGxhYmxlLmNsaWVudFksXG4gICAgICB3aWR0aDogc2Nyb2xsYWJsZS5jbGllbnRXaWR0aCxcbiAgICAgIGhlaWdodDogc2Nyb2xsYWJsZS5jbGllbnRIZWlnaHRcbiAgICB9KTtcblxuICAgIGlmICghZG9udFNjcm9sbCkge1xuICAgICAgYXV0b1Njcm9sbC5zY3JvbGxXaWR0aCA9IHNjcm9sbGFibGUuc2Nyb2xsV2lkdGg7XG4gICAgICBhdXRvU2Nyb2xsLnNjcm9sbEhlaWdodCA9IHNjcm9sbGFibGUuc2Nyb2xsSGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAocHJvcHMuYXV0b1Njcm9sbCkge1xuICAgICAgYXV0b1Njcm9sbC5zY3JvbGxXaWR0aCA9IHByb3BzLmF1dG9TY3JvbGwuc2Nyb2xsV2lkdGg7XG4gICAgICBhdXRvU2Nyb2xsLnNjcm9sbEhlaWdodCA9IHByb3BzLmF1dG9TY3JvbGwuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cblxuICAgIFtbJ1gnLCAnV2lkdGgnLCAnbGVmdCcsICdyaWdodCddLCBbJ1knLCAnSGVpZ2h0JywgJ3RvcCcsICdib3R0b20nXV0uZm9yRWFjaChmdW5jdGlvbiAoYXhpcykge1xuICAgICAgdmFyIHh5ID0gYXhpc1swXSxcbiAgICAgICAgICB3aCA9IGF4aXNbMV0sXG4gICAgICAgICAgYmFjayA9IGF4aXNbMl0sXG4gICAgICAgICAgZm9yd2FyZCA9IGF4aXNbM10sXG4gICAgICAgICAgbWF4QWJzID0gKGF1dG9TY3JvbGxbXCJzY3JvbGxcIi5jb25jYXQod2gpXSB8fCAwKSAtIHNjcm9sbGFibGVbXCJjbGllbnRcIi5jb25jYXQod2gpXSxcbiAgICAgICAgICBtaW4gPSBhdXRvU2Nyb2xsT3B0aW9uc1tcIm1pblwiLmNvbmNhdCh4eSldIHx8IDA7XG4gICAgICB2YXIgbWF4ID0gaXNGaW5pdGUoYXV0b1Njcm9sbE9wdGlvbnNbXCJtYXhcIi5jb25jYXQoeHkpXSkgPyBhdXRvU2Nyb2xsT3B0aW9uc1tcIm1heFwiLmNvbmNhdCh4eSldIDogbWF4QWJzO1xuXG4gICAgICBpZiAobWluIDwgbWF4ICYmIG1pbiA8IG1heEFicykge1xuICAgICAgICBpZiAobWF4ID4gbWF4QWJzKSB7XG4gICAgICAgICAgbWF4ID0gbWF4QWJzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmVzID0gW10sXG4gICAgICAgICAgICBlbGVtZW50U2l6ZSA9IGVsZW1lbnRCQm94W3doLnRvTG93ZXJDYXNlKCldO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBhdXRvU2Nyb2xsT3B0aW9ucy5zZW5zaXRpdml0eS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIC8vIG5lYXIgLT4gZmFyXG4gICAgICAgICAgdmFyIHNlbnNpdGl2aXR5ID0gYXV0b1Njcm9sbE9wdGlvbnMuc2Vuc2l0aXZpdHlbaV0sXG4gICAgICAgICAgICAgIHNwZWVkID0gYXV0b1Njcm9sbE9wdGlvbnMuc3BlZWRbaV07IC8vIGJhY2tcblxuICAgICAgICAgIGxpbmVzLnB1c2goe1xuICAgICAgICAgICAgZGlyOiAtMSxcbiAgICAgICAgICAgIHNwZWVkOiBzcGVlZCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzY3JvbGxhYmxlQkJveFtiYWNrXSArIHNlbnNpdGl2aXR5XG4gICAgICAgICAgfSk7IC8vIGZvcndhcmRcblxuICAgICAgICAgIGxpbmVzLnB1c2goe1xuICAgICAgICAgICAgZGlyOiAxLFxuICAgICAgICAgICAgc3BlZWQ6IHNwZWVkLFxuICAgICAgICAgICAgcG9zaXRpb246IHNjcm9sbGFibGVCQm94W2ZvcndhcmRdIC0gc2Vuc2l0aXZpdHkgLSBlbGVtZW50U2l6ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXV0b1Njcm9sbFt4eS50b0xvd2VyQ2FzZSgpXSA9IHtcbiAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgICBsaW5lczogbGluZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByb3BzLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsLnggfHwgYXV0b1Njcm9sbC55ID8gYXV0b1Njcm9sbCA6IG51bGw7IC8vIFsvQVVUTy1TQ1JPTExdXG59XG4vKipcbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5cblxuZnVuY3Rpb24gZHJhZ0VuZChwcm9wcykge1xuICBzY3JvbGxGcmFtZS5zdG9wKCk7IC8vIFtBVVRPLVNDUk9MTC9dXG5cbiAgc2V0RHJhZ2dhYmxlQ3Vyc29yKHByb3BzLm9wdGlvbnMuaGFuZGxlLCBwcm9wcy5vcmdDdXJzb3IpO1xuICBib2R5LnN0eWxlLmN1cnNvciA9IGNzc09yZ1ZhbHVlQm9keUN1cnNvcjtcblxuICBpZiAocHJvcHMub3B0aW9ucy56SW5kZXggIT09IGZhbHNlKSB7XG4gICAgcHJvcHMuZWxlbWVudFN0eWxlLnpJbmRleCA9IHByb3BzLm9yZ1pJbmRleDtcbiAgfVxuXG4gIGlmIChjc3NQcm9wVXNlclNlbGVjdCkge1xuICAgIGJvZHkuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdID0gY3NzT3JnVmFsdWVCb2R5VXNlclNlbGVjdDtcbiAgfVxuXG4gIHZhciBjbGFzc0xpc3QgPSBtQ2xhc3NMaXN0KHByb3BzLmVsZW1lbnQpO1xuXG4gIGlmIChtb3ZpbmdDbGFzcykge1xuICAgIGNsYXNzTGlzdC5yZW1vdmUobW92aW5nQ2xhc3MpO1xuICB9XG5cbiAgaWYgKGRyYWdnaW5nQ2xhc3MpIHtcbiAgICBjbGFzc0xpc3QucmVtb3ZlKGRyYWdnaW5nQ2xhc3MpO1xuICB9XG5cbiAgYWN0aXZlUHJvcHMgPSBudWxsO1xuICBwb2ludGVyRXZlbnQuY2FuY2VsKCk7IC8vIFJlc2V0IHBvaW50ZXIgKGFjdGl2ZVByb3BzIG11c3QgYmUgbnVsbCBiZWNhdXNlIHRoaXMgY2FsbHMgZW5kSGFuZGxlcilcblxuICBpZiAocHJvcHMub25EcmFnRW5kKSB7XG4gICAgcHJvcHMub25EcmFnRW5kKHtcbiAgICAgIGxlZnQ6IHByb3BzLmVsZW1lbnRCQm94LmxlZnQsXG4gICAgICB0b3A6IHByb3BzLmVsZW1lbnRCQm94LnRvcFxuICAgIH0pO1xuICB9XG59XG4vKipcbiAqIEBwYXJhbSB7cHJvcHN9IHByb3BzIC0gYHByb3BzYCBvZiBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7e2NsaWVudFgsIGNsaWVudFl9fSBwb2ludGVyWFkgLSBUaGlzIG1pZ2h0IGJlIE1vdXNlRXZlbnQsIFRvdWNoIG9mIFRvdWNoRXZlbnQgb3IgT2JqZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpdCBzdGFydGVkLlxuICovXG5cblxuZnVuY3Rpb24gZHJhZ1N0YXJ0KHByb3BzLCBwb2ludGVyWFkpIHtcbiAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHByb3BzLm9uRHJhZ1N0YXJ0ICYmIHByb3BzLm9uRHJhZ1N0YXJ0KHBvaW50ZXJYWSkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGFjdGl2ZVByb3BzKSB7XG4gICAgZHJhZ0VuZChhY3RpdmVQcm9wcyk7XG4gIH0gLy8gYWN0aXZlSXRlbSBpcyBub3JtYWxseSBudWxsIGJ5IHBvaW50ZXJFdmVudC5lbmQuXG5cblxuICBzZXREcmFnZ2luZ0N1cnNvcihwcm9wcy5vcHRpb25zLmhhbmRsZSk7XG4gIGJvZHkuc3R5bGUuY3Vyc29yID0gY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciB8fCAvLyBJZiBpdCBpcyBgZmFsc2VgIG9yIGAnJ2BcbiAgd2luZG93LmdldENvbXB1dGVkU3R5bGUocHJvcHMub3B0aW9ucy5oYW5kbGUsICcnKS5jdXJzb3I7XG5cbiAgaWYgKHByb3BzLm9wdGlvbnMuekluZGV4ICE9PSBmYWxzZSkge1xuICAgIHByb3BzLmVsZW1lbnRTdHlsZS56SW5kZXggPSBwcm9wcy5vcHRpb25zLnpJbmRleDtcbiAgfVxuXG4gIGlmIChjc3NQcm9wVXNlclNlbGVjdCkge1xuICAgIGJvZHkuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdID0gJ25vbmUnO1xuICB9XG5cbiAgaWYgKGRyYWdnaW5nQ2xhc3MpIHtcbiAgICBtQ2xhc3NMaXN0KHByb3BzLmVsZW1lbnQpLmFkZChkcmFnZ2luZ0NsYXNzKTtcbiAgfVxuXG4gIGFjdGl2ZVByb3BzID0gcHJvcHM7XG4gIGhhc01vdmVkID0gZmFsc2U7XG4gIHBvaW50ZXJPZmZzZXQubGVmdCA9IHByb3BzLmVsZW1lbnRCQm94LmxlZnQgLSAocG9pbnRlclhZLmNsaWVudFggKyB3aW5kb3cucGFnZVhPZmZzZXQpO1xuICBwb2ludGVyT2Zmc2V0LnRvcCA9IHByb3BzLmVsZW1lbnRCQm94LnRvcCAtIChwb2ludGVyWFkuY2xpZW50WSArIHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0ge3Byb3BzfSBwcm9wcyAtIGBwcm9wc2Agb2YgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gbmV3T3B0aW9ucyAtIE5ldyBvcHRpb25zLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblxuXG5mdW5jdGlvbiBfc2V0T3B0aW9ucyhwcm9wcywgbmV3T3B0aW9ucykge1xuICB2YXIgb3B0aW9ucyA9IHByb3BzLm9wdGlvbnM7XG4gIHZhciBuZWVkc0luaXRCQm94OyAvLyBjb250YWlubWVudFxuXG4gIGlmIChuZXdPcHRpb25zLmNvbnRhaW5tZW50KSB7XG4gICAgdmFyIGJCb3g7XG5cbiAgICBpZiAoaXNFbGVtZW50KG5ld09wdGlvbnMuY29udGFpbm1lbnQpKSB7XG4gICAgICAvLyBTcGVjaWZpYyBlbGVtZW50XG4gICAgICBpZiAobmV3T3B0aW9ucy5jb250YWlubWVudCAhPT0gb3B0aW9ucy5jb250YWlubWVudCkge1xuICAgICAgICBvcHRpb25zLmNvbnRhaW5tZW50ID0gbmV3T3B0aW9ucy5jb250YWlubWVudDtcbiAgICAgICAgcHJvcHMuY29udGFpbm1lbnRJc0JCb3ggPSBmYWxzZTtcbiAgICAgICAgbmVlZHNJbml0QkJveCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoYkJveCA9IHZhbGlkUFBCQm94KGNvcHlUcmVlKG5ld09wdGlvbnMuY29udGFpbm1lbnQpKSkgJiYgLy8gYkJveFxuICAgIGhhc0NoYW5nZWQoYkJveCwgb3B0aW9ucy5jb250YWlubWVudCkpIHtcbiAgICAgIG9wdGlvbnMuY29udGFpbm1lbnQgPSBiQm94O1xuICAgICAgcHJvcHMuY29udGFpbm1lbnRJc0JCb3ggPSB0cnVlO1xuICAgICAgbmVlZHNJbml0QkJveCA9IHRydWU7XG4gICAgfVxuICB9IC8vIFtTTkFQXVxuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBTbmFwT3B0aW9uc1xuICAgKiBAcHJvcGVydHkge1NuYXBUYXJnZXRPcHRpb25zW119IHRhcmdldHNcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtncmF2aXR5XVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Nvcm5lcl1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaWRlXVxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjZW50ZXJdXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZWRnZV1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtiYXNlXVxuICAgKi9cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gU25hcFRhcmdldE9wdGlvbnNcbiAgICogQHByb3BlcnR5IHsobnVtYmVyfHN0cmluZyl9IFt4XSAtIHBpeGVscyB8ICc8bj4lJyB8IHtzdGFydCwgZW5kfSB8IHtzdGVwLCBzdGFydCwgZW5kfVxuICAgKiBAcHJvcGVydHkgeyhudW1iZXJ8c3RyaW5nKX0gW3ldXG4gICAqIEBwcm9wZXJ0eSB7KEVsZW1lbnR8T2JqZWN0KX0gW2JvdW5kaW5nQm94XSAtIE9iamVjdCBoYXMgcHJvcGVydGllcyB0aGF0IGFyZSBzdHJpbmcgb3IgbnVtYmVyIGZyb20gUFBCQm94LlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW2dyYXZpdHldXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29ybmVyXVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3NpZGVdXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2NlbnRlcl1cbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtlZGdlXVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Jhc2VdXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQYXJzZWRTbmFwVGFyZ2V0XG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3hdIC0gKGlucHV0OiBwaXhlbHMgfCAnPG4+JScpXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3ldXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3hTdGFydF0gLSAoaW5wdXQ6IHtzdGFydCwgZW5kfSB8IHtzdGVwLCBzdGFydCwgZW5kfSlcbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeEVuZF1cbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeFN0ZXBdIC0gKGlucHV0OiB7c3RlcCwgc3RhcnQsIGVuZH0pXG4gICAqIEBwcm9wZXJ0eSB7UFBWYWx1ZX0gW3lTdGFydF1cbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeUVuZF1cbiAgICogQHByb3BlcnR5IHtQUFZhbHVlfSBbeVN0ZXBdXG4gICAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gW2VsZW1lbnRdXG4gICAqIEBwcm9wZXJ0eSB7UFBCQm94fSBbcHBCQm94XVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gZ3Jhdml0eVxuICAgKiBAcHJvcGVydHkge3N0cmluZ1tdfSBjb3JuZXJzXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHNpZGVzXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2VudGVyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGVkZ2VzXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBiYXNlXG4gICAqL1xuICAvLyBOb3JtYWxpemUgYGdyYXZpdHlgLCBgY29ybmVyYCwgYHNpZGVgLCBgY2VudGVyYCwgYGVkZ2VgLCBgYmFzZWBcblxuXG4gIGZ1bmN0aW9uIGNvbW1vblNuYXBPcHRpb25zKG9wdGlvbnMsIG5ld09wdGlvbnMpIHtcbiAgICBmdW5jdGlvbiBjbGVhblN0cmluZyhpblN0cmluZykge1xuICAgICAgcmV0dXJuIHR5cGVvZiBpblN0cmluZyA9PT0gJ3N0cmluZycgPyBpblN0cmluZy5yZXBsYWNlKC9bLCBdKy9nLCAnICcpLnRyaW0oKS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcbiAgICB9IC8vIGdyYXZpdHlcblxuXG4gICAgaWYgKGlzRmluaXRlKG5ld09wdGlvbnMuZ3Jhdml0eSkgJiYgbmV3T3B0aW9ucy5ncmF2aXR5ID4gMCkge1xuICAgICAgb3B0aW9ucy5ncmF2aXR5ID0gbmV3T3B0aW9ucy5ncmF2aXR5O1xuICAgIH0gLy8gY29ybmVyXG5cblxuICAgIHZhciBjb3JuZXIgPSBjbGVhblN0cmluZyhuZXdPcHRpb25zLmNvcm5lcik7XG5cbiAgICBpZiAoY29ybmVyKSB7XG4gICAgICBpZiAoY29ybmVyICE9PSAnYWxsJykge1xuICAgICAgICB2YXIgYWRkZWQgPSB7fSxcbiAgICAgICAgICAgIGNvcm5lcnMgPSBjb3JuZXIuc3BsaXQoL1xccy8pLnJlZHVjZShmdW5jdGlvbiAoY29ybmVycywgY29ybmVyKSB7XG4gICAgICAgICAgY29ybmVyID0gY29ybmVyLnRyaW0oKS5yZXBsYWNlKC9eKC4pLio/LSguKS4qJC8sICckMSQyJyk7XG5cbiAgICAgICAgICBpZiAoKGNvcm5lciA9IGNvcm5lciA9PT0gJ3RsJyB8fCBjb3JuZXIgPT09ICdsdCcgPyAndGwnIDogY29ybmVyID09PSAndHInIHx8IGNvcm5lciA9PT0gJ3J0JyA/ICd0cicgOiBjb3JuZXIgPT09ICdibCcgfHwgY29ybmVyID09PSAnbGInID8gJ2JsJyA6IGNvcm5lciA9PT0gJ2JyJyB8fCBjb3JuZXIgPT09ICdyYicgPyAnYnInIDogbnVsbCkgJiYgIWFkZGVkW2Nvcm5lcl0pIHtcbiAgICAgICAgICAgIGNvcm5lcnMucHVzaChjb3JuZXIpO1xuICAgICAgICAgICAgYWRkZWRbY29ybmVyXSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGNvcm5lcnM7XG4gICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIGNvcm5lcnNMZW4gPSBjb3JuZXJzLmxlbmd0aDtcbiAgICAgICAgY29ybmVyID0gIWNvcm5lcnNMZW4gPyBudWxsIDogY29ybmVyc0xlbiA9PT0gNCA/ICdhbGwnIDogY29ybmVycy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb3JuZXIpIHtcbiAgICAgICAgb3B0aW9ucy5jb3JuZXIgPSBjb3JuZXI7XG4gICAgICB9XG4gICAgfSAvLyBzaWRlXG5cblxuICAgIHZhciBzaWRlID0gY2xlYW5TdHJpbmcobmV3T3B0aW9ucy5zaWRlKTtcblxuICAgIGlmIChzaWRlKSB7XG4gICAgICBpZiAoc2lkZSA9PT0gJ3N0YXJ0JyB8fCBzaWRlID09PSAnZW5kJyB8fCBzaWRlID09PSAnYm90aCcpIHtcbiAgICAgICAgb3B0aW9ucy5zaWRlID0gc2lkZTtcbiAgICAgIH0gZWxzZSBpZiAoc2lkZSA9PT0gJ3N0YXJ0IGVuZCcgfHwgc2lkZSA9PT0gJ2VuZCBzdGFydCcpIHtcbiAgICAgICAgb3B0aW9ucy5zaWRlID0gJ2JvdGgnO1xuICAgICAgfVxuICAgIH0gLy8gY2VudGVyXG5cblxuICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5jZW50ZXIgPT09ICdib29sZWFuJykge1xuICAgICAgb3B0aW9ucy5jZW50ZXIgPSBuZXdPcHRpb25zLmNlbnRlcjtcbiAgICB9IC8vIGVkZ2VcblxuXG4gICAgdmFyIGVkZ2UgPSBjbGVhblN0cmluZyhuZXdPcHRpb25zLmVkZ2UpO1xuXG4gICAgaWYgKGVkZ2UpIHtcbiAgICAgIGlmIChlZGdlID09PSAnaW5zaWRlJyB8fCBlZGdlID09PSAnb3V0c2lkZScgfHwgZWRnZSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIG9wdGlvbnMuZWRnZSA9IGVkZ2U7XG4gICAgICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdpbnNpZGUgb3V0c2lkZScgfHwgZWRnZSA9PT0gJ291dHNpZGUgaW5zaWRlJykge1xuICAgICAgICBvcHRpb25zLmVkZ2UgPSAnYm90aCc7XG4gICAgICB9XG4gICAgfSAvLyBiYXNlXG5cblxuICAgIHZhciBiYXNlID0gdHlwZW9mIG5ld09wdGlvbnMuYmFzZSA9PT0gJ3N0cmluZycgPyBuZXdPcHRpb25zLmJhc2UudHJpbSgpLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuXG4gICAgaWYgKGJhc2UgJiYgKGJhc2UgPT09ICdjb250YWlubWVudCcgfHwgYmFzZSA9PT0gJ2RvY3VtZW50JykpIHtcbiAgICAgIG9wdGlvbnMuYmFzZSA9IGJhc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH0gLy8gc25hcFxuXG5cbiAgaWYgKG5ld09wdGlvbnMuc25hcCAhPSBudWxsKSB7XG4gICAgdmFyIG5ld1NuYXBPcHRpb25zID0gaXNPYmplY3QobmV3T3B0aW9ucy5zbmFwKSAmJiBuZXdPcHRpb25zLnNuYXAudGFyZ2V0cyAhPSBudWxsID8gbmV3T3B0aW9ucy5zbmFwIDoge1xuICAgICAgdGFyZ2V0czogbmV3T3B0aW9ucy5zbmFwXG4gICAgfSxcbiAgICAgICAgc25hcFRhcmdldHNPcHRpb25zID0gW10sXG4gICAgICAgIHNuYXBPcHRpb25zID0gY29tbW9uU25hcE9wdGlvbnMoe1xuICAgICAgdGFyZ2V0czogc25hcFRhcmdldHNPcHRpb25zXG4gICAgfSwgbmV3U25hcE9wdGlvbnMpOyAvLyBTZXQgZGVmYXVsdCBvcHRpb25zIGludG8gdG9wIGxldmVsLlxuXG4gICAgaWYgKCFzbmFwT3B0aW9ucy5ncmF2aXR5KSB7XG4gICAgICBzbmFwT3B0aW9ucy5ncmF2aXR5ID0gU05BUF9HUkFWSVRZO1xuICAgIH1cblxuICAgIGlmICghc25hcE9wdGlvbnMuY29ybmVyKSB7XG4gICAgICBzbmFwT3B0aW9ucy5jb3JuZXIgPSBTTkFQX0NPUk5FUjtcbiAgICB9XG5cbiAgICBpZiAoIXNuYXBPcHRpb25zLnNpZGUpIHtcbiAgICAgIHNuYXBPcHRpb25zLnNpZGUgPSBTTkFQX1NJREU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzbmFwT3B0aW9ucy5jZW50ZXIgIT09ICdib29sZWFuJykge1xuICAgICAgc25hcE9wdGlvbnMuY2VudGVyID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFzbmFwT3B0aW9ucy5lZGdlKSB7XG4gICAgICBzbmFwT3B0aW9ucy5lZGdlID0gU05BUF9FREdFO1xuICAgIH1cblxuICAgIGlmICghc25hcE9wdGlvbnMuYmFzZSkge1xuICAgICAgc25hcE9wdGlvbnMuYmFzZSA9IFNOQVBfQkFTRTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VkU25hcFRhcmdldHMgPSAoQXJyYXkuaXNBcnJheShuZXdTbmFwT3B0aW9ucy50YXJnZXRzKSA/IG5ld1NuYXBPcHRpb25zLnRhcmdldHMgOiBbbmV3U25hcE9wdGlvbnMudGFyZ2V0c10pLnJlZHVjZShmdW5jdGlvbiAocGFyc2VkU25hcFRhcmdldHMsIHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRTbmFwVGFyZ2V0cztcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWxlbWVudFByZSA9IGlzRWxlbWVudCh0YXJnZXQpLFxuICAgICAgICAgIC8vIFByZS1jaGVjayBkaXJlY3QgdmFsdWVcbiAgICAgIHBwQkJveFByZSA9IHZhbGlkUFBCQm94KGNvcHlUcmVlKHRhcmdldCkpLFxuICAgICAgICAgIC8vIFByZS1jaGVjayBkaXJlY3QgdmFsdWVcbiAgICAgIG5ld1NuYXBUYXJnZXRPcHRpb25zID0gaXNFbGVtZW50UHJlIHx8IHBwQkJveFByZSA/IHtcbiAgICAgICAgYm91bmRpbmdCb3g6IHRhcmdldFxuICAgICAgfSA6IC8vIERpcmVjdCBFbGVtZW50IHwgUFBCQm94XG4gICAgICBpc09iamVjdCh0YXJnZXQpICYmIHRhcmdldC5zdGFydCA9PSBudWxsICYmIHRhcmdldC5lbmQgPT0gbnVsbCAmJiB0YXJnZXQuc3RlcCA9PSBudWxsID8gdGFyZ2V0IDogLy8gU25hcFRhcmdldE9wdGlvbnNcbiAgICAgIHtcbiAgICAgICAgeDogdGFyZ2V0LFxuICAgICAgICB5OiB0YXJnZXRcbiAgICAgIH0sXG4gICAgICAgICAgLy8gT3RoZXJzLCBpdCBtaWdodCBiZSB7c3RlcCwgc3RhcnQsIGVuZH1cbiAgICAgIGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMgPSBbXSxcbiAgICAgICAgICBzbmFwVGFyZ2V0T3B0aW9ucyA9IHt9LFxuICAgICAgICAgIG5ld09wdGlvbnNCQm94ID0gbmV3U25hcFRhcmdldE9wdGlvbnMuYm91bmRpbmdCb3g7XG4gICAgICB2YXIgcHBCQm94O1xuXG4gICAgICBpZiAoaXNFbGVtZW50UHJlIHx8IGlzRWxlbWVudChuZXdPcHRpb25zQkJveCkpIHtcbiAgICAgICAgLy8gRWxlbWVudFxuICAgICAgICBleHBhbmRlZFBhcnNlZFNuYXBUYXJnZXRzLnB1c2goe1xuICAgICAgICAgIGVsZW1lbnQ6IG5ld09wdGlvbnNCQm94XG4gICAgICAgIH0pO1xuICAgICAgICBzbmFwVGFyZ2V0T3B0aW9ucy5ib3VuZGluZ0JveCA9IG5ld09wdGlvbnNCQm94O1xuICAgICAgfSBlbHNlIGlmIChwcEJCb3ggPSBwcEJCb3hQcmUgfHwgdmFsaWRQUEJCb3goY29weVRyZWUobmV3T3B0aW9uc0JCb3gpKSkge1xuICAgICAgICAvLyBPYmplY3QgLT4gUFBCQm94XG4gICAgICAgIGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMucHVzaCh7XG4gICAgICAgICAgcHBCQm94OiBwcEJCb3hcbiAgICAgICAgfSk7XG4gICAgICAgIHNuYXBUYXJnZXRPcHRpb25zLmJvdW5kaW5nQm94ID0gcHBCQm94Mk9wdGlvbk9iamVjdChwcEJCb3gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGludmFsaWQ7IC8vIGB0cnVlYCBpZiB2YWxpZCBQUFZhbHVlIHdhcyBnaXZlbiBidXQgdGhlIGNvbnRhaW5lZCB2YWx1ZSBpcyBpbnZhbGlkLlxuXG4gICAgICAgIHZhciBwYXJzZWRYWSA9IFsneCcsICd5J10ucmVkdWNlKGZ1bmN0aW9uIChwYXJzZWRYWSwgYXhpcykge1xuICAgICAgICAgIHZhciBuZXdPcHRpb25zWFkgPSBuZXdTbmFwVGFyZ2V0T3B0aW9uc1theGlzXTtcbiAgICAgICAgICB2YXIgcHBWYWx1ZTtcblxuICAgICAgICAgIGlmIChwcFZhbHVlID0gdmFsaWRQUFZhbHVlKG5ld09wdGlvbnNYWSkpIHtcbiAgICAgICAgICAgIC8vIHBpeGVscyB8ICc8bj4lJ1xuICAgICAgICAgICAgcGFyc2VkWFlbYXhpc10gPSBwcFZhbHVlO1xuICAgICAgICAgICAgc25hcFRhcmdldE9wdGlvbnNbYXhpc10gPSBwcFZhbHVlMk9wdGlvblZhbHVlKHBwVmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB7c3RhcnQsIGVuZH0gfCB7c3RlcCwgc3RhcnQsIGVuZH1cbiAgICAgICAgICAgIHZhciBzdGFydCwgZW5kLCBzdGVwO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3QobmV3T3B0aW9uc1hZKSkge1xuICAgICAgICAgICAgICBzdGFydCA9IHZhbGlkUFBWYWx1ZShuZXdPcHRpb25zWFkuc3RhcnQpO1xuICAgICAgICAgICAgICBlbmQgPSB2YWxpZFBQVmFsdWUobmV3T3B0aW9uc1hZLmVuZCk7XG4gICAgICAgICAgICAgIHN0ZXAgPSB2YWxpZFBQVmFsdWUobmV3T3B0aW9uc1hZLnN0ZXApO1xuXG4gICAgICAgICAgICAgIGlmIChzdGFydCAmJiBlbmQgJiYgc3RhcnQuaXNSYXRpbyA9PT0gZW5kLmlzUmF0aW8gJiYgc3RhcnQudmFsdWUgPj0gZW5kLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgPj0gZW5kXG4gICAgICAgICAgICAgICAgaW52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhcnQgPSBwYXJzZWRYWVtcIlwiLmNvbmNhdChheGlzLCBcIlN0YXJ0XCIpXSA9IHN0YXJ0IHx8IHtcbiAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAgIGlzUmF0aW86IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZW5kID0gcGFyc2VkWFlbXCJcIi5jb25jYXQoYXhpcywgXCJFbmRcIildID0gZW5kIHx8IHtcbiAgICAgICAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgICAgICAgIGlzUmF0aW86IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzbmFwVGFyZ2V0T3B0aW9uc1theGlzXSA9IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IHBwVmFsdWUyT3B0aW9uVmFsdWUoc3RhcnQpLFxuICAgICAgICAgICAgICBlbmQ6IHBwVmFsdWUyT3B0aW9uVmFsdWUoZW5kKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICAgICAgaWYgKHN0ZXAuaXNSYXRpbyA/IHN0ZXAudmFsdWUgPiAwIDogc3RlcC52YWx1ZSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RlcCA+IDAlIHx8IHN0ZXAgPj0gMnB4XG4gICAgICAgICAgICAgICAgcGFyc2VkWFlbXCJcIi5jb25jYXQoYXhpcywgXCJTdGVwXCIpXSA9IHN0ZXA7XG4gICAgICAgICAgICAgICAgc25hcFRhcmdldE9wdGlvbnNbYXhpc10uc3RlcCA9IHBwVmFsdWUyT3B0aW9uVmFsdWUoc3RlcCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcGFyc2VkWFk7XG4gICAgICAgIH0sIHt9KTtcblxuICAgICAgICBpZiAoaW52YWxpZCkge1xuICAgICAgICAgIHJldHVybiBwYXJzZWRTbmFwVGFyZ2V0cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZWRYWS54U3RhcnQgJiYgIXBhcnNlZFhZLnhTdGVwICYmIHBhcnNlZFhZLnlTdGFydCAmJiAhcGFyc2VkWFkueVN0ZXApIHtcbiAgICAgICAgICAvLyBFeHBhbmQgaW50byA0IGxpbmVzLiBUaGlzIGlzIG5vdCBCQm94LCBhbmQgYGVkZ2VgIGlzIGlnbm9yZWQuXG4gICAgICAgICAgZXhwYW5kZWRQYXJzZWRTbmFwVGFyZ2V0cy5wdXNoKHtcbiAgICAgICAgICAgIHhTdGFydDogcGFyc2VkWFkueFN0YXJ0LFxuICAgICAgICAgICAgeEVuZDogcGFyc2VkWFkueEVuZCxcbiAgICAgICAgICAgIHk6IHBhcnNlZFhZLnlTdGFydFxuICAgICAgICAgIH0sIC8vIFRvcFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHhTdGFydDogcGFyc2VkWFkueFN0YXJ0LFxuICAgICAgICAgICAgeEVuZDogcGFyc2VkWFkueEVuZCxcbiAgICAgICAgICAgIHk6IHBhcnNlZFhZLnlFbmRcbiAgICAgICAgICB9LCAvLyBCb3R0b21cbiAgICAgICAgICB7XG4gICAgICAgICAgICB4OiBwYXJzZWRYWS54U3RhcnQsXG4gICAgICAgICAgICB5U3RhcnQ6IHBhcnNlZFhZLnlTdGFydCxcbiAgICAgICAgICAgIHlFbmQ6IHBhcnNlZFhZLnlFbmRcbiAgICAgICAgICB9LCAvLyBMZWZ0XG4gICAgICAgICAge1xuICAgICAgICAgICAgeDogcGFyc2VkWFkueEVuZCxcbiAgICAgICAgICAgIHlTdGFydDogcGFyc2VkWFkueVN0YXJ0LFxuICAgICAgICAgICAgeUVuZDogcGFyc2VkWFkueUVuZFxuICAgICAgICAgIH0gLy8gUmlnaHRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMucHVzaChwYXJzZWRYWSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMubGVuZ3RoKSB7XG4gICAgICAgIHNuYXBUYXJnZXRzT3B0aW9ucy5wdXNoKGNvbW1vblNuYXBPcHRpb25zKHNuYXBUYXJnZXRPcHRpb25zLCBuZXdTbmFwVGFyZ2V0T3B0aW9ucykpOyAvLyBDb3B5IGNvbW1vbiBTbmFwT3B0aW9uc1xuXG4gICAgICAgIHZhciBjb3JuZXIgPSBzbmFwVGFyZ2V0T3B0aW9ucy5jb3JuZXIgfHwgc25hcE9wdGlvbnMuY29ybmVyLFxuICAgICAgICAgICAgc2lkZSA9IHNuYXBUYXJnZXRPcHRpb25zLnNpZGUgfHwgc25hcE9wdGlvbnMuc2lkZSxcbiAgICAgICAgICAgIGVkZ2UgPSBzbmFwVGFyZ2V0T3B0aW9ucy5lZGdlIHx8IHNuYXBPcHRpb25zLmVkZ2UsXG4gICAgICAgICAgICBjb21tb25PcHRpb25zID0ge1xuICAgICAgICAgIGdyYXZpdHk6IHNuYXBUYXJnZXRPcHRpb25zLmdyYXZpdHkgfHwgc25hcE9wdGlvbnMuZ3Jhdml0eSxcbiAgICAgICAgICBiYXNlOiBzbmFwVGFyZ2V0T3B0aW9ucy5iYXNlIHx8IHNuYXBPcHRpb25zLmJhc2UsXG4gICAgICAgICAgY2VudGVyOiB0eXBlb2Ygc25hcFRhcmdldE9wdGlvbnMuY2VudGVyID09PSAnYm9vbGVhbicgPyBzbmFwVGFyZ2V0T3B0aW9ucy5jZW50ZXIgOiBzbmFwT3B0aW9ucy5jZW50ZXIsXG4gICAgICAgICAgY29ybmVyczogY29ybmVyID09PSAnYWxsJyA/IFNOQVBfQUxMX0NPUk5FUlMgOiBjb3JuZXIuc3BsaXQoJyAnKSxcbiAgICAgICAgICAvLyBTcGxpdFxuICAgICAgICAgIHNpZGVzOiBzaWRlID09PSAnYm90aCcgPyBTTkFQX0FMTF9TSURFUyA6IFtzaWRlXSxcbiAgICAgICAgICAvLyBTcGxpdFxuICAgICAgICAgIGVkZ2VzOiBlZGdlID09PSAnYm90aCcgPyBTTkFQX0FMTF9FREdFUyA6IFtlZGdlXSAvLyBTcGxpdFxuXG4gICAgICAgIH07XG4gICAgICAgIGV4cGFuZGVkUGFyc2VkU25hcFRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiAocGFyc2VkU25hcFRhcmdldCkge1xuICAgICAgICAgIC8vIFNldCBjb21tb24gU25hcE9wdGlvbnNcbiAgICAgICAgICBbJ2dyYXZpdHknLCAnY29ybmVycycsICdzaWRlcycsICdjZW50ZXInLCAnZWRnZXMnLCAnYmFzZSddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgcGFyc2VkU25hcFRhcmdldFtvcHRpb25dID0gY29tbW9uT3B0aW9uc1tvcHRpb25dO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBhcnNlZFNuYXBUYXJnZXRzLnB1c2gocGFyc2VkU25hcFRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyc2VkU25hcFRhcmdldHM7XG4gICAgfSwgW10pO1xuXG4gICAgaWYgKHBhcnNlZFNuYXBUYXJnZXRzLmxlbmd0aCkge1xuICAgICAgb3B0aW9ucy5zbmFwID0gc25hcE9wdGlvbnM7IC8vIFVwZGF0ZSBhbHdheXNcblxuICAgICAgaWYgKGhhc0NoYW5nZWQocGFyc2VkU25hcFRhcmdldHMsIHByb3BzLnBhcnNlZFNuYXBUYXJnZXRzKSkge1xuICAgICAgICBwcm9wcy5wYXJzZWRTbmFwVGFyZ2V0cyA9IHBhcnNlZFNuYXBUYXJnZXRzO1xuICAgICAgICBuZWVkc0luaXRCQm94ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAobmV3T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc25hcCcpICYmIHByb3BzLnBhcnNlZFNuYXBUYXJnZXRzKSB7XG4gICAgb3B0aW9ucy5zbmFwID0gcHJvcHMucGFyc2VkU25hcFRhcmdldHMgPSBwcm9wcy5zbmFwVGFyZ2V0cyA9IHZvaWQgMDtcbiAgfSAvLyBbL1NOQVBdXG4gIC8vIFtBVVRPLVNDUk9MTF1cblxuICAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gQXV0b1Njcm9sbE9wdGlvbnNcbiAgICogQHByb3BlcnR5IHsoRWxlbWVudHxXaW5kb3cpfSB0YXJnZXRcbiAgICogQHByb3BlcnR5IHtBcnJheX0gc3BlZWRcbiAgICogQHByb3BlcnR5IHtBcnJheX0gc2Vuc2l0aXZpdHlcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5YXVxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW21heFhdXG4gICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluWV1cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhZXVxuICAgKi9cbiAgLy8gYXV0b1Njcm9sbFxuXG5cbiAgaWYgKG5ld09wdGlvbnMuYXV0b1Njcm9sbCkge1xuICAgIHZhciBuZXdBdXRvU2Nyb2xsT3B0aW9ucyA9IGlzT2JqZWN0KG5ld09wdGlvbnMuYXV0b1Njcm9sbCkgPyBuZXdPcHRpb25zLmF1dG9TY3JvbGwgOiB7XG4gICAgICB0YXJnZXQ6IG5ld09wdGlvbnMuYXV0b1Njcm9sbCA9PT0gdHJ1ZSA/IHdpbmRvdyA6IG5ld09wdGlvbnMuYXV0b1Njcm9sbFxuICAgIH0sXG4gICAgICAgIGF1dG9TY3JvbGxPcHRpb25zID0ge307IC8vIHRhcmdldFxuXG4gICAgYXV0b1Njcm9sbE9wdGlvbnMudGFyZ2V0ID0gaXNFbGVtZW50KG5ld0F1dG9TY3JvbGxPcHRpb25zLnRhcmdldCkgPyBuZXdBdXRvU2Nyb2xsT3B0aW9ucy50YXJnZXQgOiB3aW5kb3c7IC8vIHNwZWVkXG5cbiAgICBhdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZCA9IFtdO1xuICAgIChBcnJheS5pc0FycmF5KG5ld0F1dG9TY3JvbGxPcHRpb25zLnNwZWVkKSA/IG5ld0F1dG9TY3JvbGxPcHRpb25zLnNwZWVkIDogW25ld0F1dG9TY3JvbGxPcHRpb25zLnNwZWVkXSkuZXZlcnkoZnVuY3Rpb24gKHNwZWVkLCBpKSB7XG4gICAgICBpZiAoaSA8PSAyICYmIGlzRmluaXRlKHNwZWVkKSkge1xuICAgICAgICBhdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZFtpXSA9IHNwZWVkO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFhdXRvU2Nyb2xsT3B0aW9ucy5zcGVlZC5sZW5ndGgpIHtcbiAgICAgIGF1dG9TY3JvbGxPcHRpb25zLnNwZWVkID0gQVVUT1NDUk9MTF9TUEVFRDtcbiAgICB9IC8vIHNlbnNpdGl2aXR5XG5cblxuICAgIHZhciBuZXdTZW5zaXRpdml0eSA9IEFycmF5LmlzQXJyYXkobmV3QXV0b1Njcm9sbE9wdGlvbnMuc2Vuc2l0aXZpdHkpID8gbmV3QXV0b1Njcm9sbE9wdGlvbnMuc2Vuc2l0aXZpdHkgOiBbbmV3QXV0b1Njcm9sbE9wdGlvbnMuc2Vuc2l0aXZpdHldO1xuICAgIGF1dG9TY3JvbGxPcHRpb25zLnNlbnNpdGl2aXR5ID0gYXV0b1Njcm9sbE9wdGlvbnMuc3BlZWQubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICByZXR1cm4gaXNGaW5pdGUobmV3U2Vuc2l0aXZpdHlbaV0pID8gbmV3U2Vuc2l0aXZpdHlbaV0gOiBBVVRPU0NST0xMX1NFTlNJVElWSVRZW2ldO1xuICAgIH0pOyAvLyBtaW4qLCBtYXgqXG5cbiAgICBbJ1gnLCAnWSddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgdmFyIG9wdGlvbk1pbiA9IFwibWluXCIuY29uY2F0KG9wdGlvbiksXG4gICAgICAgICAgb3B0aW9uTWF4ID0gXCJtYXhcIi5jb25jYXQob3B0aW9uKTtcblxuICAgICAgaWYgKGlzRmluaXRlKG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1pbl0pICYmIG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1pbl0gPj0gMCkge1xuICAgICAgICBhdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NaW5dID0gbmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWluXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRmluaXRlKG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1heF0pICYmIG5ld0F1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1heF0gPj0gMCAmJiAoIWF1dG9TY3JvbGxPcHRpb25zW29wdGlvbk1pbl0gfHwgbmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWF4XSA+PSBhdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NaW5dKSkge1xuICAgICAgICBhdXRvU2Nyb2xsT3B0aW9uc1tvcHRpb25NYXhdID0gbmV3QXV0b1Njcm9sbE9wdGlvbnNbb3B0aW9uTWF4XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChoYXNDaGFuZ2VkKGF1dG9TY3JvbGxPcHRpb25zLCBvcHRpb25zLmF1dG9TY3JvbGwpKSB7XG4gICAgICBvcHRpb25zLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsT3B0aW9ucztcbiAgICAgIG5lZWRzSW5pdEJCb3ggPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChuZXdPcHRpb25zLmhhc093blByb3BlcnR5KCdhdXRvU2Nyb2xsJykpIHtcbiAgICBpZiAob3B0aW9ucy5hdXRvU2Nyb2xsKSB7XG4gICAgICBuZWVkc0luaXRCQm94ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBvcHRpb25zLmF1dG9TY3JvbGwgPSB2b2lkIDA7XG4gIH0gLy8gWy9BVVRPLVNDUk9MTF1cblxuXG4gIGlmIChuZWVkc0luaXRCQm94KSB7XG4gICAgaW5pdEJCb3gocHJvcHMpO1xuICB9IC8vIGhhbmRsZVxuXG5cbiAgaWYgKGlzRWxlbWVudChuZXdPcHRpb25zLmhhbmRsZSkgJiYgbmV3T3B0aW9ucy5oYW5kbGUgIT09IG9wdGlvbnMuaGFuZGxlKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFuZGxlKSB7XG4gICAgICAvLyBSZXN0b3JlXG4gICAgICBvcHRpb25zLmhhbmRsZS5zdHlsZS5jdXJzb3IgPSBwcm9wcy5vcmdDdXJzb3I7XG5cbiAgICAgIGlmIChjc3NQcm9wVXNlclNlbGVjdCkge1xuICAgICAgICBvcHRpb25zLmhhbmRsZS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF0gPSBwcm9wcy5vcmdVc2VyU2VsZWN0O1xuICAgICAgfVxuXG4gICAgICBwb2ludGVyRXZlbnQucmVtb3ZlU3RhcnRIYW5kbGVyKG9wdGlvbnMuaGFuZGxlLCBwcm9wcy5wb2ludGVyRXZlbnRIYW5kbGVySWQpO1xuICAgIH1cblxuICAgIHZhciBoYW5kbGUgPSBvcHRpb25zLmhhbmRsZSA9IG5ld09wdGlvbnMuaGFuZGxlO1xuICAgIHByb3BzLm9yZ0N1cnNvciA9IGhhbmRsZS5zdHlsZS5jdXJzb3I7XG4gICAgc2V0RHJhZ2dhYmxlQ3Vyc29yKGhhbmRsZSwgcHJvcHMub3JnQ3Vyc29yKTtcblxuICAgIGlmIChjc3NQcm9wVXNlclNlbGVjdCkge1xuICAgICAgcHJvcHMub3JnVXNlclNlbGVjdCA9IGhhbmRsZS5zdHlsZVtjc3NQcm9wVXNlclNlbGVjdF07XG4gICAgICBoYW5kbGUuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHBvaW50ZXJFdmVudC5hZGRTdGFydEhhbmRsZXIoaGFuZGxlLCBwcm9wcy5wb2ludGVyRXZlbnRIYW5kbGVySWQpO1xuICB9IC8vIHpJbmRleFxuXG5cbiAgaWYgKGlzRmluaXRlKG5ld09wdGlvbnMuekluZGV4KSB8fCBuZXdPcHRpb25zLnpJbmRleCA9PT0gZmFsc2UpIHtcbiAgICBvcHRpb25zLnpJbmRleCA9IG5ld09wdGlvbnMuekluZGV4O1xuXG4gICAgaWYgKHByb3BzID09PSBhY3RpdmVQcm9wcykge1xuICAgICAgcHJvcHMuZWxlbWVudFN0eWxlLnpJbmRleCA9IG9wdGlvbnMuekluZGV4ID09PSBmYWxzZSA/IHByb3BzLm9yZ1pJbmRleCA6IG9wdGlvbnMuekluZGV4O1xuICAgIH1cbiAgfSAvLyBsZWZ0L3RvcFxuXG5cbiAgdmFyIHBvc2l0aW9uID0ge1xuICAgIGxlZnQ6IHByb3BzLmVsZW1lbnRCQm94LmxlZnQsXG4gICAgdG9wOiBwcm9wcy5lbGVtZW50QkJveC50b3BcbiAgfTtcbiAgdmFyIG5lZWRzTW92ZTtcblxuICBpZiAoaXNGaW5pdGUobmV3T3B0aW9ucy5sZWZ0KSAmJiBuZXdPcHRpb25zLmxlZnQgIT09IHBvc2l0aW9uLmxlZnQpIHtcbiAgICBwb3NpdGlvbi5sZWZ0ID0gbmV3T3B0aW9ucy5sZWZ0O1xuICAgIG5lZWRzTW92ZSA9IHRydWU7XG4gIH1cblxuICBpZiAoaXNGaW5pdGUobmV3T3B0aW9ucy50b3ApICYmIG5ld09wdGlvbnMudG9wICE9PSBwb3NpdGlvbi50b3ApIHtcbiAgICBwb3NpdGlvbi50b3AgPSBuZXdPcHRpb25zLnRvcDtcbiAgICBuZWVkc01vdmUgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG5lZWRzTW92ZSkge1xuICAgIG1vdmUocHJvcHMsIHBvc2l0aW9uKTtcbiAgfSAvLyBFdmVudCBsaXN0ZW5lcnNcblxuXG4gIFsnb25EcmFnJywgJ29uTW92ZScsICdvbkRyYWdTdGFydCcsICdvbk1vdmVTdGFydCcsICdvbkRyYWdFbmQnXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICBpZiAodHlwZW9mIG5ld09wdGlvbnNbb3B0aW9uXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3B0aW9uc1tvcHRpb25dID0gbmV3T3B0aW9uc1tvcHRpb25dO1xuICAgICAgcHJvcHNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXS5iaW5kKHByb3BzLmlucyk7XG4gICAgfSBlbHNlIGlmIChuZXdPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikgJiYgbmV3T3B0aW9uc1tvcHRpb25dID09IG51bGwpIHtcbiAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IHByb3BzW29wdGlvbl0gPSB2b2lkIDA7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIFBsYWluRHJhZ2dhYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGBQbGFpbkRyYWdnYWJsZWAgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIFRhcmdldCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucy5cbiAgICovXG4gIGZ1bmN0aW9uIFBsYWluRHJhZ2dhYmxlKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxhaW5EcmFnZ2FibGUpO1xuXG4gICAgdmFyIHByb3BzID0ge1xuICAgICAgaW5zOiB0aGlzLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICAvLyBJbml0aWFsIG9wdGlvbnMgKG5vdCBkZWZhdWx0KVxuICAgICAgICB6SW5kZXg6IFpJTkRFWCAvLyBJbml0aWFsIHN0YXRlLlxuXG4gICAgICB9LFxuICAgICAgZGlzYWJsZWQ6IGZhbHNlXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19pZCcsIHtcbiAgICAgIHZhbHVlOiArK2luc0lkXG4gICAgfSk7XG4gICAgcHJvcHMuX2lkID0gdGhpcy5faWQ7XG4gICAgaW5zUHJvcHNbdGhpcy5faWRdID0gcHJvcHM7XG5cbiAgICBpZiAoIWlzRWxlbWVudChlbGVtZW50KSB8fCBlbGVtZW50ID09PSBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZWxlbWVudCBpcyBub3QgYWNjZXB0ZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfSBlbHNlIGlmICghaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcHRpb25zLicpO1xuICAgIH1cblxuICAgIHZhciBncHVUcmlnZ2VyID0gdHJ1ZTsgLy8gW1NWR11cblxuICAgIHZhciBvd25lclN2ZzsgLy8gU1ZHRWxlbWVudCB3aGljaCBpcyBub3Qgcm9vdCB2aWV3XG5cbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgKG93bmVyU3ZnID0gZWxlbWVudC5vd25lclNWR0VsZW1lbnQpKSB7XG4gICAgICAvLyBJdCBtZWFucyBgaW5zdGFuY2VvZiBTVkdMb2NhdGFibGVgIChtYW55IGJyb3dzZXJzIGRvbid0IGhhdmUgU1ZHTG9jYXRhYmxlKVxuICAgICAgaWYgKCFlbGVtZW50LmdldEJCb3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGVsZW1lbnQgaXMgbm90IGFjY2VwdGVkLiAoU1ZHTG9jYXRhYmxlKScpO1xuICAgICAgfSAvLyBUcmlkZW50IGFuZCBFZGdlIGJ1ZywgU1ZHU1ZHRWxlbWVudCBkb2Vzbid0IGhhdmUgU1ZHQW5pbWF0ZWRUcmFuc2Zvcm1MaXN0P1xuXG5cbiAgICAgIGlmICghZWxlbWVudC50cmFuc2Zvcm0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGVsZW1lbnQgaXMgbm90IGFjY2VwdGVkLiAoU1ZHQW5pbWF0ZWRUcmFuc2Zvcm1MaXN0KScpO1xuICAgICAgfSAvLyBUcmlkZW50IGJ1ZywgcmV0dXJuZWQgdmFsdWUgbXVzdCBiZSB1c2VkIChUaGF0IGlzIG5vdCBnaXZlbiB2YWx1ZSkuXG5cblxuICAgICAgcHJvcHMuc3ZnVHJhbnNmb3JtID0gZWxlbWVudC50cmFuc2Zvcm0uYmFzZVZhbC5hcHBlbmRJdGVtKG93bmVyU3ZnLmNyZWF0ZVNWR1RyYW5zZm9ybSgpKTtcbiAgICAgIHByb3BzLnN2Z1BvaW50ID0gb3duZXJTdmcuY3JlYXRlU1ZHUG9pbnQoKTsgLy8gR2Vja28gYnVnLCB2aWV3LmdldFNjcmVlbkNUTSByZXR1cm5zIENUTSB3aXRoIHJvb3Qgdmlldy5cblxuICAgICAgdmFyIHN2Z1ZpZXcgPSBlbGVtZW50Lm5lYXJlc3RWaWV3cG9ydEVsZW1lbnQ7XG4gICAgICBwcm9wcy5zdmdDdG1FbGVtZW50ID0gIUlTX0dFQ0tPID8gc3ZnVmlldyA6IHN2Z1ZpZXcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG93bmVyU3ZnLm5hbWVzcGFjZVVSSSwgJ3JlY3QnKSk7XG4gICAgICBncHVUcmlnZ2VyID0gZmFsc2U7XG4gICAgICBwcm9wcy5pbml0RWxtID0gaW5pdFN2ZztcbiAgICAgIHByb3BzLm1vdmVFbG0gPSBtb3ZlU3ZnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBbL1NWR11cblxuICAgICAgLyogZXNsaW50LWRpc2FibGUgaW5kZW50ICovXG5cbiAgICAgIC8qIFtTVkcvXSAqL1xuICAgICAgdmFyIGNzc1Byb3BXaWxsQ2hhbmdlID0gQ1NTUHJlZml4LmdldE5hbWUoJ3dpbGxDaGFuZ2UnKTtcblxuICAgICAgaWYgKGNzc1Byb3BXaWxsQ2hhbmdlKSB7XG4gICAgICAgIGdwdVRyaWdnZXIgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFvcHRpb25zLmxlZnRUb3AgJiYgY3NzUHJvcFRyYW5zZm9ybSkge1xuICAgICAgICAvLyB0cmFuc2xhdGVcbiAgICAgICAgaWYgKGNzc1Byb3BXaWxsQ2hhbmdlKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVtjc3NQcm9wV2lsbENoYW5nZV0gPSAndHJhbnNmb3JtJztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BzLmluaXRFbG0gPSBpbml0VHJhbnNsYXRlO1xuICAgICAgICBwcm9wcy5tb3ZlRWxtID0gbW92ZVRyYW5zbGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGxlZnQgYW5kIHRvcFxuICAgICAgICAvLyBbTEVGVFRPUF1cbiAgICAgICAgaWYgKGNzc1Byb3BXaWxsQ2hhbmdlKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZVtjc3NQcm9wV2lsbENoYW5nZV0gPSAnbGVmdCwgdG9wJztcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BzLmluaXRFbG0gPSBpbml0TGVmdFRvcDtcbiAgICAgICAgcHJvcHMubW92ZUVsbSA9IG1vdmVMZWZ0VG9wOyAvLyBbL0xFRlRUT1BdXG5cbiAgICAgICAgLyogW0xFRlRUT1AvXVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B0cmFuc2Zvcm1gIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIFtMRUZUVE9QL10gKi9cbiAgICAgIH1cbiAgICAgIC8qIGVzbGludC1lbmFibGUgaW5kZW50ICovXG5cbiAgICAgIC8qIFtTVkcvXSAqL1xuXG4gICAgfSAvLyBbU1ZHL11cblxuXG4gICAgcHJvcHMuZWxlbWVudCA9IGluaXRBbmltKGVsZW1lbnQsIGdwdVRyaWdnZXIpO1xuICAgIHByb3BzLmVsZW1lbnRTdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gICAgcHJvcHMub3JnWkluZGV4ID0gcHJvcHMuZWxlbWVudFN0eWxlLnpJbmRleDtcblxuICAgIGlmIChkcmFnZ2FibGVDbGFzcykge1xuICAgICAgbUNsYXNzTGlzdChlbGVtZW50KS5hZGQoZHJhZ2dhYmxlQ2xhc3MpO1xuICAgIH1cblxuICAgIHByb3BzLnBvaW50ZXJFdmVudEhhbmRsZXJJZCA9IHBvaW50ZXJFdmVudC5yZWdTdGFydEhhbmRsZXIoZnVuY3Rpb24gKHBvaW50ZXJYWSkge1xuICAgICAgcmV0dXJuIGRyYWdTdGFydChwcm9wcywgcG9pbnRlclhZKTtcbiAgICB9KTsgLy8gRGVmYXVsdCBvcHRpb25zXG5cbiAgICBpZiAoIW9wdGlvbnMuY29udGFpbm1lbnQpIHtcbiAgICAgIHZhciBwYXJlbnQ7XG4gICAgICBvcHRpb25zLmNvbnRhaW5tZW50ID0gKHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSkgJiYgaXNFbGVtZW50KHBhcmVudCkgPyBwYXJlbnQgOiBib2R5O1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5oYW5kbGUpIHtcbiAgICAgIG9wdGlvbnMuaGFuZGxlID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICBfc2V0T3B0aW9ucyhwcm9wcywgb3B0aW9ucyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUGxhaW5EcmFnZ2FibGUsIFt7XG4gICAga2V5OiBcInJlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBpbnNQcm9wc1t0aGlzLl9pZF07XG4gICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTsgLy8gVG8gcmVzdG9yZSBlbGVtZW50IGFuZCByZXNldCBwb2ludGVyXG5cbiAgICAgIHBvaW50ZXJFdmVudC51bnJlZ1N0YXJ0SGFuZGxlcihwb2ludGVyRXZlbnQucmVtb3ZlU3RhcnRIYW5kbGVyKHByb3BzLm9wdGlvbnMuaGFuZGxlLCBwcm9wcy5wb2ludGVyRXZlbnRIYW5kbGVySWQpKTtcbiAgICAgIGRlbGV0ZSBpbnNQcm9wc1t0aGlzLl9pZF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gTmV3IG9wdGlvbnMuXG4gICAgICogQHJldHVybnMge1BsYWluRHJhZ2dhYmxlfSBDdXJyZW50IGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldE9wdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBvc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvc2l0aW9uKCkge1xuICAgICAgaW5pdEJCb3goaW5zUHJvcHNbdGhpcy5faWRdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkaXNhYmxlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGluc1Byb3BzW3RoaXMuX2lkXS5kaXNhYmxlZDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBpbnNQcm9wc1t0aGlzLl9pZF07XG5cbiAgICAgIGlmICgodmFsdWUgPSAhIXZhbHVlKSAhPT0gcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcHJvcHMuZGlzYWJsZWQgPSB2YWx1ZTtcblxuICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBpZiAocHJvcHMgPT09IGFjdGl2ZVByb3BzKSB7XG4gICAgICAgICAgICBkcmFnRW5kKHByb3BzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcm9wcy5vcHRpb25zLmhhbmRsZS5zdHlsZS5jdXJzb3IgPSBwcm9wcy5vcmdDdXJzb3I7XG5cbiAgICAgICAgICBpZiAoY3NzUHJvcFVzZXJTZWxlY3QpIHtcbiAgICAgICAgICAgIHByb3BzLm9wdGlvbnMuaGFuZGxlLnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XSA9IHByb3BzLm9yZ1VzZXJTZWxlY3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRyYWdnYWJsZUNsYXNzKSB7XG4gICAgICAgICAgICBtQ2xhc3NMaXN0KHByb3BzLmVsZW1lbnQpLnJlbW92ZShkcmFnZ2FibGVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldERyYWdnYWJsZUN1cnNvcihwcm9wcy5vcHRpb25zLmhhbmRsZSwgcHJvcHMub3JnQ3Vyc29yKTtcblxuICAgICAgICAgIGlmIChjc3NQcm9wVXNlclNlbGVjdCkge1xuICAgICAgICAgICAgcHJvcHMub3B0aW9ucy5oYW5kbGUuc3R5bGVbY3NzUHJvcFVzZXJTZWxlY3RdID0gJ25vbmUnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkcmFnZ2FibGVDbGFzcykge1xuICAgICAgICAgICAgbUNsYXNzTGlzdChwcm9wcy5lbGVtZW50KS5hZGQoZHJhZ2dhYmxlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbGVtZW50XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLmVsZW1lbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlY3RcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBjb3B5VHJlZShpbnNQcm9wc1t0aGlzLl9pZF0uZWxlbWVudEJCb3gpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsZWZ0XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLmVsZW1lbnRCQm94LmxlZnQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgX3NldE9wdGlvbnMoaW5zUHJvcHNbdGhpcy5faWRdLCB7XG4gICAgICAgIGxlZnQ6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9wXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLmVsZW1lbnRCQm94LnRvcDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgdG9wOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbnRhaW5tZW50XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBpbnNQcm9wc1t0aGlzLl9pZF07XG4gICAgICByZXR1cm4gcHJvcHMuY29udGFpbm1lbnRJc0JCb3ggPyBwcEJCb3gyT3B0aW9uT2JqZWN0KHByb3BzLm9wdGlvbnMuY29udGFpbm1lbnQpIDogcHJvcHMub3B0aW9ucy5jb250YWlubWVudDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgY29udGFpbm1lbnQ6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9IC8vIFtTTkFQXVxuXG4gIH0sIHtcbiAgICBrZXk6IFwic25hcFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGNvcHlUcmVlKGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLnNuYXApO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBzbmFwOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSAvLyBbL1NOQVBdXG4gICAgLy8gW0FVVE8tU0NST0xMXVxuXG4gIH0sIHtcbiAgICBrZXk6IFwiYXV0b1Njcm9sbFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGNvcHlUcmVlKGluc1Byb3BzW3RoaXMuX2lkXS5vcHRpb25zLmF1dG9TY3JvbGwpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBhdXRvU2Nyb2xsOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSAvLyBbL0FVVE8tU0NST0xMXVxuXG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMuaGFuZGxlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBoYW5kbGU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiekluZGV4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMuekluZGV4O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICB6SW5kZXg6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFnXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMub25EcmFnO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBvbkRyYWc6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3ZlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMub25Nb3ZlO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBvbk1vdmU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFnU3RhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5vbkRyYWdTdGFydDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgb25EcmFnU3RhcnQ6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25Nb3ZlU3RhcnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBpbnNQcm9wc1t0aGlzLl9pZF0ub3B0aW9ucy5vbk1vdmVTdGFydDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBfc2V0T3B0aW9ucyhpbnNQcm9wc1t0aGlzLl9pZF0sIHtcbiAgICAgICAgb25Nb3ZlU3RhcnQ6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFnRW5kXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gaW5zUHJvcHNbdGhpcy5faWRdLm9wdGlvbnMub25EcmFnRW5kO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIF9zZXRPcHRpb25zKGluc1Byb3BzW3RoaXMuX2lkXSwge1xuICAgICAgICBvbkRyYWdFbmQ6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJkcmFnZ2FibGVDdXJzb3JcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBjc3NXYW50ZWRWYWx1ZURyYWdnYWJsZUN1cnNvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICBpZiAoY3NzV2FudGVkVmFsdWVEcmFnZ2FibGVDdXJzb3IgIT09IHZhbHVlKSB7XG4gICAgICAgIGNzc1dhbnRlZFZhbHVlRHJhZ2dhYmxlQ3Vyc29yID0gdmFsdWU7XG4gICAgICAgIGNzc1ZhbHVlRHJhZ2dhYmxlQ3Vyc29yID0gbnVsbDsgLy8gUmVzZXRcblxuICAgICAgICBPYmplY3Qua2V5cyhpbnNQcm9wcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICB2YXIgcHJvcHMgPSBpbnNQcm9wc1tpZF07XG5cbiAgICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMgPT09IGFjdGl2ZVByb3BzICYmIGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0RHJhZ2dhYmxlQ3Vyc29yKHByb3BzLm9wdGlvbnMuaGFuZGxlLCBwcm9wcy5vcmdDdXJzb3IpO1xuXG4gICAgICAgICAgaWYgKHByb3BzID09PSBhY3RpdmVQcm9wcykge1xuICAgICAgICAgICAgLy8gU2luY2UgY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciBpcyBgZmFsc2VgLCBjb3B5IGN1cnNvciBhZ2Fpbi5cbiAgICAgICAgICAgIGJvZHkuc3R5bGUuY3Vyc29yID0gY3NzT3JnVmFsdWVCb2R5Q3Vyc29yO1xuICAgICAgICAgICAgYm9keS5zdHlsZS5jdXJzb3IgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwcm9wcy5vcHRpb25zLmhhbmRsZSwgJycpLmN1cnNvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmFnZ2luZ0N1cnNvclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGNzc1dhbnRlZFZhbHVlRHJhZ2dpbmdDdXJzb3I7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgaWYgKGNzc1dhbnRlZFZhbHVlRHJhZ2dpbmdDdXJzb3IgIT09IHZhbHVlKSB7XG4gICAgICAgIGNzc1dhbnRlZFZhbHVlRHJhZ2dpbmdDdXJzb3IgPSB2YWx1ZTtcbiAgICAgICAgY3NzVmFsdWVEcmFnZ2luZ0N1cnNvciA9IG51bGw7IC8vIFJlc2V0XG5cbiAgICAgICAgaWYgKGFjdGl2ZVByb3BzKSB7XG4gICAgICAgICAgc2V0RHJhZ2dpbmdDdXJzb3IoYWN0aXZlUHJvcHMub3B0aW9ucy5oYW5kbGUpO1xuXG4gICAgICAgICAgaWYgKGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzZXREcmFnZ2FibGVDdXJzb3IoYWN0aXZlUHJvcHMub3B0aW9ucy5oYW5kbGUsIGFjdGl2ZVByb3BzLm9yZ0N1cnNvcik7IC8vIGRyYWdnYWJsZUN1cnNvclxuXG4gICAgICAgICAgICBib2R5LnN0eWxlLmN1cnNvciA9IGNzc09yZ1ZhbHVlQm9keUN1cnNvcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBib2R5LnN0eWxlLmN1cnNvciA9IGNzc1ZhbHVlRHJhZ2dpbmdDdXJzb3IgfHwgLy8gSWYgaXQgaXMgYGZhbHNlYCBvciBgJydgXG4gICAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoYWN0aXZlUHJvcHMub3B0aW9ucy5oYW5kbGUsICcnKS5jdXJzb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ2dhYmxlQ2xhc3NcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBkcmFnZ2FibGVDbGFzcztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyAnJyA6IHZvaWQgMDtcblxuICAgICAgaWYgKHZhbHVlICE9PSBkcmFnZ2FibGVDbGFzcykge1xuICAgICAgICBPYmplY3Qua2V5cyhpbnNQcm9wcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICB2YXIgcHJvcHMgPSBpbnNQcm9wc1tpZF07XG5cbiAgICAgICAgICBpZiAoIXByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NMaXN0ID0gbUNsYXNzTGlzdChwcm9wcy5lbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGRyYWdnYWJsZUNsYXNzKSB7XG4gICAgICAgICAgICAgIGNsYXNzTGlzdC5yZW1vdmUoZHJhZ2dhYmxlQ2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZHJhZ2dhYmxlQ2xhc3MgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZHJhZ2dpbmdDbGFzc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGRyYWdnaW5nQ2xhc3M7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgJycgOiB2b2lkIDA7XG5cbiAgICAgIGlmICh2YWx1ZSAhPT0gZHJhZ2dpbmdDbGFzcykge1xuICAgICAgICBpZiAoYWN0aXZlUHJvcHMpIHtcbiAgICAgICAgICB2YXIgY2xhc3NMaXN0ID0gbUNsYXNzTGlzdChhY3RpdmVQcm9wcy5lbGVtZW50KTtcblxuICAgICAgICAgIGlmIChkcmFnZ2luZ0NsYXNzKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKGRyYWdnaW5nQ2xhc3MpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgY2xhc3NMaXN0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZHJhZ2dpbmdDbGFzcyA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtb3ZpbmdDbGFzc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG1vdmluZ0NsYXNzO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZSArICcnIDogdm9pZCAwO1xuXG4gICAgICBpZiAodmFsdWUgIT09IG1vdmluZ0NsYXNzKSB7XG4gICAgICAgIGlmIChhY3RpdmVQcm9wcyAmJiBoYXNNb3ZlZCkge1xuICAgICAgICAgIHZhciBjbGFzc0xpc3QgPSBtQ2xhc3NMaXN0KGFjdGl2ZVByb3BzLmVsZW1lbnQpO1xuXG4gICAgICAgICAgaWYgKG1vdmluZ0NsYXNzKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKG1vdmluZ0NsYXNzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1vdmluZ0NsYXNzID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBsYWluRHJhZ2dhYmxlO1xufSgpO1xuXG5wb2ludGVyRXZlbnQuYWRkTW92ZUhhbmRsZXIoZG9jdW1lbnQsIGZ1bmN0aW9uIChwb2ludGVyWFkpIHtcbiAgaWYgKCFhY3RpdmVQcm9wcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwb3NpdGlvbiA9IHtcbiAgICBsZWZ0OiBwb2ludGVyWFkuY2xpZW50WCArIHdpbmRvdy5wYWdlWE9mZnNldCArIHBvaW50ZXJPZmZzZXQubGVmdCxcbiAgICB0b3A6IHBvaW50ZXJYWS5jbGllbnRZICsgd2luZG93LnBhZ2VZT2Zmc2V0ICsgcG9pbnRlck9mZnNldC50b3BcbiAgfTtcblxuICBpZiAobW92ZShhY3RpdmVQcm9wcywgcG9zaXRpb24sIC8vIFtTTkFQXVxuICBhY3RpdmVQcm9wcy5zbmFwVGFyZ2V0cyA/IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgIC8vIFNuYXBcbiAgICB2YXIgaUxlbiA9IGFjdGl2ZVByb3BzLnNuYXBUYXJnZXRzLmxlbmd0aDtcbiAgICB2YXIgc25hcHBlZFggPSBmYWxzZSxcbiAgICAgICAgc25hcHBlZFkgPSBmYWxzZSxcbiAgICAgICAgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBpTGVuICYmICghc25hcHBlZFggfHwgIXNuYXBwZWRZKTsgaSsrKSB7XG4gICAgICB2YXIgc25hcFRhcmdldCA9IGFjdGl2ZVByb3BzLnNuYXBUYXJnZXRzW2ldO1xuXG4gICAgICBpZiAoKHNuYXBUYXJnZXQuZ3Jhdml0eVhTdGFydCA9PSBudWxsIHx8IHBvc2l0aW9uLmxlZnQgPj0gc25hcFRhcmdldC5ncmF2aXR5WFN0YXJ0KSAmJiAoc25hcFRhcmdldC5ncmF2aXR5WEVuZCA9PSBudWxsIHx8IHBvc2l0aW9uLmxlZnQgPD0gc25hcFRhcmdldC5ncmF2aXR5WEVuZCkgJiYgKHNuYXBUYXJnZXQuZ3Jhdml0eVlTdGFydCA9PSBudWxsIHx8IHBvc2l0aW9uLnRvcCA+PSBzbmFwVGFyZ2V0LmdyYXZpdHlZU3RhcnQpICYmIChzbmFwVGFyZ2V0LmdyYXZpdHlZRW5kID09IG51bGwgfHwgcG9zaXRpb24udG9wIDw9IHNuYXBUYXJnZXQuZ3Jhdml0eVlFbmQpKSB7XG4gICAgICAgIGlmICghc25hcHBlZFggJiYgc25hcFRhcmdldC54ICE9IG51bGwpIHtcbiAgICAgICAgICBwb3NpdGlvbi5sZWZ0ID0gc25hcFRhcmdldC54O1xuICAgICAgICAgIHNuYXBwZWRYID0gdHJ1ZTtcbiAgICAgICAgICBpID0gLTE7IC8vIFJlc3RhcnQgbG9vcFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzbmFwcGVkWSAmJiBzbmFwVGFyZ2V0LnkgIT0gbnVsbCkge1xuICAgICAgICAgIHBvc2l0aW9uLnRvcCA9IHNuYXBUYXJnZXQueTtcbiAgICAgICAgICBzbmFwcGVkWSA9IHRydWU7XG4gICAgICAgICAgaSA9IC0xOyAvLyBSZXN0YXJ0IGxvb3BcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHBvc2l0aW9uLnNuYXBwZWQgPSBzbmFwcGVkWCB8fCBzbmFwcGVkWTtcbiAgICByZXR1cm4gYWN0aXZlUHJvcHMub25EcmFnID8gYWN0aXZlUHJvcHMub25EcmFnKHBvc2l0aW9uKSA6IHRydWU7XG4gIH0gOiAvLyBbL1NOQVBdXG4gIGFjdGl2ZVByb3BzLm9uRHJhZykpIHtcbiAgICAvLyBbQVVUTy1TQ1JPTExdXG4gICAgdmFyIHh5TW92ZUFyZ3MgPSB7fSxcbiAgICAgICAgYXV0b1Njcm9sbCA9IGFjdGl2ZVByb3BzLmF1dG9TY3JvbGw7XG5cbiAgICBpZiAoYXV0b1Njcm9sbCkge1xuICAgICAgdmFyIGNsaWVudFhZID0ge1xuICAgICAgICB4OiBhY3RpdmVQcm9wcy5lbGVtZW50QkJveC5sZWZ0IC0gd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICB5OiBhY3RpdmVQcm9wcy5lbGVtZW50QkJveC50b3AgLSB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgIH07XG4gICAgICBbJ3gnLCAneSddLmZvckVhY2goZnVuY3Rpb24gKGF4aXMpIHtcbiAgICAgICAgaWYgKGF1dG9TY3JvbGxbYXhpc10pIHtcbiAgICAgICAgICB2YXIgbWluID0gYXV0b1Njcm9sbFtheGlzXS5taW4sXG4gICAgICAgICAgICAgIG1heCA9IGF1dG9TY3JvbGxbYXhpc10ubWF4O1xuICAgICAgICAgIGF1dG9TY3JvbGxbYXhpc10ubGluZXMuc29tZShmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgaWYgKGxpbmUuZGlyID09PSAtMSA/IGNsaWVudFhZW2F4aXNdIDw9IGxpbmUucG9zaXRpb24gOiBjbGllbnRYWVtheGlzXSA+PSBsaW5lLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHh5TW92ZUFyZ3NbYXhpc10gPSB7XG4gICAgICAgICAgICAgICAgZGlyOiBsaW5lLmRpcixcbiAgICAgICAgICAgICAgICBzcGVlZDogbGluZS5zcGVlZCAvIDEwMDAsXG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHh5TW92ZUFyZ3MueCB8fCB4eU1vdmVBcmdzLnkpIHtcbiAgICAgIHNjcm9sbEZyYW1lLm1vdmUoYXV0b1Njcm9sbC50YXJnZXQsIHh5TW92ZUFyZ3MsIGF1dG9TY3JvbGwuaXNXaW5kb3cgPyBzY3JvbGxYWVdpbmRvdyA6IHNjcm9sbFhZRWxlbWVudCk7XG4gICAgICBwb3NpdGlvbi5hdXRvU2Nyb2xsID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsRnJhbWUuc3RvcCgpO1xuICAgIH0gLy8gWy9BVVRPLVNDUk9MTF1cblxuXG4gICAgaWYgKCFoYXNNb3ZlZCkge1xuICAgICAgaGFzTW92ZWQgPSB0cnVlO1xuXG4gICAgICBpZiAobW92aW5nQ2xhc3MpIHtcbiAgICAgICAgbUNsYXNzTGlzdChhY3RpdmVQcm9wcy5lbGVtZW50KS5hZGQobW92aW5nQ2xhc3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWN0aXZlUHJvcHMub25Nb3ZlU3RhcnQpIHtcbiAgICAgICAgYWN0aXZlUHJvcHMub25Nb3ZlU3RhcnQocG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVQcm9wcy5vbk1vdmUpIHtcbiAgICAgIGFjdGl2ZVByb3BzLm9uTW92ZShwb3NpdGlvbik7XG4gICAgfVxuICB9XG59KTtcbntcbiAgZnVuY3Rpb24gZW5kSGFuZGxlcigpIHtcbiAgICBpZiAoYWN0aXZlUHJvcHMpIHtcbiAgICAgIGRyYWdFbmQoYWN0aXZlUHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIHBvaW50ZXJFdmVudC5hZGRFbmRIYW5kbGVyKGRvY3VtZW50LCBlbmRIYW5kbGVyKTtcbiAgcG9pbnRlckV2ZW50LmFkZENhbmNlbEhhbmRsZXIoZG9jdW1lbnQsIGVuZEhhbmRsZXIpO1xufVxue1xuICBmdW5jdGlvbiBpbml0RG9jKCkge1xuICAgIGNzc1Byb3BUcmFuc2l0aW9uUHJvcGVydHkgPSBDU1NQcmVmaXguZ2V0TmFtZSgndHJhbnNpdGlvblByb3BlcnR5Jyk7XG4gICAgY3NzUHJvcFRyYW5zZm9ybSA9IENTU1ByZWZpeC5nZXROYW1lKCd0cmFuc2Zvcm0nKTtcbiAgICBjc3NPcmdWYWx1ZUJvZHlDdXJzb3IgPSBib2R5LnN0eWxlLmN1cnNvcjtcblxuICAgIGlmIChjc3NQcm9wVXNlclNlbGVjdCA9IENTU1ByZWZpeC5nZXROYW1lKCd1c2VyU2VsZWN0JykpIHtcbiAgICAgIGNzc09yZ1ZhbHVlQm9keVVzZXJTZWxlY3QgPSBib2R5LnN0eWxlW2Nzc1Byb3BVc2VyU2VsZWN0XTtcbiAgICB9IC8vIEluaXQgYWN0aXZlIGl0ZW0gd2hlbiBsYXlvdXQgaXMgY2hhbmdlZCwgYW5kIGluaXQgb3RoZXJzIGxhdGVyLlxuXG5cbiAgICB2YXIgTEFaWV9JTklUX0RFTEFZID0gMjAwO1xuICAgIHZhciBpbml0RG9uZUl0ZW1zID0ge30sXG4gICAgICAgIGxhenlJbml0VGltZXI7XG5cbiAgICBmdW5jdGlvbiBjaGVja0luaXRCQm94KHByb3BzLCBldmVudFR5cGUpIHtcbiAgICAgIGlmIChwcm9wcy5pbml0RWxtKSB7XG4gICAgICAgIC8vIEVhc3kgY2hlY2tpbmcgZm9yIGluc3RhbmNlIHdpdGhvdXQgZXJyb3JzLlxuICAgICAgICBpbml0QkJveChwcm9wcywgZXZlbnRUeXBlKTtcbiAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBicmFjZS1zdHlsZVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdEFsbChldmVudFR5cGUpIHtcbiAgICAgIGNsZWFyVGltZW91dChsYXp5SW5pdFRpbWVyKTtcbiAgICAgIE9iamVjdC5rZXlzKGluc1Byb3BzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAoIWluaXREb25lSXRlbXNbaWRdKSB7XG4gICAgICAgICAgY2hlY2tJbml0QkJveChpbnNQcm9wc1tpZF0sIGV2ZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5pdERvbmVJdGVtcyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBsYXlvdXRDaGFuZ2luZyA9IGZhbHNlOyAvLyBHZWNrbyBidWcsIG11bHRpcGxlIGNhbGxpbmcgYnkgYHJlc2l6ZWAuXG5cbiAgICB2YXIgbGF5b3V0Q2hhbmdlID0gQW5pbUV2ZW50LmFkZChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChsYXlvdXRDaGFuZ2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxheW91dENoYW5naW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKGFjdGl2ZVByb3BzKSB7XG4gICAgICAgIGNoZWNrSW5pdEJCb3goYWN0aXZlUHJvcHMsIGV2ZW50LnR5cGUpO1xuICAgICAgICBwb2ludGVyRXZlbnQubW92ZSgpO1xuICAgICAgICBpbml0RG9uZUl0ZW1zW2FjdGl2ZVByb3BzLl9pZF0gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjbGVhclRpbWVvdXQobGF6eUluaXRUaW1lcik7XG4gICAgICBsYXp5SW5pdFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluaXRBbGwoZXZlbnQudHlwZSk7XG4gICAgICB9LCBMQVpZX0lOSVRfREVMQVkpO1xuICAgICAgbGF5b3V0Q2hhbmdpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgbGF5b3V0Q2hhbmdlLCB0cnVlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgbGF5b3V0Q2hhbmdlLCB0cnVlKTtcbiAgfVxuXG4gIGlmIChib2R5ID0gZG9jdW1lbnQuYm9keSkge1xuICAgIGluaXREb2MoKTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICBpbml0RG9jKCk7XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn1cbi8qIFtTTkFQL11cblBsYWluRHJhZ2dhYmxlLmxpbWl0ID0gdHJ1ZTtcbltTTkFQL10gKi9cblxuZXhwb3J0IGRlZmF1bHQgUGxhaW5EcmFnZ2FibGU7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluTW9iaWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbk1vYmlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsImNvbnN0IGNvbmRpdGlvbnMgPSB7XHJcbiAgICAnPSc6ICc9PScsXHJcbiAgICAnPD4nOiAnIT0nLFxyXG4gICAgJz4nOiAnPicsXHJcbiAgICAnPj0nOiAnPj0nLFxyXG4gICAgJzwnOiAnPCcsXHJcbiAgICAnPD0nOiAnPD0nLFxyXG4gICAgJ0FORCc6ICcmJicsXHJcbiAgICAnT1InOiAnfHwnLFxyXG4gICAgJ05PVCc6ICchJyxcclxufTtcclxuY29uc3Qgb3BlcmF0aW9ucyA9IHtcclxuICAgICc8LSc6ICh4LCB5KSA9PiB7IHJldHVybiB5IH0sXHJcbiAgICAnKz0nOiAoeCwgeSkgPT4geyByZXR1cm4geCArIHkgfSxcclxuICAgICctPSc6ICh4LCB5KSA9PiB7IHJldHVybiB4IC0geSB9LFxyXG4gICAgJyo9JzogKHgsIHkpID0+IHsgcmV0dXJuIHggKiB5IH0sXHJcbiAgICAnLz0nOiAoeCwgeSkgPT4geyByZXR1cm4geCAvIHkgfSxcclxuICAgICclPSc6ICh4LCB5KSA9PiB7IHJldHVybiB4ICUgeSB9LFxyXG4gICAgJyoqPSc6ICh4LCB5KSA9PiB7IHJldHVybiB4ICoqIHkgfSxcclxuICAgICc8PD0nOiAoeCwgeSkgPT4geyByZXR1cm4geCA8PCB5IH0sXHJcbiAgICAnPj49JzogKHgsIHkpID0+IHsgcmV0dXJuIHggPj4geSB9LFxyXG4gICAgJz4+Pj0nOiAoeCwgeSkgPT4geyByZXR1cm4geCA+Pj4geSB9LFxyXG4gICAgJyY9JzogKHgsIHkpID0+IHsgcmV0dXJuIHggJiB5IH0sXHJcbiAgICAnXj0nOiAoeCwgeSkgPT4geyByZXR1cm4geCBeIHkgfSxcclxuICAgICd8PSc6ICh4LCB5KSA9PiB7IHJldHVybiB4IHwgeSB9LFxyXG59O1xyXG5mdW5jdGlvbiBESVYoeCwgeSkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoeCAvIHkpXHJcbn1cclxuZnVuY3Rpb24gTU9EKHgsIHkpIHtcclxuICAgIHJldHVybiB4ICUgeVxyXG59XHJcbmZ1bmN0aW9uIElOVCh4KSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcih4KVxyXG59XHJcbmNvbnN0IGFsbG93ZWRGdW5jdGlvbnMgPSBbXHJcbiAgICAnTWF0aC5hYnMnLCAnTWF0aC5hY29zJywgJ01hdGguYXNpbicsICdNYXRoLmF0YW4nLCAnTWF0aC5hdGFuMicsICdNYXRoLmNlaWwnLFxyXG4gICAgJ01hdGguY29zJywgJ01hdGguZXhwJywgJ01hdGguZmxvb3InLCAnTWF0aC5sb2cnLCAnTWF0aC5tYXgnLCAnTWF0aC5taW4nLFxyXG4gICAgJ01hdGgucG93JywgJ01hdGgucmFuZG9tJywgJ01hdGgucm91bmQnLCAnTWF0aC5zaW4nLCAnTWF0aC5zcXJ0JywgJ01hdGgudGFuJyxcclxuICAgICdESVYnLCAnTU9EJywgJ0lOVCcsXHJcbl07XHJcbi8vIEdsb2JhbHNcclxuXHJcbmNvbnN0IG9wZXJhdGlvblBhdHRlcm4gPSBPYmplY3Qua2V5cyhvcGVyYXRpb25zKS5tYXAoZXNjYXBlUmVnRXhwKS5qb2luKCd8Jyk7XHJcbmNvbnN0IHJlZ2V4UGF0dGVybiA9IG5ldyBSZWdFeHAoYChbXj08Pl0rKVxcXFxzKigke29wZXJhdGlvblBhdHRlcm59KVxcXFxzKihbXj08Pl0rKWApO1xyXG5cclxuZnVuY3Rpb24gc2FmZUV2YWwoZXhwcmVzc2lvbikge1xyXG4gICAgY29uc3QgYWxsb3dlZEZ1bmN0aW9uTmFtZXMgPSBhbGxvd2VkRnVuY3Rpb25zLm1hcChmdW5jID0+IGZ1bmMuc3BsaXQoJy4nKVsxXSB8fCBmdW5jKTtcclxuICAgIGNvbnN0IHNhbml0aXplZEV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoLyhbYS16QS1aXyRdW2EtekEtWjAtOV8kXSopXFxzKlxcKC9nLCAobWF0Y2gsIHAxKSA9PiB7XHJcbiAgICAgICAgaWYgKCFhbGxvd2VkRnVuY3Rpb25OYW1lcy5pbmNsdWRlcyhwMSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdmdW5jdGlvbiAnICsgcDEgKyAnKCkgeyByZXR1cm4gMDsgfSgnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICB9KTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gRnVuY3Rpb24oJ1widXNlIHN0cmljdFwiOyByZXR1cm4gKCcgKyBzYW5pdGl6ZWRFeHByZXNzaW9uICsgJyknKSgpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV2YWx1YXRpbmcgZXhwcmVzc2lvbjonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1F1b3RlZFN0cmluZyhzdHIpIHtcclxuICAgIHJldHVybiBzdHIubGVuZ3RoID4gMSAmJiAoc3RyWzBdID09PSBzdHJbc3RyLmxlbmd0aCAtIDFdKSAmJiAoc3RyWzBdID09PSAnXCInIHx8IHN0clswXSA9PT0gXCInXCIpO1xyXG59XHJcbmZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKTtcclxufVxyXG5cclxuLy8gQVNTVU1FIHN0YXJ0IGlzIGF0IGlkIDAgLS0tLT4gcnVuTm9kZShjaGFydF9qc29uLCBcIjBcIikgdG8gc3RhcnQgdGhlIHJ1blxyXG5mdW5jdGlvbiBydW5Ob2RlKGNoYXJ0LCBpZCwgdmFycyA9IHt9KSB7XHJcbiAgICBsZXQgdHlwZSA9IGNoYXJ0Wydub2RlcyddW2lkXVsndHlwZSddO1xyXG4gICAgbGV0IGNvbnRlbnQgPSBjaGFydFsnbm9kZXMnXVtpZF1bJ2NvbnRlbnQnXTtcclxuICAgIGxldCBjb25uZWN0aW9uID0gY2hhcnRbJ3dpcmVzJ11baWRdO1xyXG5cclxuICAgIC8vIE9CSkVDVCBDU1NcclxuICAgIGNvbnNvbGUubG9nKGNvbnRlbnQsIHZhcnMpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2NrLScgKyBpZCkuc3R5bGUuYW5pbWF0aW9uID0gJ2ZsYXNoX291dGxpbmUgMXMgZWFzZS1pbi1vdXQnXHJcblxyXG4gICAgaWYgKHR5cGUgPT0gJ2RlY2lzaW9uJykge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbmRpdGlvbnMpLmZvckVhY2goKGNvbmRpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoY29uZGl0aW9uLCAnZycpO1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKHJlZ2V4LCBjb25kaXRpb25zW2NvbmRpdGlvbl0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHZhcnMpLmZvckVhY2goKHZhcmlhYmxlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCh2YXJpYWJsZSwgJ2cnKTtcclxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShyZWdleCwgdmFyc1t2YXJpYWJsZV0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgdHJ1dGh5ID0gc2FmZUV2YWwoY29udGVudCk7XHJcbiAgICAgICAgaWYgKHRydXRoeSkge1xyXG4gICAgICAgICAgICBydW5Ob2RlKGNoYXJ0LCBjb25uZWN0aW9uWzBdLCB2YXJzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBydW5Ob2RlKGNoYXJ0LCBjb25uZWN0aW9uWzFdLCB2YXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgIT0gJ3Rlcm1pbmFsJykge1xyXG4gICAgICAgIGlmICh0eXBlID09ICdwcm9jZXNzJykge1xyXG4gICAgICAgICAgICBjb250ZW50LnNwbGl0KCdcXG4nKS5mb3JFYWNoKChsaW5lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBsZWZ0T3BlcmFuZCwgb3BlcmF0aW9uLCByaWdodE9wZXJhbmRdID0gbGluZS5tYXRjaChyZWdleFBhdHRlcm4pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFtsZWZ0cmVwLCByaWdodHJlcF0gPSBbbGVmdE9wZXJhbmQsIHJpZ2h0T3BlcmFuZF07XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh2YXJzKS5mb3JFYWNoKCh2YXJpYWJsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCh2YXJpYWJsZSwgJ2cnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0cmVwID0gbGVmdHJlcC5yZXBsYWNlKHJlZ2V4LCB2YXJzW3ZhcmlhYmxlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRyZXAgPSByaWdodHJlcC5yZXBsYWNlKHJlZ2V4LCB2YXJzW3ZhcmlhYmxlXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh2YXJzKS5pbmNsdWRlcyhsZWZ0T3BlcmFuZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXJzW2xlZnRPcGVyYW5kXSA9IG9wZXJhdGlvbnNbb3BlcmF0aW9uXShzYWZlRXZhbChsZWZ0cmVwKSwgc2FmZUV2YWwocmlnaHRyZXApKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyc1tsZWZ0T3BlcmFuZF0gPSBvcGVyYXRpb25zW29wZXJhdGlvbl0oMCwgc2FmZUV2YWwocmlnaHRyZXApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gJ2lucHV0T3V0cHV0Jykge1xyXG4gICAgICAgICAgICBpZiAoY29udGVudC5zdGFydHNXaXRoKCdpbnB1dCcpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFyTmFtZXMgPSBjb250ZW50LnJlcGxhY2UoXCJpbnB1dCBcIiwgXCJcIikuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyTmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IHBhcnNlRmxvYXQocHJvbXB0KFwiRW50ZXIgdmFsdWUgZm9yIFwiICsgdmFyTmFtZXNbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXJzW3Zhck5hbWVzW2ldXSA9IGlucHV0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudC5zdGFydHNXaXRoKCdvdXRwdXQnKSB8fCBjb250ZW50LnN0YXJ0c1dpdGgoJ3ByaW50JykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvdXRwdXRzID0gY29udGVudC5yZXBsYWNlKFwib3V0cHV0IFwiLCBcIlwiKS5yZXBsYWNlKFwicHJpbnQgXCIsIFwiXCIpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZhbHVhdGVkVmFsdWVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhck5hbWUgPSBvdXRwdXRzW2ldLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5oYXNPd25Qcm9wZXJ0eSh2YXJOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0ZWRWYWx1ZXMucHVzaCh2YXJzW3Zhck5hbWVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNRdW90ZWRTdHJpbmcodmFyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhck5hbWUgPSB2YXJOYW1lLnN1YnN0cmluZygxLCB2YXJOYW1lLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWx1YXRlZFZhbHVlcy5wdXNoKHZhck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFsZXJ0KGV2YWx1YXRlZFZhbHVlcy5qb2luKCcgJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJ1bk5vZGUoY2hhcnQsIGNvbm5lY3Rpb24sIHZhcnMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoY29udGVudCA9PSAnc3RhcnQnKSB7XHJcbiAgICAgICAgICAgIC8vIFNUQVJUXHJcbiAgICAgICAgICAgIHJ1bk5vZGUoY2hhcnQsIGNvbm5lY3Rpb24sIHZhcnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVORFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgcnVuTm9kZSB9IiwiY2xhc3MgUG9pbnRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVQb2ludGVyKSB7XHJcbiAgICAgICAgLyoqIFVuaXF1ZSBJRCBmb3IgdGhpcyBwb2ludGVyICovXHJcbiAgICAgICAgdGhpcy5pZCA9IC0xO1xyXG4gICAgICAgIHRoaXMubmF0aXZlUG9pbnRlciA9IG5hdGl2ZVBvaW50ZXI7XHJcbiAgICAgICAgdGhpcy5wYWdlWCA9IG5hdGl2ZVBvaW50ZXIucGFnZVg7XHJcbiAgICAgICAgdGhpcy5wYWdlWSA9IG5hdGl2ZVBvaW50ZXIucGFnZVk7XHJcbiAgICAgICAgdGhpcy5jbGllbnRYID0gbmF0aXZlUG9pbnRlci5jbGllbnRYO1xyXG4gICAgICAgIHRoaXMuY2xpZW50WSA9IG5hdGl2ZVBvaW50ZXIuY2xpZW50WTtcclxuICAgICAgICBpZiAoc2VsZi5Ub3VjaCAmJiBuYXRpdmVQb2ludGVyIGluc3RhbmNlb2YgVG91Y2gpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IG5hdGl2ZVBvaW50ZXIuaWRlbnRpZmllcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNQb2ludGVyRXZlbnQobmF0aXZlUG9pbnRlcikpIHtcclxuICAgICAgICAgICAgLy8gaXMgUG9pbnRlckV2ZW50XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBuYXRpdmVQb2ludGVyLnBvaW50ZXJJZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gZXhwYW5kZWQgc2V0IG9mIFBvaW50ZXJzIGZvciBoaWdoLXJlc29sdXRpb24gaW5wdXRzLlxyXG4gICAgICovXHJcbiAgICBnZXRDb2FsZXNjZWQoKSB7XHJcbiAgICAgICAgaWYgKCdnZXRDb2FsZXNjZWRFdmVudHMnIGluIHRoaXMubmF0aXZlUG9pbnRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5hdGl2ZVBvaW50ZXJcclxuICAgICAgICAgICAgICAgIC5nZXRDb2FsZXNjZWRFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgocCkgPT4gbmV3IFBvaW50ZXIocCkpO1xyXG4gICAgICAgICAgICAvLyBGaXJlZm94IHNvbWV0aW1lcyByZXR1cm5zIGFuIGVtcHR5IGxpc3QgaGVyZS4gSSdtIG5vdCBzdXJlIGl0J3MgZG9pbmcgdGhlIHJpZ2h0IHRoaW5nLlxyXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL3BvaW50ZXJldmVudHMvaXNzdWVzLzQwOVxyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3RoaXNdO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGlzUG9pbnRlckV2ZW50ID0gKGV2ZW50KSA9PiAncG9pbnRlcklkJyBpbiBldmVudDtcclxuY29uc3QgaXNUb3VjaEV2ZW50ID0gKGV2ZW50KSA9PiAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50O1xyXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xyXG4vKipcclxuICogVHJhY2sgcG9pbnRlcnMgYWNyb3NzIGEgcGFydGljdWxhciBlbGVtZW50XHJcbiAqL1xyXG5jbGFzcyBQb2ludGVyVHJhY2tlciB7XHJcbiAgICAvKipcclxuICAgICAqIFRyYWNrIHBvaW50ZXJzIGFjcm9zcyBhIHBhcnRpY3VsYXIgZWxlbWVudFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IEVsZW1lbnQgdG8gbW9uaXRvci5cclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKF9lbGVtZW50LCB7IHN0YXJ0ID0gKCkgPT4gdHJ1ZSwgbW92ZSA9IG5vb3AsIGVuZCA9IG5vb3AsIHJhd1VwZGF0ZXMgPSBmYWxzZSwgYXZvaWRQb2ludGVyRXZlbnRzID0gZmFsc2UsIH0gPSB7fSkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBfZWxlbWVudDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTdGF0ZSBvZiB0aGUgdHJhY2tlZCBwb2ludGVycyB3aGVuIHRoZXkgd2VyZSBwcmVzc2VkL3RvdWNoZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zdGFydFBvaW50ZXJzID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGF0ZXN0IHN0YXRlIG9mIHRoZSB0cmFja2VkIHBvaW50ZXJzLiBDb250YWlucyB0aGUgc2FtZSBudW1iZXIgb2YgcG9pbnRlcnMsIGFuZCBpbiB0aGUgc2FtZVxyXG4gICAgICAgICAqIG9yZGVyIGFzIHRoaXMuc3RhcnRQb2ludGVycy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludGVycyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVmb3ggaGFzIGEgYnVnIHdoZXJlIHRvdWNoLWJhc2VkIHBvaW50ZXIgZXZlbnRzIGhhdmUgYSBgYnV0dG9uc2Agb2YgMCwgd2hlbiB0aGlzIHNob3VsZG4ndFxyXG4gICAgICAgICAqIGhhcHBlbi4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTcyOTQ0MFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVXN1YWxseSB3ZSB0cmVhdCBgYnV0dG9ucyA9PT0gMGAgYXMgbm8tbG9uZ2VyLXByZXNzZWQuIFRoaXMgc2V0IGFsbG93cyB1cyB0byBleGNsdWRlIHRoZXNlXHJcbiAgICAgICAgICogYnVnZ3kgRmlyZWZveCBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fZXhjbHVkZUZyb21CdXR0b25zQ2hlY2sgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdGVuZXIgZm9yIG1vdXNlL3BvaW50ZXIgc3RhcnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IFRoaXMgd2lsbCBvbmx5IGJlIGEgTW91c2VFdmVudCBpZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgcG9pbnRlciBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcG9pbnRlclN0YXJ0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgYnVnZ3kgRmlyZWZveCBjYXNlLiBTZWUgX2V4Y2x1ZGVGcm9tQnV0dG9uc0NoZWNrLlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXhjbHVkZUZyb21CdXR0b25zQ2hlY2suYWRkKGV2ZW50LnBvaW50ZXJJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIShldmVudC5idXR0b25zICYgMSAvKiBMZWZ0TW91c2VPclRvdWNoT3JQZW5Eb3duICovKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSBuZXcgUG9pbnRlcihldmVudCk7XHJcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgdHJhY2tpbmcgdGhpcyBwb2ludGVyLCBpZ25vcmUgdGhpcyBldmVudC5cclxuICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIHdpdGggbW91c2UgZXZlbnRzIHdoZW4gbXVsdGlwbGUgYnV0dG9ucyBhcmUgcHJlc3NlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBvaW50ZXJzLnNvbWUoKHApID0+IHAuaWQgPT09IHBvaW50ZXIuaWQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RyaWdnZXJQb2ludGVyU3RhcnQocG9pbnRlciwgZXZlbnQpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBBZGQgbGlzdGVuZXJzIGZvciBhZGRpdGlvbmFsIGV2ZW50cy5cclxuICAgICAgICAgICAgLy8gVGhlIGxpc3RlbmVycyBtYXkgYWxyZWFkeSBleGlzdCwgYnV0IG5vIGhhcm0gaW4gYWRkaW5nIHRoZW0gYWdhaW4uXHJcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhcHR1cmluZ0VsZW1lbnQgPSBldmVudC50YXJnZXQgJiYgJ3NldFBvaW50ZXJDYXB0dXJlJyBpbiBldmVudC50YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICA/IGV2ZW50LnRhcmdldFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNhcHR1cmluZ0VsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9yYXdVcGRhdGVzID8gJ3BvaW50ZXJyYXd1cGRhdGUnIDogJ3BvaW50ZXJtb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuX3BvaW50ZXJFbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNb3VzZUV2ZW50XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW92ZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX3BvaW50ZXJFbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBMaXN0ZW5lciBmb3IgdG91Y2hzdGFydC5cclxuICAgICAgICAgKiBPbmx5IHVzZWQgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RvdWNoU3RhcnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB0b3VjaCBvZiBBcnJheS5mcm9tKGV2ZW50LmNoYW5nZWRUb3VjaGVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlclBvaW50ZXJTdGFydChuZXcgUG9pbnRlcih0b3VjaCksIGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdGVuZXIgZm9yIHBvaW50ZXIvbW91c2UvdG91Y2ggbW92ZSBldmVudHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbW92ZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWlzVG91Y2hFdmVudChldmVudCkgJiZcclxuICAgICAgICAgICAgICAgICghaXNQb2ludGVyRXZlbnQoZXZlbnQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuX2V4Y2x1ZGVGcm9tQnV0dG9uc0NoZWNrLmhhcyhldmVudC5wb2ludGVySWQpKSAmJlxyXG4gICAgICAgICAgICAgICAgZXZlbnQuYnV0dG9ucyA9PT0gMCAvKiBOb25lICovKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaW4gYSBudW1iZXIgb2YgYnVnZ3kgY2FzZXMgd2hlcmUgdGhlIGJyb3dzZXIgZmFpbGVkIHRvIGRlbGl2ZXIgYSBwb2ludGVydXBcclxuICAgICAgICAgICAgICAgIC8vIG9yIHBvaW50ZXJjYW5jZWwuIElmIHdlIHNlZSB0aGUgcG9pbnRlciBtb3Zpbmcgd2l0aG91dCBhbnkgYnV0dG9ucyBkb3duLCBzeW50aGVzaXplIGFuIGVuZC5cclxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS93M2MvcG9pbnRlcmV2ZW50cy9pc3N1ZXMvNDA3XHJcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL3BvaW50ZXJldmVudHMvaXNzdWVzLzQwOFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRlckVuZChldmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNQb2ludGVycyA9IHRoaXMuY3VycmVudFBvaW50ZXJzLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRQb2ludGVycyA9IGlzVG91Y2hFdmVudChldmVudClcclxuICAgICAgICAgICAgICAgID8gQXJyYXkuZnJvbShldmVudC5jaGFuZ2VkVG91Y2hlcykubWFwKCh0KSA9PiBuZXcgUG9pbnRlcih0KSlcclxuICAgICAgICAgICAgICAgIDogW25ldyBQb2ludGVyKGV2ZW50KV07XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrZWRDaGFuZ2VkUG9pbnRlcnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwb2ludGVyIG9mIGNoYW5nZWRQb2ludGVycykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRQb2ludGVycy5maW5kSW5kZXgoKHApID0+IHAuaWQgPT09IHBvaW50ZXIuaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gTm90IGEgcG9pbnRlciB3ZSdyZSB0cmFja2luZ1xyXG4gICAgICAgICAgICAgICAgdHJhY2tlZENoYW5nZWRQb2ludGVycy5wdXNoKHBvaW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRlcnNbaW5kZXhdID0gcG9pbnRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHJhY2tlZENoYW5nZWRQb2ludGVycy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDYWxsYmFjayhwcmV2aW91c1BvaW50ZXJzLCB0cmFja2VkQ2hhbmdlZFBvaW50ZXJzLCBldmVudCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxsIHRoZSBlbmQgY2FsbGJhY2sgZm9yIHRoaXMgcG9pbnRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBwb2ludGVyIFBvaW50ZXJcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgUmVsYXRlZCBldmVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RyaWdnZXJQb2ludGVyRW5kID0gKHBvaW50ZXIsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIE1haW4gYnV0dG9uIHN0aWxsIGRvd24/XHJcbiAgICAgICAgICAgIC8vIFdpdGggbW91c2UgZXZlbnRzLCB5b3UgZ2V0IGEgbW91c2V1cCBwZXIgbW91c2UgYnV0dG9uLCBzbyB0aGUgbGVmdCBidXR0b24gbWlnaHQgc3RpbGwgYmUgZG93bi5cclxuICAgICAgICAgICAgaWYgKCFpc1RvdWNoRXZlbnQoZXZlbnQpICYmXHJcbiAgICAgICAgICAgICAgICBldmVudC5idXR0b25zICYgMSAvKiBMZWZ0TW91c2VPclRvdWNoT3JQZW5Eb3duICovKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmN1cnJlbnRQb2ludGVycy5maW5kSW5kZXgoKHApID0+IHAuaWQgPT09IHBvaW50ZXIuaWQpO1xyXG4gICAgICAgICAgICAvLyBOb3QgYSBwb2ludGVyIHdlJ3JlIGludGVyZXN0ZWQgaW4/XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBvaW50ZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2ludGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLl9leGNsdWRlRnJvbUJ1dHRvbnNDaGVjay5kZWxldGUocG9pbnRlci5pZCk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBldmVudC50eXBlIG1pZ2h0IGJlIGEgJ21vdmUnIGV2ZW50IGR1ZSB0byB3b3JrYXJvdW5kcyBmb3Igd2VpcmQgbW91c2UgYmVoYXZpb3VyLlxyXG4gICAgICAgICAgICAvLyBTZWUgX21vdmUgZm9yIGRldGFpbHMuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbGxlZCA9ICEoZXZlbnQudHlwZSA9PT0gJ21vdXNldXAnIHx8XHJcbiAgICAgICAgICAgICAgICBldmVudC50eXBlID09PSAndG91Y2hlbmQnIHx8XHJcbiAgICAgICAgICAgICAgICBldmVudC50eXBlID09PSAncG9pbnRlcnVwJyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZENhbGxiYWNrKHBvaW50ZXIsIGV2ZW50LCBjYW5jZWxsZWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3RlbmVyIGZvciBtb3VzZS9wb2ludGVyIGVuZHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQgVGhpcyB3aWxsIG9ubHkgYmUgYSBNb3VzZUV2ZW50IGlmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBwb2ludGVyIGV2ZW50cy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wb2ludGVyRW5kID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fdHJpZ2dlclBvaW50ZXJFbmQobmV3IFBvaW50ZXIoZXZlbnQpLCBldmVudCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJFdmVudChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQb2ludGVycy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3Jhd1VwZGF0ZXMgPyAncG9pbnRlcnJhd3VwZGF0ZScgOiAncG9pbnRlcm1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLl9wb2ludGVyRW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vdXNlRXZlbnRcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIExpc3RlbmVyIGZvciB0b3VjaGVuZC5cclxuICAgICAgICAgKiBPbmx5IHVzZWQgaWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RvdWNoRW5kID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG91Y2ggb2YgQXJyYXkuZnJvbShldmVudC5jaGFuZ2VkVG91Y2hlcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJQb2ludGVyRW5kKG5ldyBQb2ludGVyKHRvdWNoKSwgZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9zdGFydENhbGxiYWNrID0gc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5fbW92ZUNhbGxiYWNrID0gbW92ZTtcclxuICAgICAgICB0aGlzLl9lbmRDYWxsYmFjayA9IGVuZDtcclxuICAgICAgICB0aGlzLl9yYXdVcGRhdGVzID0gcmF3VXBkYXRlcyAmJiAnb25wb2ludGVycmF3dXBkYXRlJyBpbiB3aW5kb3c7XHJcbiAgICAgICAgLy8gQWRkIGxpc3RlbmVyc1xyXG4gICAgICAgIGlmIChzZWxmLlBvaW50ZXJFdmVudCAmJiAhYXZvaWRQb2ludGVyRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl90b3VjaFN0YXJ0KTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLl9tb3ZlKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLlxyXG4gICAgICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLl9wb2ludGVyU3RhcnQpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fcG9pbnRlclN0YXJ0KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl90b3VjaFN0YXJ0KTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl90b3VjaEVuZCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMuX3RvdWNoRW5kKTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fcmF3VXBkYXRlcyA/ICdwb2ludGVycmF3dXBkYXRlJyA6ICdwb2ludGVybW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdmUpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fcG9pbnRlckVuZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGwgdGhlIHN0YXJ0IGNhbGxiYWNrIGZvciB0aGlzIHBvaW50ZXIsIGFuZCB0cmFjayBpdCBpZiB0aGUgdXNlciB3YW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcG9pbnRlciBQb2ludGVyXHJcbiAgICAgKiBAcGFyYW0gZXZlbnQgUmVsYXRlZCBldmVudFxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGUgcG9pbnRlciBpcyBiZWluZyB0cmFja2VkLlxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlclBvaW50ZXJTdGFydChwb2ludGVyLCBldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRDYWxsYmFjayhwb2ludGVyLCBldmVudCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRQb2ludGVycy5wdXNoKHBvaW50ZXIpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb2ludGVycy5wdXNoKHBvaW50ZXIpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFBvaW50ZXJUcmFja2VyIGFzIGRlZmF1bHQgfTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCBQbGFpbkRyYWdnYWJsZSBmcm9tICdwbGFpbi1kcmFnZ2FibGUnXHJcbmltcG9ydCBMZWFkZXJMaW5lIGZyb20gJ2xlYWRlci1saW5lLW5ldydcclxuaW1wb3J0IFBvaW50ZXJUcmFja2VyIGZyb20gJ3BvaW50ZXItdHJhY2tlcidcclxuXHJcbmltcG9ydCAnLi4vY3NzL2luZGV4LmNzcydcclxuaW1wb3J0ICcuLi9jc3MvbWFpbi5jc3MnXHJcbmltcG9ydCAnLi4vY3NzL21haW5Nb2JpbGUuY3NzJztcclxuXHJcbmltcG9ydCB7IHJ1bk5vZGUgfSBmcm9tICcuL3J1bkNoYXJ0J1xyXG5pbXBvcnQgZmxvd2NoYXJ0IGZyb20gJy4uL2pzb24vZmxvd2NoYXJ0Lmpzb24nXHJcblxyXG5jb25zdCBmbG93Y2hhcnRCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93Y2hhcnQtYm9hcmQnKVxyXG5cclxuLy8gdGVtcGxhdGVzXHJcbmNvbnN0IHRlcm1pbmFsVGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVybWluYWwtdGVtcGxhdGUnKVxyXG5jb25zdCBwcm9jZXNzVGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvY2Vzcy10ZW1wbGF0ZScpXHJcbmNvbnN0IGRlY2lzaW9uVGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVjaXNpb24tdGVtcGxhdGUnKVxyXG5jb25zdCBpbnB1dE91dHB1dFRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LW91dHB1dC10ZW1wbGF0ZScpXHJcblxyXG4vLyB1bi1uZWVkZWRcclxuY29uc3QgZmxvd2NoYXJ0U3ltYm9scyA9IFsndGVybWluYWwnLCAncHJvY2VzcycsICdkZWNpc2lvbicsICdpbnB1dE91dHB1dCddXHJcbmNvbnN0IGFsbFRvb2xzID0gWydoYW5kJywgJ2VkaXQnLCAnY29ubmVjdCcsICdlcmFzZSddXHJcblxyXG4vLyBmbG93QmxvY2tcclxuZnVuY3Rpb24gY3JlYXRlTGluZShzdGFydCwgZW5kLCBsYWJlbCA9IHVuZGVmaW5lZCwgbGluZUNvbG9yID0gdW5kZWZpbmVkKSB7XHJcbiAgICBjb25zdCBsYWJlbE9iaiA9IHtcclxuICAgICAgICB0ZXh0OiBsYWJlbCxcclxuICAgICAgICBjb2xvcjogJ2FsaWNlYmx1ZScsXHJcbiAgICAgICAgb3V0bGluZUNvbG9yOiAnJyxcclxuICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IExlYWRlckxpbmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhcnQpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbmQpLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc3RhcnRQbHVnOiAnZGlzYycsXHJcbiAgICAgICAgICAgIHNpemU6IDQsIHN0YXJ0UGx1Z1NpemU6IDEuNSwgc3RhcnRQbHVnT3V0bGluZVNpemU6IDIuNSxcclxuICAgICAgICAgICAgY29sb3I6IGxpbmVDb2xvciA9PSB1bmRlZmluZWQgPyAnI2YwZjhmZicgOiBsaW5lQ29sb3IsIHBhdGg6ICdmbHVpZCcsXHJcbiAgICAgICAgICAgIGRyb3BTaGFkb3c6IHRydWUsXHJcbiAgICAgICAgICAgIG1pZGRsZUxhYmVsOiBMZWFkZXJMaW5lLmNhcHRpb25MYWJlbChsYWJlbE9iaiksXHJcbiAgICAgICAgfSlcclxufVxyXG5jbGFzcyBGbG93QmxvY2sge1xyXG4gICAgY29uc3RydWN0b3IoaWQsIHR5cGUsIGNvbnRlbnQsIHBvcykge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgW3RoaXMucG9zeCwgdGhpcy5wb3N5XSA9IHBvcztcclxuICAgICAgICBbdGhpcy5lbGVtZW50LCB0aGlzLmRyYWdnYWJsZV0gPSB0aGlzLmNyZWF0ZUZsb3dCbG9jayh0eXBlLCBpZCwgY29udGVudCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlWydvbk1vdmUnXSA9ICgpID0+IHsgdGhpcy5jb25uZWN0aW9ucy5mb3JFYWNoKChjKSA9PiB7IGMucG9zaXRpb24oKSB9KSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUZsb3dCbG9jaygpIHtcclxuICAgICAgICBsZXQgZWxlbWVudFxyXG5cclxuICAgICAgICBpZiAodGhpcy50eXBlID09ICd0ZXJtaW5hbCcpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IHRlcm1pbmFsVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAncHJvY2VzcycpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IHByb2Nlc3NUZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAnZGVjaXNpb24nKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkZWNpc2lvblRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09ICdpbnB1dE91dHB1dCcpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGlucHV0T3V0cHV0VGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZWxlbWVudElkID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2staWRdJylcclxuICAgICAgICBjb25zdCBlbGVtZW50Q29udGVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnRdJylcclxuICAgICAgICBjb25zdCBlbGVtZW50RWRpdCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWVkaXRdJylcclxuXHJcbiAgICAgICAgZWxlbWVudElkLmlkID0gYGJsb2NrLSR7dGhpcy5pZH1gXHJcbiAgICAgICAgZWxlbWVudENvbnRlbnQudGV4dENvbnRlbnQgPSB0aGlzLmNvbnRlbnRcclxuXHJcbiAgICAgICAgZWxlbWVudElkLmNsYXNzTGlzdC5hZGQoJ2RyYWdnYWJsZScpXHJcbiAgICAgICAgZWxlbWVudElkLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt0aGlzLnBvc3h9cHgsJHt0aGlzLnBvc3l9cHgpYFxyXG4gICAgICAgIGlmIChlbGVtZW50RWRpdCAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZWxlbWVudEVkaXQudmFsdWUgPSB0aGlzLmNvbnRlbnRcclxuICAgICAgICAgICAgZWxlbWVudEVkaXQub25pbnB1dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRDb250ZW50LnRleHRDb250ZW50ID0gZWxlbWVudEVkaXQudmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmxvd2NoYXJ0Qm9hcmQuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudERyYWdnYWJsZSA9IG5ldyBQbGFpbkRyYWdnYWJsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHt0aGlzLmlkfWApKVxyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYmxvY2stJHt0aGlzLmlkfWApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFRvb2wgPT0gJ2VyYXNlJykge1xyXG4gICAgICAgICAgICAgICAgcmVtRmxvd0Jsb2NrKHRoaXMuaWQpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09ICd0ZXJtaW5hbCcgJiYgdGhpcy5jb250ZW50ID09ICdzdGFydCcpIHtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gb2JqZWN0aWZ5Q2hhcnQoKVxyXG4gICAgICAgICAgICAgICAgcGVyc29uaWZ5Q2hhcnQoeClcclxuICAgICAgICAgICAgICAgIHJ1bk5vZGUoeCwgJzAnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIFtlbGVtZW50LCBlbGVtZW50RHJhZ2dhYmxlXVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUZsb3dCbG9jayhmdW5jLCB3aGF0VG9VcGRhdGUpIHtcclxuICAgICAgICB0aGlzLmRyYWdnYWJsZVtmdW5jXSA9IHdoYXRUb1VwZGF0ZVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBjaGFydFxyXG5sZXQgY29ubmVjdGlvbnMgPSB7fVxyXG5sZXQgZmxvd0Jsb2NrcyA9IHt9XHJcbmxldCBjb25uZWN0aW9uQXR0cnMgPSB7fVxyXG5sZXQgZ2xvYmFsX2luZGV4ID0gLTFcclxuXHJcbmZ1bmN0aW9uIGFkZEZsb3dCbG9jayh0eXBlLCBjb250ZW50LCBwb3MgPSBbMCwgMF0pIHtcclxuICAgIGxldCBuZXdCbG9jayA9IG5ldyBGbG93QmxvY2soZ2xvYmFsX2luZGV4ICsgMSwgdHlwZSwgY29udGVudCwgcG9zKVxyXG4gICAgZmxvd0Jsb2Nrc1tTdHJpbmcoZ2xvYmFsX2luZGV4ICsgMSldID0gbmV3QmxvY2tcclxuICAgIGdsb2JhbF9pbmRleCsrXHJcbn1cclxuZnVuY3Rpb24gcmVtRmxvd0Jsb2NrKGlkKSB7XHJcbiAgICAvLyByZW1vdmUgYXR0YWNoZWQgY29ubmVjdGlvbnMgdG8gZmxvd2Jsb2NrXHJcbiAgICBsZXQgY3VyckNvbm5lY3Rpb25zID1cclxuICAgICAgICBPYmplY3Qua2V5cyhjb25uZWN0aW9ucykubWFwKHN0ciA9PiBzdHIuc3BsaXQoJzonKSlcclxuICAgICAgICAgICAgLmZpbHRlcihrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleVswXSA9PSBpZCB8fCBrZXlbMV0gPT0gaWRcclxuICAgICAgICAgICAgfSlcclxuICAgIGN1cnJDb25uZWN0aW9ucy5mb3JFYWNoKGsgPT4geyByZW1Db25uZWN0aW9uKGtbMF0sIGtbMV0pIH0pXHJcblxyXG4gICAgLy8gcmVtb3ZlIGZsb3dibG9ja1xyXG4gICAgZmxvd0Jsb2Nrc1tTdHJpbmcoaWQpXS5kcmFnZ2FibGUucmVtb3ZlKClcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBibG9jay0ke2lkfWApLnJlbW92ZSgpXHJcbiAgICBkZWxldGUgZmxvd0Jsb2Nrc1tTdHJpbmcoaWQpXVxyXG5cclxuICAgIC8vIGRlY3JlbWVudCBpZHNcclxuICAgIGxldCBnaWRzID0gT2JqZWN0LmtleXMoZmxvd0Jsb2NrcykubWFwKHN0ciA9PiBOdW1iZXIoc3RyKSlcclxuICAgICAgICAuZmlsdGVyKGtleSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXkgPiBOdW1iZXIoaWQpXHJcbiAgICAgICAgfSlcclxuICAgIGdpZHMuZm9yRWFjaChrID0+IHtcclxuICAgICAgICBmbG93QmxvY2tzW1N0cmluZyhrIC0gMSldID0gZmxvd0Jsb2Nrc1tTdHJpbmcoayldXHJcbiAgICAgICAgZmxvd0Jsb2Nrc1tTdHJpbmcoayAtIDEpXS5pZC0tXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGJsb2NrLSR7a31gKS5pZCA9IGBibG9jay0ke2sgLSAxfWBcclxuICAgIH0pXHJcbiAgICBkZWxldGUgZmxvd0Jsb2Nrc1tTdHJpbmcoTWF0aC5tYXgoLi4uZ2lkcykpXVxyXG5cclxuICAgIE9iamVjdC5rZXlzKGNvbm5lY3Rpb25zKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgbGV0IHBhcnRzID0ga2V5LnNwbGl0KCc6JykubWFwKHN0ciA9PiBOdW1iZXIoc3RyKSlcclxuICAgICAgICBpZiAocGFydHNbMF0gPiBOdW1iZXIoaWQpKSBwYXJ0c1swXS0tXHJcbiAgICAgICAgaWYgKHBhcnRzWzFdID4gTnVtYmVyKGlkKSkgcGFydHNbMV0tLVxyXG4gICAgICAgIGxldCB0bXAgPSBjb25uZWN0aW9uc1trZXldXHJcbiAgICAgICAgZGVsZXRlIGNvbm5lY3Rpb25zW2tleV1cclxuICAgICAgICBjb25uZWN0aW9uc1twYXJ0cy5qb2luKCc6JyldID0gdG1wXHJcbiAgICB9KVxyXG5cclxuICAgIGdsb2JhbF9pbmRleC0tXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZENvbm5lY3Rpb24oZnJvbUlkLCB0b0lkLCBhdHRyID0gbnVsbCkge1xyXG4gICAgbGV0IGNpZCA9IGAke2Zyb21JZH06JHt0b0lkfWBcclxuICAgIGxldCBzdGFydE5vZGUgPSBmbG93QmxvY2tzW2Zyb21JZF1cclxuICAgIGxldCBlbmROb2RlID0gZmxvd0Jsb2Nrc1t0b0lkXVxyXG5cclxuICAgIGlmIChhdHRyKSBjb25uZWN0aW9uQXR0cnNbY2lkXSA9IGF0dHJcclxuICAgIGlmIChhdHRyID09ICd5Jykge1xyXG4gICAgICAgIGNvbm5lY3Rpb25zW2NpZF0gPSBjcmVhdGVMaW5lKGBibG9jay0ke2Zyb21JZH1gLCBgYmxvY2stJHt0b0lkfWAsICdZZXMnLCAnIzI5OTY0YScpXHJcbiAgICB9IGVsc2UgaWYgKGF0dHIgPT0gJ24nKSB7XHJcbiAgICAgICAgY29ubmVjdGlvbnNbY2lkXSA9IGNyZWF0ZUxpbmUoYGJsb2NrLSR7ZnJvbUlkfWAsIGBibG9jay0ke3RvSWR9YCwgJ05vJywgJyNiYTJiMmInKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25uZWN0aW9uc1tjaWRdID0gY3JlYXRlTGluZShgYmxvY2stJHtmcm9tSWR9YCwgYGJsb2NrLSR7dG9JZH1gKVxyXG4gICAgfVxyXG4gICAgc3RhcnROb2RlLmNvbm5lY3Rpb25zLnB1c2goY29ubmVjdGlvbnNbY2lkXSlcclxuICAgIGVuZE5vZGUuY29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uc1tjaWRdKVxyXG59XHJcbmZ1bmN0aW9uIHJlbUNvbm5lY3Rpb24oZnJvbUlkLCB0b0lkKSB7XHJcbiAgICBsZXQgY2lkID0gYCR7ZnJvbUlkfToke3RvSWR9YFxyXG5cclxuICAgIGZsb3dCbG9ja3NbZnJvbUlkXS5jb25uZWN0aW9ucy5zcGxpY2UoZmxvd0Jsb2Nrc1tmcm9tSWRdLmNvbm5lY3Rpb25zLmluZGV4T2YoY29ubmVjdGlvbnNbY2lkXSksIDEpXHJcbiAgICBmbG93QmxvY2tzW3RvSWRdLmNvbm5lY3Rpb25zLnNwbGljZShmbG93QmxvY2tzW3RvSWRdLmNvbm5lY3Rpb25zLmluZGV4T2YoY29ubmVjdGlvbnNbY2lkXSksIDEpXHJcblxyXG4gICAgY29ubmVjdGlvbnNbY2lkXS5yZW1vdmUoKVxyXG5cclxuICAgIGRlbGV0ZSBjb25uZWN0aW9uc1tjaWRdXHJcbiAgICBkZWxldGUgY29ubmVjdGlvbkF0dHJzW2NpZF1cclxufVxyXG5cclxuZnVuY3Rpb24gb2JqZWN0aWZ5Q2hhcnQoKSB7XHJcbiAgICBsZXQgcmVzID0geyAnd2lyZXMnOiB7fSwgJ25vZGVzJzoge30gfVxyXG4gICAgLy8gYWRkIG5vZGVzXHJcbiAgICBPYmplY3Qua2V5cyhmbG93QmxvY2tzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgbGV0IGYgPSBmbG93QmxvY2tzW2tleV1cclxuICAgICAgICByZXNbJ25vZGVzJ11ba2V5XSA9IHtcclxuICAgICAgICAgICAgXCJwb3N4XCI6IGYucG9zeCxcclxuICAgICAgICAgICAgXCJwb3N5XCI6IGYucG9zeSxcclxuICAgICAgICAgICAgXCJ0eXBlXCI6IGYudHlwZSxcclxuICAgICAgICAgICAgXCJjb250ZW50XCI6IGYuY29udGVudFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gYWRkIGNvbm5lY3Rpb25zXHJcbiAgICBPYmplY3Qua2V5cyhjb25uZWN0aW9ucykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGxldCBwYXJ0cyA9IGtleS5zcGxpdCgnOicpXHJcbiAgICAgICAgaWYgKGtleSBpbiBjb25uZWN0aW9uQXR0cnMpIHtcclxuICAgICAgICAgICAgaWYgKHBhcnRzWzBdIGluIHJlc1snd2lyZXMnXSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uQXR0cnNba2V5XSA9PSAneScpIHJlc1snd2lyZXMnXVtwYXJ0c1swXV1bMF0gPSBwYXJ0c1sxXVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29ubmVjdGlvbkF0dHJzW2tleV0gPT0gJ24nKSByZXNbJ3dpcmVzJ11bcGFydHNbMF1dWzFdID0gcGFydHNbMV1cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29ubmVjdGlvbkF0dHJzW2tleV0gPT0gJ3knKSByZXNbJ3dpcmVzJ11bcGFydHNbMF1dID0gW3BhcnRzWzFdLCAtMV1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29ubmVjdGlvbkF0dHJzW2tleV0gPT0gJ24nKSByZXNbJ3dpcmVzJ11bcGFydHNbMF1dID0gWy0xLCBwYXJ0c1sxXV1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXNbJ3dpcmVzJ11bcGFydHNbMF1dID0gcGFydHNbMV1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHJlc1xyXG59XHJcbmZ1bmN0aW9uIHBlcnNvbmlmeUNoYXJ0KG9iamVjdCkge1xyXG4gICAgbGV0IG4gPSBPYmplY3Qua2V5cyhmbG93QmxvY2tzKS5sZW5ndGhcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSByZW1GbG93QmxvY2soMClcclxuXHJcbiAgICBPYmplY3Qua2V5cyhvYmplY3RbJ25vZGVzJ10pLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBhZGRGbG93QmxvY2sob2JqZWN0Wydub2RlcyddW2tleV1bJ3R5cGUnXSxcclxuICAgICAgICAgICAgb2JqZWN0Wydub2RlcyddW2tleV1bJ2NvbnRlbnQnXSxcclxuICAgICAgICAgICAgW29iamVjdFsnbm9kZXMnXVtrZXldWydwb3N4J10sIG9iamVjdFsnbm9kZXMnXVtrZXldWydwb3N5J11dKVxyXG4gICAgfSlcclxuICAgIE9iamVjdC5rZXlzKG9iamVjdFsnd2lyZXMnXSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKG9iamVjdFsnd2lyZXMnXVtrZXldKSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBhZGRDb25uZWN0aW9uKGtleSwgb2JqZWN0Wyd3aXJlcyddW2tleV0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWRkQ29ubmVjdGlvbihrZXksIG9iamVjdFsnd2lyZXMnXVtrZXldWzBdLCAneScpXHJcbiAgICAgICAgICAgIGFkZENvbm5lY3Rpb24oa2V5LCBvYmplY3RbJ3dpcmVzJ11ba2V5XVsxXSwgJ24nKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8vI3JlZ2lvbiB0b29sc1xyXG5sZXQgY3VycmVudFRvb2xcclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ1dHRvbicpXHJcbmNvbnN0IGNvbm5lY3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdC1idXR0b24nKVxyXG5jb25zdCBtb3ZlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmUtYnV0dG9uJylcclxuY29uc3QgZXJhc2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJhc2UtYnV0dG9uJylcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMCwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGVuYWJsZUVkaXQodHJ1ZSlcclxuICAgICAgICBjdXJyZW50VG9vbCA9ICdlZGl0J1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG5jb25uZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdG9nZ2xlU3dpdGNoKFtlZGl0QnV0dG9uLCBjb25uZWN0QnV0dG9uLCBtb3ZlQnV0dG9uLCBlcmFzZUJ1dHRvbl0sIDEsICdhY3RpdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlRHJhZ2dhYmxlcyhmYWxzZSlcclxuICAgICAgICBlbmFibGVFZGl0KGZhbHNlKVxyXG4gICAgICAgIGN1cnJlbnRUb29sID0gJ2Nvbm5lY3QnXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnQnKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0pXHJcbm1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0b2dnbGVTd2l0Y2goW2VkaXRCdXR0b24sIGNvbm5lY3RCdXR0b24sIG1vdmVCdXR0b24sIGVyYXNlQnV0dG9uXSwgMiwgJ2FjdGl2ZScsICgpID0+IHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKHRydWUpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBjdXJyZW50VG9vbCA9ICdtb3ZlJ1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1jb250ZW50JykuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59KVxyXG5lcmFzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRvZ2dsZVN3aXRjaChbZWRpdEJ1dHRvbiwgY29ubmVjdEJ1dHRvbiwgbW92ZUJ1dHRvbiwgZXJhc2VCdXR0b25dLCAzLCAnYWN0aXZlJywgKCkgPT4ge1xyXG4gICAgICAgIHRvZ2dsZURyYWdnYWJsZXMoZmFsc2UpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBjdXJyZW50VG9vbCA9ICdlcmFzZSdcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZVN3aXRjaCh0b2dnbGVTd2l0Y2hlcyA9IFtdLCBpbmRleCwgYWN0aXZlQ2xhc3MsIG9uQWN0aXZhdGVGdW5jID0gKCkgPT4geyB9KSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvZ2dsZVN3aXRjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdG9nZ2xlU3dpdGNoZXNbaV0uY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcylcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTd2l0Y2hlc1tpbmRleF0uY2xhc3NMaXN0LmFkZChhY3RpdmVDbGFzcylcclxuICAgIG9uQWN0aXZhdGVGdW5jKClcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlRHJhZ2dhYmxlcyhlbmFibGUpIHtcclxuICAgIGlmIChlbmFibGUpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhmbG93QmxvY2tzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGZsb3dCbG9ja3Nba2V5XS5kcmFnZ2FibGUuZGlzYWJsZWQgPSBmYWxzZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhmbG93QmxvY2tzKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGZsb3dCbG9ja3Nba2V5XS5kcmFnZ2FibGUuZGlzYWJsZWQgPSB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5hYmxlRWRpdChlbmFibGUpIHtcclxuICAgIGlmIChlbmFibGUpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudF0nKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgha2V5LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0ZXJtaW5hbCcpKSB7XHJcbiAgICAgICAgICAgICAgICBrZXkuY2xhc3NMaXN0LmFkZCgnaGlkZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stZWRpdF0nKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgIGtleS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnRdJykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWtleS5jbGFzc0xpc3QuY29udGFpbnMoJ3Rlcm1pbmFsJykpIHtcclxuICAgICAgICAgICAgICAgIGtleS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWZsb3djaGFydC1ibG9jay1lZGl0XScpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAga2V5LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vI2VuZHJlZ2lvblxyXG5cclxuLy8jcmVnaW9uIHNpZGUgUGFuZWwgXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaW5pdEFkZEJsb2NrKCd0ZXJtaW5hbCcsICdzdGFydCcpXHJcbn0pXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGluaXRBZGRCbG9jaygndGVybWluYWwnLCAnZW5kJylcclxufSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2Nlc3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGluaXRBZGRCbG9jaygncHJvY2VzcycsICdwcm9jZXNzJylcclxufSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlY2lzaW9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpbml0QWRkQmxvY2soJ2RlY2lzaW9uJywgJ2RlY2lzaW9uJylcclxufSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpbml0QWRkQmxvY2soJ2lucHV0T3V0cHV0JywgJ2lucHV0JylcclxufSlcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dHB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaW5pdEFkZEJsb2NrKCdpbnB1dE91dHB1dCcsICdvdXRwdXQnKVxyXG59KVxyXG5cclxuZnVuY3Rpb24gaW5pdEFkZEJsb2NrKGZsb3dDaGFydFN5bWJvbCwgY29udGVudCkge1xyXG4gICAgYWRkRmxvd0Jsb2NrKGZsb3dDaGFydFN5bWJvbCwgY29udGVudCwgWzAsIDBdKVxyXG5cclxuICAgIGlmIChjdXJyZW50VG9vbCA9PSAnaGFuZCcpIHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKHRydWUpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChjdXJyZW50VG9vbCA9PSAnZWRpdCcpIHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGVuYWJsZUVkaXQodHJ1ZSlcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChjdXJyZW50VG9vbCA9PSAnY29ubmVjdCcpIHtcclxuICAgICAgICB0b2dnbGVEcmFnZ2FibGVzKGZhbHNlKVxyXG4gICAgICAgIGVuYWJsZUVkaXQoZmFsc2UpXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmxvd2NoYXJ0LWJsb2NrLWNvbnRlbnQnKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH0gZWxzZSBpZiAoY3VycmVudFRvb2wgPT0gJ2VyYXNlJykge1xyXG4gICAgICAgIHRvZ2dsZURyYWdnYWJsZXMoZmFsc2UpXHJcbiAgICAgICAgZW5hYmxlRWRpdChmYWxzZSlcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1mbG93Y2hhcnQtYmxvY2stY29udGVudCcpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbi8vI2VuZHJlZ2lvblxyXG5cclxubGV0IGlzRHJhZ2dpbmdCbG9jayA9IGZhbHNlXHJcbmxldCBkcmFnZ2luZ0Jsb2NrXHJcbmxldCBsaW5lXHJcblxyXG4vLyBjb25uZWN0aW9ucyB0b29sXHJcbmNvbnN0IHBvaW50ZXJUcmFja2VyID0gbmV3IFBvaW50ZXJUcmFja2VyKGZsb3djaGFydEJvYXJkLCB7XHJcbiAgICBzdGFydChwb2ludGVyLCBldmVudCkge1xyXG4gICAgICAgIGlmIChjdXJyZW50VG9vbCAhPSAnY29ubmVjdCcpIHJldHVybiBmYWxzZVxyXG4gICAgICAgIGxldCB0ZW1wID0gZXZlbnQudGFyZ2V0XHJcblxyXG4gICAgICAgIGlmICh0ZW1wLmNsYXNzTGlzdC5jb250YWlucygnZmxvd2NoYXJ0LWJsb2NrJykpIHtcclxuICAgICAgICAgICAgZHJhZ2dpbmdCbG9jayA9IHRlbXAucGFyZW50RWxlbWVudFxyXG4gICAgICAgICAgICBpc0RyYWdnaW5nQmxvY2sgPSB0cnVlXHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJhY2tlcicpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtwb2ludGVyLmNsaWVudFh9cHgsY2FsYygke3BvaW50ZXIuY2xpZW50WX1weCAtIDVyZW0pKWBcclxuICAgICAgICAgICAgbGluZSA9IGNyZWF0ZUxpbmUoZHJhZ2dpbmdCbG9jay5pZCwgJ3RyYWNrZXInKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3ZlKHByZXZpb3VzUG9pbnRlcnMsIGNoYW5nZWRQb2ludGVycywgZXZlbnQpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IGV2ZW50LnRhcmdldFxyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJhY2tlcicpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtjaGFuZ2VkUG9pbnRlcnNbMF0uY2xpZW50WH1weCxjYWxjKCR7Y2hhbmdlZFBvaW50ZXJzWzBdLmNsaWVudFl9cHggLSA1cmVtKSlgXHJcbiAgICAgICAgbGluZS5wb3NpdGlvbigpXHJcbiAgICB9LFxyXG4gICAgZW5kKHBvaW50ZXIsIGV2ZW50LCBjYW5jZWxsZWQpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocG9pbnRlci5jbGllbnRYLCBwb2ludGVyLmNsaWVudFkpXHJcblxyXG4gICAgICAgIGlmIChkcmFnZ2luZ0Jsb2NrICE9IHRlbXAucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAodGVtcC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zsb3djaGFydC1ibG9jaycpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRJZCA9IGRyYWdnaW5nQmxvY2suaWQucmVwbGFjZSgnYmxvY2stJywgJycpXHJcbiAgICAgICAgICAgICAgICBsZXQgZW5kSWQgPSB0ZW1wLnBhcmVudEVsZW1lbnQuaWQucmVwbGFjZSgnYmxvY2stJywgJycpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChmbG93QmxvY2tzW3N0YXJ0SWRdLnR5cGUgPT0gJ3Rlcm1pbmFsJyAmJiBmbG93QmxvY2tzW3N0YXJ0SWRdLmNvbnRlbnQgPT0gJ2VuZCcpIHx8IChmbG93QmxvY2tzW2VuZElkXS50eXBlID09ICd0ZXJtaW5hbCcgJiYgZmxvd0Jsb2Nrc1tlbmRJZF0uY29udGVudCA9PSAnc3RhcnQnKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY29ubmVjdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3BsaXQoJzonKVswXSA9PSBzdGFydElkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1Db25uZWN0aW9uKHN0YXJ0SWQsIGtleS5zcGxpdCgnOicpWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGFkZENvbm5lY3Rpb24oc3RhcnRJZCwgZW5kSWQpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5lLnJlbW92ZSgpXHJcbiAgICAgICAgaXNEcmFnZ2luZ0Jsb2NrID0gZmFsc2VcclxuICAgIH0sXHJcbiAgICBhdm9pZFBvaW50ZXJFdmVudHM6IHRydWUsXHJcbiAgICByYXdVcGRhdGVzOiBmYWxzZSxcclxufSlcclxuXHJcbi8vSEFSRCBSIENPREVEXHJcbmFkZEZsb3dCbG9jaygndGVybWluYWwnLCAnc3RhcnQnLCBbNTAwLCAwXSlcclxuYWRkRmxvd0Jsb2NrKCdpbnB1dE91dHB1dCcsICdpbnB1dCBYJywgWzEwMCwgMTAwXSlcclxuYWRkRmxvd0Jsb2NrKCdkZWNpc2lvbicsICdYID4gNScsIFs1MDAsIDIwMF0pXHJcbmFkZEZsb3dCbG9jaygnaW5wdXRPdXRwdXQnLCAnb3V0cHV0IFgnLCBbODAwLCA0MDBdKVxyXG5hZGRGbG93QmxvY2soJ3Rlcm1pbmFsJywgJ2VuZCcsIFs1MDAsIDQwMF0pXHJcblxyXG5hZGRDb25uZWN0aW9uKDAsIDEpXHJcbmFkZENvbm5lY3Rpb24oMSwgMilcclxuYWRkQ29ubmVjdGlvbigyLCAzLCAneScpXHJcbmFkZENvbm5lY3Rpb24oMiwgNCwgJ24nKVxyXG5hZGRDb25uZWN0aW9uKDMsIDQpXHJcblxyXG4vL3JlbUZsb3dCbG9jaygyKVxyXG5sZXQgeCA9IG9iamVjdGlmeUNoYXJ0KClcclxuLy9jb25zb2xlLmxvZyh4KVxyXG5wZXJzb25pZnlDaGFydCh4KVxyXG4vL2NvbnNvbGUubG9nKGNvbm5lY3Rpb25zLCBmbG93QmxvY2tzKVxyXG5cclxuLy8gbWFudWFsbHkgY29ubmVjdCBkZWNpc2lvbiDinYxcclxuLy8gbGFiZWwgb3JpZW50YXRpb24g4pyFXHJcbi8vIGZsb3dCbG9jayBzaGFwZXMg4pyFXHJcbi8vIGluaXRpYWwgZHJhZyBzdGF0ZSBvbiBjdXJyZW50IHRvb2wg4pyFXHJcbi8vIGZpeCBlZGl0IGJsb2NrIGJlaGF2aW9yIOKdjFxyXG4vLyByZW1vdmUgc3RhcnQgZnJvbSBvcHRpb25zPz8g4p2MIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9